/* Copyright 2018-2019 ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE - author Yves Piguet */
(function(){
var $JSCompiler_prototypeAlias$$,$A3a$webcamVideo$$,$A3a$webcamStream$$,$A3a$webcamCanvas$$;function $A3a$Node$$($name$jscomp$67$$,$nodeId$$){this.name=$name$jscomp$67$$;this.$nodeId$=$nodeId$$}var $A3a$Node$nodeList$$=[];function $A3a$Node$clearNodeList$$(){var $cls$$=$A3a$NodeProxy$$;if($cls$$)for(var $i$jscomp$3$$=$A3a$Node$nodeList$$.length-1;0<=$i$jscomp$3$$;$i$jscomp$3$$--)$A3a$Node$nodeList$$[$i$jscomp$3$$]instanceof $cls$$&&$A3a$Node$nodeList$$.splice($i$jscomp$3$$,1);else $A3a$Node$nodeList$$=[]}$A3a$Node$$.prototype.$b$=function $$A3a$Node$$$$$b$$(){throw"not implemented";};
$A3a$Node$$.prototype.addEventListener=function $$A3a$Node$$$$addEventListener$(){throw"not implemented";};function $A3a$NodeProxy$$($name$jscomp$69$$,$nodeId$jscomp$2$$,$url$jscomp$21$$){$A3a$Node$$.call(this,$name$jscomp$69$$,$nodeId$jscomp$2$$);this.url=$url$jscomp$21$$}$A3a$NodeProxy$$.prototype=Object.create($A3a$Node$$.prototype);$A3a$NodeProxy$$.prototype.constructor=$A3a$NodeProxy$$;
function $A3a$NodeProxy$callXHRAsync$$($method$jscomp$1$$,$url$jscomp$22$$,$cb$jscomp$7$$,$data$jscomp$56$$){var $xhr$$=new XMLHttpRequest;$xhr$$.timeout=200;$xhr$$.onerror=function $$xhr$$$onerror$(){$cb$jscomp$7$$(null)};$cb$jscomp$7$$&&($xhr$$.onreadystatechange=function $$xhr$$$onreadystatechange$(){if(4===$xhr$$.readyState)switch($xhr$$.status){case 200:$cb$jscomp$7$$($xhr$$.responseText);break;default:$cb$jscomp$7$$(null)}});$xhr$$.open($method$jscomp$1$$,$url$jscomp$22$$,!0);$xhr$$.send($data$jscomp$56$$)}
function $A3a$NodeProxy$init$$($rootURL$$,$cb$jscomp$8$$){$rootURL$$=$rootURL$$||"";$A3a$NodeProxy$callXHRAsync$$("GET",$rootURL$$+"/nodes",function($a_json$$){null!==$a_json$$&&($a_json$$=JSON.parse($a_json$$),0===$a_json$$.length?$A3a$NodeProxy$init$$($rootURL$$,$cb$jscomp$8$$):($A3a$Node$clearNodeList$$(),$a_json$$.forEach(function($obj$jscomp$25$$){var $nodeProxy$$=new $A3a$NodeProxy$$($obj$jscomp$25$$.name,$obj$jscomp$25$$.aeslId,$rootURL$$+"/nodes/"+$obj$jscomp$25$$.name,$obj$jscomp$25$$.protocolVersion);
$A3a$NodeProxy$callXHRAsync$$("GET",$rootURL$$+"/nodes/"+$obj$jscomp$25$$.name,function($json$jscomp$1$$){$nodeProxy$$.description=$json$jscomp$1$$?JSON.parse($json$jscomp$1$$):""});$A3a$Node$nodeList$$.push($nodeProxy$$)}),$cb$jscomp$8$$&&$cb$jscomp$8$$()))})}
function $JSCompiler_StaticMethods_codeTextToXML$$($JSCompiler_StaticMethods_codeTextToXML$self$$,$code$jscomp$2$$){return"<!DOCTYPE aesl-source>\n<network>\n"+[].map(function($e$jscomp$8$$){return"<event size='"+($e$jscomp$8$$.size||0).toString(10)+"' name='"+$e$jscomp$8$$.name+"'/>\n"}).join("")+"<keywords flag='true'/>\n<node nodeId='"+($JSCompiler_StaticMethods_codeTextToXML$self$$.$nodeId$||1).toString(10)+"' name='"+$JSCompiler_StaticMethods_codeTextToXML$self$$.name+"'><![CDATA["+$code$jscomp$2$$+
"]]\x3e</node>\n</network>\n"}$A3a$NodeProxy$$.prototype.$b$=function $$A3a$NodeProxy$$$$$b$$($code$jscomp$3_xml$$){$code$jscomp$3_xml$$=$JSCompiler_StaticMethods_codeTextToXML$$(this,$code$jscomp$3_xml$$);$A3a$NodeProxy$callXHRAsync$$("PUT",this.url,void 0,$code$jscomp$3_xml$$)};
$A3a$NodeProxy$$.prototype.addEventListener=function $$A3a$NodeProxy$$$$addEventListener$($eventName$jscomp$1$$,$cb$jscomp$15$$){$eventName$jscomp$1$$=$eventName$jscomp$1$$.toString();var $source$jscomp$13_url$jscomp$25$$=this.url+"/events";$eventName$jscomp$1$$&&($source$jscomp$13_url$jscomp$25$$+="/"+$eventName$jscomp$1$$);$source$jscomp$13_url$jscomp$25$$=new EventSource($source$jscomp$13_url$jscomp$25$$);$source$jscomp$13_url$jscomp$25$$.onmessage=function $$source$jscomp$13_url$jscomp$25$$$onmessage$($event$jscomp$4$$){$cb$jscomp$15$$($event$jscomp$4$$.data.split(" ").slice(1).map(function($str$jscomp$7$$){return parseInt($str$jscomp$7$$,
10)}),$eventName$jscomp$1$$)};return $source$jscomp$13_url$jscomp$25$$};function $A3a$vpl$BlockTemplate$$($blockParams$$){this.name=$blockParams$$.name;this.type=$blockParams$$.type;this.$modes$=$blockParams$$.$modes$||["b","a"];this.$noState$=$blockParams$$.$noState$||!1;this.$defaultParam$=$blockParams$$.$defaultParam$||null;this.$typicalParam$=$blockParams$$.$typicalParam$||null;this.$exportParam$=$blockParams$$.$exportParam$||null;this.$importParam$=$blockParams$$.$importParam$||null;this.$validate$=$blockParams$$.$validate$||null;this.$genCode$=$blockParams$$.$genCode$||
{aseba:"e"===this.type?function($block$$){return{$begin$:"# onevent "+$block$$.$blockTemplate$.name+"\n"}}:function($block$jscomp$1$$){return{$statement$:"# "+$block$jscomp$1$$.$blockTemplate$.name+"\n"}}};this.$draw$=$blockParams$$.$draw$||function($canvas$$,$block$jscomp$2$$){$canvas$$.text($block$jscomp$2$$.$blockTemplate$.name)};this.$mousedown$=$blockParams$$.$mousedown$||null;this.$mousedrag$=$blockParams$$.$mousedrag$||null;this.$changeMode$=$blockParams$$.$changeMode$||null}
function $A3a$vpl$BlockTemplate$substInline$$($fmt$$,$block$jscomp$4$$,$i$jscomp$6$$,$keepResult$$){for(var $result$$=null;;){var $r$jscomp$1$$=/`([^`]*)`/.exec($fmt$$);if(null==$r$jscomp$1$$)break;$result$$=(new Function("$","i","rgb","return "+$r$jscomp$1$$[1]+";"))($block$jscomp$4$$.$param$,$i$jscomp$6$$,function($rgb$$){$rgb$$=[$rgb$$[0],Math.max(.2+.8*$rgb$$[1],$rgb$$[2]/2),$rgb$$[2]];var $max$$=Math.max($rgb$$[0],Math.max($rgb$$[1],$rgb$$[2]));return $rgb$$.map(function($x$jscomp$81$$){return.88*
(1-$max$$)+(.12+.88*$max$$)*$x$jscomp$81$$})});$fmt$$=$fmt$$.slice(0,$r$jscomp$1$$.index)+$result$$+$fmt$$.slice($r$jscomp$1$$.index+$r$jscomp$1$$[0].length)}return $keepResult$$?$result$$:$fmt$$};function $A3a$vpl$Block$$($blockTemplate$$,$ruleContainer$$,$positionInContainer$$){this.$blockTemplate$=$blockTemplate$$;this.$ruleContainer$=$ruleContainer$$;this.$positionInContainer$=$positionInContainer$$;this.locked=this.disabled=!1;this.$param$=$blockTemplate$$.$defaultParam$?$blockTemplate$$.$defaultParam$():null;this.$dragging$=this.$b$=null}
$A3a$vpl$Block$$.prototype.$copy$=function $$A3a$vpl$Block$$$$$copy$$($newBlock_ruleContainer$jscomp$1$$,$positionInContainer$jscomp$1$$,$onPrepareChange$$){$newBlock_ruleContainer$jscomp$1$$=new $A3a$vpl$Block$$(this.$blockTemplate$,$newBlock_ruleContainer$jscomp$1$$,$positionInContainer$jscomp$1$$);$newBlock_ruleContainer$jscomp$1$$.disabled=this.disabled;$newBlock_ruleContainer$jscomp$1$$.$b$=$onPrepareChange$$;this.$param$&&($newBlock_ruleContainer$jscomp$1$$.$param$=this.$param$.slice());return $newBlock_ruleContainer$jscomp$1$$};
function $JSCompiler_StaticMethods_prepareChange$$($JSCompiler_StaticMethods_prepareChange$self$$){$JSCompiler_StaticMethods_prepareChange$self$$.$b$&&$JSCompiler_StaticMethods_prepareChange$self$$.$b$()}$A3a$vpl$Block$$.prototype.$g$=function $$A3a$vpl$Block$$$$$g$$($language$$){return this.disabled?{}:this.$blockTemplate$.$genCode$[$language$$]?this.$blockTemplate$.$genCode$[$language$$](this):$A3a$vpl$Program$codeGenerator$$[$language$$].$i$(this)};function $A3a$vpl$EmptyBlock$$($blockType$$,$ruleContainer$jscomp$2$$,$positionInContainer$jscomp$2$$){$A3a$vpl$Block$$.call(this,$A3a$vpl$EmptyBlock$templates$$[$blockType$$],$ruleContainer$jscomp$2$$,$positionInContainer$jscomp$2$$)}$A3a$vpl$EmptyBlock$$.prototype=Object.create($A3a$vpl$Block$$.prototype);$A3a$vpl$EmptyBlock$$.prototype.constructor=$A3a$vpl$EmptyBlock$$;
var $A3a$vpl$EmptyBlock$templates$$={e:new $A3a$vpl$BlockTemplate$$({name:"empty e",type:"e",$draw$:function($canvas$jscomp$2$$,$block$jscomp$5$$,$box$jscomp$2$$){var $blockTemplate$jscomp$1$$=$A3a$vpl$BlockTemplate$findByName$$("!empty event");$blockTemplate$jscomp$1$$&&$blockTemplate$jscomp$1$$.$draw$($canvas$jscomp$2$$,$block$jscomp$5$$,$box$jscomp$2$$)}}),a:new $A3a$vpl$BlockTemplate$$({name:"empty a",type:"a",$draw$:function($canvas$jscomp$3$$,$block$jscomp$6$$,$box$jscomp$3$$){var $blockTemplate$jscomp$2$$=
$A3a$vpl$BlockTemplate$findByName$$("!empty action");$blockTemplate$jscomp$2$$&&$blockTemplate$jscomp$2$$.$draw$($canvas$jscomp$3$$,$block$jscomp$6$$,$box$jscomp$3$$)}}),s:new $A3a$vpl$BlockTemplate$$({name:"empty s",type:"s",$draw$:function($canvas$jscomp$4$$,$block$jscomp$7$$,$box$jscomp$4$$){var $blockTemplate$jscomp$3$$=$A3a$vpl$BlockTemplate$findByName$$("!empty state")||$A3a$vpl$BlockTemplate$findByName$$("!empty event");$blockTemplate$jscomp$3$$&&$blockTemplate$jscomp$3$$.$draw$($canvas$jscomp$4$$,
$block$jscomp$7$$,$box$jscomp$4$$)}})};$A3a$vpl$EmptyBlock$$.prototype.$g$=function $$A3a$vpl$EmptyBlock$$$$$g$$(){return{}};function $A3a$vpl$Rule$$(){this.$events$=[];this.actions=[];this.error=null;this.locked=this.disabled=!1}
$A3a$vpl$Rule$$.prototype.$copy$=function $$A3a$vpl$Rule$$$$$copy$$(){for(var $eh$$=new $A3a$vpl$Rule$$,$i$jscomp$7$$=0;$i$jscomp$7$$<this.$events$.length;$i$jscomp$7$$++)$JSCompiler_StaticMethods_setBlock$$($eh$$,this.$events$[$i$jscomp$7$$],null,null);for($i$jscomp$7$$=0;$i$jscomp$7$$<this.actions.length;$i$jscomp$7$$++)$JSCompiler_StaticMethods_setBlock$$($eh$$,this.actions[$i$jscomp$7$$],null,null);return $eh$$};
$A3a$vpl$Rule$$.prototype.$isEmpty$=function $$A3a$vpl$Rule$$$$$isEmpty$$(){return 0===this.$events$.length&&0===this.actions.length};
function $JSCompiler_StaticMethods_getEventBlockByType$$($JSCompiler_StaticMethods_getEventBlockByType$self$$){for(var $i$jscomp$9$$=0;$i$jscomp$9$$<$JSCompiler_StaticMethods_getEventBlockByType$self$$.$events$.length;$i$jscomp$9$$++)if("init"===$JSCompiler_StaticMethods_getEventBlockByType$self$$.$events$[$i$jscomp$9$$].$blockTemplate$.name)return $JSCompiler_StaticMethods_getEventBlockByType$self$$.$events$[$i$jscomp$9$$];return null}
function $JSCompiler_StaticMethods_setBlock$$($JSCompiler_StaticMethods_setBlock$self$$,$block$jscomp$8$$,$posInRule$$,$onPrepareChange$jscomp$1$$,$noCopy$$){if($block$jscomp$8$$){switch($block$jscomp$8$$.$blockTemplate$.type){case "e":case "s":if($block$jscomp$8$$.$ruleContainer$===$JSCompiler_StaticMethods_setBlock$self$$)$posInRule$$&&($JSCompiler_StaticMethods_setBlock$self$$.$events$.splice($block$jscomp$8$$.$positionInContainer$.index,1),$noCopy$$?$block$jscomp$8$$.$b$=$onPrepareChange$jscomp$1$$:
$block$jscomp$8$$=$block$jscomp$8$$.$copy$($JSCompiler_StaticMethods_setBlock$self$$,$posInRule$$,$onPrepareChange$jscomp$1$$),$JSCompiler_StaticMethods_setBlock$self$$.$events$.splice($posInRule$$.index,0,$block$jscomp$8$$));else if($posInRule$$){if($JSCompiler_StaticMethods_setBlock$self$$.$events$[$posInRule$$.index]===$block$jscomp$8$$)return;$noCopy$$?$block$jscomp$8$$.$b$=$onPrepareChange$jscomp$1$$:$block$jscomp$8$$=$block$jscomp$8$$.$copy$($JSCompiler_StaticMethods_setBlock$self$$,$posInRule$$,
$onPrepareChange$jscomp$1$$);$JSCompiler_StaticMethods_setBlock$self$$.$events$[$posInRule$$.index]=$block$jscomp$8$$}else $noCopy$$?$block$jscomp$8$$.$b$=$onPrepareChange$jscomp$1$$:$block$jscomp$8$$=$block$jscomp$8$$.$copy$($JSCompiler_StaticMethods_setBlock$self$$,{$eventSide$:!0,index:$JSCompiler_StaticMethods_setBlock$self$$.$events$.length},$onPrepareChange$jscomp$1$$),$JSCompiler_StaticMethods_setBlock$self$$.$events$.push($block$jscomp$8$$);break;case "a":case "c":if($block$jscomp$8$$.$ruleContainer$===
$JSCompiler_StaticMethods_setBlock$self$$)$posInRule$$&&($JSCompiler_StaticMethods_removeBlock$$($JSCompiler_StaticMethods_setBlock$self$$,$block$jscomp$8$$.$positionInContainer$),$noCopy$$?$block$jscomp$8$$.$b$=$onPrepareChange$jscomp$1$$:$block$jscomp$8$$=$block$jscomp$8$$.$copy$($JSCompiler_StaticMethods_setBlock$self$$,$posInRule$$,$onPrepareChange$jscomp$1$$),($posInRule$$.$eventSide$?$JSCompiler_StaticMethods_setBlock$self$$.$events$:$JSCompiler_StaticMethods_setBlock$self$$.actions).splice($posInRule$$.index,
0,$block$jscomp$8$$));else if($posInRule$$){if(($posInRule$$.$eventSide$?$JSCompiler_StaticMethods_setBlock$self$$.$events$:$JSCompiler_StaticMethods_setBlock$self$$.actions)[$posInRule$$.index]===$block$jscomp$8$$)return;$noCopy$$?$block$jscomp$8$$.$b$=$onPrepareChange$jscomp$1$$:$block$jscomp$8$$=$block$jscomp$8$$.$copy$($JSCompiler_StaticMethods_setBlock$self$$,$posInRule$$,$onPrepareChange$jscomp$1$$);($posInRule$$.$eventSide$?$JSCompiler_StaticMethods_setBlock$self$$.$events$:$JSCompiler_StaticMethods_setBlock$self$$.actions)[$posInRule$$.index]=
$block$jscomp$8$$}else $noCopy$$?$block$jscomp$8$$.$b$=$onPrepareChange$jscomp$1$$:$block$jscomp$8$$=$block$jscomp$8$$.$copy$($JSCompiler_StaticMethods_setBlock$self$$,{$eventSide$:!1,index:$JSCompiler_StaticMethods_setBlock$self$$.actions.length},$onPrepareChange$jscomp$1$$),$JSCompiler_StaticMethods_setBlock$self$$.actions.push($block$jscomp$8$$)}$JSCompiler_StaticMethods_fixBlockContainerRefs$$($JSCompiler_StaticMethods_setBlock$self$$)}}
function $JSCompiler_StaticMethods_removeBlock$$($JSCompiler_StaticMethods_removeBlock$self$$,$posInRule$jscomp$1$$){$posInRule$jscomp$1$$.$eventSide$?$JSCompiler_StaticMethods_removeBlock$self$$.$events$[$posInRule$jscomp$1$$.index]&&$JSCompiler_StaticMethods_removeBlock$self$$.$events$.splice($posInRule$jscomp$1$$.index,1):$JSCompiler_StaticMethods_removeBlock$self$$.actions[$posInRule$jscomp$1$$.index]&&$JSCompiler_StaticMethods_removeBlock$self$$.actions.splice($posInRule$jscomp$1$$.index,1)}
function $JSCompiler_StaticMethods_fixBlockContainerRefs$$($JSCompiler_StaticMethods_fixBlockContainerRefs$self$$){$JSCompiler_StaticMethods_fixBlockContainerRefs$self$$.$events$.forEach(function($event$jscomp$6$$,$i$jscomp$10$$){$event$jscomp$6$$.$ruleContainer$=this;$event$jscomp$6$$.$positionInContainer$={$eventSide$:!0,index:$i$jscomp$10$$}},$JSCompiler_StaticMethods_fixBlockContainerRefs$self$$);$JSCompiler_StaticMethods_fixBlockContainerRefs$self$$.actions.forEach(function($action$$,$i$jscomp$11$$){$action$$.$ruleContainer$=
this;$action$$.$positionInContainer$={$eventSide$:!1,index:$i$jscomp$11$$}},$JSCompiler_StaticMethods_fixBlockContainerRefs$self$$)}
function $JSCompiler_StaticMethods_checkConflicts$$($JSCompiler_StaticMethods_checkConflicts$self$$,$otherRule$$){function $compareEvents$$($a$jscomp$2_at$$,$b_bt$$){if($a$jscomp$2_at$$.disabled)return $b_bt$$.disabled?0:1;if($b_bt$$.disabled)return-1;$a$jscomp$2_at$$=$a$jscomp$2_at$$.$blockTemplate$.name;$b_bt$$=$b_bt$$.$blockTemplate$.name;return $a$jscomp$2_at$$>$b_bt$$?1:$a$jscomp$2_at$$<$b_bt$$?-1:0}function $areParamEqual$$($block1$$,$block2$$){if(null===$block1$$.$param$&&null===$block2$$.$param$)return!0;
if(null===$block1$$.$param$||null===$block2$$.$param$||$block1$$.$param$.length!==$block2$$.$param$.length)return!1;for(var $i$jscomp$13$$=0;$i$jscomp$13$$<$block1$$.$param$.length;$i$jscomp$13$$++)if($block1$$.$param$[$i$jscomp$13$$]!==$block2$$.$param$[$i$jscomp$13$$])return!1;return!0}function $areEventBlocksDisabled$$($rule$jscomp$3$$){for(var $i$jscomp$14$$=0;$i$jscomp$14$$<$rule$jscomp$3$$.$events$.length;$i$jscomp$14$$++)if(!$rule$jscomp$3$$.$events$[$i$jscomp$14$$].disabled)return!1;return!0}
if(!($JSCompiler_StaticMethods_checkConflicts$self$$.disabled||$otherRule$$.disabled||$areEventBlocksDisabled$$($JSCompiler_StaticMethods_checkConflicts$self$$)||$areEventBlocksDisabled$$($otherRule$$)||0===$JSCompiler_StaticMethods_checkConflicts$self$$.$events$.length||$otherRule$$.$events$.length!==$JSCompiler_StaticMethods_checkConflicts$self$$.$events$.length)){for(var $eSorted_err$jscomp$3$$=$JSCompiler_StaticMethods_checkConflicts$self$$.$events$.slice().sort($compareEvents$$),$eOtherSorted$$=
$otherRule$$.$events$.slice().sort($compareEvents$$),$i$jscomp$12$$=0;$i$jscomp$12$$<$eSorted_err$jscomp$3$$.length&&!$eSorted_err$jscomp$3$$[$i$jscomp$12$$].disabled&&!$eOtherSorted$$[$i$jscomp$12$$].disabled;$i$jscomp$12$$++)if($eSorted_err$jscomp$3$$[$i$jscomp$12$$].$blockTemplate$!==$eOtherSorted$$[$i$jscomp$12$$].$blockTemplate$||!$areParamEqual$$($eSorted_err$jscomp$3$$[$i$jscomp$12$$],$eOtherSorted$$[$i$jscomp$12$$]))return;if(null==$JSCompiler_StaticMethods_checkConflicts$self$$.error||$JSCompiler_StaticMethods_checkConflicts$self$$.error.$isWarning$)$eSorted_err$jscomp$3$$=
new $A3a$vpl$Error$$("Duplicate event"),$JSCompiler_StaticMethods_addEventConflictError$$($eSorted_err$jscomp$3$$,$otherRule$$),$JSCompiler_StaticMethods_checkConflicts$self$$.error=$eSorted_err$jscomp$3$$;if(null==$otherRule$$.error||$otherRule$$.error.$isWarning$)$eSorted_err$jscomp$3$$=new $A3a$vpl$Error$$("Duplicate event"),$JSCompiler_StaticMethods_addEventConflictError$$($eSorted_err$jscomp$3$$,$JSCompiler_StaticMethods_checkConflicts$self$$),$otherRule$$.error=$eSorted_err$jscomp$3$$}};function $A3a$vpl$UIConfig$$(){this.$b$=[];this.$customizationMode$=!1}function $JSCompiler_StaticMethods_setDisabledFeatures$$($JSCompiler_StaticMethods_setDisabledFeatures$self$$,$featureList$$){$JSCompiler_StaticMethods_setDisabledFeatures$self$$.$b$=$featureList$$.slice()}$A3a$vpl$UIConfig$$.prototype.toggle=function $$A3a$vpl$UIConfig$$$$toggle$($featureName$jscomp$3$$){var $ix$jscomp$1$$=this.$b$.indexOf($featureName$jscomp$3$$);0<=$ix$jscomp$1$$?this.$b$.splice($ix$jscomp$1$$,1):this.$b$.push($featureName$jscomp$3$$)};function $A3a$vpl$Program$$($uiConfig$$){this.filename=null;this.readOnly=!1;this.mode="b";this.$noVPL$=!1;this.$teacherRole$=!0;this.$experimentalFeatures$=!1;this.$program$=[];this.$uploaded$=!1;this.$notUploadedYet$=!0;this.$j$=this.$i$=this.$onUpdate$=null;this.$undoState$=new $A3a$vpl$Undo$$;this.code={};this.$currentLanguage$="aseba";this.message=null;this.$enabledBlocksBasic$=$A3a$vpl$Program$basicBlocks$$;this.$b$=$A3a$vpl$Program$basicMultiEvent$$;this.$enabledBlocksAdvanced$=$A3a$vpl$Program$advancedBlocks$$;
this.$uiConfig$=$uiConfig$$||new $A3a$vpl$UIConfig$$;this.$g$=null}var $A3a$vpl$Program$codeGenerator$$={},$A3a$vpl$Program$basicBlocks$$=[],$A3a$vpl$Program$basicMultiEvent$$=!1,$A3a$vpl$Program$advancedBlocks$$=[];
function $A3a$vpl$Program$resetBlockLib$$(){$A3a$vpl$Program$basicBlocks$$=$A3a$vpl$BlockTemplate$getBlocksByMode$$("b").map(function($b$jscomp$1$$){return $b$jscomp$1$$.name});$A3a$vpl$Program$advancedBlocks$$=$A3a$vpl$BlockTemplate$getBlocksByMode$$("a").map(function($b$jscomp$2$$){return $b$jscomp$2$$.name})}
function $A3a$vpl$Program$enableAllBlocks$$($mode$jscomp$14$$){var $blocks$$=$A3a$vpl$BlockTemplate$lib$$.map(function($b$jscomp$3$$){return $b$jscomp$3$$.name});switch($mode$jscomp$14$$){case "b":$A3a$vpl$Program$basicBlocks$$=$blocks$$;break;case "a":$A3a$vpl$Program$advancedBlocks$$=$blocks$$}}$JSCompiler_prototypeAlias$$=$A3a$vpl$Program$$.prototype;$JSCompiler_prototypeAlias$$.$resetUI$=function $$JSCompiler_prototypeAlias$$$$resetUI$$(){this.$uiConfig$.$b$=[]};
function $JSCompiler_StaticMethods_new$$($JSCompiler_StaticMethods_new$self$$){$JSCompiler_StaticMethods_new$self$$.$saveStateBeforeChange$();$JSCompiler_StaticMethods_new$self$$.mode="b";$JSCompiler_StaticMethods_new$self$$.$enabledBlocksBasic$=$A3a$vpl$Program$basicBlocks$$;$JSCompiler_StaticMethods_new$self$$.$b$=$A3a$vpl$Program$basicMultiEvent$$;$JSCompiler_StaticMethods_new$self$$.$enabledBlocksAdvanced$=$A3a$vpl$Program$advancedBlocks$$;$JSCompiler_StaticMethods_new$self$$.$program$=[];$JSCompiler_StaticMethods_new$self$$.code=
{};$JSCompiler_StaticMethods_new$self$$.$notUploadedYet$=!0}$JSCompiler_prototypeAlias$$.$isEmpty$=function $$JSCompiler_prototypeAlias$$$$isEmpty$$(){for(var $i$jscomp$15$$=0;$i$jscomp$15$$<this.$program$.length;$i$jscomp$15$$++)if(!this.$program$[$i$jscomp$15$$].$isEmpty$())return!1;return!0};
$JSCompiler_prototypeAlias$$.getError=function $$JSCompiler_prototypeAlias$$$getError$(){for(var $i$jscomp$16$$=0;$i$jscomp$16$$<this.$program$.length;$i$jscomp$16$$++)if(null!==this.$program$[$i$jscomp$16$$].error)return this.$program$[$i$jscomp$16$$].error;return null};
function $JSCompiler_StaticMethods_displaySingleEvent$$($JSCompiler_StaticMethods_displaySingleEvent$self$$){if("b"!==$JSCompiler_StaticMethods_displaySingleEvent$self$$.mode||$JSCompiler_StaticMethods_displaySingleEvent$self$$.$b$)return!1;for(var $i$jscomp$17$$=0;$i$jscomp$17$$<$JSCompiler_StaticMethods_displaySingleEvent$self$$.$program$.length;$i$jscomp$17$$++)if(1<$JSCompiler_StaticMethods_displaySingleEvent$self$$.$program$[$i$jscomp$17$$].$events$.length||0<$JSCompiler_StaticMethods_displaySingleEvent$self$$.$program$[$i$jscomp$17$$].$events$.length&&
"s"===$JSCompiler_StaticMethods_displaySingleEvent$self$$.$program$[$i$jscomp$17$$].$events$[0].$blockTemplate$.type)return!1;return!0}$JSCompiler_prototypeAlias$$.$saveStateBeforeChange$=function $$JSCompiler_prototypeAlias$$$$saveStateBeforeChange$$(){this.$undoState$.$saveStateBeforeChange$($JSCompiler_StaticMethods_exportToObject$$(this),this.$uploaded$);this.code={};this.$uploaded$=!1};
$JSCompiler_prototypeAlias$$.$undo$=function $$JSCompiler_prototypeAlias$$$$undo$$($updateFun$$){if(0<this.$undoState$.$undoStack$.length){var $markedState$$=this.$undoState$.$undo$($JSCompiler_StaticMethods_exportToObject$$(this),this.$uploaded$);$JSCompiler_StaticMethods_importFromObject$$(this,$markedState$$.state,$updateFun$$);this.$uploaded$=$markedState$$.$b$;this.code={}}};
$JSCompiler_prototypeAlias$$.$redo$=function $$JSCompiler_prototypeAlias$$$$redo$$($updateFun$jscomp$1$$){if(0<this.$undoState$.$redoStack$.length){var $markedState$jscomp$1$$=this.$undoState$.$redo$($JSCompiler_StaticMethods_exportToObject$$(this),this.$uploaded$);$JSCompiler_StaticMethods_importFromObject$$(this,$markedState$jscomp$1$$.state,$updateFun$jscomp$1$$);this.$uploaded$=$markedState$jscomp$1$$.$b$;this.code={}}};
function $JSCompiler_StaticMethods_setMode$$($JSCompiler_StaticMethods_setMode$self$$,$mode$jscomp$15$$){$mode$jscomp$15$$!==$JSCompiler_StaticMethods_setMode$self$$.mode&&($JSCompiler_StaticMethods_setMode$self$$.$saveStateBeforeChange$(),$JSCompiler_StaticMethods_setMode$self$$.mode=$mode$jscomp$15$$,$JSCompiler_StaticMethods_setMode$self$$.$program$.forEach(function($rule$jscomp$4$$){$rule$jscomp$4$$.$events$.forEach(function($event$jscomp$7$$,$i$jscomp$18$$){$rule$jscomp$4$$.$events$[$i$jscomp$18$$]=
$event$jscomp$7$$});$rule$jscomp$4$$.actions.forEach(function($action$jscomp$1$$,$i$jscomp$19$$){$rule$jscomp$4$$.actions[$i$jscomp$19$$]=$action$jscomp$1$$})}))}function $JSCompiler_StaticMethods_A3a_vpl_Program_prototype$setTeacherRole$$($JSCompiler_StaticMethods_A3a_vpl_Program_prototype$setTeacherRole$self$$){var $b$jscomp$4$$="teacher"===$vplGetQueryOption$$("role");$JSCompiler_StaticMethods_A3a_vpl_Program_prototype$setTeacherRole$self$$.$teacherRole$=$b$jscomp$4$$}
function $JSCompiler_StaticMethods_exportToObject$$($JSCompiler_StaticMethods_exportToObject$self$$,$opt_src$jscomp$4$$){var $obj$jscomp$26$$={};$opt_src$jscomp$4$$&&!1===$opt_src$jscomp$4$$.$lib$||($obj$jscomp$26$$.advanced="a"===$JSCompiler_StaticMethods_exportToObject$self$$.mode,$obj$jscomp$26$$.basicBlocks=$JSCompiler_StaticMethods_exportToObject$self$$.$enabledBlocksBasic$,$obj$jscomp$26$$.basicMultiEvent=$JSCompiler_StaticMethods_exportToObject$self$$.$b$,$obj$jscomp$26$$.advancedBlocks=$JSCompiler_StaticMethods_exportToObject$self$$.$enabledBlocksAdvanced$,
$obj$jscomp$26$$.disabledUI=$JSCompiler_StaticMethods_exportToObject$self$$.$uiConfig$.$b$);if($opt_src$jscomp$4$$&&!1===$opt_src$jscomp$4$$.$prog$)return $obj$jscomp$26$$;$opt_src$jscomp$4$$=$JSCompiler_StaticMethods_exportToObject$self$$.$i$?$JSCompiler_StaticMethods_exportToObject$self$$.$i$():null;var $p$$=null;null==$opt_src$jscomp$4$$&&($p$$=$JSCompiler_StaticMethods_exportToObject$self$$.$program$.map(function($rule$jscomp$5$$){function $addBlock$$($block$jscomp$10$$){$block$jscomp$10$$&&$b$jscomp$5$$.push({name:$block$jscomp$10$$.$blockTemplate$.name,
disabled:$block$jscomp$10$$.disabled,locked:$block$jscomp$10$$.locked,param:$block$jscomp$10$$.$blockTemplate$.$exportParam$?$block$jscomp$10$$.$blockTemplate$.$exportParam$($block$jscomp$10$$):$block$jscomp$10$$.$param$?$block$jscomp$10$$.$param$.slice():null})}var $b$jscomp$5$$=[];$rule$jscomp$5$$.$events$.forEach(function($event$jscomp$8$$){$addBlock$$($event$jscomp$8$$)});$rule$jscomp$5$$.actions.forEach(function($action$jscomp$2$$){$addBlock$$($action$jscomp$2$$)});return{blocks:$b$jscomp$5$$,
disabled:$rule$jscomp$5$$.disabled,locked:$rule$jscomp$5$$.locked}}));$obj$jscomp$26$$.program=$p$$;$obj$jscomp$26$$.code=$opt_src$jscomp$4$$;return $obj$jscomp$26$$}function $JSCompiler_StaticMethods_exportToJSON$$($JSCompiler_StaticMethods_exportToJSON$self$$,$opt$jscomp$1$$){return JSON.stringify($JSCompiler_StaticMethods_exportToObject$$($JSCompiler_StaticMethods_exportToJSON$self$$,$opt$jscomp$1$$),null,"\t")}
function $JSCompiler_StaticMethods_importFromObject$$($JSCompiler_StaticMethods_importFromObject$self$$,$obj$jscomp$27$$,$updateFun$jscomp$2$$){var $importFinished$$=!1,$view$jscomp$5$$="vpl";try{if($obj$jscomp$27$$&&($JSCompiler_StaticMethods_importFromObject$self$$.mode=$obj$jscomp$27$$.advanced?"a":"b",$obj$jscomp$27$$.disabledUI&&$JSCompiler_StaticMethods_setDisabledFeatures$$($JSCompiler_StaticMethods_importFromObject$self$$.$uiConfig$,$obj$jscomp$27$$.disabledUI),$JSCompiler_StaticMethods_importFromObject$self$$.$enabledBlocksBasic$=
$obj$jscomp$27$$.basicBlocks||$A3a$vpl$Program$basicBlocks$$,$JSCompiler_StaticMethods_importFromObject$self$$.$b$=$obj$jscomp$27$$.basicMultiEvent||$A3a$vpl$Program$basicMultiEvent$$,$JSCompiler_StaticMethods_importFromObject$self$$.$enabledBlocksAdvanced$=$obj$jscomp$27$$.advancedBlocks||$A3a$vpl$Program$advancedBlocks$$,$obj$jscomp$27$$.program?$JSCompiler_StaticMethods_importFromObject$self$$.$program$=$obj$jscomp$27$$.program.map(function($rule$jscomp$6$$){var $eh$jscomp$1$$=new $A3a$vpl$Rule$$;
$rule$jscomp$6$$.blocks.forEach(function($block$jscomp$11$$){var $bt$jscomp$1$$=$A3a$vpl$BlockTemplate$findByName$$($block$jscomp$11$$.name);if($bt$jscomp$1$$){var $b$jscomp$6$$=new $A3a$vpl$Block$$($bt$jscomp$1$$,null,null);$b$jscomp$6$$.disabled=$block$jscomp$11$$.disabled||!1;$b$jscomp$6$$.locked=$block$jscomp$11$$.locked||!1;$bt$jscomp$1$$.$importParam$?$bt$jscomp$1$$.$importParam$($b$jscomp$6$$,$block$jscomp$11$$.param,function(){$importFinished$$&&$updateFun$jscomp$2$$&&$updateFun$jscomp$2$$("vpl")}):
$b$jscomp$6$$.$param$=$block$jscomp$11$$.param;$JSCompiler_StaticMethods_setBlock$$($eh$jscomp$1$$,$b$jscomp$6$$,null,function(){$JSCompiler_StaticMethods_importFromObject$self$$.$saveStateBeforeChange$()},!0)}},this);$eh$jscomp$1$$.disabled=$rule$jscomp$6$$.disabled||!1;$eh$jscomp$1$$.locked=$rule$jscomp$6$$.locked||!1;return $eh$jscomp$1$$},$JSCompiler_StaticMethods_importFromObject$self$$):$JSCompiler_StaticMethods_importFromObject$self$$.$program$=[],$JSCompiler_StaticMethods_importFromObject$self$$.$j$)){var $code$jscomp$4$$=
$obj$jscomp$27$$.code;$JSCompiler_StaticMethods_importFromObject$self$$.$j$(void 0==$obj$jscomp$27$$.code?null:$code$jscomp$4$$);null!=$code$jscomp$4$$&&($view$jscomp$5$$="src")}}catch($e$jscomp$9$$){}$JSCompiler_StaticMethods_importFromObject$self$$.$noVPL$="src"===$view$jscomp$5$$;$updateFun$jscomp$2$$&&$updateFun$jscomp$2$$($view$jscomp$5$$);$importFinished$$=!0}
function $JSCompiler_StaticMethods_importFromJSON$$($JSCompiler_StaticMethods_importFromJSON$self$$,$json$jscomp$7$$,$updateFun$jscomp$3$$){try{var $obj$jscomp$28$$=JSON.parse($json$jscomp$7$$);$JSCompiler_StaticMethods_importFromObject$$($JSCompiler_StaticMethods_importFromJSON$self$$,$obj$jscomp$28$$,$updateFun$jscomp$3$$);var $JSCompiler_StaticMethods_A3a_vpl_Undo_prototype$reset$self$jscomp$inline_34$$=$JSCompiler_StaticMethods_importFromJSON$self$$.$undoState$;$JSCompiler_StaticMethods_A3a_vpl_Undo_prototype$reset$self$jscomp$inline_34$$.$undoStack$=
[];$JSCompiler_StaticMethods_A3a_vpl_Undo_prototype$reset$self$jscomp$inline_34$$.$redoStack$=[]}catch($e$jscomp$10$$){}}$JSCompiler_prototypeAlias$$.$getCode$=function $$JSCompiler_prototypeAlias$$$$getCode$$($language$jscomp$1$$){"string"!==typeof this.code[$language$jscomp$1$$]&&(this.code[$language$jscomp$1$$]=$A3a$vpl$Program$codeGenerator$$[$language$jscomp$1$$].$g$(this));return this.code[$language$jscomp$1$$]};
function $JSCompiler_StaticMethods_getCodeLocation$$($language$jscomp$2_pos1$$,$pos2_ref$jscomp$2$$){var $codeGenerator$jscomp$1$$=$A3a$vpl$Program$codeGenerator$$[$language$jscomp$2_pos1$$];$language$jscomp$2_pos1$$=$JSCompiler_StaticMethods_findMark$$($codeGenerator$jscomp$1$$,$pos2_ref$jscomp$2$$,!0);$pos2_ref$jscomp$2$$=$JSCompiler_StaticMethods_findMark$$($codeGenerator$jscomp$1$$,$pos2_ref$jscomp$2$$,!1);return 0<=$language$jscomp$2_pos1$$&&0<=$pos2_ref$jscomp$2$$?{$begin$:$language$jscomp$2_pos1$$,
end:$pos2_ref$jscomp$2$$}:null}function $JSCompiler_StaticMethods_setLogger$$($JSCompiler_StaticMethods_setLogger$self$$,$logger$$){$JSCompiler_StaticMethods_setLogger$self$$.$g$=$logger$$}$JSCompiler_prototypeAlias$$.log=function $$JSCompiler_prototypeAlias$$$log$($data$jscomp$57$$){this.$g$&&this.$g$($data$jscomp$57$$)};function $A3a$vpl$CodeGenerator$$($language$jscomp$5$$,$andOperator$$,$trueConstant$$){this.language=$language$jscomp$5$$;this.$j$=$andOperator$$;this.$l$=$trueConstant$$;this.$b$=[]}function $A3a$vpl$CodeGenerator$Mark$$($id$jscomp$5$$,$ref$jscomp$3$$,$isBegin$$){this.id=$id$jscomp$5$$;this.$i$=$ref$jscomp$3$$;this.$g$=$isBegin$$;if(0>$id$jscomp$5$$||6399<$id$jscomp$5$$)throw"internal";this.$str$=String.fromCharCode(57344+$id$jscomp$5$$);this.$b$=-1}
function $A3a$vpl$CodeGenerator$Mark$extract$$($a$jscomp$3$$,$code$jscomp$6$$){$a$jscomp$3$$.forEach(function($mark$$){$mark$$.$b$=$code$jscomp$6$$.indexOf($mark$$.$str$)});$a$jscomp$3$$.sort(function($a$jscomp$4$$,$b$jscomp$7$$){return $a$jscomp$4$$.$b$-$b$jscomp$7$$.$b$});for(var $i$jscomp$20$$=0;$i$jscomp$20$$<$a$jscomp$3$$.length;$i$jscomp$20$$++)$a$jscomp$3$$[$i$jscomp$20$$].$b$-=$i$jscomp$20$$,$code$jscomp$6$$=$code$jscomp$6$$.replace($a$jscomp$3$$[$i$jscomp$20$$].$str$,"");$a$jscomp$3$$.forEach(function($mark$jscomp$1$$){var $i$jscomp$21$$;
if($mark$jscomp$1$$.$g$){for(;;){for($i$jscomp$21$$=$mark$jscomp$1$$.$b$;" "===$code$jscomp$6$$[$i$jscomp$21$$]||"\t"===$code$jscomp$6$$[$i$jscomp$21$$];$i$jscomp$21$$++);if("\n"===$code$jscomp$6$$[$i$jscomp$21$$])$mark$jscomp$1$$.$b$=$i$jscomp$21$$+1;else break}if(" "===$code$jscomp$6$$[$mark$jscomp$1$$.$b$-1]||"\t"===$code$jscomp$6$$[$mark$jscomp$1$$.$b$-1]){for($i$jscomp$21$$=$mark$jscomp$1$$.$b$-1;" "===$code$jscomp$6$$[$i$jscomp$21$$]||"\t"===$code$jscomp$6$$[$i$jscomp$21$$];$i$jscomp$21$$--);
"\n"===$code$jscomp$6$$[$i$jscomp$21$$]&&($mark$jscomp$1$$.$b$=$i$jscomp$21$$+1)}}else if(" "===$code$jscomp$6$$[$mark$jscomp$1$$.$b$-1]||"\t"===$code$jscomp$6$$[$mark$jscomp$1$$.$b$-1]){for($i$jscomp$21$$=$mark$jscomp$1$$.$b$-1;" "===$code$jscomp$6$$[$i$jscomp$21$$]||"\t"===$code$jscomp$6$$[$i$jscomp$21$$];$i$jscomp$21$$--);"\n"===$code$jscomp$6$$[$i$jscomp$21$$]&&($mark$jscomp$1$$.$b$=$i$jscomp$21$$+1)}});return $code$jscomp$6$$}
function $A3a$vpl$CodeGenerator$Mark$remove$$($code$jscomp$7$$){return $code$jscomp$7$$.replace(/[\ue000-\uf8ff]/g,"")}
function $JSCompiler_StaticMethods_bracket$$($JSCompiler_StaticMethods_bracket$self$$,$code$jscomp$8$$,$mark2_ref$jscomp$4$$){var $id$jscomp$6$$=$JSCompiler_StaticMethods_bracket$self$$.$b$.length,$mark1$$=new $A3a$vpl$CodeGenerator$Mark$$($id$jscomp$6$$,$mark2_ref$jscomp$4$$,!0);$JSCompiler_StaticMethods_bracket$self$$.$b$.push($mark1$$);$mark2_ref$jscomp$4$$=new $A3a$vpl$CodeGenerator$Mark$$($id$jscomp$6$$+1,$mark2_ref$jscomp$4$$,!1);$JSCompiler_StaticMethods_bracket$self$$.$b$.push($mark2_ref$jscomp$4$$);
return $mark1$$.$str$+$code$jscomp$8$$+$mark2_ref$jscomp$4$$.$str$}
function $JSCompiler_StaticMethods_findMark$$($JSCompiler_StaticMethods_findMark$self$$,$ref$jscomp$5$$,$isBegin$jscomp$1$$){for(var $i$jscomp$22$$=0;$i$jscomp$22$$<$JSCompiler_StaticMethods_findMark$self$$.$b$.length;$i$jscomp$22$$++)if($JSCompiler_StaticMethods_findMark$self$$.$b$[$i$jscomp$22$$].$i$===$ref$jscomp$5$$&&$JSCompiler_StaticMethods_findMark$self$$.$b$[$i$jscomp$22$$].$g$===$isBegin$jscomp$1$$)return $JSCompiler_StaticMethods_findMark$self$$.$b$[$i$jscomp$22$$].$b$;return-1}
function $JSCompiler_StaticMethods_generateCodeForEventHandler$$($JSCompiler_StaticMethods_generateCodeForEventHandler$self$$,$rule$jscomp$8$$){if($rule$jscomp$8$$.disabled||$rule$jscomp$8$$.$isEmpty$())return{};$rule$jscomp$8$$.error=null;for(var $auxEventCode_code$jscomp$9_hasEvent_j$$=!1,$hasState$$=!1,$eventCode_i$jscomp$23$$=0;$eventCode_i$jscomp$23$$<$rule$jscomp$8$$.$events$.length;$eventCode_i$jscomp$23$$++)if(!$rule$jscomp$8$$.$events$[$eventCode_i$jscomp$23$$].disabled)if("e"===$rule$jscomp$8$$.$events$[$eventCode_i$jscomp$23$$].$blockTemplate$.type){if($auxEventCode_code$jscomp$9_hasEvent_j$$=
!0,$rule$jscomp$8$$.$events$[$eventCode_i$jscomp$23$$].$blockTemplate$.$validate$){var $err$jscomp$4_hasAction$$=$rule$jscomp$8$$.$events$[$eventCode_i$jscomp$23$$].$blockTemplate$.$validate$($rule$jscomp$8$$.$events$[$eventCode_i$jscomp$23$$]);if($err$jscomp$4_hasAction$$&&($JSCompiler_StaticMethods_addEventError$$($err$jscomp$4_hasAction$$,[$eventCode_i$jscomp$23$$]),!$err$jscomp$4_hasAction$$.$isWarning$||!$rule$jscomp$8$$.error))return $rule$jscomp$8$$.error=$err$jscomp$4_hasAction$$,{error:$err$jscomp$4_hasAction$$}}}else"s"===
$rule$jscomp$8$$.$events$[$eventCode_i$jscomp$23$$].$blockTemplate$.type&&($hasState$$=!0);$err$jscomp$4_hasAction$$=!1;for($eventCode_i$jscomp$23$$=0;$eventCode_i$jscomp$23$$<$rule$jscomp$8$$.actions.length;$eventCode_i$jscomp$23$$++)if(!$rule$jscomp$8$$.actions[$eventCode_i$jscomp$23$$].disabled&&"a"===$rule$jscomp$8$$.actions[$eventCode_i$jscomp$23$$].$blockTemplate$.type){$err$jscomp$4_hasAction$$=!0;break}if(!$auxEventCode_code$jscomp$9_hasEvent_j$$&&!$err$jscomp$4_hasAction$$)return{};if(!$auxEventCode_code$jscomp$9_hasEvent_j$$&&
!$hasState$$)return $err$jscomp$4_hasAction$$=new $A3a$vpl$Error$$("Missing event block"),$JSCompiler_StaticMethods_addEventError$$($err$jscomp$4_hasAction$$,[]),$rule$jscomp$8$$.error=$err$jscomp$4_hasAction$$,{error:$err$jscomp$4_hasAction$$};if($err$jscomp$4_hasAction$$)for($eventCode_i$jscomp$23$$=0;$eventCode_i$jscomp$23$$<$rule$jscomp$8$$.actions.length;$eventCode_i$jscomp$23$$++)for($auxEventCode_code$jscomp$9_hasEvent_j$$=$eventCode_i$jscomp$23$$+1;$auxEventCode_code$jscomp$9_hasEvent_j$$<
$rule$jscomp$8$$.actions.length;$auxEventCode_code$jscomp$9_hasEvent_j$$++)"a"===$rule$jscomp$8$$.actions[$auxEventCode_code$jscomp$9_hasEvent_j$$].$blockTemplate$.type&&$rule$jscomp$8$$.actions[$auxEventCode_code$jscomp$9_hasEvent_j$$].$blockTemplate$===$rule$jscomp$8$$.actions[$eventCode_i$jscomp$23$$].$blockTemplate$&&($err$jscomp$4_hasAction$$=new $A3a$vpl$Error$$("Duplicate action blocks",!0),$err$jscomp$4_hasAction$$.$b$.push($eventCode_i$jscomp$23$$),$err$jscomp$4_hasAction$$.$b$.push($auxEventCode_code$jscomp$9_hasEvent_j$$),
$rule$jscomp$8$$.error=$err$jscomp$4_hasAction$$);else return $err$jscomp$4_hasAction$$=new $A3a$vpl$Error$$("Missing action block"),$err$jscomp$4_hasAction$$.$b$.push(0),$rule$jscomp$8$$.error=$err$jscomp$4_hasAction$$,{error:$err$jscomp$4_hasAction$$};var $initVarDecl$$=[],$initCodeExec$$=[],$initCodeDecl$$=[],$clause$$="",$auxClauses$$=[],$clauseInit$$="",$auxClausesInit$$=[],$str$jscomp$8$$="";$rule$jscomp$8$$.$events$.forEach(function($event$jscomp$9$$,$i$jscomp$24$$){var $code$jscomp$10$$=$event$jscomp$9$$.$g$(this.language);
$code$jscomp$10$$.$clause$&&(0===$i$jscomp$24$$&&$code$jscomp$10$$.$sectionBegin$?($clause$$=$JSCompiler_StaticMethods_bracket$$(this,$code$jscomp$10$$.$clause$,$event$jscomp$9$$),$code$jscomp$10$$.$clauseInit$&&($clauseInit$$+=$code$jscomp$10$$.$clauseInit$)):($auxClauses$$.push($JSCompiler_StaticMethods_bracket$$(this,$code$jscomp$10$$.$clause$,$event$jscomp$9$$)),$code$jscomp$10$$.$clauseInit$&&($auxClausesInit$$=$auxClausesInit$$.concat($code$jscomp$10$$.$clauseInit$))));$code$jscomp$10$$.$initVarDecl$&&
($initVarDecl$$=$initVarDecl$$.concat($code$jscomp$10$$.$initVarDecl$));$code$jscomp$10$$.$initCodeExec$&&($initCodeExec$$=$initCodeExec$$.concat($code$jscomp$10$$.$initCodeExec$));$code$jscomp$10$$.$initCodeDecl$&&($initCodeDecl$$=$initCodeDecl$$.concat($code$jscomp$10$$.$initCodeDecl$));$code$jscomp$10$$.$statement$&&($str$jscomp$8$$+=$JSCompiler_StaticMethods_bracket$$(this,$code$jscomp$10$$.$statement$,$event$jscomp$9$$))},$JSCompiler_StaticMethods_generateCodeForEventHandler$self$$);for($eventCode_i$jscomp$23$$=
0;$eventCode_i$jscomp$23$$<$rule$jscomp$8$$.actions.length;$eventCode_i$jscomp$23$$++)$auxEventCode_code$jscomp$9_hasEvent_j$$=$rule$jscomp$8$$.actions[$eventCode_i$jscomp$23$$].$g$($JSCompiler_StaticMethods_generateCodeForEventHandler$self$$.language),$str$jscomp$8$$+=$auxEventCode_code$jscomp$9_hasEvent_j$$.$statement$?$JSCompiler_StaticMethods_bracket$$($JSCompiler_StaticMethods_generateCodeForEventHandler$self$$,$auxEventCode_code$jscomp$9_hasEvent_j$$.$statement$,$rule$jscomp$8$$.actions[$eventCode_i$jscomp$23$$]):
"",$auxEventCode_code$jscomp$9_hasEvent_j$$.$initVarDecl$&&$auxEventCode_code$jscomp$9_hasEvent_j$$.$initVarDecl$.forEach(function($frag$$){0>$initVarDecl$$.indexOf($frag$$)&&$initVarDecl$$.push($frag$$)}),$auxEventCode_code$jscomp$9_hasEvent_j$$.$initCodeExec$&&$auxEventCode_code$jscomp$9_hasEvent_j$$.$initCodeExec$.forEach(function($frag$jscomp$1$$){0>$initCodeExec$$.indexOf($frag$jscomp$1$$)&&$initCodeExec$$.push($frag$jscomp$1$$)}),$auxEventCode_code$jscomp$9_hasEvent_j$$.$initCodeDecl$&&$auxEventCode_code$jscomp$9_hasEvent_j$$.$initCodeDecl$.forEach(function($frag$jscomp$2$$){0>
$initCodeDecl$$.indexOf($frag$jscomp$2$$)&&$initCodeDecl$$.push($frag$jscomp$2$$)});return 0<$str$jscomp$8$$.length?($eventCode_i$jscomp$23$$="e"===$rule$jscomp$8$$.$events$[0].$blockTemplate$.type?$rule$jscomp$8$$.$events$[0].$g$($JSCompiler_StaticMethods_generateCodeForEventHandler$self$$.language):null,$auxEventCode_code$jscomp$9_hasEvent_j$$=$rule$jscomp$8$$.$events$.slice(1).filter(function($eb$$){return"e"===$eb$$.$blockTemplate$.type}).map(function($eb$jscomp$1$$){return $eb$jscomp$1$$.$g$(this.language)},
$JSCompiler_StaticMethods_generateCodeForEventHandler$self$$),{$firstEventType$:$rule$jscomp$8$$.$events$[0]?$rule$jscomp$8$$.$events$[0].$blockTemplate$.name:"",$initVarDecl$:$initVarDecl$$,$initCodeExec$:$initCodeExec$$,$initCodeDecl$:$initCodeDecl$$,$sectionBegin$:$eventCode_i$jscomp$23$$?$eventCode_i$jscomp$23$$.$sectionBegin$:"",$sectionEnd$:$eventCode_i$jscomp$23$$?$eventCode_i$jscomp$23$$.$sectionEnd$:"",$sectionPreamble$:$eventCode_i$jscomp$23$$?$eventCode_i$jscomp$23$$.$sectionPreamble$:
"",$auxSectionBegin$:$auxEventCode_code$jscomp$9_hasEvent_j$$.map(function($ec$$){return $ec$$.$sectionBegin$||""}),$auxSectionEnd$:$auxEventCode_code$jscomp$9_hasEvent_j$$.map(function($ec$jscomp$1$$){return $ec$jscomp$1$$.$sectionEnd$||""}),$auxSectionPreamble$:$auxEventCode_code$jscomp$9_hasEvent_j$$.map(function($ec$jscomp$2$$){return $ec$jscomp$2$$.$sectionPreamble$||""}),$clauseInit$:$clauseInit$$,$auxClausesInit$:$auxClausesInit$$,$clause$:$clause$$,$auxClauses$:$auxClauses$$.join(" "+$JSCompiler_StaticMethods_generateCodeForEventHandler$self$$.$j$+
" "),$statement$:($eventCode_i$jscomp$23$$&&$eventCode_i$jscomp$23$$.$statement$||"")+$str$jscomp$8$$}):{}}$A3a$vpl$CodeGenerator$$.prototype.$g$=function $$A3a$vpl$CodeGenerator$$$$$g$$(){throw"internal";};$A3a$vpl$CodeGenerator$$.prototype.$i$=function $$A3a$vpl$CodeGenerator$$$$$i$$(){throw"internal";};function $A3a$vpl$CodeGeneratorA3a$$(){$A3a$vpl$CodeGenerator$$.call(this,"aseba","and","1 == 1")}$A3a$vpl$CodeGeneratorA3a$$.prototype=Object.create($A3a$vpl$CodeGenerator$$.prototype);$A3a$vpl$CodeGeneratorA3a$$.prototype.constructor=$A3a$vpl$CodeGeneratorA3a$$;
$A3a$vpl$CodeGeneratorA3a$$.prototype.$g$=function $$A3a$vpl$CodeGeneratorA3a$$$$$g$$($program$jscomp$26$$,$j$jscomp$1_lines_runBlocks$jscomp$1$$){this.$b$=[];var $c_str$jscomp$9$$=$program$jscomp$26$$.$program$.map(function($rule$jscomp$10$$){return $JSCompiler_StaticMethods_generateCodeForEventHandler$$(this,$rule$jscomp$10$$)},this),$sections$$={},$sectionList$$=[];$c_str$jscomp$9$$.forEach(function($evCode$$){$evCode$$.$sectionBegin$&&($sections$$[$evCode$$.$sectionBegin$]={$sectionBegin$:$evCode$$.$sectionBegin$,
$sectionEnd$:$evCode$$.$sectionEnd$,$sectionPreamble$:$evCode$$.$sectionPreamble$,$clauseInit$:"",$clauseAssignment$:""},0>$sectionList$$.indexOf($evCode$$.$sectionBegin$)&&$sectionList$$.push($evCode$$.$sectionBegin$));$evCode$$.$auxSectionBegin$&&$evCode$$.$auxSectionBegin$.forEach(function($sectionBegin$$,$i$jscomp$26$$){$sections$$[$sectionBegin$$]={$sectionBegin$:$sectionBegin$$,$sectionEnd$:$evCode$$.$auxSectionEnd$[$i$jscomp$26$$],$sectionPreamble$:$evCode$$.$auxSectionPreamble$[$i$jscomp$26$$],
$clauseInit$:"",$clauseAssignment$:""};0>$sectionList$$.indexOf($sectionBegin$$)&&$sectionList$$.push($sectionBegin$$)})});var $initVarDecl$jscomp$1$$=[],$initCodeExec$jscomp$1$$=[],$initCodeDecl$jscomp$1$$=[],$clauses$$=[];$c_str$jscomp$9$$.forEach(function($evCode$jscomp$1$$,$i$jscomp$27$$){$evCode$jscomp$1$$.$initVarDecl$&&$evCode$jscomp$1$$.$initVarDecl$.forEach(function($fr$$){0>$initVarDecl$jscomp$1$$.indexOf($fr$$)&&$initVarDecl$jscomp$1$$.push($fr$$)});$evCode$jscomp$1$$.$initCodeExec$&&$evCode$jscomp$1$$.$initCodeExec$.forEach(function($fr$jscomp$1$$){0>
$initCodeExec$jscomp$1$$.indexOf($fr$jscomp$1$$)&&$initCodeExec$jscomp$1$$.push($fr$jscomp$1$$)});$evCode$jscomp$1$$.$initCodeDecl$&&$evCode$jscomp$1$$.$initCodeDecl$.forEach(function($fr$jscomp$2$$){0>$initCodeDecl$jscomp$1$$.indexOf($fr$jscomp$2$$)&&$initCodeDecl$jscomp$1$$.push($fr$jscomp$2$$)});if($evCode$jscomp$1$$.$sectionBegin$&&($evCode$jscomp$1$$.$clauseIndex$=$clauses$$.indexOf($A3a$vpl$CodeGenerator$Mark$remove$$($evCode$jscomp$1$$.$clause$||$evCode$jscomp$1$$.$sectionBegin$)),0>$evCode$jscomp$1$$.$clauseIndex$)){$evCode$jscomp$1$$.$clauseIndex$=
$clauses$$.length;$clauses$$.push($A3a$vpl$CodeGenerator$Mark$remove$$($evCode$jscomp$1$$.$clause$||$evCode$jscomp$1$$.$sectionBegin$));var $section$$=$sections$$[$evCode$jscomp$1$$.$sectionBegin$];$evCode$jscomp$1$$.$clauseInit$&&0>$section$$.$clauseInit$.indexOf($evCode$jscomp$1$$.$clauseInit$)&&($evCode$jscomp$1$$.$clauseInit$+=$evCode$jscomp$1$$.$clauseInit$);$section$$.$clauseAssignment$+=$evCode$jscomp$1$$.$clause$?"when "+$evCode$jscomp$1$$.$clause$+" do\neventCache["+$evCode$jscomp$1$$.$clauseIndex$+
"] = 1\nend\n":"eventCache["+$evCode$jscomp$1$$.$clauseIndex$+"] = 1\n"}$evCode$jscomp$1$$.$sectionBegin$||($evCode$jscomp$1$$.$statement$=$JSCompiler_StaticMethods_bracket$$(this,$evCode$jscomp$1$$.$statement$||"",$program$jscomp$26$$.$program$[$i$jscomp$27$$]))},this);var $nextLineInitialBlanks_runBlocksCodeStatement$$="";if($j$jscomp$1_lines_runBlocks$jscomp$1$$){var $rule$jscomp$9$$=new $A3a$vpl$Rule$$,$i$jscomp$25_initBlock_runBlocksCode$$=new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("init"),
null,null);$JSCompiler_StaticMethods_setBlock$$($rule$jscomp$9$$,$i$jscomp$25_initBlock_runBlocksCode$$,null,null);$j$jscomp$1_lines_runBlocks$jscomp$1$$.forEach(function($block$jscomp$14$$){$JSCompiler_StaticMethods_setBlock$$($rule$jscomp$9$$,$block$jscomp$14$$,null,null)});$i$jscomp$25_initBlock_runBlocksCode$$=$JSCompiler_StaticMethods_generateCodeForEventHandler$$(this,$rule$jscomp$9$$);var $runBlockPrerequisite$$=!0;$i$jscomp$25_initBlock_runBlocksCode$$.$initVarDecl$.forEach(function($fr$jscomp$3$$){0>
$initVarDecl$jscomp$1$$.indexOf($fr$jscomp$3$$)&&($runBlockPrerequisite$$=!1)});$i$jscomp$25_initBlock_runBlocksCode$$.$initCodeDecl$.forEach(function($fr$jscomp$4$$){0>$initCodeDecl$jscomp$1$$.indexOf($fr$jscomp$4$$)&&($runBlockPrerequisite$$=!1)});$runBlockPrerequisite$$?$nextLineInitialBlanks_runBlocksCodeStatement$$=$i$jscomp$25_initBlock_runBlocksCode$$.$statement$:$i$jscomp$25_initBlock_runBlocksCode$$.$statementWithoutInit$&&($nextLineInitialBlanks_runBlocksCodeStatement$$=$i$jscomp$25_initBlock_runBlocksCode$$.$statementWithoutInit$)}var $auxClausesInit$jscomp$1$$=
[],$actionsTestCode$$="",$actionsExecCode$$="",$actionTestCount$$=0;for($i$jscomp$25_initBlock_runBlocksCode$$=0;$i$jscomp$25_initBlock_runBlocksCode$$<$program$jscomp$26$$.$program$.length;$i$jscomp$25_initBlock_runBlocksCode$$++)0<=$c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$clauseIndex$?($c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$auxClausesInit$&&$c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$auxClausesInit$.forEach(function($cl$$){0>$auxClausesInit$jscomp$1$$.indexOf($cl$$)&&
$auxClausesInit$jscomp$1$$.push($cl$$)}),$actionsTestCode$$+="if eventCache["+$c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$clauseIndex$+"] != 0"+($c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$auxClauses$?" and "+$c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$auxClauses$:"")+" then\ntodo["+$actionTestCount$$+"] = 1\nend\n",$actionsExecCode$$+="if todo["+$actionTestCount$$+"] != 0 then\n"+$c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$statement$+"end\n",
$actionTestCount$$++):$c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$auxClauses$&&($actionsTestCode$$+="when "+$c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$auxClauses$+" do\ntodo["+$actionTestCount$$+"] = 1\nend\n",$actionsExecCode$$+="if todo["+$actionTestCount$$+"] != 0 then\n"+$c_str$jscomp$9$$[$i$jscomp$25_initBlock_runBlocksCode$$].$statement$+"end\n",$actionTestCount$$++);$c_str$jscomp$9$$=0<$initVarDecl$jscomp$1$$.length?"\n"+$initVarDecl$jscomp$1$$.join("\n"):"";
0<$clauses$$.length&&($c_str$jscomp$9$$+="var eventCache[] = ["+$clauses$$.map(function(){return"0"}).join(", ")+"]\n");if(0<$actionTestCount$$){$c_str$jscomp$9$$+="var todo[] = [";for($i$jscomp$25_initBlock_runBlocksCode$$=0;$i$jscomp$25_initBlock_runBlocksCode$$<$actionTestCount$$;$i$jscomp$25_initBlock_runBlocksCode$$++)$c_str$jscomp$9$$+=0<$i$jscomp$25_initBlock_runBlocksCode$$?", 0":"0";$c_str$jscomp$9$$+="]\n"}$j$jscomp$1_lines_runBlocks$jscomp$1$$?$c_str$jscomp$9$$+="\n"+$nextLineInitialBlanks_runBlocksCodeStatement$$:
(0<$initCodeExec$jscomp$1$$.length&&($c_str$jscomp$9$$+="\n"+$initCodeExec$jscomp$1$$.join("\n")),$actionsTestCode$$&&($c_str$jscomp$9$$+=(0<$c_str$jscomp$9$$.length?"\n":"")+"timer.period[1] = 50\n"));0<$initCodeDecl$jscomp$1$$.length&&($c_str$jscomp$9$$+="\n"+$initCodeDecl$jscomp$1$$.join("\n"));for($i$jscomp$25_initBlock_runBlocksCode$$=0;$i$jscomp$25_initBlock_runBlocksCode$$<$sectionList$$.length;$i$jscomp$25_initBlock_runBlocksCode$$++)if($sections$$[$sectionList$$[$i$jscomp$25_initBlock_runBlocksCode$$]].$sectionPreamble$||
$sections$$[$sectionList$$[$i$jscomp$25_initBlock_runBlocksCode$$]].$clauseInit$||$sections$$[$sectionList$$[$i$jscomp$25_initBlock_runBlocksCode$$]].$clauseAssignment$)$c_str$jscomp$9$$+="\n"+($sections$$[$sectionList$$[$i$jscomp$25_initBlock_runBlocksCode$$]].$sectionBegin$||"")+($sections$$[$sectionList$$[$i$jscomp$25_initBlock_runBlocksCode$$]].$sectionPreamble$||"")+($sections$$[$sectionList$$[$i$jscomp$25_initBlock_runBlocksCode$$]].$clauseInit$||"")+($sections$$[$sectionList$$[$i$jscomp$25_initBlock_runBlocksCode$$]].$clauseAssignment$||
"")+($sections$$[$sectionList$$[$i$jscomp$25_initBlock_runBlocksCode$$]].$sectionEnd$||"");if($actionsTestCode$$){$c_str$jscomp$9$$+="\nonevent timer1\n"+$auxClausesInit$jscomp$1$$.join("")+$actionsTestCode$$+$actionsExecCode$$;for($i$jscomp$25_initBlock_runBlocksCode$$=0;$i$jscomp$25_initBlock_runBlocksCode$$<$clauses$$.length;$i$jscomp$25_initBlock_runBlocksCode$$++)$c_str$jscomp$9$$+="eventCache["+$i$jscomp$25_initBlock_runBlocksCode$$+"] = 0\n";for($i$jscomp$25_initBlock_runBlocksCode$$=0;$i$jscomp$25_initBlock_runBlocksCode$$<
$actionTestCount$$;$i$jscomp$25_initBlock_runBlocksCode$$++)$c_str$jscomp$9$$+="todo["+$i$jscomp$25_initBlock_runBlocksCode$$+"] = 0\n"}"\n"===$c_str$jscomp$9$$[0]&&($c_str$jscomp$9$$=$c_str$jscomp$9$$.slice(1));var $indent$$=0;$j$jscomp$1_lines_runBlocks$jscomp$1$$=$c_str$jscomp$9$$.split("\n").map(function($line$$){return $line$$.trim()}).map(function($line$jscomp$1$$){function $startsWithAnyOf$$($a$jscomp$5$$){for(var $line1$$=$A3a$vpl$CodeGenerator$Mark$remove$$($line$jscomp$1$$),$i$jscomp$28$$=
0;$i$jscomp$28$$<$a$jscomp$5$$.length;$i$jscomp$28$$++)if($line1$$.slice(0,$a$jscomp$5$$[$i$jscomp$28$$].length)===$a$jscomp$5$$[$i$jscomp$28$$]&&!/^\w/.test($line1$$.slice($a$jscomp$5$$[$i$jscomp$28$$].length)))return!0;return!1}if(0<$line$jscomp$1$$.length){var $postInc$$=$startsWithAnyOf$$("if else elseif for onevent sub when while".split(" "));$startsWithAnyOf$$(["else","elseif","end","onevent","sub"])&&($indent$$=Math.max($indent$$-1,0));$line$jscomp$1$$="\t\t\t\t\t".slice(0,$indent$$)+$line$jscomp$1$$;
$postInc$$&&$indent$$++}return $line$jscomp$1$$});for($i$jscomp$25_initBlock_runBlocksCode$$=$j$jscomp$1_lines_runBlocks$jscomp$1$$.length-2;0<=$i$jscomp$25_initBlock_runBlocksCode$$;$i$jscomp$25_initBlock_runBlocksCode$$--)/^\s*#/.test($j$jscomp$1_lines_runBlocks$jscomp$1$$[$i$jscomp$25_initBlock_runBlocksCode$$])&&($nextLineInitialBlanks_runBlocksCodeStatement$$=$j$jscomp$1_lines_runBlocks$jscomp$1$$[$i$jscomp$25_initBlock_runBlocksCode$$+1].replace(/^(\s*).*$/,"$1"),$j$jscomp$1_lines_runBlocks$jscomp$1$$[$i$jscomp$25_initBlock_runBlocksCode$$]=
$nextLineInitialBlanks_runBlocksCodeStatement$$+$j$jscomp$1_lines_runBlocks$jscomp$1$$[$i$jscomp$25_initBlock_runBlocksCode$$].replace(/^\s*/,""));$c_str$jscomp$9$$=$j$jscomp$1_lines_runBlocks$jscomp$1$$.join("\n");for($i$jscomp$25_initBlock_runBlocksCode$$=0;$i$jscomp$25_initBlock_runBlocksCode$$<$program$jscomp$26$$.$program$.length;$i$jscomp$25_initBlock_runBlocksCode$$++)for($j$jscomp$1_lines_runBlocks$jscomp$1$$=$i$jscomp$25_initBlock_runBlocksCode$$+1;$j$jscomp$1_lines_runBlocks$jscomp$1$$<
$program$jscomp$26$$.$program$.length;$j$jscomp$1_lines_runBlocks$jscomp$1$$++)$JSCompiler_StaticMethods_checkConflicts$$($program$jscomp$26$$.$program$[$i$jscomp$25_initBlock_runBlocksCode$$],$program$jscomp$26$$.$program$[$j$jscomp$1_lines_runBlocks$jscomp$1$$]);return $c_str$jscomp$9$$=$A3a$vpl$CodeGenerator$Mark$extract$$(this.$b$,$c_str$jscomp$9$$)};
$A3a$vpl$CodeGeneratorA3a$$.prototype.$i$=function $$A3a$vpl$CodeGeneratorA3a$$$$$i$$($block$jscomp$15$$){var $code$jscomp$11$$="# missing Aseba implementation for block "+$block$jscomp$15$$.$blockTemplate$.name+"\n";switch($block$jscomp$15$$.$blockTemplate$.type){case "e":case "s":return{$clauseInit$:$code$jscomp$11$$,$clause$:"1 == 1"};case "a":return{$statement$:$code$jscomp$11$$};default:return{}}};$A3a$vpl$Program$codeGenerator$$.aseba=new $A3a$vpl$CodeGeneratorA3a$$;function $A3a$vpl$CodeGeneratorL2$$(){$A3a$vpl$CodeGenerator$$.call(this,"l2","&&","true")}$A3a$vpl$CodeGeneratorL2$$.prototype=Object.create($A3a$vpl$CodeGenerator$$.prototype);$A3a$vpl$CodeGeneratorL2$$.prototype.constructor=$A3a$vpl$CodeGeneratorL2$$;
$A3a$vpl$CodeGeneratorL2$$.prototype.$g$=function $$A3a$vpl$CodeGeneratorL2$$$$$g$$($program$jscomp$27$$,$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$){this.$b$=[];var $c$jscomp$1_str$jscomp$10$$=$program$jscomp$27$$.$program$.map(function($rule$jscomp$12$$){return $JSCompiler_StaticMethods_generateCodeForEventHandler$$(this,$rule$jscomp$12$$)},this),$sections$jscomp$1$$={},$sectionList$jscomp$1$$=[];$c$jscomp$1_str$jscomp$10$$.forEach(function($evCode$jscomp$2$$){$evCode$jscomp$2$$.$sectionBegin$&&
($sections$jscomp$1$$[$evCode$jscomp$2$$.$sectionBegin$]={$sectionBegin$:$evCode$jscomp$2$$.$sectionBegin$,$sectionEnd$:$evCode$jscomp$2$$.$sectionEnd$,$sectionPreamble$:$evCode$jscomp$2$$.$sectionPreamble$,$clauseInit$:"",$clauseAssignment$:""},0>$sectionList$jscomp$1$$.indexOf($evCode$jscomp$2$$.$sectionBegin$)&&$sectionList$jscomp$1$$.push($evCode$jscomp$2$$.$sectionBegin$));$evCode$jscomp$2$$.$auxSectionBegin$&&$evCode$jscomp$2$$.$auxSectionBegin$.forEach(function($sectionBegin$jscomp$1$$,$i$jscomp$30$$){$sections$jscomp$1$$[$sectionBegin$jscomp$1$$]=
{$sectionBegin$:$sectionBegin$jscomp$1$$,$sectionEnd$:$evCode$jscomp$2$$.$auxSectionEnd$[$i$jscomp$30$$],$sectionPreamble$:$evCode$jscomp$2$$.$auxSectionPreamble$[$i$jscomp$30$$],$clauseInit$:"",$clauseAssignment$:""};0>$sectionList$jscomp$1$$.indexOf($sectionBegin$jscomp$1$$)&&$sectionList$jscomp$1$$.push($sectionBegin$jscomp$1$$)})});var $initVarDecl$jscomp$2$$=[],$initCodeExec$jscomp$2$$=[],$initCodeDecl$jscomp$2$$=[],$clauses$jscomp$1$$=[];$c$jscomp$1_str$jscomp$10$$.forEach(function($evCode$jscomp$3$$,
$i$jscomp$31$$){$evCode$jscomp$3$$.$initVarDecl$&&$evCode$jscomp$3$$.$initVarDecl$.forEach(function($fr$jscomp$5$$){0>$initVarDecl$jscomp$2$$.indexOf($fr$jscomp$5$$)&&$initVarDecl$jscomp$2$$.push($fr$jscomp$5$$)});$evCode$jscomp$3$$.$initCodeExec$&&$evCode$jscomp$3$$.$initCodeExec$.forEach(function($fr$jscomp$6$$){0>$initCodeExec$jscomp$2$$.indexOf($fr$jscomp$6$$)&&$initCodeExec$jscomp$2$$.push($fr$jscomp$6$$)});$evCode$jscomp$3$$.$initCodeDecl$&&$evCode$jscomp$3$$.$initCodeDecl$.forEach(function($fr$jscomp$7$$){0>
$initCodeDecl$jscomp$2$$.indexOf($fr$jscomp$7$$)&&$initCodeDecl$jscomp$2$$.push($fr$jscomp$7$$)});if($evCode$jscomp$3$$.$sectionBegin$&&($evCode$jscomp$3$$.$clauseIndex$=$clauses$jscomp$1$$.indexOf($A3a$vpl$CodeGenerator$Mark$remove$$($evCode$jscomp$3$$.$clause$||$evCode$jscomp$3$$.$sectionBegin$)),0>$evCode$jscomp$3$$.$clauseIndex$)){$evCode$jscomp$3$$.$clauseIndex$=$clauses$jscomp$1$$.length;$clauses$jscomp$1$$.push($A3a$vpl$CodeGenerator$Mark$remove$$($evCode$jscomp$3$$.$clause$||$evCode$jscomp$3$$.$sectionBegin$));
var $section$jscomp$1$$=$sections$jscomp$1$$[$evCode$jscomp$3$$.$sectionBegin$];$evCode$jscomp$3$$.$clauseInit$&&0>$section$jscomp$1$$.$clauseInit$.indexOf($evCode$jscomp$3$$.$clauseInit$)&&($evCode$jscomp$3$$.$clauseInit$+=$evCode$jscomp$3$$.$clauseInit$);$section$jscomp$1$$.$clauseAssignment$+=$evCode$jscomp$3$$.$clause$?"when ("+$evCode$jscomp$3$$.$clause$+") {\neventCache["+$evCode$jscomp$3$$.$clauseIndex$+"] = true;\n}\n":"eventCache["+$evCode$jscomp$3$$.$clauseIndex$+"] = true;\n"}$evCode$jscomp$3$$.$sectionBegin$||
($evCode$jscomp$3$$.$statement$=$JSCompiler_StaticMethods_bracket$$(this,$evCode$jscomp$3$$.$statement$||"",$program$jscomp$27$$.$program$[$i$jscomp$31$$]))},this);var $runBlocksCode$jscomp$1$$="";if($j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$){var $rule$jscomp$11$$=new $A3a$vpl$Rule$$,$i$jscomp$29_initBlock$jscomp$1_strInit$$=new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("init"),null,null);$JSCompiler_StaticMethods_setBlock$$($rule$jscomp$11$$,$i$jscomp$29_initBlock$jscomp$1_strInit$$,
null,null);$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$.forEach(function($block$jscomp$16$$){$JSCompiler_StaticMethods_setBlock$$($rule$jscomp$11$$,$block$jscomp$16$$,null,null)});$runBlocksCode$jscomp$1$$=$JSCompiler_StaticMethods_generateCodeForEventHandler$$(this,$rule$jscomp$11$$).$statement$}var $auxClausesInit$jscomp$2$$=[],$actionsTestCode$jscomp$1_nextLineInitialBlanks$jscomp$1$$="",$actionsExecCode$jscomp$1$$="",$actionTestCount$jscomp$1$$=0;for($i$jscomp$29_initBlock$jscomp$1_strInit$$=
0;$i$jscomp$29_initBlock$jscomp$1_strInit$$<$program$jscomp$27$$.$program$.length;$i$jscomp$29_initBlock$jscomp$1_strInit$$++)0<=$c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$clauseIndex$?($c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$auxClausesInit$&&$c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$auxClausesInit$.forEach(function($cl$jscomp$1$$){0>$auxClausesInit$jscomp$2$$.indexOf($cl$jscomp$1$$)&&$auxClausesInit$jscomp$2$$.push($cl$jscomp$1$$)}),
$actionsTestCode$jscomp$1_nextLineInitialBlanks$jscomp$1$$+="if (eventCache["+$c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$clauseIndex$+"]"+($c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$auxClauses$?" && "+$c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$auxClauses$:"")+") {\ntodo["+$actionTestCount$jscomp$1$$+"] = true;\n}\n",$actionsExecCode$jscomp$1$$+="if (todo["+$actionTestCount$jscomp$1$$+"]) {\n"+$c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$statement$+
"}\n",$actionTestCount$jscomp$1$$++):$c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$auxClauses$&&($actionsTestCode$jscomp$1_nextLineInitialBlanks$jscomp$1$$+="when ("+$c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$auxClauses$+") {\ntodo["+$actionTestCount$jscomp$1$$+"] = true;\n}\n",$actionsExecCode$jscomp$1$$+="if (todo["+$actionTestCount$jscomp$1$$+"]) {\n"+$c$jscomp$1_str$jscomp$10$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].$statement$+"}\n",
$actionTestCount$jscomp$1$$++);$c$jscomp$1_str$jscomp$10$$=0<$initVarDecl$jscomp$2$$.length?"\n"+$initVarDecl$jscomp$2$$.join("\n"):"";0<$clauses$jscomp$1$$.length&&($c$jscomp$1_str$jscomp$10$$+="bool eventCache["+$clauses$jscomp$1$$.length+"] = false;\n");$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$?$c$jscomp$1_str$jscomp$10$$+="\n"+$runBlocksCode$jscomp$1$$:($i$jscomp$29_initBlock$jscomp$1_strInit$$="",0<$initCodeExec$jscomp$2$$.length&&($i$jscomp$29_initBlock$jscomp$1_strInit$$+="\n"+$initCodeExec$jscomp$2$$.join("\n")),
$i$jscomp$29_initBlock$jscomp$1_strInit$$&&($c$jscomp$1_str$jscomp$10$$+=(0<$c$jscomp$1_str$jscomp$10$$.length?"\n":"")+$i$jscomp$29_initBlock$jscomp$1_strInit$$.slice(1)),$actionsTestCode$jscomp$1_nextLineInitialBlanks$jscomp$1$$&&($c$jscomp$1_str$jscomp$10$$+=(0<$c$jscomp$1_str$jscomp$10$$.length?"\n":"")+"timer.period[1] = 50;\n"));0<$initCodeDecl$jscomp$2$$.length&&($c$jscomp$1_str$jscomp$10$$+="\n"+$initCodeDecl$jscomp$2$$.join("\n"));for($i$jscomp$29_initBlock$jscomp$1_strInit$$=0;$i$jscomp$29_initBlock$jscomp$1_strInit$$<
$sectionList$jscomp$1$$.length;$i$jscomp$29_initBlock$jscomp$1_strInit$$++)if($sections$jscomp$1$$[$sectionList$jscomp$1$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$]].$sectionPreamble$||$sections$jscomp$1$$[$sectionList$jscomp$1$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$]].$clauseInit$||$sections$jscomp$1$$[$sectionList$jscomp$1$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$]].$clauseAssignment$)$c$jscomp$1_str$jscomp$10$$+="\n"+($sections$jscomp$1$$[$sectionList$jscomp$1$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$]].$sectionBegin$||
"")+($sections$jscomp$1$$[$sectionList$jscomp$1$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$]].$sectionPreamble$||"")+($sections$jscomp$1$$[$sectionList$jscomp$1$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$]].$clauseInit$||"")+($sections$jscomp$1$$[$sectionList$jscomp$1$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$]].$clauseAssignment$||"")+($sections$jscomp$1$$[$sectionList$jscomp$1$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$]].$sectionEnd$||"");$actionsTestCode$jscomp$1_nextLineInitialBlanks$jscomp$1$$&&
($c$jscomp$1_str$jscomp$10$$+="\nonevent timer1 {\n",0<$actionTestCount$jscomp$1$$&&($c$jscomp$1_str$jscomp$10$$+="bool todo["+$actionTestCount$jscomp$1$$+"] = false;\n"),$c$jscomp$1_str$jscomp$10$$+=$auxClausesInit$jscomp$2$$.join("")+$actionsTestCode$jscomp$1_nextLineInitialBlanks$jscomp$1$$+$actionsExecCode$jscomp$1$$+"eventCache = false;\n}\n");"\n"===$c$jscomp$1_str$jscomp$10$$[0]&&($c$jscomp$1_str$jscomp$10$$=$c$jscomp$1_str$jscomp$10$$.slice(1));var $indent$jscomp$1$$=0;$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$=
$c$jscomp$1_str$jscomp$10$$.split("\n").map(function($line$jscomp$2$$){return $line$jscomp$2$$.trim()}).map(function($line$jscomp$3$$){var $line1$jscomp$1$$=$A3a$vpl$CodeGenerator$Mark$remove$$($line$jscomp$3$$);if(0<$line1$jscomp$1$$.length){var $postInc$jscomp$1$$="{"===$line1$jscomp$1$$.slice(-1);"}"===$line1$jscomp$1$$[0]&&($indent$jscomp$1$$=Math.max($indent$jscomp$1$$-1,0));$line$jscomp$3$$="\t\t\t\t\t".slice(0,$indent$jscomp$1$$)+$line$jscomp$3$$;$postInc$jscomp$1$$&&$indent$jscomp$1$$++}return $line$jscomp$3$$});
for($i$jscomp$29_initBlock$jscomp$1_strInit$$=$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$.length-2;0<=$i$jscomp$29_initBlock$jscomp$1_strInit$$;$i$jscomp$29_initBlock$jscomp$1_strInit$$--)/^\s*#/.test($j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$])&&($actionsTestCode$jscomp$1_nextLineInitialBlanks$jscomp$1$$=$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$+1].replace(/^(\s*).*$/,"$1"),$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$]=
$actionsTestCode$jscomp$1_nextLineInitialBlanks$jscomp$1$$+$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$[$i$jscomp$29_initBlock$jscomp$1_strInit$$].replace(/^\s*/,""));$c$jscomp$1_str$jscomp$10$$=$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$.join("\n");for($i$jscomp$29_initBlock$jscomp$1_strInit$$=0;$i$jscomp$29_initBlock$jscomp$1_strInit$$<$program$jscomp$27$$.$program$.length;$i$jscomp$29_initBlock$jscomp$1_strInit$$++)for($j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$=$i$jscomp$29_initBlock$jscomp$1_strInit$$+
1;$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$<$program$jscomp$27$$.$program$.length;$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$++)$JSCompiler_StaticMethods_checkConflicts$$($program$jscomp$27$$.$program$[$i$jscomp$29_initBlock$jscomp$1_strInit$$],$program$jscomp$27$$.$program$[$j$jscomp$2_lines$jscomp$1_runBlocks$jscomp$2$$]);return $c$jscomp$1_str$jscomp$10$$=$A3a$vpl$CodeGenerator$Mark$extract$$(this.$b$,$c$jscomp$1_str$jscomp$10$$)};
$A3a$vpl$CodeGeneratorL2$$.prototype.$i$=function $$A3a$vpl$CodeGeneratorL2$$$$$i$$($block$jscomp$17$$){var $code$jscomp$12$$="// missing L2 implementation for block "+$block$jscomp$17$$.$blockTemplate$.name+"\n";switch($block$jscomp$17$$.$blockTemplate$.type){case "e":case "s":return{$clauseInit$:$code$jscomp$12$$,$clause$:"true"};case "a":return{$statement$:$code$jscomp$12$$};default:return{}}};$A3a$vpl$Program$codeGenerator$$.l2=new $A3a$vpl$CodeGeneratorL2$$;function $A3a$vpl$CodeGeneratorJS$$(){$A3a$vpl$CodeGenerator$$.call(this,"js","&&","true")}$A3a$vpl$CodeGeneratorJS$$.prototype=Object.create($A3a$vpl$CodeGenerator$$.prototype);$A3a$vpl$CodeGeneratorJS$$.prototype.constructor=$A3a$vpl$CodeGeneratorJS$$;
$A3a$vpl$CodeGeneratorJS$$.prototype.$g$=function $$A3a$vpl$CodeGeneratorJS$$$$$g$$($program$jscomp$28$$,$runBlocks$jscomp$3_strInit$jscomp$1$$){this.$b$=[];var $c$jscomp$2_j$jscomp$3_lines$jscomp$2$$=$program$jscomp$28$$.$program$.map(function($rule$jscomp$14$$){return $JSCompiler_StaticMethods_generateCodeForEventHandler$$(this,$rule$jscomp$14$$)},this),$sections$jscomp$2$$={},$sectionList$jscomp$2$$=[];$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$.forEach(function($evCode$jscomp$4$$){$evCode$jscomp$4$$.$sectionBegin$&&
($sections$jscomp$2$$[$evCode$jscomp$4$$.$sectionBegin$]={$sectionBegin$:$evCode$jscomp$4$$.$sectionBegin$,$sectionEnd$:$evCode$jscomp$4$$.$sectionEnd$,$sectionPreamble$:$evCode$jscomp$4$$.$sectionPreamble$,$clauseInit$:"",$clauseAssignment$:""},0>$sectionList$jscomp$2$$.indexOf($evCode$jscomp$4$$.$sectionBegin$)&&$sectionList$jscomp$2$$.push($evCode$jscomp$4$$.$sectionBegin$));$evCode$jscomp$4$$.$auxSectionBegin$&&$evCode$jscomp$4$$.$auxSectionBegin$.forEach(function($sectionBegin$jscomp$2$$,$i$jscomp$33$$){$sections$jscomp$2$$[$sectionBegin$jscomp$2$$]=
{$sectionBegin$:$sectionBegin$jscomp$2$$,$sectionEnd$:$evCode$jscomp$4$$.$auxSectionEnd$[$i$jscomp$33$$],$sectionPreamble$:$evCode$jscomp$4$$.$auxSectionPreamble$[$i$jscomp$33$$],$clauseInit$:"",$clauseAssignment$:""};0>$sectionList$jscomp$2$$.indexOf($sectionBegin$jscomp$2$$)&&$sectionList$jscomp$2$$.push($sectionBegin$jscomp$2$$)})});var $initVarDecl$jscomp$3$$=[],$initCodeExec$jscomp$3$$=[],$initCodeDecl$jscomp$3$$=[],$clauses$jscomp$2$$=[],$initEventIndices$$=[],$nextCond$$=0;$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$.forEach(function($evCode$jscomp$5$$,
$i$jscomp$34$$){$evCode$jscomp$5$$.$initVarDecl$&&$evCode$jscomp$5$$.$initVarDecl$.forEach(function($fr$jscomp$8$$){0>$initVarDecl$jscomp$3$$.indexOf($fr$jscomp$8$$)&&$initVarDecl$jscomp$3$$.push($fr$jscomp$8$$)});$evCode$jscomp$5$$.$initCodeExec$&&$evCode$jscomp$5$$.$initCodeExec$.forEach(function($fr$jscomp$9$$){0>$initCodeExec$jscomp$3$$.indexOf($fr$jscomp$9$$)&&$initCodeExec$jscomp$3$$.push($fr$jscomp$9$$)});$evCode$jscomp$5$$.$initCodeDecl$&&$evCode$jscomp$5$$.$initCodeDecl$.forEach(function($fr$jscomp$10$$){0>
$initCodeDecl$jscomp$3$$.indexOf($fr$jscomp$10$$)&&$initCodeDecl$jscomp$3$$.push($fr$jscomp$10$$)});var $statement$$=$evCode$jscomp$5$$.$statement$||"";$evCode$jscomp$5$$.$clause$&&($statement$$="cond = "+$evCode$jscomp$5$$.$clause$+";\nif (cond && !cond0["+$nextCond$$+"]) {\n"+$statement$$+"}\ncond0["+$nextCond$$+"] = cond;\n",$nextCond$$++);if($evCode$jscomp$5$$.$sectionBegin$&&($evCode$jscomp$5$$.$clauseIndex$=$clauses$jscomp$2$$.indexOf($A3a$vpl$CodeGenerator$Mark$remove$$($evCode$jscomp$5$$.$clause$||
$evCode$jscomp$5$$.$sectionBegin$)),0>$evCode$jscomp$5$$.$clauseIndex$)){$evCode$jscomp$5$$.$clauseIndex$=$clauses$jscomp$2$$.length;$clauses$jscomp$2$$.push($A3a$vpl$CodeGenerator$Mark$remove$$($evCode$jscomp$5$$.$clause$||$evCode$jscomp$5$$.$sectionBegin$));var $section$jscomp$2$$=$sections$jscomp$2$$[$evCode$jscomp$5$$.$sectionBegin$];$evCode$jscomp$5$$.$clauseInit$&&0>$section$jscomp$2$$.$clauseInit$.indexOf($evCode$jscomp$5$$.$clauseInit$)&&($evCode$jscomp$5$$.$clauseInit$+=$evCode$jscomp$5$$.$clauseInit$);
$evCode$jscomp$5$$.$clause$?($section$jscomp$2$$.$clauseAssignment$+="cond = "+$evCode$jscomp$5$$.$clause$+";\nif (cond && !cond0["+$nextCond$$+"]) {\neventCache["+$evCode$jscomp$5$$.$clauseIndex$+"] = true;\n}\ncond0["+$nextCond$$+"] = cond;\n",$nextCond$$++):$section$jscomp$2$$.$clauseAssignment$+="eventCache["+$evCode$jscomp$5$$.$clauseIndex$+"] = true;\n"}$evCode$jscomp$5$$.$sectionBegin$||($evCode$jscomp$5$$.$statement$=$JSCompiler_StaticMethods_bracket$$(this,$statement$$,$program$jscomp$28$$.$program$[$i$jscomp$34$$]));
$JSCompiler_StaticMethods_getEventBlockByType$$($program$jscomp$28$$.$program$[$i$jscomp$34$$])&&$initEventIndices$$.push($i$jscomp$34$$)},this);var $runBlocksCode$jscomp$2$$="";if($runBlocks$jscomp$3_strInit$jscomp$1$$){var $rule$jscomp$13$$=new $A3a$vpl$Rule$$,$i$jscomp$32_initBlock$jscomp$2$$=new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("init"),null,null);$JSCompiler_StaticMethods_setBlock$$($rule$jscomp$13$$,$i$jscomp$32_initBlock$jscomp$2$$,null,null);$runBlocks$jscomp$3_strInit$jscomp$1$$.forEach(function($block$jscomp$18$$){$JSCompiler_StaticMethods_setBlock$$($rule$jscomp$13$$,
$block$jscomp$18$$,null,null)});$runBlocksCode$jscomp$2$$=$JSCompiler_StaticMethods_generateCodeForEventHandler$$(this,$rule$jscomp$13$$).$statement$}var $auxClausesInit$jscomp$3$$=[],$actionsTestCode$jscomp$2$$="",$actionsExecCode$jscomp$2$$="",$actionTestCount$jscomp$2$$=0;for($i$jscomp$32_initBlock$jscomp$2$$=0;$i$jscomp$32_initBlock$jscomp$2$$<$program$jscomp$28$$.$program$.length;$i$jscomp$32_initBlock$jscomp$2$$++)0<=$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$clauseIndex$?
($c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$auxClausesInit$&&$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$auxClausesInit$.forEach(function($cl$jscomp$2$$){0>$auxClausesInit$jscomp$3$$.indexOf($cl$jscomp$2$$)&&$auxClausesInit$jscomp$3$$.push($cl$jscomp$2$$)}),$actionsTestCode$jscomp$2$$+="if (eventCache["+$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$clauseIndex$+"]"+($c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$auxClauses$?
" && "+$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$auxClauses$:"")+") {\ntodo["+$actionTestCount$jscomp$2$$+"] = true;\n}\n",$actionsExecCode$jscomp$2$$+="if (todo["+$actionTestCount$jscomp$2$$+"]) {\n"+$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$statement$+"}\n",$actionTestCount$jscomp$2$$++):$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$auxClauses$&&($actionsTestCode$jscomp$2$$+="cond = "+$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$auxClauses$+
";\nif (cond && !cond0["+$nextCond$$+"]) {\ntodo["+$actionTestCount$jscomp$2$$+"] = 1\n}\ncond0["+$nextCond$$+"] = cond;\n",$nextCond$$++,$actionsExecCode$jscomp$2$$+="if todo["+$actionTestCount$jscomp$2$$+"] != 0 then\n"+$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$statement$+"end\n",$actionTestCount$jscomp$2$$++);0<$nextCond$$&&($initVarDecl$jscomp$3$$.unshift("var cond0;\nvar cond;\n"),$initCodeExec$jscomp$3$$.unshift("cond0 = [];\n"));var $nextLineInitialBlanks$jscomp$2_str$jscomp$11$$=
0<$initVarDecl$jscomp$3$$.length?"\n"+$initVarDecl$jscomp$3$$.join("\n"):"";0<$clauses$jscomp$2$$.length&&($nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+="var eventCache = [];\n");0<$actionTestCount$jscomp$2$$&&($nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+="var todo = [];\n");if($runBlocks$jscomp$3_strInit$jscomp$1$$)$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+="\n"+$runBlocksCode$jscomp$2$$;else{$runBlocks$jscomp$3_strInit$jscomp$1$$="";0<$initCodeExec$jscomp$3$$.length&&($runBlocks$jscomp$3_strInit$jscomp$1$$+=
"\n"+$initCodeExec$jscomp$3$$.join("\n"));$actionsTestCode$jscomp$2$$&&($runBlocks$jscomp$3_strInit$jscomp$1$$+="this.setTimer(1, 0.1, true);\n");for($i$jscomp$32_initBlock$jscomp$2$$=0;$i$jscomp$32_initBlock$jscomp$2$$<$program$jscomp$28$$.$program$.length;$i$jscomp$32_initBlock$jscomp$2$$++)0<=$initEventIndices$$.indexOf($i$jscomp$32_initBlock$jscomp$2$$)&&$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$statement$&&($runBlocks$jscomp$3_strInit$jscomp$1$$+=(0<$runBlocks$jscomp$3_strInit$jscomp$1$$.length?
"\n":"")+($c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$sectionBegin$||"")+($c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$statement$||"")+($c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].$sectionEnd$||""));$runBlocks$jscomp$3_strInit$jscomp$1$$&&($nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+=(0<$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$.length?"\n":"")+'this.addEventListener("init", function (name, param) {\n'+
$runBlocks$jscomp$3_strInit$jscomp$1$$.slice(1)+"});\n")}if(0<$initCodeDecl$jscomp$3$$.length)throw"internal error, unsupported sub/onevent in js";for($i$jscomp$32_initBlock$jscomp$2$$=0;$i$jscomp$32_initBlock$jscomp$2$$<$sectionList$jscomp$2$$.length;$i$jscomp$32_initBlock$jscomp$2$$++)if($sections$jscomp$2$$[$sectionList$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$]].$sectionPreamble$||$sections$jscomp$2$$[$sectionList$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$]].$clauseInit$||$sections$jscomp$2$$[$sectionList$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$]].$clauseAssignment$)$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+=
"\n"+($sections$jscomp$2$$[$sectionList$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$]].$sectionBegin$||"")+($sections$jscomp$2$$[$sectionList$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$]].$sectionPreamble$||"")+($sections$jscomp$2$$[$sectionList$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$]].$clauseInit$||"")+($sections$jscomp$2$$[$sectionList$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$]].$clauseAssignment$||"")+($sections$jscomp$2$$[$sectionList$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$]].$sectionEnd$||
"");if($actionsTestCode$jscomp$2$$){$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+='\nthis.addEventListener("timer1", function (name, param) {\n'+$auxClausesInit$jscomp$3$$.join("")+$actionsTestCode$jscomp$2$$+$actionsExecCode$jscomp$2$$;for($i$jscomp$32_initBlock$jscomp$2$$=0;$i$jscomp$32_initBlock$jscomp$2$$<$clauses$jscomp$2$$.length;$i$jscomp$32_initBlock$jscomp$2$$++)$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+="eventCache["+$i$jscomp$32_initBlock$jscomp$2$$+"] = false;\n";for($i$jscomp$32_initBlock$jscomp$2$$=
0;$i$jscomp$32_initBlock$jscomp$2$$<$actionTestCount$jscomp$2$$;$i$jscomp$32_initBlock$jscomp$2$$++)$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+="todo["+$i$jscomp$32_initBlock$jscomp$2$$+"] = false;\n"}$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+="});";"\n"===$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$[0]&&($nextLineInitialBlanks$jscomp$2_str$jscomp$11$$=$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$.slice(1));var $indent$jscomp$2$$=0;$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$=$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$.split("\n").map(function($line$jscomp$4$$){return $line$jscomp$4$$.trim()}).map(function($line$jscomp$5$$){var $line1$jscomp$2$$=
$A3a$vpl$CodeGenerator$Mark$remove$$($line$jscomp$5$$);if(0<$line1$jscomp$2$$.length){var $postInc$jscomp$2$$="{"===$line1$jscomp$2$$.slice(-1);"}"===$line1$jscomp$2$$[0]&&($indent$jscomp$2$$=Math.max($indent$jscomp$2$$-1,0));$line$jscomp$5$$="\t\t\t\t\t".slice(0,$indent$jscomp$2$$)+$line$jscomp$5$$;$postInc$jscomp$2$$&&$indent$jscomp$2$$++}return $line$jscomp$5$$});for($i$jscomp$32_initBlock$jscomp$2$$=$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$.length-2;0<=$i$jscomp$32_initBlock$jscomp$2$$;$i$jscomp$32_initBlock$jscomp$2$$--)/^\s*#/.test($c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$])&&
($nextLineInitialBlanks$jscomp$2_str$jscomp$11$$=$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$+1].replace(/^(\s*).*$/,"$1"),$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$]=$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$+$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$[$i$jscomp$32_initBlock$jscomp$2$$].replace(/^\s*/,""));$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$=$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$.join("\n");for($i$jscomp$32_initBlock$jscomp$2$$=
0;$i$jscomp$32_initBlock$jscomp$2$$<$program$jscomp$28$$.$program$.length;$i$jscomp$32_initBlock$jscomp$2$$++)for($c$jscomp$2_j$jscomp$3_lines$jscomp$2$$=$i$jscomp$32_initBlock$jscomp$2$$+1;$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$<$program$jscomp$28$$.$program$.length;$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$++)$JSCompiler_StaticMethods_checkConflicts$$($program$jscomp$28$$.$program$[$i$jscomp$32_initBlock$jscomp$2$$],$program$jscomp$28$$.$program$[$c$jscomp$2_j$jscomp$3_lines$jscomp$2$$]);return $nextLineInitialBlanks$jscomp$2_str$jscomp$11$$=
$A3a$vpl$CodeGenerator$Mark$extract$$(this.$b$,$nextLineInitialBlanks$jscomp$2_str$jscomp$11$$)};$A3a$vpl$CodeGeneratorJS$$.prototype.$i$=function $$A3a$vpl$CodeGeneratorJS$$$$$i$$($block$jscomp$19$$){var $code$jscomp$13$$="// missing JavaScript implementation for block "+$block$jscomp$19$$.$blockTemplate$.name+"\n";switch($block$jscomp$19$$.$blockTemplate$.type){case "e":case "s":return{$clauseInit$:$code$jscomp$13$$,$clause$:"true"};case "a":return{$statement$:$code$jscomp$13$$};default:return{}}};
$A3a$vpl$Program$codeGenerator$$.js=new $A3a$vpl$CodeGeneratorJS$$;function $A3a$vpl$CodeGeneratorPython$$(){$A3a$vpl$CodeGenerator$$.call(this,"python","and","True")}$A3a$vpl$CodeGeneratorPython$$.prototype=Object.create($A3a$vpl$CodeGenerator$$.prototype);$A3a$vpl$CodeGeneratorPython$$.prototype.constructor=$A3a$vpl$CodeGeneratorPython$$;
$A3a$vpl$CodeGeneratorPython$$.prototype.$g$=function $$A3a$vpl$CodeGeneratorPython$$$$$g$$($program$jscomp$29$$,$i$jscomp$35_runBlocks$jscomp$4$$){this.$b$=[];var $c$jscomp$3$$=$program$jscomp$29$$.$program$.map(function($rule$jscomp$16$$){return $JSCompiler_StaticMethods_generateCodeForEventHandler$$(this,$rule$jscomp$16$$)},this),$initVarDecl$jscomp$4$$=[],$initCodeExec$jscomp$4$$=[],$initCodeDecl$jscomp$4$$=[],$folding$$={},$initEventIndices$jscomp$1$$=[],$usesCond$$=!1;$c$jscomp$3$$.forEach(function($evCode$jscomp$6$$,
$i$jscomp$36$$){$evCode$jscomp$6$$.$initVarDecl$&&$evCode$jscomp$6$$.$initVarDecl$.forEach(function($fr$jscomp$11$$){0>$initVarDecl$jscomp$4$$.indexOf($fr$jscomp$11$$)&&$initVarDecl$jscomp$4$$.push($fr$jscomp$11$$)});$evCode$jscomp$6$$.$initCodeExec$&&$evCode$jscomp$6$$.$initCodeExec$.forEach(function($fr$jscomp$12$$){0>$initCodeExec$jscomp$4$$.indexOf($fr$jscomp$12$$)&&$initCodeExec$jscomp$4$$.push($fr$jscomp$12$$)});$evCode$jscomp$6$$.$initCodeDecl$&&$evCode$jscomp$6$$.$initCodeDecl$.forEach(function($fr$jscomp$13$$){0>
$initCodeDecl$jscomp$4$$.indexOf($fr$jscomp$13$$)&&$initCodeDecl$jscomp$4$$.push($fr$jscomp$13$$)});var $statement$jscomp$1$$=$evCode$jscomp$6$$.$statement$||"";$evCode$jscomp$6$$.$clause$&&($statement$jscomp$1$$="self.cond = "+$evCode$jscomp$6$$.$clause$+"\nif self.cond and not self.cond0["+$i$jscomp$36$$+"]:\n"+$statement$jscomp$1$$+"<\nself.cond0["+$i$jscomp$36$$+"] = cond\n",$usesCond$$=!0);$statement$jscomp$1$$=$JSCompiler_StaticMethods_bracket$$(this,$statement$jscomp$1$$,$program$jscomp$29$$.$program$[$i$jscomp$36$$]);
if($evCode$jscomp$6$$.$sectionBegin$)if(void 0!==$folding$$[$evCode$jscomp$6$$.$sectionBegin$]){var $foldedFrag$$=$c$jscomp$3$$[$folding$$[$evCode$jscomp$6$$.$sectionBegin$]];$evCode$jscomp$6$$.$clauseInit$&&(!$foldedFrag$$.$clauseInit$||0>$foldedFrag$$.$clauseInit$.indexOf($evCode$jscomp$6$$.$clauseInit$))&&($foldedFrag$$.$clauseInit$=($foldedFrag$$.$clauseInit$||"")+$evCode$jscomp$6$$.$clauseInit$);$foldedFrag$$.$statement$+=$statement$jscomp$1$$;$evCode$jscomp$6$$.$statement$=void 0}else $folding$$[$evCode$jscomp$6$$.$sectionBegin$]=
$i$jscomp$36$$,$evCode$jscomp$6$$.$statement$=$statement$jscomp$1$$;else $evCode$jscomp$6$$.$statement$=$statement$jscomp$1$$;$JSCompiler_StaticMethods_getEventBlockByType$$($program$jscomp$29$$.$program$[$i$jscomp$36$$])&&$initEventIndices$jscomp$1$$.push($i$jscomp$36$$)},this);var $j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$="";if($i$jscomp$35_runBlocks$jscomp$4$$){var $rule$jscomp$15$$=new $A3a$vpl$Rule$$,$initBlock$jscomp$3_str$jscomp$12$$=new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("init"),
null,null);$JSCompiler_StaticMethods_setBlock$$($rule$jscomp$15$$,$initBlock$jscomp$3_str$jscomp$12$$,null,null);$i$jscomp$35_runBlocks$jscomp$4$$.forEach(function($block$jscomp$20$$){$JSCompiler_StaticMethods_setBlock$$($rule$jscomp$15$$,$block$jscomp$20$$,null,null)});$j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$=$JSCompiler_StaticMethods_generateCodeForEventHandler$$(this,$rule$jscomp$15$$).$statement$}$usesCond$$&&($initVarDecl$jscomp$4$$.unshift("self.cond0 = {}\nself.cond = {}\n"),$initCodeExec$jscomp$4$$.unshift("self.cond0 = {}\n"));
$initBlock$jscomp$3_str$jscomp$12$$=0<$initVarDecl$jscomp$4$$.length?$initVarDecl$jscomp$4$$.join("\n"):"";$i$jscomp$35_runBlocks$jscomp$4$$&&($initBlock$jscomp$3_str$jscomp$12$$+="\n"+$j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$);$initBlock$jscomp$3_str$jscomp$12$$&&($initBlock$jscomp$3_str$jscomp$12$$="def __init__(self):\n"+$initBlock$jscomp$3_str$jscomp$12$$+"<\n");if(!$i$jscomp$35_runBlocks$jscomp$4$$){$j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$="";0<$initCodeExec$jscomp$4$$.length&&
($j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$+="\n"+$initCodeExec$jscomp$4$$.join("\n"));for($i$jscomp$35_runBlocks$jscomp$4$$=0;$i$jscomp$35_runBlocks$jscomp$4$$<$program$jscomp$29$$.$program$.length;$i$jscomp$35_runBlocks$jscomp$4$$++)0<=$initEventIndices$jscomp$1$$.indexOf($i$jscomp$35_runBlocks$jscomp$4$$)&&$c$jscomp$3$$[$i$jscomp$35_runBlocks$jscomp$4$$].$statement$&&($j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$+=(0<$j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$.length?
"\n":"")+($c$jscomp$3$$[$i$jscomp$35_runBlocks$jscomp$4$$].$sectionBegin$||"")+($c$jscomp$3$$[$i$jscomp$35_runBlocks$jscomp$4$$].$statement$||"")+($c$jscomp$3$$[$i$jscomp$35_runBlocks$jscomp$4$$].$sectionEnd$||""));$j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$&&($initBlock$jscomp$3_str$jscomp$12$$+=(0<$initBlock$jscomp$3_str$jscomp$12$$.length?"\n":"")+"def event_init(self):\n"+$j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$.slice(1)+"<\n")}if(0<$initCodeDecl$jscomp$4$$.length)throw"internal error, unsupported sub/onevent in js";
for($i$jscomp$35_runBlocks$jscomp$4$$=0;$i$jscomp$35_runBlocks$jscomp$4$$<$program$jscomp$29$$.$program$.length;$i$jscomp$35_runBlocks$jscomp$4$$++)0>$initEventIndices$jscomp$1$$.indexOf($i$jscomp$35_runBlocks$jscomp$4$$)&&$c$jscomp$3$$[$i$jscomp$35_runBlocks$jscomp$4$$].$statement$&&($initBlock$jscomp$3_str$jscomp$12$$+="\n",$initBlock$jscomp$3_str$jscomp$12$$+=($c$jscomp$3$$[$i$jscomp$35_runBlocks$jscomp$4$$].$sectionBegin$||"")+($c$jscomp$3$$[$i$jscomp$35_runBlocks$jscomp$4$$].$clauseInit$||"")+
($c$jscomp$3$$[$i$jscomp$35_runBlocks$jscomp$4$$].$statement$||"")+($c$jscomp$3$$[$i$jscomp$35_runBlocks$jscomp$4$$].$sectionEnd$||""));"\n"===$initBlock$jscomp$3_str$jscomp$12$$[0]&&($initBlock$jscomp$3_str$jscomp$12$$=$initBlock$jscomp$3_str$jscomp$12$$.slice(1));$initBlock$jscomp$3_str$jscomp$12$$="class Robot(RobotBase):\n"+($A3a$vpl$CodeGenerator$Mark$remove$$($initBlock$jscomp$3_str$jscomp$12$$)?$initBlock$jscomp$3_str$jscomp$12$$:"pass\n")+"<\n";$initBlock$jscomp$3_str$jscomp$12$$=$A3a$vpl$CodeGenerator$Mark$remove$$($initBlock$jscomp$3_str$jscomp$12$$);
$initBlock$jscomp$3_str$jscomp$12$$=$initBlock$jscomp$3_str$jscomp$12$$.replace(/\n[ \t]+/g,"\n").replace(/\n<\n\n<\n/g,"\n<\n<\n");var $indent$jscomp$3$$=0,$prog$$="";$initBlock$jscomp$3_str$jscomp$12$$.split("\n").map(function($line$jscomp$6$$){return $line$jscomp$6$$.trim()}).forEach(function($line$jscomp$7$$){var $line1$jscomp$3$$=$A3a$vpl$CodeGenerator$Mark$remove$$($line$jscomp$7$$);if(0<$line1$jscomp$3$$.length){var $postInc$jscomp$3$$=":"===$line1$jscomp$3$$.slice(-1);"<"===$line1$jscomp$3$$&&
($indent$jscomp$3$$=Math.max($indent$jscomp$3$$-1,0));"<"!==$line1$jscomp$3$$&&($line$jscomp$7$$="\t\t\t\t\t".slice(0,$indent$jscomp$3$$)+$line$jscomp$7$$,$postInc$jscomp$3$$&&$indent$jscomp$3$$++)}"<"!==$line1$jscomp$3$$&&($prog$$+=$line$jscomp$7$$+"\n")});$initBlock$jscomp$3_str$jscomp$12$$=$prog$$;for($i$jscomp$35_runBlocks$jscomp$4$$=0;$i$jscomp$35_runBlocks$jscomp$4$$<$program$jscomp$29$$.$program$.length;$i$jscomp$35_runBlocks$jscomp$4$$++)for($j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$=
$i$jscomp$35_runBlocks$jscomp$4$$+1;$j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$<$program$jscomp$29$$.$program$.length;$j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$++)$JSCompiler_StaticMethods_checkConflicts$$($program$jscomp$29$$.$program$[$i$jscomp$35_runBlocks$jscomp$4$$],$program$jscomp$29$$.$program$[$j$jscomp$4_runBlocksCode$jscomp$3_strInit$jscomp$2$$]);return $initBlock$jscomp$3_str$jscomp$12$$=$A3a$vpl$CodeGenerator$Mark$extract$$(this.$b$,$initBlock$jscomp$3_str$jscomp$12$$)};
$A3a$vpl$CodeGeneratorPython$$.prototype.$i$=function $$A3a$vpl$CodeGeneratorPython$$$$$i$$($block$jscomp$21$$){var $code$jscomp$14$$="# missing Python implementation for block "+$block$jscomp$21$$.$blockTemplate$.name+"\n";switch($block$jscomp$21$$.$blockTemplate$.type){case "e":case "s":return{$clauseInit$:$code$jscomp$14$$,$clause$:"True"};case "a":return{$statement$:$code$jscomp$14$$};default:return{}}};$A3a$vpl$Program$codeGenerator$$.python=new $A3a$vpl$CodeGeneratorPython$$;function $A3a$vpl$Commands$$($logger$jscomp$1$$){this.$b$=[];this.$g$=$logger$jscomp$1$$||null}$JSCompiler_prototypeAlias$$=$A3a$vpl$Commands$$.prototype;$JSCompiler_prototypeAlias$$.add=function $$JSCompiler_prototypeAlias$$$add$($name$jscomp$71$$,$opt$jscomp$2$$){this.$b$.push(new $A3a$vpl$Commands$Command$$($name$jscomp$71$$,$opt$jscomp$2$$))};
$JSCompiler_prototypeAlias$$.find=function $$JSCompiler_prototypeAlias$$$find$($name$jscomp$72$$){for(var $i$jscomp$37$$=0;$i$jscomp$37$$<this.$b$.length;$i$jscomp$37$$++)if(this.$b$[$i$jscomp$37$$].name===$name$jscomp$72$$)return this.$b$[$i$jscomp$37$$];return null};
function $JSCompiler_StaticMethods_hasAction$$($JSCompiler_StaticMethods_hasAction$self_cmd$jscomp$1$$,$name$jscomp$73$$){$JSCompiler_StaticMethods_hasAction$self_cmd$jscomp$1$$=$JSCompiler_StaticMethods_hasAction$self_cmd$jscomp$1$$.find($name$jscomp$73$$);return null!=$JSCompiler_StaticMethods_hasAction$self_cmd$jscomp$1$$&&null!=$JSCompiler_StaticMethods_hasAction$self_cmd$jscomp$1$$.$i$}
function $JSCompiler_StaticMethods_logExecCommand$$($JSCompiler_StaticMethods_logExecCommand$self$$,$data$jscomp$58_name$jscomp$74$$){if($JSCompiler_StaticMethods_logExecCommand$self$$.$g$){var $cmd$jscomp$2$$=$JSCompiler_StaticMethods_logExecCommand$self$$.find($data$jscomp$58_name$jscomp$74$$);$data$jscomp$58_name$jscomp$74$$={cmd:$data$jscomp$58_name$jscomp$74$$};$cmd$jscomp$2$$.$g$&&($data$jscomp$58_name$jscomp$74$$.selected=$cmd$jscomp$2$$.$isSelected$());$cmd$jscomp$2$$.$b$&&($data$jscomp$58_name$jscomp$74$$.state=
$cmd$jscomp$2$$.getState());$JSCompiler_StaticMethods_logExecCommand$self$$.$g$({type:"cmd",data:$data$jscomp$58_name$jscomp$74$$})}}$JSCompiler_prototypeAlias$$.$doDrop$=function $$JSCompiler_prototypeAlias$$$$doDrop$$($cmd$jscomp$6_name$jscomp$78$$,$droppedItem$$){this.$g$&&this.$g$({type:"drop",data:{cmd:$cmd$jscomp$6_name$jscomp$78$$}});($cmd$jscomp$6_name$jscomp$78$$=this.find($cmd$jscomp$6_name$jscomp$78$$))&&$cmd$jscomp$6_name$jscomp$78$$.$doDrop$($droppedItem$$)};
$JSCompiler_prototypeAlias$$.$canDrop$=function $$JSCompiler_prototypeAlias$$$$canDrop$$($cmd$jscomp$7_name$jscomp$79$$,$droppedItem$jscomp$1$$){$cmd$jscomp$7_name$jscomp$79$$=this.find($cmd$jscomp$7_name$jscomp$79$$);return null!=$cmd$jscomp$7_name$jscomp$79$$&&$cmd$jscomp$7_name$jscomp$79$$.$canDrop$($droppedItem$jscomp$1$$)};
$JSCompiler_prototypeAlias$$.$isAvailable$=function $$JSCompiler_prototypeAlias$$$$isAvailable$$($cmd$jscomp$8_name$jscomp$80$$){$cmd$jscomp$8_name$jscomp$80$$=this.find($cmd$jscomp$8_name$jscomp$80$$);return null!=$cmd$jscomp$8_name$jscomp$80$$&&$cmd$jscomp$8_name$jscomp$80$$.$isAvailable$()};
$JSCompiler_prototypeAlias$$.isEnabled=function $$JSCompiler_prototypeAlias$$$isEnabled$($cmd$jscomp$9_name$jscomp$81$$){$cmd$jscomp$9_name$jscomp$81$$=this.find($cmd$jscomp$9_name$jscomp$81$$);return null!=$cmd$jscomp$9_name$jscomp$81$$&&$cmd$jscomp$9_name$jscomp$81$$.isEnabled()};
$JSCompiler_prototypeAlias$$.$isSelected$=function $$JSCompiler_prototypeAlias$$$$isSelected$$($cmd$jscomp$10_name$jscomp$82$$){$cmd$jscomp$10_name$jscomp$82$$=this.find($cmd$jscomp$10_name$jscomp$82$$);return null!=$cmd$jscomp$10_name$jscomp$82$$&&$cmd$jscomp$10_name$jscomp$82$$.$isSelected$()};
$JSCompiler_prototypeAlias$$.getState=function $$JSCompiler_prototypeAlias$$$getState$($cmd$jscomp$11_name$jscomp$83$$){$cmd$jscomp$11_name$jscomp$83$$=this.find($cmd$jscomp$11_name$jscomp$83$$);return null!=$cmd$jscomp$11_name$jscomp$83$$?$cmd$jscomp$11_name$jscomp$83$$.getState():null};
function $A3a$vpl$Commands$Command$$($name$jscomp$84$$,$opt$jscomp$3$$){this.name=$name$jscomp$84$$;this.$j$=$opt$jscomp$3$$.isEnabled||null;this.$g$=$opt$jscomp$3$$.$isSelected$||null;this.$b$=$opt$jscomp$3$$.getState||null;this.$i$=$opt$jscomp$3$$.action||null;this.$m$=$opt$jscomp$3$$.$doDrop$||null;this.$l$=$opt$jscomp$3$$.$canDrop$||null;this.$obj$=$opt$jscomp$3$$.object||null;this.$keep$=$opt$jscomp$3$$.$keep$||!1;this.$o$=$opt$jscomp$3$$.$isAvailable$||null}
function $JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$$($JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$self$$,$modifier$jscomp$3$$){$JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$self$$.isEnabled()&&$JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$self$$.$i$&&$JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$self$$.$i$($JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$self$$.$obj$,
$modifier$jscomp$3$$)}
function $JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$executeForState$$($JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$executeForState$self$$,$state$jscomp$1$$){if(!$JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$executeForState$self$$.$b$)return!1;var $state0$$=$JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$executeForState$self$$.getState();if($state$jscomp$1$$===$state0$$)return!0;for(var $i$jscomp$38$$=0;100>$i$jscomp$38$$;$i$jscomp$38$$++){$JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$$($JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$executeForState$self$$,void 0);
var $newState$$=$JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$executeForState$self$$.getState();if($newState$$===$state$jscomp$1$$)return!0;if($newState$$===$state0$$)break}return!1}$JSCompiler_prototypeAlias$$=$A3a$vpl$Commands$Command$$.prototype;$JSCompiler_prototypeAlias$$.$doDrop$=function $$JSCompiler_prototypeAlias$$$$doDrop$$($droppedItem$jscomp$2$$){this.$canDrop$($droppedItem$jscomp$2$$)&&this.$m$&&this.$m$(this.$obj$,$droppedItem$jscomp$2$$)};
$JSCompiler_prototypeAlias$$.$canDrop$=function $$JSCompiler_prototypeAlias$$$$canDrop$$($droppedItem$jscomp$3$$){return null!=this.$l$&&this.$l$(this.$obj$,$droppedItem$jscomp$3$$)};$JSCompiler_prototypeAlias$$.isEnabled=function $$JSCompiler_prototypeAlias$$$isEnabled$(){return null==this.$j$||this.$j$(this.$obj$)};$JSCompiler_prototypeAlias$$.$isSelected$=function $$JSCompiler_prototypeAlias$$$$isSelected$$(){return null!=this.$g$&&this.$g$(this.$obj$)};
$JSCompiler_prototypeAlias$$.getState=function $$JSCompiler_prototypeAlias$$$getState$(){return null!=this.$b$?this.$b$(this.$obj$):null};$JSCompiler_prototypeAlias$$.$isAvailable$=function $$JSCompiler_prototypeAlias$$$$isAvailable$$(){return null==this.$o$||this.$o$(this.$obj$)};function $A3a$vpl$Application$$(){var $canvasEl$$=document.getElementById("programCanvas");$A3a$vpl$Application$initialized$$||($A3a$vpl$Program$resetBlockLib$$(),$A3a$vpl$Application$initialized$$=!0);this.$j$=$canvasEl$$;this.$css$=new $CSSParser$VPL$$;this.$uiConfig$=new $A3a$vpl$UIConfig$$;var $self$jscomp$2$$=this;this.$b$=new $A3a$vpl$Commands$$(function($data$jscomp$59$$){$self$jscomp$2$$.log($data$jscomp$59$$)});this.$views$=["vpl"];this.$o$={vpl:1,src:1,sim:1};this.$suspendBox$=this.$helpBox$=
this.$loadBox$=this.$aboutBox$=this.$jsonForNew$=null;this.$suspended$=!1;this.username=null;this.$program$=new $A3a$vpl$Program$$(this.$uiConfig$);$JSCompiler_StaticMethods_setLogger$$(this.$program$,function($data$jscomp$60$$){$self$jscomp$2$$.log($data$jscomp$60$$)});this.$vplMessage$="";this.$vplMessageIsWarning$=!1;this.$vplCanvas$=new $A3a$vpl$Canvas$$($canvasEl$$,{$css$:this.$css$});this.$vplCanvas$.state={};this.$i$="";this.$sim2d$=this.$g$=null;this.$robots$=[];this.$currentRobotIndex$=-1;
this.$useLocalStorage$=this.$multipleViews$=!1;this.$m$=[];this.$l$=null}var $A3a$vpl$Application$initialized$$=!1;function $JSCompiler_StaticMethods_setAboutBoxContent$$($JSCompiler_StaticMethods_setAboutBoxContent$self$$,$html$$){$JSCompiler_StaticMethods_setAboutBoxContent$self$$.$aboutBox$=$html$$?new $A3a$vpl$HTMLPanel$$($html$$):null}
function $JSCompiler_StaticMethods_setHelpContent$$($JSCompiler_StaticMethods_setHelpContent$self$$,$html$jscomp$1$$){$JSCompiler_StaticMethods_setHelpContent$self$$.$helpBox$=$html$jscomp$1$$?new $A3a$vpl$HTMLPanel$$($html$jscomp$1$$):null}
function $JSCompiler_StaticMethods_setView$$($JSCompiler_StaticMethods_setView$self$$,$views$$,$options$jscomp$14$$){function $onDraw$$(){0<=$views$$.indexOf("vpl")&&$JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_setView$self$$.$vplCanvas$);0<=$views$$.indexOf("src")&&$JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_setView$self$$.$editor$.$tbCanvas$);0<=$views$$.indexOf("sim")&&$JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_setView$self$$.$g$)}$options$jscomp$14$$&&
($options$jscomp$14$$.$noVPL$||$options$jscomp$14$$.$unlocked$)&&($JSCompiler_StaticMethods_setView$self$$.$program$.$noVPL$=!0,$JSCompiler_StaticMethods_setView$self$$.$editor$.$noVPL$=!0,$JSCompiler_StaticMethods_lockWithVPL$$($JSCompiler_StaticMethods_setView$self$$.$editor$,!1));if(1===$views$$.length&&$options$jscomp$14$$&&$options$jscomp$14$$.$fromView$&&1<$JSCompiler_StaticMethods_setView$self$$.$views$.length){if(0<=$JSCompiler_StaticMethods_setView$self$$.$views$.indexOf($views$$[0]))return;
var $i$jscomp$39_views1$$=$JSCompiler_StaticMethods_setView$self$$.$views$.slice();$i$jscomp$39_views1$$[$JSCompiler_StaticMethods_setView$self$$.$views$[0]===$options$jscomp$14$$.$fromView$?1:0]=$views$$[0];$views$$=$i$jscomp$39_views1$$}else $options$jscomp$14$$&&$options$jscomp$14$$.$openView$?0>$JSCompiler_StaticMethods_setView$self$$.$views$.indexOf($views$$[0])&&($views$$=$JSCompiler_StaticMethods_setView$self$$.$views$.concat($views$$)):1===$views$$.length&&$options$jscomp$14$$&&$options$jscomp$14$$.$closeView$&&
1<$JSCompiler_StaticMethods_setView$self$$.$views$.length&&0<=$JSCompiler_StaticMethods_setView$self$$.$views$.indexOf($views$$[0])?($JSCompiler_StaticMethods_setView$self$$.$views$.splice($JSCompiler_StaticMethods_setView$self$$.$views$.indexOf($views$$[0]),1),$views$$=$JSCompiler_StaticMethods_setView$self$$.$views$):1===$views$$.length&&$options$jscomp$14$$&&$options$jscomp$14$$.toggle&&(0<=$JSCompiler_StaticMethods_setView$self$$.$views$.indexOf($views$$[0])?($JSCompiler_StaticMethods_setView$self$$.$views$.splice($JSCompiler_StaticMethods_setView$self$$.$views$.indexOf($views$$[0]),
1),$views$$=$JSCompiler_StaticMethods_setView$self$$.$views$):$views$$=$JSCompiler_StaticMethods_setView$self$$.$views$.concat($views$$));$JSCompiler_StaticMethods_setView$self$$.$views$=$views$$;null!=$JSCompiler_StaticMethods_setView$self$$.$sim2d$&&$JSCompiler_StaticMethods_setView$self$$.$g$.$hide$();$JSCompiler_StaticMethods_setView$self$$.$vplCanvas$.$hide$();null!=$JSCompiler_StaticMethods_setView$self$$.$editor$&&(document.getElementById("src-editor").style.display=0<=$views$$.indexOf("src")?
"block":"none",$JSCompiler_StaticMethods_setView$self$$.$editor$.$tbCanvas$.$hide$());0<=$views$$.indexOf("vpl")&&$JSCompiler_StaticMethods_setView$self$$.$vplCanvas$.show();0<=$views$$.indexOf("src")&&$JSCompiler_StaticMethods_setView$self$$.$editor$.$tbCanvas$.show();null!=$JSCompiler_StaticMethods_setView$self$$.$sim2d$&&0<=$views$$.indexOf("sim")&&$JSCompiler_StaticMethods_setView$self$$.$g$.show();$JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$$($JSCompiler_StaticMethods_setView$self$$,
window.innerWidth<window.innerHeight);for($i$jscomp$39_views1$$=0;$i$jscomp$39_views1$$<$views$$.length;$i$jscomp$39_views1$$++)switch($views$$[$i$jscomp$39_views1$$]){case "vpl":$JSCompiler_StaticMethods_setView$self$$.$vplCanvas$.$onUpdate$=function $$JSCompiler_StaticMethods_setView$self$$$$vplCanvas$$$onUpdate$$(){if(!$JSCompiler_StaticMethods_setView$self$$.$program$.$noVPL$){$JSCompiler_StaticMethods_setView$self$$.$program$.code={};var $JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$=
$JSCompiler_StaticMethods_setView$self$$.$program$;if(0!==$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$program$.length&&$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$program$[$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$program$.length-
1].$isEmpty$())for(;1<$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$program$.length&&$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$program$[$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$program$.length-
2].$isEmpty$();)$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$program$.splice(-2,1);else $JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$program$.push(new $A3a$vpl$Rule$$);if($JSCompiler_StaticMethods_setView$self$$.$editor$){$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$=
$JSCompiler_StaticMethods_setView$self$$.$editor$;var $code$jscomp$inline_58$$=$JSCompiler_StaticMethods_setView$self$$.$program$.$getCode$($JSCompiler_StaticMethods_setView$self$$.$program$.$currentLanguage$);if($JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$srcForAsm$){var $dis$jscomp$inline_59$$=$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$disass$($JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.language,
$code$jscomp$inline_58$$);null!==$dis$jscomp$inline_59$$&&($JSCompiler_StaticMethods_setCode$$($JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$,$dis$jscomp$inline_59$$,!0),$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$textEditor$.$textarea$.readOnly=!0,$JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$.$srcForAsm$=
$code$jscomp$inline_58$$)}else $JSCompiler_StaticMethods_setCode$$($JSCompiler_StaticMethods_changeCode$self$jscomp$inline_57_JSCompiler_StaticMethods_enforceSingleTrailingEmptyEventHandler$self$jscomp$inline_55$$,$code$jscomp$inline_58$$)}$JSCompiler_StaticMethods_setView$self$$.log()}$JSCompiler_StaticMethods_renderProgramToCanvas$$($JSCompiler_StaticMethods_setView$self$$)};break;case "src":$JSCompiler_StaticMethods_lockWithVPL$$($JSCompiler_StaticMethods_setView$self$$.$editor$,!($options$jscomp$14$$&&
($options$jscomp$14$$.$noVPL$||$options$jscomp$14$$.$unlocked$)));$JSCompiler_StaticMethods_setView$self$$.$editor$.focus();$JSCompiler_StaticMethods_setView$self$$.$editor$.resize(window.innerWidth,window.innerHeight);break;case "sim":$JSCompiler_StaticMethods_setView$self$$.$g$.$onUpdate$=function $$JSCompiler_StaticMethods_setView$self$$$$g$$$onUpdate$$(){$JSCompiler_StaticMethods_renderSim2dViewer$$($JSCompiler_StaticMethods_setView$self$$)}}$options$jscomp$14$$&&($options$jscomp$14$$.$closeView$||
$options$jscomp$14$$.$openView$)&&$JSCompiler_StaticMethods_vplResize$$($JSCompiler_StaticMethods_setView$self$$);$JSCompiler_StaticMethods_setView$self$$.$vplCanvas$&&($JSCompiler_StaticMethods_setView$self$$.$vplCanvas$.$onDraw$=$onDraw$$);$JSCompiler_StaticMethods_setView$self$$.$editor$&&$JSCompiler_StaticMethods_setView$self$$.$editor$.$tbCanvas$&&($JSCompiler_StaticMethods_setView$self$$.$editor$.$tbCanvas$.$onDraw$=$onDraw$$);$JSCompiler_StaticMethods_setView$self$$.$g$&&($JSCompiler_StaticMethods_setView$self$$.$g$.$onDraw$=
$onDraw$$);0<=$views$$.indexOf("vpl")&&($JSCompiler_StaticMethods_setView$self$$.$vplCanvas$.$onUpdate$(),$JSCompiler_StaticMethods_setView$self$$.$vplCanvas$.$onDraw$?$JSCompiler_StaticMethods_setView$self$$.$vplCanvas$.$onDraw$():$JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_setView$self$$.$vplCanvas$));0<=$views$$.indexOf("src")&&($JSCompiler_StaticMethods_renderSourceEditorToolbar$$($JSCompiler_StaticMethods_setView$self$$),$JSCompiler_StaticMethods_setView$self$$.$editor$.$tbCanvas$.$onDraw$?
$JSCompiler_StaticMethods_setView$self$$.$editor$.$tbCanvas$.$onDraw$():$JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_setView$self$$.$editor$.$tbCanvas$));0<=$views$$.indexOf("sim")&&($JSCompiler_StaticMethods_setView$self$$.start(!1),$JSCompiler_StaticMethods_setView$self$$.$g$.$onUpdate$(),$JSCompiler_StaticMethods_setView$self$$.$g$.$onDraw$?$JSCompiler_StaticMethods_setView$self$$.$g$.$onDraw$():$JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_setView$self$$.$g$))}
function $JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$$($JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$self$$,$verticalLayout$$){for(var $relSizes$$=$JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$self$$.$views$.map(function($view$jscomp$6$$){return this.$o$[$view$jscomp$6$$]},$JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$self$$),$sumRelSizes$$=$relSizes$$.reduce(function($acc$$,$rs$$){return $acc$$+$rs$$},0),$x$jscomp$82$$=0,$i$jscomp$40$$=
0;$i$jscomp$40$$<$JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$self$$.$views$.length;$i$jscomp$40$$++){var $relArea$$=$verticalLayout$$?{$xmin$:0,$xmax$:1,$ymin$:$x$jscomp$82$$,$ymax$:$x$jscomp$82$$+$relSizes$$[$i$jscomp$40$$]/$sumRelSizes$$}:{$xmin$:$x$jscomp$82$$,$xmax$:$x$jscomp$82$$+$relSizes$$[$i$jscomp$40$$]/$sumRelSizes$$,$ymin$:0,$ymax$:1};$x$jscomp$82$$+=$relSizes$$[$i$jscomp$40$$]/$sumRelSizes$$;switch($JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$self$$.$views$[$i$jscomp$40$$]){case "vpl":$JSCompiler_StaticMethods_setRelativeArea$$($JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$self$$.$vplCanvas$,
$relArea$$);break;case "src":$JSCompiler_StaticMethods_setRelativeArea$$($JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$self$$.$editor$.$tbCanvas$,$relArea$$);break;case "sim":$JSCompiler_StaticMethods_setRelativeArea$$($JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$self$$.$g$,$relArea$$)}}}
function $JSCompiler_StaticMethods_vplResize$$($JSCompiler_StaticMethods_vplResize$self$$){var $bnd_bounds_height$jscomp$24$$=$JSCompiler_StaticMethods_vplResize$self$$.$vplCanvas$.$b$.parentElement.getBoundingClientRect(),$width$jscomp$25$$=$bnd_bounds_height$jscomp$24$$.width;$bnd_bounds_height$jscomp$24$$=window.innerHeight-$bnd_bounds_height$jscomp$24$$.top;$JSCompiler_StaticMethods_A3a_vpl_Application_prototype$layout$$($JSCompiler_StaticMethods_vplResize$self$$,$width$jscomp$25$$<$bnd_bounds_height$jscomp$24$$);
window.vplDisableResize&&($bnd_bounds_height$jscomp$24$$=$JSCompiler_StaticMethods_vplResize$self$$.$vplCanvas$.$b$.getBoundingClientRect(),$width$jscomp$25$$=$bnd_bounds_height$jscomp$24$$.width,$bnd_bounds_height$jscomp$24$$=$bnd_bounds_height$jscomp$24$$.height);$JSCompiler_StaticMethods_vplResize$self$$.$vplCanvas$.resize($width$jscomp$25$$,$bnd_bounds_height$jscomp$24$$);$JSCompiler_StaticMethods_vplResize$self$$.$editor$&&$JSCompiler_StaticMethods_vplResize$self$$.$editor$.resize($width$jscomp$25$$,
$bnd_bounds_height$jscomp$24$$);$JSCompiler_StaticMethods_vplResize$self$$.$sim2d$&&$JSCompiler_StaticMethods_vplResize$self$$.$g$.resize($width$jscomp$25$$,$bnd_bounds_height$jscomp$24$$);$JSCompiler_StaticMethods_vplResize$self$$.$views$.forEach(function($view$jscomp$7$$){switch($view$jscomp$7$$){case "vpl":$JSCompiler_StaticMethods_renderProgramToCanvas$$(this);break;case "src":$JSCompiler_StaticMethods_redraw$$(this.$editor$.$tbCanvas$);break;case "sim":this.$sim2d$&&$JSCompiler_StaticMethods_renderSim2dViewer$$(this)}},
$JSCompiler_StaticMethods_vplResize$self$$);$JSCompiler_StaticMethods_center$$($JSCompiler_StaticMethods_vplResize$self$$.$aboutBox$)}
function $JSCompiler_StaticMethods_stopRobot$$($JSCompiler_StaticMethods_stopRobot$self$$){if(0<=$JSCompiler_StaticMethods_stopRobot$self$$.$currentRobotIndex$){var $stopBlock_stopGenCode$$=$A3a$vpl$BlockTemplate$findByName$$("!stop"),$language$jscomp$6$$=$JSCompiler_StaticMethods_stopRobot$self$$.$program$.$currentLanguage$;($stopBlock_stopGenCode$$=$stopBlock_stopGenCode$$&&$stopBlock_stopGenCode$$.$genCode$[$language$jscomp$6$$])&&$JSCompiler_StaticMethods_stopRobot$self$$.$robots$[$JSCompiler_StaticMethods_stopRobot$self$$.$currentRobotIndex$].$runGlue$.$run$($stopBlock_stopGenCode$$(null).$statement$,
$language$jscomp$6$$)}}function $JSCompiler_StaticMethods_canStopRobot$$($JSCompiler_StaticMethods_canStopRobot$self$$){return!$JSCompiler_StaticMethods_canStopRobot$self$$.$program$.$noVPL$&&$JSCompiler_StaticMethods_canStopRobot$self$$.$robots$[$JSCompiler_StaticMethods_canStopRobot$self$$.$currentRobotIndex$].$runGlue$.isEnabled($JSCompiler_StaticMethods_canStopRobot$self$$.$program$.$currentLanguage$)}
function $JSCompiler_StaticMethods_addLogger$$($JSCompiler_StaticMethods_addLogger$self$$,$logger$jscomp$2$$){$JSCompiler_StaticMethods_addLogger$self$$.$m$.push($logger$jscomp$2$$)}
$A3a$vpl$Application$$.prototype.log=function $$A3a$vpl$Application$$$$log$($data$jscomp$61$$){if(null==$data$jscomp$61$$){$JSCompiler_StaticMethods_updateErrorInfo$$(this);$data$jscomp$61$$={type:"vpl-changed",data:{nrules:this.$program$.$program$.reduce(function($acc$jscomp$1$$,$cur$$){return 0<$cur$$.$events$.length+$cur$$.actions.length?$acc$jscomp$1$$+1:$acc$jscomp$1$$},0),nblocks:this.$program$.$program$.reduce(function($acc$jscomp$2$$,$cur$jscomp$1$$){return $acc$jscomp$2$$+$cur$jscomp$1$$.$events$.length+
$cur$jscomp$1$$.actions.length},0),error:this.$vplMessage$&&!this.$vplMessageIsWarning$?this.$vplMessage$:null,warning:this.$vplMessage$&&this.$vplMessageIsWarning$?this.$vplMessage$:null}};var $dataStr$$=JSON.stringify($data$jscomp$61$$);if($dataStr$$===this.$l$)return;this.$l$=$dataStr$$}this.$m$.forEach(function($logger$jscomp$3$$){$logger$jscomp$3$$($data$jscomp$61$$)})};function $A3a$vpl$validateUI$$($ui$$){function $validateBlockDefinition$$($b$jscomp$8_i$jscomp$41$$){function $belongsToDisplayedElement$$($id$jscomp$7$$){for(var $i$jscomp$42$$=0;$i$jscomp$42$$<$drawArr$$.length;$i$jscomp$42$$++)if($drawArr$$[$i$jscomp$42$$].uri&&$ui$$.$svg$[$f$jscomp$1$$].$hasAncestor$($id$jscomp$7$$,$A3a$vpl$Canvas$decodeURI$$($drawArr$$[$i$jscomp$42$$].uri).id))return!0;return!1}var $name$jscomp$85$$=$b$jscomp$8_i$jscomp$41$$.name;if("!"===$name$jscomp$85$$[0])return 0;var $errorCount$jscomp$1$$=
0;/^\w/.test($name$jscomp$85$$)||($msg$$+='Bad block name "'+$name$jscomp$85$$+'"\n',$errorCount$jscomp$1$$++);var $defParam$$=$b$jscomp$8_i$jscomp$41$$.defaultParameters,$typicalParam$$=$b$jscomp$8_i$jscomp$41$$.typicalParameters,$buttons$$=$b$jscomp$8_i$jscomp$41$$.buttons,$radiobuttons$$=$b$jscomp$8_i$jscomp$41$$.radiobuttons,$sliders$$=$b$jscomp$8_i$jscomp$41$$.sliders,$rotating$$=$b$jscomp$8_i$jscomp$41$$.rotating,$diffwheelmotion_nParams$$=$b$jscomp$8_i$jscomp$41$$.diffwheelmotion,$score$$=
$b$jscomp$8_i$jscomp$41$$.score,$otherParameters$$=$b$jscomp$8_i$jscomp$41$$.otherParameters?parseInt($b$jscomp$8_i$jscomp$41$$.otherParameters,10):0,$drawArr$$=$b$jscomp$8_i$jscomp$41$$.draw;if($drawArr$$){var $f$jscomp$1$$=null;for($b$jscomp$8_i$jscomp$41$$=0;$b$jscomp$8_i$jscomp$41$$<$drawArr$$.length;$b$jscomp$8_i$jscomp$41$$++)if($drawArr$$[$b$jscomp$8_i$jscomp$41$$].uri)if(null==$f$jscomp$1$$){$f$jscomp$1$$=$A3a$vpl$Canvas$decodeURI$$($drawArr$$[$b$jscomp$8_i$jscomp$41$$].uri).$f$;var $svg$$=
$ui$$.$svg$[$f$jscomp$1$$]}else{var $uriDec$$=$A3a$vpl$Canvas$decodeURI$$($drawArr$$[$b$jscomp$8_i$jscomp$41$$].uri);$uriDec$$.$f$!==$f$jscomp$1$$?($msg$$+='In block "'+$name$jscomp$85$$+'", multiple svg\n',$errorCount$jscomp$1$$++):$svg$$.$hasElement$($uriDec$$.id)||($msg$$+='In block "'+$name$jscomp$85$$+'", uri "'+$drawArr$$[$b$jscomp$8_i$jscomp$41$$].uri+'" not found\n',$errorCount$jscomp$1$$++)}}$buttons$$&&$buttons$$.forEach(function($button$$){$svg$$.$hasElement$($button$$.id)?$belongsToDisplayedElement$$($button$$.id)||
($msg$$+='In block "'+$name$jscomp$85$$+'", button id "'+$button$$.id+'" not displayed\n',$errorCount$jscomp$1$$++):($msg$$+='In block "'+$name$jscomp$85$$+'", button id "'+$button$$.id+'" not found\n',$errorCount$jscomp$1$$++);void 0==$button$$.val?($msg$$+='In block "'+$name$jscomp$85$$+'", missing property "val"\n',$errorCount$jscomp$1$$++):void 0==$button$$.st?($msg$$+='In block "'+$name$jscomp$85$$+'", missing property "st"\n',$errorCount$jscomp$1$$++):$button$$.val.length!==$button$$.st.length&&
($msg$$+='In block "'+$name$jscomp$85$$+'", properties "val" and "st" have different lengths\n',$errorCount$jscomp$1$$++)});$radiobuttons$$&&$radiobuttons$$.forEach(function($radiobutton$$){$svg$$.$hasElement$($radiobutton$$.id)?$belongsToDisplayedElement$$($radiobutton$$.id)?void 0==$radiobutton$$.val?($msg$$+='In block "'+$name$jscomp$85$$+'", missing property "val"\n',$errorCount$jscomp$1$$++):$radiobutton$$.val instanceof Array?($msg$$+='In block "'+$name$jscomp$85$$+'", illegal array in property "val"\n',
$errorCount$jscomp$1$$++):void 0==$radiobutton$$.st?($msg$$+='In block "'+$name$jscomp$85$$+'", missing property "st"\n',$errorCount$jscomp$1$$++):2!==$radiobutton$$.st.length&&($msg$$+='In block "'+$name$jscomp$85$$+'", property "st" must have length 2\n',$errorCount$jscomp$1$$++):($msg$$+='In block "'+$name$jscomp$85$$+'", radiobutton id "'+$radiobutton$$.id+'" not displayed\n',$errorCount$jscomp$1$$++):($msg$$+='In block "'+$name$jscomp$85$$+'", radiobutton id "'+$radiobutton$$.id+'" not found\n',
$errorCount$jscomp$1$$++)});$sliders$$&&$sliders$$.forEach(function($slider_snap$$){$svg$$.$hasElement$($slider_snap$$.id)?$belongsToDisplayedElement$$($slider_snap$$.id)||($msg$$+='In block "'+$name$jscomp$85$$+'", slider id "'+$slider_snap$$.id+'" not displayed\n',$errorCount$jscomp$1$$++):($msg$$+='In block "'+$name$jscomp$85$$+'", slider id "'+$slider_snap$$.id+'" not found\n',$errorCount$jscomp$1$$++);$svg$$.$hasElement$($slider_snap$$.thumbId)?$belongsToDisplayedElement$$($slider_snap$$.thumbId)||
($msg$$+='In block "'+$name$jscomp$85$$+'", slider thumbId "'+$slider_snap$$.thumbId+'" not displayed\n',$errorCount$jscomp$1$$++):($msg$$+='In block "'+$name$jscomp$85$$+'", slider thumbId "'+$slider_snap$$.thumbId+'" not found\n',$errorCount$jscomp$1$$++);void 0==$slider_snap$$.min&&($msg$$+='In block "'+$name$jscomp$85$$+'", slider min undefined\n',$errorCount$jscomp$1$$++);void 0==$slider_snap$$.max&&($msg$$+='In block "'+$name$jscomp$85$$+'", slider max undefined\n',$errorCount$jscomp$1$$++);
$slider_snap$$.lowerPartId&&!$svg$$.$hasElement$($slider_snap$$.lowerPartId)&&($msg$$+='In block "'+$name$jscomp$85$$+'", slider lowerPartId "'+$slider_snap$$.lowerPartId+'" not found\n',$errorCount$jscomp$1$$++);if($slider_snap$$.snap&&($slider_snap$$=$slider_snap$$.snap,$slider_snap$$ instanceof Array))for(var $i$jscomp$43$$=0;$i$jscomp$43$$<$slider_snap$$.length;$i$jscomp$43$$++)"string"===typeof $slider_snap$$[$i$jscomp$43$$]?/^`.+`$/.test($slider_snap$$[$i$jscomp$43$$])||($msg$$+='In block "'+
$name$jscomp$85$$+'", invalid slider snap expression\n',$errorCount$jscomp$1$$++):"number"!==typeof $slider_snap$$[$i$jscomp$43$$]&&($msg$$+='In block "'+$name$jscomp$85$$+'", slider snap must be a number or a string\n',$errorCount$jscomp$1$$++)});$rotating$$&&$rotating$$.forEach(function($rot_thumbId$$){var $id$jscomp$8$$=$rot_thumbId$$.id,$centerId$$=$rot_thumbId$$.centerId;$rot_thumbId$$=$rot_thumbId$$.thumbId;$svg$$.$hasElement$($id$jscomp$8$$)?$belongsToDisplayedElement$$($id$jscomp$8$$)||($msg$$+=
'In block "'+$name$jscomp$85$$+'", rotating id "'+$id$jscomp$8$$+'" not displayed\n',$errorCount$jscomp$1$$++):($msg$$+='In block "'+$name$jscomp$85$$+'", rotating id "'+$id$jscomp$8$$+'" not found\n',$errorCount$jscomp$1$$++);$svg$$.$hasElement$($centerId$$)||($msg$$+='In block "'+$name$jscomp$85$$+'", rotating centerId "'+$centerId$$+'" not found\n',$errorCount$jscomp$1$$++);$svg$$.$hasElement$($rot_thumbId$$)?$belongsToDisplayedElement$$($rot_thumbId$$)||($msg$$+='In block "'+$name$jscomp$85$$+
'", rotating thumbId "'+$rot_thumbId$$+'" not displayed\n',$errorCount$jscomp$1$$++):($msg$$+='In block "'+$name$jscomp$85$$+'", rotating thumbId "'+$rot_thumbId$$+'" not found\n',$errorCount$jscomp$1$$++);$svg$$.$hasAncestor$($rot_thumbId$$,$id$jscomp$8$$)||($msg$$+='In block "'+$name$jscomp$85$$+'", rotating thumbId "'+$rot_thumbId$$+'" not a descendent of id "'+$id$jscomp$8$$+'"\n',$errorCount$jscomp$1$$++)});$diffwheelmotion_nParams$$&&($svg$$.$hasElement$($diffwheelmotion_nParams$$.id)?$belongsToDisplayedElement$$($diffwheelmotion_nParams$$.id)||
($msg$$+='In block "'+$name$jscomp$85$$+'", diffwheelmotion id "'+$diffwheelmotion_nParams$$.id+'" not displayed\n',$errorCount$jscomp$1$$++):($msg$$+='In block "'+$name$jscomp$85$$+'", diffwheelmotion id "'+$diffwheelmotion_nParams$$.id+'" not found\n',$errorCount$jscomp$1$$++));$score$$&&($svg$$.$hasElement$($score$$.id)?$belongsToDisplayedElement$$($score$$.id)||($msg$$+='In block "'+$name$jscomp$85$$+'", score id "'+$score$$.id+'" not displayed\n',$errorCount$jscomp$1$$++):($msg$$+='In block "'+
$name$jscomp$85$$+'", score id "'+$score$$.id+'" not found\n',$errorCount$jscomp$1$$++),"number"!==typeof $score$$.numHeights||$score$$.numHeights!==Math.round($score$$.numHeights)||0>=$score$$.numHeights)&&($msg$$+='In block "'+$name$jscomp$85$$+'", score numHeights must be a strictly positive integer\n',$errorCount$jscomp$1$$++);($buttons$$||$radiobuttons$$||$sliders$$||$rotating$$||$score$$||0<$otherParameters$$)&&!$defParam$$&&($msg$$+='In block "'+$name$jscomp$85$$+'", missing defaultParameters\n',
$errorCount$jscomp$1$$++);$defParam$$&&($diffwheelmotion_nParams$$=0,$buttons$$&&($diffwheelmotion_nParams$$+=$buttons$$.length),$radiobuttons$$&&($diffwheelmotion_nParams$$+=1),$sliders$$&&($diffwheelmotion_nParams$$+=$sliders$$.length),$rotating$$&&($diffwheelmotion_nParams$$+=$rotating$$.length),$score$$&&($diffwheelmotion_nParams$$+=2*Math.floor(($defParam$$.length-$diffwheelmotion_nParams$$)/2)),$diffwheelmotion_nParams$$+=$otherParameters$$,$diffwheelmotion_nParams$$!==$defParam$$.length?($msg$$+=
'In block "'+$name$jscomp$85$$+'", defaultParameters.length='+$defParam$$.length+", needs "+$diffwheelmotion_nParams$$+" parameters\n",$errorCount$jscomp$1$$++):$typicalParam$$&&$typicalParam$$.length!=$diffwheelmotion_nParams$$&&($msg$$+='In block "'+$name$jscomp$85$$+'", typicalParameters.length='+$typicalParam$$.length+", needs "+$diffwheelmotion_nParams$$+" parameters\n",$errorCount$jscomp$1$$++));return $errorCount$jscomp$1$$}var $msg$$="",$errorCount$$=0;$ui$$.blocks&&$ui$$.blocks.forEach(function($b$jscomp$9$$){$errorCount$$+=
$validateBlockDefinition$$($b$jscomp$9$$)});0<$errorCount$$&&($msg$$+=$errorCount$$+" error"+(1<$errorCount$$?"s":"")+"\n");return $msg$$||null};function $JSCompiler_StaticMethods_addVPLCommands$$($JSCompiler_StaticMethods_addVPLCommands$self$$){$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:close",{action:function($app$jscomp$1$$){$JSCompiler_StaticMethods_setView$$($app$jscomp$1$$,["vpl"],{$closeView$:!0})},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$2$$){return 1<$app$jscomp$2$$.$views$.length&&0<=$app$jscomp$2$$.$views$.indexOf("vpl")}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:about",
{action:function($app$jscomp$3$$){$app$jscomp$3$$.$aboutBox$.show()},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$4$$){return null!=$app$jscomp$4$$.$aboutBox$}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:help",{action:function($app$jscomp$5$$){$app$jscomp$5$$.$helpBox$.show()},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$6$$){return null!=$app$jscomp$6$$.$helpBox$}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:readonly",
{isEnabled:function(){return!1},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$8$$){return $app$jscomp$8$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:suspend",{action:function($app$jscomp$9$$){$app$jscomp$9$$.$suspended$=!$app$jscomp$9$$.$suspended$;$app$jscomp$9$$.$suspended$?$app$jscomp$9$$.$suspendBox$.show():$app$jscomp$9$$.$suspendBox$.$hide$()},$isSelected$:function($app$jscomp$10$$){return $app$jscomp$10$$.$suspended$},
object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$11$$){return!$app$jscomp$11$$.$program$.$teacherRole$&&null!=$app$jscomp$11$$.$suspendBox$}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:new",{action:function($app$jscomp$12$$){$JSCompiler_StaticMethods_new$$($app$jscomp$12$$.$program$);$app$jscomp$12$$.$jsonForNew$&&$JSCompiler_StaticMethods_loadProgramJSON$$($app$jscomp$12$$,$app$jscomp$12$$.$jsonForNew$)},isEnabled:function($app$jscomp$13$$){return!$app$jscomp$13$$.$program$.$noVPL$&&
!$app$jscomp$13$$.$program$.readOnly&&!$app$jscomp$13$$.$program$.$isEmpty$()},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$14$$){return!$app$jscomp$14$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:save",{action:function($app$jscomp$15_html$jscomp$3$$,$json$jscomp$8_modifier$jscomp$11$$){$json$jscomp$8_modifier$jscomp$11$$?($app$jscomp$15_html$jscomp$3$$=$JSCompiler_StaticMethods_toHTMLDocument$$($app$jscomp$15_html$jscomp$3$$,
$app$jscomp$15_html$jscomp$3$$.$css$),$A3a$vpl$Program$downloadText$$($app$jscomp$15_html$jscomp$3$$,"vpl-program.html","text/html")):($json$jscomp$8_modifier$jscomp$11$$=$JSCompiler_StaticMethods_exportToJSON$$($app$jscomp$15_html$jscomp$3$$.$program$,{$lib$:!1,$prog$:!0}),$A3a$vpl$Program$downloadText$$($json$jscomp$8_modifier$jscomp$11$$,$app$jscomp$15_html$jscomp$3$$.$program$.filename||"vpl.json","application/json"))},isEnabled:function($app$jscomp$16$$){return!$app$jscomp$16$$.$program$.$noVPL$&&
!$app$jscomp$16$$.$program$.$isEmpty$()},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$17$$){return!$app$jscomp$17$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:load",{action:function($app$jscomp$18$$){$app$jscomp$18$$.$loadBox$.show()},isEnabled:function($app$jscomp$19$$){return!$app$jscomp$19$$.$program$.$noVPL$&&!$app$jscomp$19$$.$program$.readOnly},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$20$$){return!$app$jscomp$20$$.$program$.readOnly}});
$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:upload",{action:function($app$jscomp$21$$){var $json$jscomp$9$$=$JSCompiler_StaticMethods_exportToJSON$$($app$jscomp$21$$.$program$,{$lib$:!1,$prog$:!0});window.vplUpload($app$jscomp$21$$.$program$.filename,$json$jscomp$9$$)},isEnabled:function($app$jscomp$22$$){return!$app$jscomp$22$$.$program$.$noVPL$&&!$app$jscomp$22$$.$program$.readOnly&&!$app$jscomp$22$$.$program$.$isEmpty$()},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,
$isAvailable$:function($app$jscomp$23$$){return null!=window.vplUpload&&!$app$jscomp$23$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:exportToHTML",{action:function($app$jscomp$24_html$jscomp$4$$){$app$jscomp$24_html$jscomp$4$$=$JSCompiler_StaticMethods_toHTMLDocument$$($app$jscomp$24_html$jscomp$4$$,$app$jscomp$24_html$jscomp$4$$.$css$);$A3a$vpl$Program$downloadText$$($app$jscomp$24_html$jscomp$4$$,"vpl-program.html","text/html")},isEnabled:function($app$jscomp$25$$){return!$app$jscomp$25$$.$program$.$noVPL$&&
!$app$jscomp$25$$.$program$.$isEmpty$()},object:$JSCompiler_StaticMethods_addVPLCommands$self$$});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:text",{action:function($app$jscomp$26$$){$app$jscomp$26$$.$multipleViews$?$JSCompiler_StaticMethods_setView$$($app$jscomp$26$$,["src"],{$openView$:!0}):$JSCompiler_StaticMethods_setView$$($app$jscomp$26$$,["src"],{$fromView$:"vpl"})},isEnabled:function($app$jscomp$27$$){return!$app$jscomp$27$$.$program$.$noVPL$},$doDrop$:function($app$jscomp$28$$,
$draggedItem_span$$){if($draggedItem_span$$.data instanceof $A3a$vpl$Block$$&&$draggedItem_span$$.data.$ruleContainer$){if($draggedItem_span$$=$JSCompiler_StaticMethods_getCodeLocation$$($app$jscomp$28$$.$program$.$currentLanguage$,$draggedItem_span$$.data))$JSCompiler_StaticMethods_setView$$($app$jscomp$28$$,["src"]),$app$jscomp$28$$.$editor$.$selectRange$($draggedItem_span$$.$begin$,$draggedItem_span$$.end)}else $draggedItem_span$$.data instanceof $A3a$vpl$Rule$$&&($draggedItem_span$$=$JSCompiler_StaticMethods_getCodeLocation$$($app$jscomp$28$$.$program$.$currentLanguage$,
$draggedItem_span$$.data))&&($JSCompiler_StaticMethods_setView$$($app$jscomp$28$$,["src"]),$app$jscomp$28$$.$editor$.$selectRange$($draggedItem_span$$.$begin$,$draggedItem_span$$.end))},$canDrop$:function($app$jscomp$29$$,$draggedItem$jscomp$1$$){return $draggedItem$jscomp$1$$.data instanceof $A3a$vpl$Block$$&&null!=$draggedItem$jscomp$1$$.data.$ruleContainer$||$draggedItem$jscomp$1$$.data instanceof $A3a$vpl$Rule$$},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$30$$){return $app$jscomp$30$$.$editor$&&
0>$app$jscomp$30$$.$views$.indexOf("src")}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:text-toggle",{action:function($app$jscomp$31$$){$JSCompiler_StaticMethods_setView$$($app$jscomp$31$$,["src"],{toggle:!0})},isEnabled:function($app$jscomp$32$$){return!$app$jscomp$32$$.$program$.$noVPL$},$isSelected$:function($app$jscomp$33$$){return 0<=$app$jscomp$33$$.$views$.indexOf("src")},object:$JSCompiler_StaticMethods_addVPLCommands$self$$});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:advanced",
{action:function($app$jscomp$34$$){$JSCompiler_StaticMethods_setMode$$($app$jscomp$34$$.$program$,"b"===$app$jscomp$34$$.$program$.mode?"a":"b")},isEnabled:function($app$jscomp$35$$){return!$app$jscomp$35$$.$program$.$noVPL$&&!$app$jscomp$35$$.$program$.readOnly},$isSelected$:function($app$jscomp$36$$){return"a"===$app$jscomp$36$$.$program$.mode},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$37$$){return!$app$jscomp$37$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:undo",
{action:function($app$jscomp$38$$){$app$jscomp$38$$.$program$.$undo$(function(){$JSCompiler_StaticMethods_renderProgramToCanvas$$($app$jscomp$38$$)})},isEnabled:function($app$jscomp$39$$){return!$app$jscomp$39$$.$program$.$noVPL$&&0<$app$jscomp$39$$.$program$.$undoState$.$undoStack$.length},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$40$$){return!$app$jscomp$40$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:redo",
{action:function($app$jscomp$41$$){$app$jscomp$41$$.$program$.$redo$(function(){$JSCompiler_StaticMethods_renderProgramToCanvas$$($app$jscomp$41$$)})},isEnabled:function($app$jscomp$42$$){return!$app$jscomp$42$$.$program$.$noVPL$&&0<$app$jscomp$42$$.$program$.$undoState$.$redoStack$.length},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$43$$){return!$app$jscomp$43$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:run",{action:function($app$jscomp$44$$){var $code$jscomp$15$$=
$app$jscomp$44$$.$program$.$getCode$($app$jscomp$44$$.$program$.$currentLanguage$);$app$jscomp$44$$.$robots$[$app$jscomp$44$$.$currentRobotIndex$].$runGlue$.$run$($code$jscomp$15$$,$app$jscomp$44$$.$program$.$currentLanguage$);$app$jscomp$44$$.$program$.$uploaded$=!0;$app$jscomp$44$$.$program$.$notUploadedYet$=!1},isEnabled:function($app$jscomp$45_error$jscomp$2$$){if($app$jscomp$45_error$jscomp$2$$.$program$.$noVPL$||!$app$jscomp$45_error$jscomp$2$$.$robots$[$app$jscomp$45_error$jscomp$2$$.$currentRobotIndex$].$runGlue$.isEnabled($app$jscomp$45_error$jscomp$2$$.$program$.$currentLanguage$))return!1;
$app$jscomp$45_error$jscomp$2$$=$app$jscomp$45_error$jscomp$2$$.$program$.getError();return null==$app$jscomp$45_error$jscomp$2$$||$app$jscomp$45_error$jscomp$2$$.$isWarning$},$isSelected$:function($app$jscomp$46$$){return $app$jscomp$46$$.$program$.$uploaded$},getState:function($app$jscomp$47$$){if($app$jscomp$47$$.$program$.$isEmpty$())return"empty";if($app$jscomp$47$$.$program$.$uploaded$)return"running";var $error$jscomp$3$$=$app$jscomp$47$$.$program$.getError();return $error$jscomp$3$$&&!$error$jscomp$3$$.$isWarning$?
"error":$app$jscomp$47$$.$program$.$notUploadedYet$?"canLoad":"canReload"},$doDrop$:function($app$jscomp$48$$,$code$jscomp$16_draggedItem$jscomp$2$$){$code$jscomp$16_draggedItem$jscomp$2$$.data instanceof $A3a$vpl$Block$$?$code$jscomp$16_draggedItem$jscomp$2$$.data.$ruleContainer$?($code$jscomp$16_draggedItem$jscomp$2$$=$A3a$vpl$Program$codeGenerator$$[$app$jscomp$48$$.$program$.$currentLanguage$].$g$($app$jscomp$48$$.$program$,[$code$jscomp$16_draggedItem$jscomp$2$$.data]),$app$jscomp$48$$.$robots$[$app$jscomp$48$$.$currentRobotIndex$].$runGlue$.$run$($code$jscomp$16_draggedItem$jscomp$2$$,
$app$jscomp$48$$.$program$.$currentLanguage$)):$app$jscomp$48$$.$vplCanvas$.$zoomedItemProxy$=$JSCompiler_StaticMethods_makeZoomedClone$$($app$jscomp$48$$.$vplCanvas$,$code$jscomp$16_draggedItem$jscomp$2$$):$code$jscomp$16_draggedItem$jscomp$2$$.data instanceof $A3a$vpl$Rule$$&&($code$jscomp$16_draggedItem$jscomp$2$$=$A3a$vpl$Program$codeGenerator$$[$app$jscomp$48$$.$program$.$currentLanguage$].$g$($app$jscomp$48$$.$program$,$code$jscomp$16_draggedItem$jscomp$2$$.data.actions),$app$jscomp$48$$.$robots$[$app$jscomp$48$$.$currentRobotIndex$].$runGlue$.$run$($code$jscomp$16_draggedItem$jscomp$2$$,
$app$jscomp$48$$.$program$.$currentLanguage$))},$canDrop$:function($JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$,$draggedItem$jscomp$3$$){if($JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$=$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$.$robots$[$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$.$currentRobotIndex$].$runGlue$.isEnabled($JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$.$program$.$currentLanguage$)&&
$draggedItem$jscomp$3$$.data instanceof $A3a$vpl$Rule$$)a:{$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$=$draggedItem$jscomp$3$$.data;for(var $i$jscomp$inline_63$$=0;$i$jscomp$inline_63$$<$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$.$events$.length;$i$jscomp$inline_63$$++)if("a"===$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$.$events$[$i$jscomp$inline_63$$].$blockTemplate$.type){$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$=
!0;break a}for($i$jscomp$inline_63$$=0;$i$jscomp$inline_63$$<$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$.actions.length;$i$jscomp$inline_63$$++)if("a"===$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$.actions[$i$jscomp$inline_63$$].$blockTemplate$.type){$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$=!0;break a}$JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$=
!1}return $JSCompiler_StaticMethods_hasBlockOfType$self$jscomp$inline_61_JSCompiler_temp$jscomp$9_app$jscomp$49$$||$draggedItem$jscomp$3$$.data instanceof $A3a$vpl$Block$$&&null!=$draggedItem$jscomp$3$$.data.$ruleContainer$&&"a"===$draggedItem$jscomp$3$$.data.$blockTemplate$.type},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$50$$){return 0<=$app$jscomp$50$$.$currentRobotIndex$}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:stop",{action:function($app$jscomp$51$$){$JSCompiler_StaticMethods_stopRobot$$($app$jscomp$51$$);
$app$jscomp$51$$.$program$.$uploaded$=!1},isEnabled:function($app$jscomp$52$$){return $JSCompiler_StaticMethods_canStopRobot$$($app$jscomp$52$$)},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$53$$){return 0<=$app$jscomp$53$$.$currentRobotIndex$}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:connected",{isEnabled:function(){return!1},$isSelected$:function($app$jscomp$55$$){return!$app$jscomp$55$$.$program$.$noVPL$&&$app$jscomp$55$$.$robots$[$app$jscomp$55$$.$currentRobotIndex$].$runGlue$.isConnected()},
object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$56$$){return 0<=$app$jscomp$56$$.$currentRobotIndex$}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:robot",{action:function($app$jscomp$57$$){$app$jscomp$57$$.$currentRobotIndex$=($app$jscomp$57$$.$currentRobotIndex$+1)%$app$jscomp$57$$.$robots$.length},getState:function($app$jscomp$58$$){return $app$jscomp$58$$.$robots$[$app$jscomp$58$$.$currentRobotIndex$].name},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,
$isAvailable$:function($app$jscomp$59$$){return 1<$app$jscomp$59$$.$robots$.length}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:sim",{action:function($app$jscomp$60$$){$app$jscomp$60$$.$multipleViews$?$JSCompiler_StaticMethods_setView$$($app$jscomp$60$$,["sim"],{$openView$:!0}):$JSCompiler_StaticMethods_setView$$($app$jscomp$60$$,["sim"],{$fromView$:"vpl"})},isEnabled:function($app$jscomp$61$$){return!$app$jscomp$61$$.$program$.$noVPL$},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,
$isAvailable$:function($app$jscomp$62$$){return 0<=$app$jscomp$62$$.$currentRobotIndex$&&null!=$app$jscomp$62$$.$sim2d$&&0>$app$jscomp$62$$.$views$.indexOf("sim")}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:duplicate",{isEnabled:function($app$jscomp$63$$){return!$app$jscomp$63$$.$program$.$noVPL$},$doDrop$:function($app$jscomp$64$$,$draggedItem$jscomp$4$$){var $i$jscomp$44$$=$app$jscomp$64$$.$program$.$program$.indexOf($draggedItem$jscomp$4$$.data);0<=$i$jscomp$44$$&&($app$jscomp$64$$.$program$.$saveStateBeforeChange$(),
$app$jscomp$64$$.$program$.$program$.splice($i$jscomp$44$$+1,0,$draggedItem$jscomp$4$$.data.$copy$()),$app$jscomp$64$$.$vplCanvas$.$onUpdate$&&$app$jscomp$64$$.$vplCanvas$.$onUpdate$(),$app$jscomp$64$$.log())},$canDrop$:function($app$jscomp$65$$,$draggedItem$jscomp$5$$){return $draggedItem$jscomp$5$$.data instanceof $A3a$vpl$Rule$$&&!$draggedItem$jscomp$5$$.data.$isEmpty$()},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$66$$){return!$app$jscomp$66$$.$program$.readOnly}});
$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:disable",{isEnabled:function($app$jscomp$67$$){return!$app$jscomp$67$$.$program$.$noVPL$},$doDrop$:function($app$jscomp$68$$,$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$){$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$.data instanceof $A3a$vpl$Block$$?($app$jscomp$68$$.$program$.$saveStateBeforeChange$(),$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$.data.disabled=
!$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$.data.disabled,$app$jscomp$68$$.$vplCanvas$.$onUpdate$&&$app$jscomp$68$$.$vplCanvas$.$onUpdate$(),$app$jscomp$68$$.log()):$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$.data instanceof $A3a$vpl$Rule$$&&($app$jscomp$68$$.$program$.$saveStateBeforeChange$(),$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$=$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$.data,
$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$.disabled=!$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$.disabled,$JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$.disabled&&($JSCompiler_StaticMethods_toggleDisable$self$jscomp$inline_65_draggedItem$jscomp$6$$.error=null),$app$jscomp$68$$.$vplCanvas$.$onUpdate$&&$app$jscomp$68$$.$vplCanvas$.$onUpdate$(),$app$jscomp$68$$.log())},$canDrop$:function($app$jscomp$69$$,
$draggedItem$jscomp$7$$){return $draggedItem$jscomp$7$$.data instanceof $A3a$vpl$Rule$$?!$draggedItem$jscomp$7$$.data.$isEmpty$():$draggedItem$jscomp$7$$.data instanceof $A3a$vpl$Block$$&&null!==$draggedItem$jscomp$7$$.data.$ruleContainer$},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$70$$){return!$app$jscomp$70$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:lock",{isEnabled:function($app$jscomp$71$$){return!$app$jscomp$71$$.$program$.$noVPL$},
$doDrop$:function($app$jscomp$72$$,$draggedItem$jscomp$8$$){$draggedItem$jscomp$8$$.data instanceof $A3a$vpl$Block$$?($app$jscomp$72$$.$program$.$saveStateBeforeChange$(),$draggedItem$jscomp$8$$.data.locked=!$draggedItem$jscomp$8$$.data.locked,$app$jscomp$72$$.$vplCanvas$.$onUpdate$&&$app$jscomp$72$$.$vplCanvas$.$onUpdate$(),$app$jscomp$72$$.log()):$draggedItem$jscomp$8$$.data instanceof $A3a$vpl$Rule$$&&($app$jscomp$72$$.$program$.$saveStateBeforeChange$(),$draggedItem$jscomp$8$$.data.locked=!$draggedItem$jscomp$8$$.data.locked,
$app$jscomp$72$$.$vplCanvas$.$onUpdate$&&$app$jscomp$72$$.$vplCanvas$.$onUpdate$(),$app$jscomp$72$$.log())},$canDrop$:function($app$jscomp$73$$,$draggedItem$jscomp$9$$){return $draggedItem$jscomp$9$$.data instanceof $A3a$vpl$Rule$$?!$draggedItem$jscomp$9$$.data.$isEmpty$():$draggedItem$jscomp$9$$.data instanceof $A3a$vpl$Block$$&&null!==$draggedItem$jscomp$9$$.data.$ruleContainer$},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$74$$){return $app$jscomp$74$$.$program$.$experimentalFeatures$&&
$app$jscomp$74$$.$program$.$teacherRole$&&!$app$jscomp$74$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:trashcan",{isEnabled:function($app$jscomp$75$$){return!$app$jscomp$75$$.$program$.$noVPL$},$doDrop$:function($app$jscomp$76$$,$draggedItem$jscomp$10_i$jscomp$45$$){$draggedItem$jscomp$10_i$jscomp$45$$.data instanceof $A3a$vpl$Block$$?null!==$draggedItem$jscomp$10_i$jscomp$45$$.data.$ruleContainer$&&($app$jscomp$76$$.$program$.$saveStateBeforeChange$(),$JSCompiler_StaticMethods_removeBlock$$($draggedItem$jscomp$10_i$jscomp$45$$.data.$ruleContainer$,
$draggedItem$jscomp$10_i$jscomp$45$$.data.$positionInContainer$),$app$jscomp$76$$.$vplCanvas$.$onUpdate$&&$app$jscomp$76$$.$vplCanvas$.$onUpdate$(),$app$jscomp$76$$.log()):$draggedItem$jscomp$10_i$jscomp$45$$.data instanceof $A3a$vpl$Rule$$&&($draggedItem$jscomp$10_i$jscomp$45$$=$app$jscomp$76$$.$program$.$program$.indexOf($draggedItem$jscomp$10_i$jscomp$45$$.data),0<=$draggedItem$jscomp$10_i$jscomp$45$$&&($app$jscomp$76$$.$program$.$saveStateBeforeChange$(),$app$jscomp$76$$.$program$.$program$.splice($draggedItem$jscomp$10_i$jscomp$45$$,
1),$app$jscomp$76$$.$vplCanvas$.$onUpdate$&&$app$jscomp$76$$.$vplCanvas$.$onUpdate$(),$app$jscomp$76$$.log()))},$canDrop$:function($app$jscomp$77$$,$draggedItem$jscomp$11$$){return $draggedItem$jscomp$11$$.data instanceof $A3a$vpl$Block$$?null!==$draggedItem$jscomp$11$$.data.$ruleContainer$&&!$draggedItem$jscomp$11$$.data.locked:$draggedItem$jscomp$11$$.data instanceof $A3a$vpl$Rule$$&&(!$draggedItem$jscomp$11$$.data.$isEmpty$()||$app$jscomp$77$$.$program$.$program$.indexOf($draggedItem$jscomp$11$$.data)+
1<$app$jscomp$77$$.$program$.$program$.length)&&!$draggedItem$jscomp$11$$.data.locked},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$78$$){return!$app$jscomp$78$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:message-error",{isEnabled:function(){return!1},getState:function($app$jscomp$80$$){return $app$jscomp$80$$.$vplMessage$},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$81$$){return $app$jscomp$81$$.$vplMessage$&&
!$app$jscomp$81$$.$vplMessageIsWarning$}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:message-warning",{isEnabled:function(){return!1},getState:function($app$jscomp$83$$){return $app$jscomp$83$$.$vplMessage$},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$84$$){return $app$jscomp$84$$.$vplMessage$&&$app$jscomp$84$$.$vplMessageIsWarning$}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:message-empty",{isEnabled:function(){return!1},
object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$86$$){return!$app$jscomp$86$$.$vplMessage$}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:filename",{isEnabled:function(){return!1},getState:function($app$jscomp$88$$){return($app$jscomp$88$$.$program$.filename||"")+($app$jscomp$88$$.username?"\n"+$app$jscomp$88$$.username:"")},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$isAvailable$:function($app$jscomp$89$$){return $app$jscomp$89$$.$program$.filename||
$app$jscomp$89$$.username?!0:!1}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:teacher",{action:function($app$jscomp$90$$){$app$jscomp$90$$.$program$.$uiConfig$.$customizationMode$=!$app$jscomp$90$$.$program$.$uiConfig$.$customizationMode$},isEnabled:function($app$jscomp$91$$){return!$app$jscomp$91$$.$program$.$noVPL$&&!$app$jscomp$91$$.$program$.readOnly},$isSelected$:function($app$jscomp$92$$){return $app$jscomp$92$$.$program$.$uiConfig$.$customizationMode$},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,
$keep$:!0,$isAvailable$:function($app$jscomp$93$$){return $app$jscomp$93$$.$program$.$teacherRole$&&!$app$jscomp$93$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:teacher-reset",{action:function($app$jscomp$94$$,$modifier$jscomp$24$$){$modifier$jscomp$24$$?($A3a$vpl$Program$enableAllBlocks$$($app$jscomp$94$$.$program$.mode),$app$jscomp$94$$.$program$.$enabledBlocksBasic$=$A3a$vpl$Program$basicBlocks$$,$app$jscomp$94$$.$program$.$enabledBlocksAdvanced$=$A3a$vpl$Program$advancedBlocks$$):
($A3a$vpl$Program$resetBlockLib$$(),$JSCompiler_StaticMethods_new$$($app$jscomp$94$$.$program$),$app$jscomp$94$$.$program$.$resetUI$())},isEnabled:function($app$jscomp$95$$){return!$app$jscomp$95$$.$program$.$noVPL$},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$keep$:!0,$isAvailable$:function($app$jscomp$96$$){return $app$jscomp$96$$.$program$.$teacherRole$&&$app$jscomp$96$$.$program$.$uiConfig$.$customizationMode$&&!$app$jscomp$96$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:teacher-save",
{action:function($app$jscomp$97_json$jscomp$10$$){$app$jscomp$97_json$jscomp$10$$=$JSCompiler_StaticMethods_exportToJSON$$($app$jscomp$97_json$jscomp$10$$.$program$,{$lib$:!0,$prog$:!1});$A3a$vpl$Program$downloadText$$($app$jscomp$97_json$jscomp$10$$,"gui-config.json","application/json")},isEnabled:function($app$jscomp$98$$){return!$app$jscomp$98$$.$program$.$noVPL$},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$keep$:!0,$isAvailable$:function($app$jscomp$99$$){return $app$jscomp$99$$.$program$.$teacherRole$&&
$app$jscomp$99$$.$program$.$uiConfig$.$customizationMode$&&!$app$jscomp$99$$.$program$.readOnly}});$JSCompiler_StaticMethods_addVPLCommands$self$$.$b$.add("vpl:teacher-setasnew",{action:function($app$jscomp$100$$){var $json$jscomp$11$$=$JSCompiler_StaticMethods_exportToJSON$$($app$jscomp$100$$.$program$,{$lib$:!1,$prog$:!0});$app$jscomp$100$$.$jsonForNew$=$app$jscomp$100$$.$jsonForNew$===$json$jscomp$11$$?null:$json$jscomp$11$$},$isSelected$:function($app$jscomp$101$$){return $app$jscomp$101$$.$jsonForNew$===
$JSCompiler_StaticMethods_exportToJSON$$($app$jscomp$101$$.$program$,{$lib$:!1,$prog$:!0})},object:$JSCompiler_StaticMethods_addVPLCommands$self$$,$keep$:!0,$isAvailable$:function($app$jscomp$102$$){return $app$jscomp$102$$.$program$.$teacherRole$&&$app$jscomp$102$$.$program$.$uiConfig$.$customizationMode$&&!$app$jscomp$102$$.$program$.readOnly}})};function $A3a$vpl$ControlBar$$($canvas$jscomp$5$$){this.$i$=$canvas$jscomp$5$$;this.$g$=[];this.$b$="";this.y=this.x=0}
function $JSCompiler_StaticMethods_A3a_vpl_ControlBar_prototype$addControl$$($JSCompiler_StaticMethods_A3a_vpl_ControlBar_prototype$addControl$self$$,$draw$$,$bounds$jscomp$1$$,$action$jscomp$3$$,$doDrop$$,$canDrop$$,$id$jscomp$9$$){$JSCompiler_StaticMethods_A3a_vpl_ControlBar_prototype$addControl$self$$.$g$.push({$draw$:$draw$$,action:$action$jscomp$3$$||null,$doDrop$:$doDrop$$||null,$canDrop$:$canDrop$$||null,id:$id$jscomp$9$$||"",$bounds$:$bounds$jscomp$1$$,x:0,y:0});$JSCompiler_StaticMethods_A3a_vpl_ControlBar_prototype$addControl$self$$.$b$+=
"X"}
function $JSCompiler_StaticMethods_calcLayout$$($JSCompiler_StaticMethods_calcLayout$self$$,$toolbarBox$$,$itemBoxes$$,$separatorBox_separatorGap$$){$JSCompiler_StaticMethods_calcLayout$self$$.x=$toolbarBox$$.x;$JSCompiler_StaticMethods_calcLayout$self$$.y=$toolbarBox$$.y;for(var $layout$$=$JSCompiler_StaticMethods_calcLayout$self$$.$b$.replace(/^[s ]+/,"").replace(/[s ]+$/,"").replace(/ +/g," ").replace(/s +/g,"s").replace(/ +s/g,"s").replace(/s+/g,"s"),$itemsTotalWidth_p$jscomp$1$$=0,$control_sepCount$$=0,
$stretchCount$$=0,$controlIx$$=0,$i$jscomp$46$$=0;$i$jscomp$46$$<$layout$$.length;$i$jscomp$46$$++)switch($layout$$[$i$jscomp$46$$]){case "X":$itemsTotalWidth_p$jscomp$1$$+=$JSCompiler_StaticMethods_totalWidth$$($itemBoxes$$[$JSCompiler_StaticMethods_calcLayout$self$$.$g$[$controlIx$$].id]);$controlIx$$++;break;case " ":case "_":$control_sepCount$$++;break;case "s":case "S":$stretchCount$$++}$separatorBox_separatorGap$$=$separatorBox_separatorGap$$?$JSCompiler_StaticMethods_totalWidth$$($separatorBox_separatorGap$$):
0;var $stretchSize$$=0;if($itemsTotalWidth_p$jscomp$1$$>=$toolbarBox$$.width)$separatorBox_separatorGap$$=0;else for(;;){$stretchSize$$=($toolbarBox$$.width-($itemsTotalWidth_p$jscomp$1$$+$separatorBox_separatorGap$$*$control_sepCount$$))/$stretchCount$$;if($stretchSize$$>=$separatorBox_separatorGap$$||!(0<$separatorBox_separatorGap$$))break;$separatorBox_separatorGap$$/=2}$controlIx$$=0;$itemsTotalWidth_p$jscomp$1$$=$toolbarBox$$.x;for($i$jscomp$46$$=0;$i$jscomp$46$$<$layout$$.length;$i$jscomp$46$$++)switch($layout$$[$i$jscomp$46$$]){case "X":$control_sepCount$$=
$JSCompiler_StaticMethods_calcLayout$self$$.$g$[$controlIx$$];$control_sepCount$$.x=$itemsTotalWidth_p$jscomp$1$$+$itemBoxes$$[$control_sepCount$$.id].offsetLeft();$itemsTotalWidth_p$jscomp$1$$+=$JSCompiler_StaticMethods_totalWidth$$($itemBoxes$$[$control_sepCount$$.id]);$control_sepCount$$.y=$toolbarBox$$.y+$itemBoxes$$[$control_sepCount$$.id].offsetTop();$controlIx$$++;break;case " ":case "_":$itemsTotalWidth_p$jscomp$1$$+=$separatorBox_separatorGap$$;break;case "s":case "S":$itemsTotalWidth_p$jscomp$1$$+=
$stretchSize$$}}
function $JSCompiler_StaticMethods_addToCanvas$$($JSCompiler_StaticMethods_addToCanvas$self$$,$toolbarBox$jscomp$1$$,$itemBoxes$jscomp$1$$){$JSCompiler_StaticMethods_addDecoration$$($JSCompiler_StaticMethods_addToCanvas$self$$.$i$,function($ctx$$){$JSCompiler_StaticMethods_drawAt$$($toolbarBox$jscomp$1$$,$ctx$$,$JSCompiler_StaticMethods_addToCanvas$self$$.x,$JSCompiler_StaticMethods_addToCanvas$self$$.y)});$JSCompiler_StaticMethods_addToCanvas$self$$.$g$.forEach(function($control$jscomp$1$$){$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$$(this.$i$,$control$jscomp$1$$.x,
$control$jscomp$1$$.y,$itemBoxes$jscomp$1$$[$control$jscomp$1$$.id],function($ctx$jscomp$1$$,$box$jscomp$5$$,$isPressed$$){var $sc$$=Math.min($box$jscomp$5$$.width/($control$jscomp$1$$.$bounds$.$xmax$-$control$jscomp$1$$.$bounds$.$xmin$),$box$jscomp$5$$.height/($control$jscomp$1$$.$bounds$.$ymax$-$control$jscomp$1$$.$bounds$.$ymin$));$ctx$jscomp$1$$.save();$ctx$jscomp$1$$.translate(-$control$jscomp$1$$.$bounds$.$xmin$,-$control$jscomp$1$$.$bounds$.$ymin$);$ctx$jscomp$1$$.scale($sc$$,$sc$$);$control$jscomp$1$$.$draw$($ctx$jscomp$1$$,
$box$jscomp$5$$,$isPressed$$);$ctx$jscomp$1$$.restore()},$control$jscomp$1$$.action,$control$jscomp$1$$.$doDrop$,$control$jscomp$1$$.$canDrop$,$control$jscomp$1$$.id)},$JSCompiler_StaticMethods_addToCanvas$self$$)};function $A3a$vpl$Commands$drawButtonJS$$($dr_id$jscomp$10$$,$ctx$jscomp$2$$,$dims$$,$css_draw$jscomp$1$$,$cssClasses$$,$isEnabled$$,$isSelected$$,$isPressed$jscomp$1$$,$state$jscomp$2$$){function $drawUndo$$($x$jscomp$83$$,$y$jscomp$66$$,$flipped$$){$ctx$jscomp$2$$.save();$flipped$$&&($ctx$jscomp$2$$.scale(-1,1),$ctx$jscomp$2$$.translate(-2*$x$jscomp$83$$-$dims$$.$controlSize$,0));$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect($x$jscomp$83$$,
$y$jscomp$66$$,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo($x$jscomp$83$$+.1*$dims$$.$controlSize$,$y$jscomp$66$$+.6*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo($x$jscomp$83$$+.4*$dims$$.$controlSize$,$y$jscomp$66$$+.6*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo($x$jscomp$83$$+.25*$dims$$.$controlSize$,$y$jscomp$66$$+.34*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.fill();
$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.arc($x$jscomp$83$$+.5*$dims$$.$controlSize$,$y$jscomp$66$$+.83*$dims$$.$controlSize$,.4*$dims$$.$controlSize$,4.2,5.6);$ctx$jscomp$2$$.strokeStyle=$ctx$jscomp$2$$.fillStyle;$ctx$jscomp$2$$.lineWidth=.08*$dims$$.$controlSize$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.restore()}function $drawButtonTri$$($x$jscomp$84$$,$y$jscomp$67$$,$rot$jscomp$1$$){$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect($x$jscomp$84$$,
$y$jscomp$67$$,$box$jscomp$6$$.width,$box$jscomp$6$$.height);$ctx$jscomp$2$$.translate($x$jscomp$84$$+$box$jscomp$6$$.width/2,$y$jscomp$67$$+$box$jscomp$6$$.width/2);$ctx$jscomp$2$$.rotate(-$rot$jscomp$1$$*Math.PI/2);$ctx$jscomp$2$$.translate(-$x$jscomp$84$$-$box$jscomp$6$$.width/2,-$y$jscomp$67$$-$box$jscomp$6$$.width/2);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo($x$jscomp$84$$+.3557*$box$jscomp$6$$.width,$y$jscomp$67$$+.25*$box$jscomp$6$$.width);$ctx$jscomp$2$$.lineTo($x$jscomp$84$$+.3557*
$box$jscomp$6$$.width,$y$jscomp$67$$+.75*$box$jscomp$6$$.width);$ctx$jscomp$2$$.lineTo($x$jscomp$84$$+.7887*$box$jscomp$6$$.width,$y$jscomp$67$$+.5*$box$jscomp$6$$.width);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.strokeStyle=$col$$.$fg$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.restore()}function $drawRobot$$(){$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(0,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.5*$dims$$.$controlSize$,.5*$dims$$.$controlSize$);
$ctx$jscomp$2$$.lineTo(.5*$dims$$.$controlSize$,-.25*$dims$$.$controlSize$);$ctx$jscomp$2$$.bezierCurveTo(.3*$dims$$.$controlSize$,-.5*$dims$$.$controlSize$,.02*$dims$$.$controlSize$,-.5*$dims$$.$controlSize$,0,-.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(0,-.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.bezierCurveTo(-.02*$dims$$.$controlSize$,-.5*$dims$$.$controlSize$,-.3*$dims$$.$controlSize$,-.5*$dims$$.$controlSize$,-.5*$dims$$.$controlSize$,-.25*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(-.5*
$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fill()}var $col$$={$bg$:"navy",$bgPr$:"#37f",$bgOn$:"#06f",$fg$:"white",$fgDis$:"#777",$fgOff$:"#44a",$fgDimOn$:"#ddf",$fgDim$:"#99a",$bgTeacher$:"#a00",$bgTeacherOn$:"#d10",$bgTeacherPr$:"#d00",$bgTeacherPrOn$:"#f50",$fgTeacherDis$:"#c66",$fgTeacherOff$:"#800"};$col$$={$bg$:"white",$bgPr$:"#ddd",$bgOn$:"white",$fg$:"#333",$fgDis$:"#999",$fgOff$:"#ddd",
$fgDimOn$:"#555",$fgDim$:"#666",$bgTeacher$:"#fcc",$bgTeacherOn$:"#fcc",$bgTeacherPr$:"#faa",$bgTeacherPrOn$:"#faa",$fgTeacherDis$:"#866",$fgTeacherOff$:"#faa"};var $box$jscomp$6$$=$JSCompiler_StaticMethods_getBox$$($css_draw$jscomp$1$$,{tag:"button",$clas$:$cssClasses$$,id:$dr_id$jscomp$10$$.replace(/:/g,"-")});$css_draw$jscomp$1$$={"vpl:close":function $$css_draw$jscomp$1$$$__0$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,
0,.5*$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.1*$dims$$.$controlSize$,.1*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.4*$dims$$.$controlSize$,.4*$dims$$.$controlSize$);$ctx$jscomp$2$$.moveTo(.1*$dims$$.$controlSize$,.4*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.4*$dims$$.$controlSize$,.1*$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke()},
"vpl:about":function $$css_draw$jscomp$1$$$__1$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.textAlign="center";$ctx$jscomp$2$$.textBaseline="middle";$ctx$jscomp$2$$.font="bold "+Math.round(.7*$dims$$.$controlSize$).toString(10)+"px times";$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillText("i",.5*$dims$$.$controlSize$,.5*$dims$$.$controlSize$)},
"vpl:help":function $$css_draw$jscomp$1$$$__2$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.textAlign="center";$ctx$jscomp$2$$.textBaseline="middle";$ctx$jscomp$2$$.font="bold "+Math.round(.7*$dims$$.$controlSize$).toString(10)+"px times";$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillText("?",.5*$dims$$.$controlSize$,.5*$dims$$.$controlSize$)},
"vpl:readonly":function $$css_draw$jscomp$1$$$__3$(){var $s$jscomp$4$$=$dims$$.$controlSize$;$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$col$$.$fgDim$;$ctx$jscomp$2$$.strokeStyle=$col$$.$fgDim$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.translate(.5*$s$jscomp$4$$,.7*$s$jscomp$4$$);$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.rotate(.6);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(-.015/.22*$s$jscomp$4$$,.07*$s$jscomp$4$$);$ctx$jscomp$2$$.lineTo(0,.22*$s$jscomp$4$$);
$ctx$jscomp$2$$.lineTo(.015/.22*$s$jscomp$4$$,.07*$s$jscomp$4$$);$ctx$jscomp$2$$.fill();$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(-.1*$s$jscomp$4$$,-.4*$s$jscomp$4$$);$ctx$jscomp$2$$.lineTo(-.1*$s$jscomp$4$$,0);$ctx$jscomp$2$$.lineTo(0,.22*$s$jscomp$4$$);$ctx$jscomp$2$$.lineTo(.1*$s$jscomp$4$$,0);$ctx$jscomp$2$$.lineTo(.1*$s$jscomp$4$$,-.4*$s$jscomp$4$$);$ctx$jscomp$2$$.restore();$ctx$jscomp$2$$.moveTo(-.2*$s$jscomp$4$$,-.4*$s$jscomp$4$$);$ctx$jscomp$2$$.lineTo(.4*$s$jscomp$4$$,.2*$s$jscomp$4$$);
$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.restore()},"vpl:new":function $$css_draw$jscomp$1$$$__4$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.25*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);
$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.65*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.moveTo(.65*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.65*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;
$ctx$jscomp$2$$.stroke()},"vpl:save":function $$css_draw$jscomp$1$$$__5$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.25*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*
$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.moveTo(.6*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();
$ctx$jscomp$2$$.lineWidth=2*$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.8*$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.moveTo(.7*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.9*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.stroke()},"vpl:exportToHTML":function $$css_draw$jscomp$1$$$__6$(){$ctx$jscomp$2$$.fillStyle=
$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=2*$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.8*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.moveTo(.7*$dims$$.$controlSize$,.4*$dims$$.$controlSize$);
$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.9*$dims$$.$controlSize$,.4*$dims$$.$controlSize$);$ctx$jscomp$2$$.textAlign="center";$ctx$jscomp$2$$.textBaseline="middle";$ctx$jscomp$2$$.font="bold "+Math.round(.3*$dims$$.$controlSize$).toString(10)+"px sans-serif";$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillText("HTML",.5*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.stroke()},"vpl:load":function $$css_draw$jscomp$1$$$__7$(){$ctx$jscomp$2$$.fillStyle=
$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.25*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,
.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.moveTo(.6*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.lineWidth=2*$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.beginPath();
$ctx$jscomp$2$$.moveTo(.8*$dims$$.$controlSize$,.55*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.85*$dims$$.$controlSize$);$ctx$jscomp$2$$.moveTo(.7*$dims$$.$controlSize$,.65*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.55*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.9*$dims$$.$controlSize$,.65*$dims$$.$controlSize$);$ctx$jscomp$2$$.stroke()},"vpl:upload":function $$css_draw$jscomp$1$$$__8$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&
$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.25*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.37*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);
$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.moveTo(.6*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.37*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.37*$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.lineWidth=2*$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.8*
$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.moveTo(.7*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.9*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.stroke()},"vpl:text":function $$css_draw$jscomp$1$$$__9$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;
$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.25*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.65*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();
$ctx$jscomp$2$$.moveTo(.65*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.65*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);for(var $y$jscomp$68$$=.2;.6>$y$jscomp$68$$;$y$jscomp$68$$+=.1)$ctx$jscomp$2$$.moveTo(.3*$dims$$.$controlSize$,$dims$$.$controlSize$*(.2+$y$jscomp$68$$)),$ctx$jscomp$2$$.lineTo(.7*$dims$$.$controlSize$,$dims$$.$controlSize$*(.2+$y$jscomp$68$$));$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?
$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke()},"vpl:text-toggle":function $$css_draw$jscomp$1$$$__10$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.28*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.28*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);
$ctx$jscomp$2$$.lineTo(.7*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.7*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.63*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.moveTo(.63*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.63*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.7*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);for(var $y$jscomp$69$$=
.1;.5>$y$jscomp$69$$;$y$jscomp$69$$+=.1)$ctx$jscomp$2$$.moveTo(.33*$dims$$.$controlSize$,$dims$$.$controlSize$*(.2+$y$jscomp$69$$)),$ctx$jscomp$2$$.lineTo(.63*$dims$$.$controlSize$,$dims$$.$controlSize$*(.2+$y$jscomp$69$$));$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$||$isPressed$jscomp$1$$?$col$$.$fg$:$col$$.$fgOff$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.1*
$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.1*$dims$$.$controlSize$)},"vpl:advanced":function $$css_draw$jscomp$1$$$__11$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$isSelected$$?$col$$.$bgOn$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;for(var $i$jscomp$47$$=0;4>$i$jscomp$47$$;$i$jscomp$47$$++)for(var $j$jscomp$5$$=0;5>$j$jscomp$5$$;$j$jscomp$5$$++)$ctx$jscomp$2$$.fillRect(.1*
$dims$$.$controlSize$*(1+$i$jscomp$47$$)+(2>$i$jscomp$47$$?0:.43*$dims$$.$controlSize$),.1*$dims$$.$controlSize$*(2+$j$jscomp$5$$),.07*$dims$$.$controlSize$,.07*$dims$$.$controlSize$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$||$isPressed$jscomp$1$$?$col$$.$fg$:$col$$.$fgOff$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.1*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.1*$dims$$.$controlSize$)},"vpl:undo":function $$css_draw$jscomp$1$$$__12$(){$drawUndo$$(0,0,!1)},"vpl:redo":function $$css_draw$jscomp$1$$$__13$(){$drawUndo$$(0,
0,!0)},"vpl:run":function $$css_draw$jscomp$1$$$__14$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.3*$dims$$.$controlSize$,.25*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.3*$dims$$.$controlSize$,.75*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.fillStyle=
$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fill();$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$||$isPressed$jscomp$1$$?$col$$.$fg$:$col$$.$fgOff$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.1*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.1*$dims$$.$controlSize$)},"vpl:stop":function $$css_draw$jscomp$1$$$__15$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);
$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.28*$dims$$.$controlSize$,.28*$dims$$.$controlSize$,.44*$dims$$.$controlSize$,.44*$dims$$.$controlSize$)},"vpl:connected":function $$css_draw$jscomp$1$$$__16$(){$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.textAlign="center";$ctx$jscomp$2$$.textBaseline="middle";$ctx$jscomp$2$$.font="bold "+Math.round(.7*
$dims$$.$controlSize$).toString(10)+"px sans-serif";$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillText("C",.5*$dims$$.$controlSize$,.5*$dims$$.$controlSize$)},"vpl:robot":function $$css_draw$jscomp$1$$$__17$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);switch($state$jscomp$2$$){case "thymio":$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.translate($dims$$.$controlSize$/
2,.35*$dims$$.$controlSize$);$ctx$jscomp$2$$.scale(.3,.3);$ctx$jscomp$2$$.rotate(.2);$drawRobot$$();$ctx$jscomp$2$$.restore();break;case "thymio-tdm":$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.translate($dims$$.$controlSize$/2,.35*$dims$$.$controlSize$);$ctx$jscomp$2$$.scale(.3,.3);$ctx$jscomp$2$$.rotate(.2);$drawRobot$$();$ctx$jscomp$2$$.restore();$ctx$jscomp$2$$.fillStyle=$col$$.$fg$;$ctx$jscomp$2$$.fillRect(.4*$dims$$.$controlSize$,.65*$dims$$.$controlSize$,.2*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);
break;case "sim":$ctx$jscomp$2$$.save(),$ctx$jscomp$2$$.translate($dims$$.$controlSize$/2,.35*$dims$$.$controlSize$),$ctx$jscomp$2$$.scale(.3,.3),$ctx$jscomp$2$$.rotate(.2),$drawRobot$$(),$ctx$jscomp$2$$.beginPath(),$ctx$jscomp$2$$.strokeStyle=$col$$.$fg$,$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$/.3,$ctx$jscomp$2$$.strokeRect(-$dims$$.$controlSize$,-.8*$dims$$.$controlSize$,2*$dims$$.$controlSize$,1.6*$dims$$.$controlSize$),$ctx$jscomp$2$$.restore()}$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.2*
$dims$$.$controlSize$,.75*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.5*$dims$$.$controlSize$,.75*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.5*$dims$$.$controlSize$,$dims$$.$controlSize$*("sim"===$state$jscomp$2$$?.6:.3));$ctx$jscomp$2$$.strokeStyle=$col$$.$fg$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke()},"vpl:sim":function $$css_draw$jscomp$1$$$__18$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,
0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.translate($dims$$.$controlSize$/2,.35*$dims$$.$controlSize$);$ctx$jscomp$2$$.scale(.4,.4);$ctx$jscomp$2$$.rotate(.2);$drawRobot$$();$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.arc($dims$$.$controlSize$,.5*$dims$$.$controlSize$,1.4*$dims$$.$controlSize$,-3.2,-3.8,!0);$ctx$jscomp$2$$.strokeStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$fgDimOn$:$col$$.$fgDim$;$ctx$jscomp$2$$.lineWidth=.2*$dims$$.$controlSize$;$ctx$jscomp$2$$.stroke();
$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.arc($dims$$.$controlSize$,.5*$dims$$.$controlSize$,.6*$dims$$.$controlSize$,-3.3,-3.8,!0);$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.restore()},"vpl:message-empty":function $$css_draw$jscomp$1$$$__19$(){},"vpl:message-error":function $$css_draw$jscomp$1$$$__20$(){$state$jscomp$2$$&&($ctx$jscomp$2$$.fillStyle=$box$jscomp$6$$.color,$ctx$jscomp$2$$.font=$JSCompiler_StaticMethods_cssFontString$$($box$jscomp$6$$),$ctx$jscomp$2$$.textAlign="center",$ctx$jscomp$2$$.textBaseline=
"middle",$ctx$jscomp$2$$.fillText($state$jscomp$2$$,$box$jscomp$6$$.width/2,$box$jscomp$6$$.height/2))},"vpl:filename":function $$css_draw$jscomp$1$$$__21$(){if($state$jscomp$2$$){$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.rect(0,0,3*$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.clip();$ctx$jscomp$2$$.fillStyle=$box$jscomp$6$$.color;$ctx$jscomp$2$$.font=$JSCompiler_StaticMethods_cssFontString$$($box$jscomp$6$$);$ctx$jscomp$2$$.textAlign="center";$ctx$jscomp$2$$.textBaseline="middle";
var $str$jscomp$13_strArray$$=$state$jscomp$2$$.trim();0<=$str$jscomp$13_strArray$$.indexOf("\n")?($str$jscomp$13_strArray$$=$str$jscomp$13_strArray$$.split("\n"),$ctx$jscomp$2$$.fillText($str$jscomp$13_strArray$$[0],$box$jscomp$6$$.width/2,.25*$box$jscomp$6$$.height),$ctx$jscomp$2$$.fillText($str$jscomp$13_strArray$$[1],$box$jscomp$6$$.width/2,.75*$box$jscomp$6$$.height)):$ctx$jscomp$2$$.fillText($str$jscomp$13_strArray$$,$box$jscomp$6$$.width/2,$box$jscomp$6$$.height/2)}},"vpl:duplicate":function $$css_draw$jscomp$1$$$__22$(){$ctx$jscomp$2$$.fillStyle=
$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.strokeRect(.3*$dims$$.$controlSize$,.3*$dims$$.$controlSize$,.4*$dims$$.$controlSize$,.15*$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeRect(.3*$dims$$.$controlSize$,.55*$dims$$.$controlSize$,.4*$dims$$.$controlSize$,.15*$dims$$.$controlSize$)},
"vpl:disable":function $$css_draw$jscomp$1$$$__23$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.strokeRect(.3*$dims$$.$controlSize$,.3*$dims$$.$controlSize$,.4*$dims$$.$controlSize$,.4*$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.2*
$dims$$.$controlSize$,.6*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.4*$dims$$.$controlSize$);$ctx$jscomp$2$$.stroke()},"vpl:lock":function $$css_draw$jscomp$1$$$__24$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=
$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.strokeRect(.3*$dims$$.$controlSize$,.3*$dims$$.$controlSize$,.4*$dims$$.$controlSize$,.4*$dims$$.$controlSize$);$A3a$vpl$Canvas$lock$$($ctx$jscomp$2$$,.5*$dims$$.$controlSize$,.52*$dims$$.$controlSize$,.04*$dims$$.$controlSize$,$col$$.$fg$)},"vpl:trashcan":function $$css_draw$jscomp$1$$$__25$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);
$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.32*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.68*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke()},
"vpl:teacher-reset":function $$css_draw$jscomp$1$$$__26$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgTeacherPr$:$col$$.$bgTeacher$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.25*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*
$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.65*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.moveTo(.65*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.65*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgTeacherDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;
$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgTeacherDis$;$A3a$vpl$Canvas$drawHexagonalNut$$($ctx$jscomp$2$$,.63*$dims$$.$controlSize$,.7*$dims$$.$controlSize$,.2*$dims$$.$controlSize$)},"vpl:teacher-save":function $$css_draw$jscomp$1$$$__27$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgTeacherPr$:$col$$.$bgTeacher$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?
$col$$.$fg$:$col$$.$fgTeacherDis$;$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.25*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.moveTo(.6*$dims$$.$controlSize$,
.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.lineWidth=2*$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.8*$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.moveTo(.7*
$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.9*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgTeacherDis$;$A3a$vpl$Canvas$drawHexagonalNut$$($ctx$jscomp$2$$,.46*$dims$$.$controlSize$,.45*$dims$$.$controlSize$,.2*$dims$$.$controlSize$)},"vpl:teacher-setasnew":function $$css_draw$jscomp$1$$$__28$(){$ctx$jscomp$2$$.fillStyle=
$isPressed$jscomp$1$$&&$isEnabled$$?$isSelected$$?$col$$.$bgTeacherPrOn$:$col$$.$bgTeacherPr$:$isSelected$$&&$isEnabled$$?$col$$.$bgTeacherOn$:$col$$.$bgTeacher$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgTeacherDis$;$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.25*$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*
$dims$$.$controlSize$,.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.moveTo(.6*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.67*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;
$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.lineWidth=2*$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.8*$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.5*$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.moveTo(.6*$dims$$.$controlSize$,.4*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.5*$dims$$.$controlSize$,.5*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.6*$dims$$.$controlSize$,.6*$dims$$.$controlSize$);$ctx$jscomp$2$$.stroke();
$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$||$isPressed$jscomp$1$$?$col$$.$fg$:$col$$.$fgTeacherOff$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.1*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.1*$dims$$.$controlSize$)},"vpl:teacher":function $$css_draw$jscomp$1$$$__29$(){$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$isSelected$$?$col$$.$bgTeacherPrOn$:$col$$.$bgTeacherPr$:$isSelected$$&&$isEnabled$$?$col$$.$bgTeacherOn$:$col$$.$bgTeacher$;$ctx$jscomp$2$$.fillRect(0,
0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgTeacherDis$;$A3a$vpl$Canvas$drawHexagonalNut$$($ctx$jscomp$2$$,.5*$dims$$.$controlSize$,.4*$dims$$.$controlSize$,.27*$dims$$.$controlSize$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$||$isPressed$jscomp$1$$?$col$$.$fg$:$col$$.$fgTeacherOff$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.1*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.1*$dims$$.$controlSize$)},"src:vpl":function $$css_draw$jscomp$1$$$__30$(){$ctx$jscomp$2$$.save();
$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.25*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.25*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.8*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.65*
$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.moveTo(.65*$dims$$.$controlSize$,.2*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.65*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.3*$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?
$col$$.$fg$:$col$$.$fgDim$;for(var $y$jscomp$70$$=.15;.6>$y$jscomp$70$$;$y$jscomp$70$$+=.15)$ctx$jscomp$2$$.fillRect(.3*$dims$$.$controlSize$,$dims$$.$controlSize$*(.2+$y$jscomp$70$$),.4*$dims$$.$controlSize$,.1*$dims$$.$controlSize$);$ctx$jscomp$2$$.restore()},"src:locked":function $$css_draw$jscomp$1$$$__31$(){$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isPressed$jscomp$1$$?$col$$.$bgPr$:$isSelected$$?$col$$.$bgOn$:$col$$.$bg$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,
$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$?$col$$.$fgDimOn$:$col$$.$fgDim$:$col$$.$fgDis$;for(var $y$jscomp$71$$=.15;.6>$y$jscomp$71$$;$y$jscomp$71$$+=.15)$ctx$jscomp$2$$.fillRect(.15*$dims$$.$controlSize$,$dims$$.$controlSize$*$y$jscomp$71$$,.4*$dims$$.$controlSize$,.1*$dims$$.$controlSize$);$A3a$vpl$Canvas$lock$$($ctx$jscomp$2$$,.77*$dims$$.$controlSize$,
.36*$dims$$.$controlSize$,.06*$dims$$.$controlSize$,$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$,!$isSelected$$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$||$isPressed$jscomp$1$$?$col$$.$fg$:$col$$.$fgOff$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.1*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.1*$dims$$.$controlSize$);$ctx$jscomp$2$$.restore()},"src:language":function $$css_draw$jscomp$1$$$__32$(){var $s$jscomp$5$$=$dims$$.$controlSize$;$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=
$isEnabled$$?$isPressed$jscomp$1$$?$col$$.$bgPr$:$col$$.$bg$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$s$jscomp$5$$,$s$jscomp$5$$);$ctx$jscomp$2$$.beginPath();for(var $i$jscomp$48$$=0;3>$i$jscomp$48$$;$i$jscomp$48$$++)$ctx$jscomp$2$$.moveTo(.2*$s$jscomp$5$$,$s$jscomp$5$$*(.2+.1*$i$jscomp$48$$)),$ctx$jscomp$2$$.lineTo(.5*$s$jscomp$5$$,$s$jscomp$5$$*(.2+.1*$i$jscomp$48$$));$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();
for($i$jscomp$48$$=0;3>$i$jscomp$48$$;$i$jscomp$48$$++){var $phi$$=2*($i$jscomp$48$$+.25)/3*Math.PI;$A3a$vpl$Canvas$drawArcArrow$$($ctx$jscomp$2$$,.75*$s$jscomp$5$$,.3*$s$jscomp$5$$,.15*$s$jscomp$5$$,$phi$$-.3*Math.PI,$phi$$+.3*Math.PI,{$arrowAtStart$:!1,$arrowSize$:3*$dims$$.$controlLineWidth$,style:$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$})}$ctx$jscomp$2$$.textAlign="center";$ctx$jscomp$2$$.textBaseline="middle";$ctx$jscomp$2$$.font="bold "+Math.round($s$jscomp$5$$/3).toString(10)+"px sans-serif";
$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillText({aseba:"Aa",l2:"l2",js:"js",python:"py"}[$state$jscomp$2$$],.5*$s$jscomp$5$$,.7*$s$jscomp$5$$);$ctx$jscomp$2$$.restore()},"src:disass":function $$css_draw$jscomp$1$$$__33$(){var $s$jscomp$6$$=$dims$$.$controlSize$;$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isEnabled$$&&$isPressed$jscomp$1$$?$col$$.$bgPr$:$isSelected$$?$col$$.$bgOn$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$s$jscomp$6$$,$s$jscomp$6$$);
$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(.2*$s$jscomp$6$$,.2*$s$jscomp$6$$);$ctx$jscomp$2$$.lineTo(.3*$s$jscomp$6$$,.2*$s$jscomp$6$$);for(var $i$jscomp$49$$=0;5>$i$jscomp$49$$;$i$jscomp$49$$++)$ctx$jscomp$2$$.moveTo(.4*$s$jscomp$6$$,$s$jscomp$6$$*(.2+.1*$i$jscomp$49$$)),$ctx$jscomp$2$$.lineTo(.45*$s$jscomp$6$$,$s$jscomp$6$$*(.2+.1*$i$jscomp$49$$)),$ctx$jscomp$2$$.moveTo(.55*$s$jscomp$6$$,$s$jscomp$6$$*(.2+.1*$i$jscomp$49$$)),$ctx$jscomp$2$$.lineTo(.65*$s$jscomp$6$$,$s$jscomp$6$$*(.2+.1*
$i$jscomp$49$$));$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.fillStyle=$isEnabled$$&&($isSelected$$||$isPressed$jscomp$1$$)?$col$$.$fg$:$col$$.$fgOff$;$ctx$jscomp$2$$.fillRect(.1*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.1*$dims$$.$controlSize$);$ctx$jscomp$2$$.restore()},"sim:restart":function $$css_draw$jscomp$1$$$__34$(){$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=
$isPressed$jscomp$1$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$box$jscomp$6$$.width,$box$jscomp$6$$.height);var $s$jscomp$7$$=$dims$$.$controlSize$;$ctx$jscomp$2$$.lineWidth=.08*$s$jscomp$7$$;$A3a$vpl$Canvas$drawArcArrow$$($ctx$jscomp$2$$,.5*$s$jscomp$7$$,.5*$s$jscomp$7$$,.28*$s$jscomp$7$$,.1,-.1,{$arrowAtStart$:!1,$arrowSize$:.2*$s$jscomp$7$$,style:$col$$.$fg$});$ctx$jscomp$2$$.restore()},"sim:pause":function $$css_draw$jscomp$1$$$__35$(){$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=
$isPressed$jscomp$1$$?$col$$.$bgPr$:$isSelected$$?$col$$.$bgOn$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.28*$dims$$.$controlSize$,.28*$dims$$.$controlSize$,.15*$dims$$.$controlSize$,.44*$dims$$.$controlSize$);$isSelected$$?($ctx$jscomp$2$$.beginPath(),$ctx$jscomp$2$$.moveTo(.54*$dims$$.$controlSize$,.28*$dims$$.$controlSize$),$ctx$jscomp$2$$.lineTo(.62*$dims$$.$controlSize$,
.28*$dims$$.$controlSize$),$ctx$jscomp$2$$.lineTo(.75*$dims$$.$controlSize$,.5*$dims$$.$controlSize$),$ctx$jscomp$2$$.lineTo(.62*$dims$$.$controlSize$,.72*$dims$$.$controlSize$),$ctx$jscomp$2$$.lineTo(.54*$dims$$.$controlSize$,.72*$dims$$.$controlSize$),$ctx$jscomp$2$$.fill()):$ctx$jscomp$2$$.fillRect(.57*$dims$$.$controlSize$,.28*$dims$$.$controlSize$,.15*$dims$$.$controlSize$,.44*$dims$$.$controlSize$);$ctx$jscomp$2$$.restore()},"sim:speedup":function $$css_draw$jscomp$1$$$__36$(){$ctx$jscomp$2$$.save();
$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$isSelected$$?$col$$.$bgOn$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.beginPath();for(var $i$jscomp$50$$=0;2>$i$jscomp$50$$;$i$jscomp$50$$++)$ctx$jscomp$2$$.moveTo($dims$$.$controlSize$*(.3+.22*$i$jscomp$50$$),.25*$dims$$.$controlSize$/2),$ctx$jscomp$2$$.lineTo($dims$$.$controlSize$*(.3+.22*$i$jscomp$50$$),
.75*$dims$$.$controlSize$/2),$ctx$jscomp$2$$.lineTo($dims$$.$controlSize$*(.5+.22*$i$jscomp$50$$),.5*$dims$$.$controlSize$/2),$ctx$jscomp$2$$.closePath();$ctx$jscomp$2$$.fill();$ctx$jscomp$2$$.textAlign="center";$ctx$jscomp$2$$.textBaseline="middle";$ctx$jscomp$2$$.font="bold "+Math.round($dims$$.$controlSize$/3).toString(10)+"px sans-serif";$ctx$jscomp$2$$.fillText(1<=$state$jscomp$2$$?"\u00d7"+$state$jscomp$2$$.toString(10):"\u00f7"+Math.round(1/$state$jscomp$2$$).toString(10),.5*$dims$$.$controlSize$,
.7*$dims$$.$controlSize$);$ctx$jscomp$2$$.restore()},"sim:noise":function $$css_draw$jscomp$1$$$__37$(){$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$isSelected$$?$col$$.$bgOn$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.beginPath();var $noise$$=[.58,1.48,.96,.39,1.36,.09,-.75,-1.58,-.32,-1.36,-1.39,-.94,-1.1,-1.04,-.1,.93,1.22,.6,.89,.61];$ctx$jscomp$2$$.moveTo(.1*$dims$$.$controlSize$,
(.4+.1*$noise$$[0])*$dims$$.$controlSize$);for(var $i$jscomp$51$$=1;$i$jscomp$51$$<$noise$$.length;$i$jscomp$51$$++)$ctx$jscomp$2$$.lineTo((.1+.8/($noise$$.length-1)*$i$jscomp$51$$)*$dims$$.$controlSize$,(.4+.1*$noise$$[$i$jscomp$51$$])*$dims$$.$controlSize$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$||$isPressed$jscomp$1$$?$col$$.$fg$:$col$$.$fgOff$:
$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.1*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.8*$dims$$.$controlSize$,.1*$dims$$.$controlSize$);$ctx$jscomp$2$$.restore()},"sim:pen":function $$css_draw$jscomp$1$$$__38$(){var $s$jscomp$8$$=$dims$$.$controlSize$;$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$isSelected$$?$col$$.$bgOn$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$s$jscomp$8$$,$s$jscomp$8$$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$||
$isPressed$jscomp$1$$?$col$$.$fg$:$col$$.$fgOff$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.1*$s$jscomp$8$$,.8*$s$jscomp$8$$,.8*$s$jscomp$8$$,.1*$s$jscomp$8$$);$ctx$jscomp$2$$.translate(.5*$s$jscomp$8$$,$s$jscomp$8$$*(.4+($isSelected$$?.13:0)));$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(-.015/.22*$s$jscomp$8$$,.07*$s$jscomp$8$$);$ctx$jscomp$2$$.lineTo(0,.22*$s$jscomp$8$$);$ctx$jscomp$2$$.lineTo(.015/.22*$s$jscomp$8$$,.07*$s$jscomp$8$$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;
$ctx$jscomp$2$$.fill();$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.moveTo(-.1*$s$jscomp$8$$,-.22*$s$jscomp$8$$);$ctx$jscomp$2$$.lineTo(-.1*$s$jscomp$8$$,0);$ctx$jscomp$2$$.lineTo(0,.22*$s$jscomp$8$$);$ctx$jscomp$2$$.lineTo(.1*$s$jscomp$8$$,0);$ctx$jscomp$2$$.lineTo(.1*$s$jscomp$8$$,-.22*$s$jscomp$8$$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.restore()},"sim:clear":function $$css_draw$jscomp$1$$$__39$(){var $s$jscomp$9$$=
$dims$$.$controlSize$;$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$s$jscomp$9$$,$s$jscomp$9$$);$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.strokeRect(.15*$s$jscomp$9$$,.25*$s$jscomp$9$$,.7*$s$jscomp$9$$,.5*$s$jscomp$9$$);$ctx$jscomp$2$$.translate(.5*$s$jscomp$9$$,.4*$s$jscomp$9$$);$ctx$jscomp$2$$.rotate(.4);$ctx$jscomp$2$$.fillStyle=
$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(0,0,.3*$s$jscomp$9$$,.2*$s$jscomp$9$$);$ctx$jscomp$2$$.restore()},"sim:map-kind":function $$css_draw$jscomp$1$$$__40$(){var $s$jscomp$10$$=$dims$$.$controlSize$,$lineWidth$$=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.lineWidth=$lineWidth$$;$ctx$jscomp$2$$.strokeStyle=
$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;for(var $i0$$=["ground","height","obstacles"].indexOf($state$jscomp$2$$),$i$jscomp$52$$=0;3>$i$jscomp$52$$;$i$jscomp$52$$++){var $phi$jscomp$1$$=2*($i$jscomp$52$$+.25)/3*Math.PI;$i$jscomp$52$$===$i0$$?$ctx$jscomp$2$$.fillRect($s$jscomp$10$$*(.35+.25*Math.cos($phi$jscomp$1$$)),$s$jscomp$10$$*(.39+.25*Math.sin($phi$jscomp$1$$)),.3*$s$jscomp$10$$,.22*$s$jscomp$10$$):$ctx$jscomp$2$$.strokeRect($s$jscomp$10$$*
(.35+.25*Math.cos($phi$jscomp$1$$)),$s$jscomp$10$$*(.39+.25*Math.sin($phi$jscomp$1$$)),.3*$s$jscomp$10$$,.22*$s$jscomp$10$$);$A3a$vpl$Canvas$drawArcArrow$$($ctx$jscomp$2$$,.5*$s$jscomp$10$$,.5*$s$jscomp$10$$,.36*$s$jscomp$10$$,$phi$jscomp$1$$-.42*Math.PI,$phi$jscomp$1$$-.22*Math.PI,{$arrowAtStart$:!1,$arrowSize$:3*$lineWidth$$,style:$col$$.$fg$})}$ctx$jscomp$2$$.restore()},"sim:map":function $$css_draw$jscomp$1$$$__41$(){var $s$jscomp$11$$=$dims$$.$controlSize$;$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=
$isPressed$jscomp$1$$&&$isEnabled$$?$col$$.$bgPr$:$isSelected$$?$col$$.$bgOn$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$dims$$.$controlSize$,$dims$$.$controlSize$);$ctx$jscomp$2$$.fillStyle=$isEnabled$$?$isSelected$$||$isPressed$jscomp$1$$?$col$$.$fg$:$col$$.$fgOff$:$col$$.$fgDis$;$ctx$jscomp$2$$.fillRect(.1*$s$jscomp$11$$,.8*$s$jscomp$11$$,.8*$s$jscomp$11$$,.1*$s$jscomp$11$$);$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.strokeStyle=$isEnabled$$?$col$$.$fg$:$col$$.$fgDis$;
$ctx$jscomp$2$$.strokeRect(.15*$s$jscomp$11$$,.15*$s$jscomp$11$$,.7*$s$jscomp$11$$,.5*$s$jscomp$11$$);switch($state$jscomp$2$$){case "ground":$ctx$jscomp$2$$.lineWidth=.08*$s$jscomp$11$$;$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.arc(.6*$s$jscomp$11$$,.4*$s$jscomp$11$$,.15*$s$jscomp$11$$,-.5*Math.PI,.5*Math.PI);$ctx$jscomp$2$$.lineTo(.4*$s$jscomp$11$$,.55*$s$jscomp$11$$);$ctx$jscomp$2$$.arc(.4*$s$jscomp$11$$,.4*$s$jscomp$11$$,.15*$s$jscomp$11$$,.5*Math.PI,1.5*Math.PI);$ctx$jscomp$2$$.closePath();
$ctx$jscomp$2$$.stroke();break;case "height":for(var $y$jscomp$72$$=0;.75>=$y$jscomp$72$$;$y$jscomp$72$$+=.25)for(var $x$jscomp$85$$=0;1>=$x$jscomp$85$$;$x$jscomp$85$$+=.1){var $xd$$=$s$jscomp$11$$*(.2+.5*$x$jscomp$85$$+.15*$y$jscomp$72$$),$yd$$=$s$jscomp$11$$*(.5-.3*$y$jscomp$72$$-.2*(.2*Math.cos(5*$x$jscomp$85$$+2*$y$jscomp$72$$-3)-($y$jscomp$72$$-.9)*($y$jscomp$72$$-.9)/3));0===$x$jscomp$85$$?$ctx$jscomp$2$$.moveTo($xd$$,$yd$$):$ctx$jscomp$2$$.lineTo($xd$$,$yd$$)}$ctx$jscomp$2$$.stroke();break;
case "obstacles":$ctx$jscomp$2$$.strokeRect(.2*$s$jscomp$11$$,.2*$s$jscomp$11$$,.6*$s$jscomp$11$$,.4*$s$jscomp$11$$),$ctx$jscomp$2$$.beginPath(),$ctx$jscomp$2$$.moveTo(.4*$s$jscomp$11$$,.2*$s$jscomp$11$$),$ctx$jscomp$2$$.lineTo(.4*$s$jscomp$11$$,.43*$s$jscomp$11$$),$ctx$jscomp$2$$.moveTo(.6*$s$jscomp$11$$,.6*$s$jscomp$11$$),$ctx$jscomp$2$$.lineTo(.6*$s$jscomp$11$$,.37*$s$jscomp$11$$),$ctx$jscomp$2$$.stroke()}$ctx$jscomp$2$$.restore()},"sim-event:forward":function $$css_draw$jscomp$1$$$__42$(){$drawButtonTri$$(0,
0,1)},"sim-event:backward":function $$css_draw$jscomp$1$$$__43$(){$drawButtonTri$$(0,0,3)},"sim-event:left":function $$css_draw$jscomp$1$$$__44$(){$drawButtonTri$$(0,0,2)},"sim-event:right":function $$css_draw$jscomp$1$$$__45$(){$drawButtonTri$$(0,0,0)},"sim-event:center":function $$css_draw$jscomp$1$$$__46$(){$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$box$jscomp$6$$.width,$box$jscomp$6$$.height);$ctx$jscomp$2$$.beginPath();
$ctx$jscomp$2$$.arc(.5*$box$jscomp$6$$.width,.5*$box$jscomp$6$$.width,.25*$box$jscomp$6$$.width,0,2*Math.PI);$ctx$jscomp$2$$.strokeStyle=$col$$.$fg$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.restore()},"sim-event:clap":function $$css_draw$jscomp$1$$$__47$(){$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$box$jscomp$6$$.width,$box$jscomp$6$$.height);$ctx$jscomp$2$$.beginPath();
$ctx$jscomp$2$$.strokeStyle=$col$$.$fg$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.translate(.5*$box$jscomp$6$$.width,.5*$box$jscomp$6$$.width);$ctx$jscomp$2$$.rotate(.1);for(var $i$jscomp$53$$=0;9>$i$jscomp$53$$;$i$jscomp$53$$++)$ctx$jscomp$2$$.beginPath(),$ctx$jscomp$2$$.moveTo(.12*$box$jscomp$6$$.width,0),$ctx$jscomp$2$$.lineTo(.24*$box$jscomp$6$$.width,0),$ctx$jscomp$2$$.moveTo(.28*$box$jscomp$6$$.width,0),$ctx$jscomp$2$$.lineTo(.36*$box$jscomp$6$$.width,0),$ctx$jscomp$2$$.stroke(),
$ctx$jscomp$2$$.rotate(Math.PI/4.5);$ctx$jscomp$2$$.restore()},"sim-event:tap":function $$css_draw$jscomp$1$$$__48$(){$ctx$jscomp$2$$.save();$ctx$jscomp$2$$.fillStyle=$isPressed$jscomp$1$$?$col$$.$bgPr$:$col$$.$bg$;$ctx$jscomp$2$$.fillRect(0,0,$box$jscomp$6$$.width,$box$jscomp$6$$.height);$ctx$jscomp$2$$.beginPath();$ctx$jscomp$2$$.strokeStyle=$col$$.$fg$;$ctx$jscomp$2$$.lineWidth=$dims$$.$controlLineWidth$;$ctx$jscomp$2$$.translate(.6*$box$jscomp$6$$.width,.6*$box$jscomp$6$$.width);for(var $i$jscomp$54$$=
1;3>=$i$jscomp$54$$;$i$jscomp$54$$++)$ctx$jscomp$2$$.beginPath(),$ctx$jscomp$2$$.arc(0,0,.15*$box$jscomp$6$$.width*$i$jscomp$54$$,.9*Math.PI,1.7*Math.PI),$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.moveTo(.3*$box$jscomp$6$$.width,0);$ctx$jscomp$2$$.lineTo(0,0);$ctx$jscomp$2$$.lineTo(0,.3*$box$jscomp$6$$.width);$ctx$jscomp$2$$.stroke();$ctx$jscomp$2$$.restore()}};$css_draw$jscomp$1$$["vpl:message-warning"]=$css_draw$jscomp$1$$["vpl:message-error"];$css_draw$jscomp$1$$["src:close"]=$css_draw$jscomp$1$$["vpl:close"];
$css_draw$jscomp$1$$["src:new"]=$css_draw$jscomp$1$$["vpl:new"];$css_draw$jscomp$1$$["src:save"]=$css_draw$jscomp$1$$["vpl:save"];$css_draw$jscomp$1$$["src:load"]=$css_draw$jscomp$1$$["vpl:load"];$css_draw$jscomp$1$$["src:run"]=$css_draw$jscomp$1$$["vpl:run"];$css_draw$jscomp$1$$["src:stop"]=$css_draw$jscomp$1$$["vpl:stop"];$css_draw$jscomp$1$$["src:connected"]=$css_draw$jscomp$1$$["vpl:connected"];$css_draw$jscomp$1$$["src:sim"]=$css_draw$jscomp$1$$["vpl:sim"];$css_draw$jscomp$1$$["src:teacher"]=
$css_draw$jscomp$1$$["vpl:teacher"];$css_draw$jscomp$1$$["src:teacher-reset"]=$css_draw$jscomp$1$$["vpl:teacher-reset"];$css_draw$jscomp$1$$["sim:close"]=$css_draw$jscomp$1$$["vpl:close"];$css_draw$jscomp$1$$["sim:vpl"]=$css_draw$jscomp$1$$["src:vpl"];$css_draw$jscomp$1$$["sim:text"]=$css_draw$jscomp$1$$["vpl:text"];$css_draw$jscomp$1$$["sim:teacher"]=$css_draw$jscomp$1$$["vpl:teacher"];$css_draw$jscomp$1$$["sim:teacher-reset"]=$css_draw$jscomp$1$$["vpl:teacher-reset"];($dr_id$jscomp$10$$=$css_draw$jscomp$1$$[$dr_id$jscomp$10$$])&&
$dr_id$jscomp$10$$()}
function $A3a$vpl$Commands$getButtonBoundsJS$$($id$jscomp$11$$,$dims$jscomp$1$$){switch($id$jscomp$11$$){case "vpl:close":case "src:close":case "sim:close":return{$xmin$:0,$xmax$:$dims$jscomp$1$$.$controlSize$/2,$ymin$:0,$ymax$:$dims$jscomp$1$$.$controlSize$};case "vpl:message-error":case "vpl:message-warning":case "vpl:message-empty":return{$xmin$:0,$xmax$:5*$dims$jscomp$1$$.$controlSize$,$ymin$:0,$ymax$:$dims$jscomp$1$$.$controlSize$};case "vpl:filename":return{$xmin$:0,$xmax$:3*$dims$jscomp$1$$.$controlSize$,
$ymin$:0,$ymax$:$dims$jscomp$1$$.$controlSize$}}return{$xmin$:0,$xmax$:$dims$jscomp$1$$.$controlSize$,$ymin$:0,$ymax$:$dims$jscomp$1$$.$controlSize$}};function $JSCompiler_StaticMethods_addButton$$($JSCompiler_StaticMethods_addButton$self$$,$app$jscomp$105$$,$id$jscomp$12$$,$cssClasses$jscomp$1$$,$drawButton$$,$buttonBounds$$){var $disabled$$=0<=$app$jscomp$105$$.$uiConfig$.$b$.indexOf($id$jscomp$12$$);if($app$jscomp$105$$.$b$.$isAvailable$($id$jscomp$12$$)&&($app$jscomp$105$$.$uiConfig$.$customizationMode$||!$disabled$$)){var $canvas$jscomp$6$$=$JSCompiler_StaticMethods_addButton$self$$.$i$,$keepAvailable$$=$app$jscomp$105$$.$b$.find($id$jscomp$12$$).$keep$;
$JSCompiler_StaticMethods_A3a_vpl_ControlBar_prototype$addControl$$($JSCompiler_StaticMethods_addButton$self$$,function($ctx$jscomp$3$$,$box$jscomp$7$$,$isPressed$jscomp$2$$){$drawButton$$($id$jscomp$12$$,$ctx$jscomp$3$$,$canvas$jscomp$6$$.$dims$,$canvas$jscomp$6$$.$css$,$cssClasses$jscomp$1$$,$app$jscomp$105$$.$b$.isEnabled($id$jscomp$12$$),$app$jscomp$105$$.$b$.$isSelected$($id$jscomp$12$$),$isPressed$jscomp$2$$,$app$jscomp$105$$.$b$.getState($id$jscomp$12$$));$disabled$$&&$JSCompiler_StaticMethods_disabledMark$$($canvas$jscomp$6$$,
0,0,$box$jscomp$7$$.width,$box$jscomp$7$$.height,["button"],["button"])},$buttonBounds$$,$app$jscomp$105$$.$uiConfig$.$customizationMode$&&!$keepAvailable$$?function(){$app$jscomp$105$$.$uiConfig$.toggle($id$jscomp$12$$);return 1}:$JSCompiler_StaticMethods_hasAction$$($app$jscomp$105$$.$b$,$id$jscomp$12$$)?function($downEvent$jscomp$1_modifier$jscomp$inline_412$$){var $JSCompiler_StaticMethods_A3a_vpl_Commands_prototype$execute$self$jscomp$inline_410$$=$app$jscomp$105$$.$b$;$downEvent$jscomp$1_modifier$jscomp$inline_412$$=
$downEvent$jscomp$1_modifier$jscomp$inline_412$$.$modifier$;var $cmd$jscomp$inline_413$$=$JSCompiler_StaticMethods_A3a_vpl_Commands_prototype$execute$self$jscomp$inline_410$$.find($id$jscomp$12$$);$cmd$jscomp$inline_413$$&&($JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$$($cmd$jscomp$inline_413$$,$downEvent$jscomp$1_modifier$jscomp$inline_412$$),$JSCompiler_StaticMethods_logExecCommand$$($JSCompiler_StaticMethods_A3a_vpl_Commands_prototype$execute$self$jscomp$inline_410$$,$id$jscomp$12$$))}:
null,$app$jscomp$105$$.$uiConfig$.$customizationMode$&&!$keepAvailable$$?null:function($targetItem$$,$droppedItem$jscomp$4$$){$app$jscomp$105$$.$b$.$doDrop$($id$jscomp$12$$,$droppedItem$jscomp$4$$)},$app$jscomp$105$$.$uiConfig$.$customizationMode$&&!$keepAvailable$$?null:function($targetItem$jscomp$1$$,$droppedItem$jscomp$5$$){return $app$jscomp$105$$.$b$.$canDrop$($id$jscomp$12$$,$droppedItem$jscomp$5$$)},$id$jscomp$12$$)}}
function $JSCompiler_StaticMethods_setButtons$$($JSCompiler_StaticMethods_setButtons$self$$,$app$jscomp$106$$,$buttons$jscomp$1$$,$cssClasses$jscomp$2$$,$drawButton$jscomp$1$$,$getButtonBounds$$){$JSCompiler_StaticMethods_setButtons$self$$.$g$=[];$JSCompiler_StaticMethods_setButtons$self$$.$b$="";for(var $i$jscomp$55$$=0;$i$jscomp$55$$<$buttons$jscomp$1$$.length;$i$jscomp$55$$++)switch($buttons$jscomp$1$$[$i$jscomp$55$$]){case "!space":$JSCompiler_StaticMethods_setButtons$self$$.$b$+=" ";break;case "!!space":$JSCompiler_StaticMethods_setButtons$self$$.$b$+=
"_";break;case "!stretch":$JSCompiler_StaticMethods_setButtons$self$$.$b$+="s";break;case "!!stretch":$JSCompiler_StaticMethods_setButtons$self$$.$b$+="S";break;default:$JSCompiler_StaticMethods_addButton$$($JSCompiler_StaticMethods_setButtons$self$$,$app$jscomp$106$$,$buttons$jscomp$1$$[$i$jscomp$55$$],$cssClasses$jscomp$2$$,$drawButton$jscomp$1$$,$getButtonBounds$$($buttons$jscomp$1$$[$i$jscomp$55$$],$JSCompiler_StaticMethods_setButtons$self$$.$i$.$dims$,$app$jscomp$106$$.$b$.find($buttons$jscomp$1$$[$i$jscomp$55$$]).$obj$))}}
function $A3a$vpl$ControlBar$hasAvailableButtons$$($app$jscomp$107$$,$buttons$jscomp$2$$){for(var $i$jscomp$56$$=0;$i$jscomp$56$$<$buttons$jscomp$2$$.length;$i$jscomp$56$$++)if("!"!==$buttons$jscomp$2$$[$i$jscomp$56$$][0]&&$app$jscomp$107$$.$b$.$isAvailable$($buttons$jscomp$2$$[$i$jscomp$56$$]))return!0;return!1}
function $A3a$vpl$ControlBar$buttonBoxes$$($app$jscomp$108$$,$buttons$jscomp$3$$,$cssClasses$jscomp$3$$){for(var $boxes$$={},$i$jscomp$57$$=0;$i$jscomp$57$$<$buttons$jscomp$3$$.length;$i$jscomp$57$$++)if("!"!==$buttons$jscomp$3$$[$i$jscomp$57$$][0]&&$app$jscomp$108$$.$b$.find($buttons$jscomp$3$$[$i$jscomp$57$$]).$isAvailable$()){var $buttonBox$$=$JSCompiler_StaticMethods_getBox$$($app$jscomp$108$$.$css$,{tag:"button",id:$buttons$jscomp$3$$[$i$jscomp$57$$].replace(/:/g,"-"),$clas$:$cssClasses$jscomp$3$$});
$boxes$$[$buttons$jscomp$3$$[$i$jscomp$57$$]]=$buttonBox$$}return $boxes$$}function $A3a$vpl$ControlBar$maxBoxHeight$$($boxes$jscomp$1$$){var $maxHeight$$=0,$key$jscomp$37$$;for($key$jscomp$37$$ in $boxes$jscomp$1$$)$boxes$jscomp$1$$.hasOwnProperty($key$jscomp$37$$)&&($maxHeight$$=Math.max($maxHeight$$,$boxes$jscomp$1$$[$key$jscomp$37$$].$totalHeight$()));return $maxHeight$$};var $A3a$vpl$widgetsJS$$={"vpl:then":function($ctx$jscomp$4$$,$id$jscomp$13_s$jscomp$12$$,$dims$jscomp$2$$,$box$jscomp$8$$){$id$jscomp$13_s$jscomp$12$$=Math.min($box$jscomp$8$$.width,$box$jscomp$8$$.height);$ctx$jscomp$4$$.strokeStyle=$dims$jscomp$2$$.$ruleMarks$;$ctx$jscomp$4$$.lineWidth=.2*$id$jscomp$13_s$jscomp$12$$;$ctx$jscomp$4$$.beginPath();$ctx$jscomp$4$$.moveTo(-.25*$id$jscomp$13_s$jscomp$12$$,-.5*$id$jscomp$13_s$jscomp$12$$);$ctx$jscomp$4$$.lineTo(.25*$id$jscomp$13_s$jscomp$12$$,0);$ctx$jscomp$4$$.lineTo(-.25*
$id$jscomp$13_s$jscomp$12$$,.5*$id$jscomp$13_s$jscomp$12$$);$ctx$jscomp$4$$.stroke()},"vpl:error":function($ctx$jscomp$5$$,$id$jscomp$14_s$jscomp$13$$,$dims$jscomp$3$$,$box$jscomp$9$$){$id$jscomp$14_s$jscomp$13$$=Math.min($box$jscomp$9$$.width,$box$jscomp$9$$.height);$ctx$jscomp$5$$.fillStyle="white";$ctx$jscomp$5$$.strokeStyle=$dims$jscomp$3$$.$errorColor$;$ctx$jscomp$5$$.lineWidth=.07*$id$jscomp$14_s$jscomp$13$$;$ctx$jscomp$5$$.beginPath();$ctx$jscomp$5$$.arc(0,0,.5*$id$jscomp$14_s$jscomp$13$$,
0,2*Math.PI);$ctx$jscomp$5$$.fill();$ctx$jscomp$5$$.stroke();$ctx$jscomp$5$$.fillStyle=$dims$jscomp$3$$.$errorColor$;$ctx$jscomp$5$$.font="bold "+Math.round(.75*$id$jscomp$14_s$jscomp$13$$).toString()+"px sans-serif";$ctx$jscomp$5$$.textAlign="center";$ctx$jscomp$5$$.textBaseline="middle";$ctx$jscomp$5$$.fillText("?",0,.05*$id$jscomp$14_s$jscomp$13$$)},"vpl:warning":function($ctx$jscomp$6$$,$id$jscomp$15_s$jscomp$14$$,$dims$jscomp$4$$,$box$jscomp$10$$){$id$jscomp$15_s$jscomp$14$$=Math.min($box$jscomp$10$$.width,
$box$jscomp$10$$.height);$ctx$jscomp$6$$.fillStyle="white";$ctx$jscomp$6$$.strokeStyle=$dims$jscomp$4$$.$warningColor$;$ctx$jscomp$6$$.lineWidth=.07*$id$jscomp$15_s$jscomp$14$$;$ctx$jscomp$6$$.beginPath();$ctx$jscomp$6$$.arc(0,0,.5*$id$jscomp$15_s$jscomp$14$$,0,2*Math.PI);$ctx$jscomp$6$$.fill();$ctx$jscomp$6$$.stroke();$ctx$jscomp$6$$.fillStyle=$dims$jscomp$4$$.$warningColor$;$ctx$jscomp$6$$.font="bold "+Math.round(.75*$id$jscomp$15_s$jscomp$14$$).toString()+"px sans-serif";$ctx$jscomp$6$$.textAlign=
"center";$ctx$jscomp$6$$.textBaseline="middle";$ctx$jscomp$6$$.fillText("!",0,.05*$id$jscomp$15_s$jscomp$14$$)},"vpl:moreHigh":function($ctx$jscomp$7$$,$id$jscomp$16_s$jscomp$15$$,$dims$jscomp$5$$,$box$jscomp$11$$){$id$jscomp$16_s$jscomp$15$$=Math.min($box$jscomp$11$$.width,$box$jscomp$11$$.height);$ctx$jscomp$7$$.beginPath();$ctx$jscomp$7$$.moveTo(-.2*$id$jscomp$16_s$jscomp$15$$,.1*$id$jscomp$16_s$jscomp$15$$);$ctx$jscomp$7$$.lineTo(0,-.1*$id$jscomp$16_s$jscomp$15$$);$ctx$jscomp$7$$.lineTo(.2*$id$jscomp$16_s$jscomp$15$$,
.1*$id$jscomp$16_s$jscomp$15$$);$ctx$jscomp$7$$.lineWidth=.1*$id$jscomp$16_s$jscomp$15$$;$ctx$jscomp$7$$.strokeStyle="black";$ctx$jscomp$7$$.shadowColor="white";$ctx$jscomp$7$$.shadowBlur=.2*$id$jscomp$16_s$jscomp$15$$;$ctx$jscomp$7$$.stroke()},"vpl:moreLow":function($ctx$jscomp$8$$,$id$jscomp$17_s$jscomp$16$$,$dims$jscomp$6$$,$box$jscomp$12$$){$id$jscomp$17_s$jscomp$16$$=Math.min($box$jscomp$12$$.width,$box$jscomp$12$$.height);$ctx$jscomp$8$$.beginPath();$ctx$jscomp$8$$.moveTo(-.2*$id$jscomp$17_s$jscomp$16$$,
-.1*$id$jscomp$17_s$jscomp$16$$);$ctx$jscomp$8$$.lineTo(0,.1*$id$jscomp$17_s$jscomp$16$$);$ctx$jscomp$8$$.lineTo(.2*$id$jscomp$17_s$jscomp$16$$,-.1*$id$jscomp$17_s$jscomp$16$$);$ctx$jscomp$8$$.lineWidth=.1*$id$jscomp$17_s$jscomp$16$$;$ctx$jscomp$8$$.strokeStyle="black";$ctx$jscomp$8$$.shadowColor="white";$ctx$jscomp$8$$.shadowBlur=.2*$id$jscomp$17_s$jscomp$16$$;$ctx$jscomp$8$$.stroke()},"vpl:customize":function($ctx$jscomp$9$$,$id$jscomp$18_s$jscomp$17$$,$dims$jscomp$7$$,$box$jscomp$13$$){$id$jscomp$18_s$jscomp$17$$=
Math.min($box$jscomp$13$$.width,$box$jscomp$13$$.height);$ctx$jscomp$9$$.fillStyle=$dims$jscomp$7$$.$ruleMarks$;$A3a$vpl$Canvas$drawHexagonalNut$$($ctx$jscomp$9$$,0,0,$id$jscomp$18_s$jscomp$17$$)}};function $A3a$vpl$Program$CanvasRenderingState$$(){this.$i$=new $A3a$vpl$ScrollArea$$;this.$b$=new $A3a$vpl$ScrollArea$$;this.$b$.$o$=!0;this.$g$=new $A3a$vpl$ScrollArea$$}
function $JSCompiler_StaticMethods_addBlockToCanvas$$($JSCompiler_StaticMethods_addBlockToCanvas$self$$,$canvas$jscomp$7$$,$block$jscomp$23$$,$box$jscomp$14$$,$item_x$jscomp$87$$,$y$jscomp$74$$,$opts$$){function $isActionSide$$($type$jscomp$133$$){return"a"===$type$jscomp$133$$||"c"===$type$jscomp$133$$}var $blockSize$$=Math.min($box$jscomp$14$$.width,$box$jscomp$14$$.height),$scale$jscomp$2$$=$blockSize$$/$canvas$jscomp$7$$.$dims$.$blockSize$;$item_x$jscomp$87$$=new $A3a$vpl$CanvasItem$$($block$jscomp$23$$,
$box$jscomp$14$$.width,$box$jscomp$14$$.height,$item_x$jscomp$87$$,$y$jscomp$74$$,function($canvas$jscomp$8$$,$item$jscomp$1$$,$dx$jscomp$4$$,$dy$jscomp$4$$){var $ctx$jscomp$10$$=$canvas$jscomp$8$$.$ctx$;$ctx$jscomp$10$$.save();var $dims0$$=$canvas$jscomp$8$$.$dims$;$canvas$jscomp$8$$.$dims$=$A3a$vpl$Canvas$calcDims$$($blockSize$$,$canvas$jscomp$8$$.$dims$.$controlSize$*$scale$jscomp$2$$);$JSCompiler_StaticMethods_drawAt$$($box$jscomp$14$$,$ctx$jscomp$10$$,$item$jscomp$1$$.x+$dx$jscomp$4$$,$item$jscomp$1$$.y+
$dy$jscomp$4$$);var $JSCompiler_StaticMethods_renderToCanvas$self$jscomp$inline_81$$=$block$jscomp$23$$.$blockTemplate$,$block$jscomp$inline_83$$=$item$jscomp$1$$.data,$x0$jscomp$inline_85$$=$item$jscomp$1$$.x+$dx$jscomp$4$$,$y0$jscomp$inline_86$$=$item$jscomp$1$$.y+$dy$jscomp$4$$;$canvas$jscomp$8$$.$ctx$.save();$canvas$jscomp$8$$.$ctx$.translate($x0$jscomp$inline_85$$,$y0$jscomp$inline_86$$);$JSCompiler_StaticMethods_renderToCanvas$self$jscomp$inline_81$$.$draw$($canvas$jscomp$8$$,$block$jscomp$inline_83$$,
$box$jscomp$14$$);$canvas$jscomp$8$$.$ctx$.restore();$block$jscomp$23$$.locked&&$JSCompiler_StaticMethods_lockedMark$$($canvas$jscomp$8$$,$item$jscomp$1$$.x+$dx$jscomp$4$$,$item$jscomp$1$$.y+$dy$jscomp$4$$,$blockSize$$,$blockSize$$,!0);($block$jscomp$23$$.disabled||$opts$$.disabled)&&$JSCompiler_StaticMethods_disabledMark$$($canvas$jscomp$8$$,$item$jscomp$1$$.x+$dx$jscomp$4$$,$item$jscomp$1$$.y+$dy$jscomp$4$$,$blockSize$$,$blockSize$$,["block"],["block"],!$opts$$.$crossedOut$);$canvas$jscomp$8$$.$dims$=
$dims0$$;$ctx$jscomp$10$$.restore()},$opts$$&&$opts$$.$notInteractive$||$block$jscomp$23$$.disabled||$block$jscomp$23$$.locked||$block$jscomp$23$$.$ruleContainer$&&$block$jscomp$23$$.$ruleContainer$.locked||!$block$jscomp$23$$.$blockTemplate$.$mousedown$?$opts$$&&$opts$$.$mousedown$?{$mousedown$:$opts$$.$mousedown$}:null:{$mousedown$:$block$jscomp$23$$.$blockTemplate$.$mousedown$,$mousedrag$:$block$jscomp$23$$.$blockTemplate$.$mousedrag$},$opts$$&&$opts$$.$notDropTarget$?null:function($targetBlockItem$$,
$newBlockItem$$){$targetBlockItem$$.data.$ruleContainer$&&($JSCompiler_StaticMethods_addBlockToCanvas$self$$.$saveStateBeforeChange$(),$JSCompiler_StaticMethods_setBlock$$($targetBlockItem$$.data.$ruleContainer$,$newBlockItem$$.data,$targetBlockItem$$.data.$positionInContainer$,function(){$JSCompiler_StaticMethods_addBlockToCanvas$self$$.$saveStateBeforeChange$()}));$canvas$jscomp$7$$.$onUpdate$&&$canvas$jscomp$7$$.$onUpdate$()},$opts$$&&$opts$$.$notDropTarget$?null:function($targetItem$jscomp$2$$,
$droppedItem$jscomp$6$$){return $droppedItem$jscomp$6$$.data instanceof $A3a$vpl$Block$$&&($isActionSide$$($targetItem$jscomp$2$$.data.$blockTemplate$.type)===$isActionSide$$($droppedItem$jscomp$6$$.data.$blockTemplate$.type)||"c"===$droppedItem$jscomp$6$$.data.$blockTemplate$.type)&&$targetItem$jscomp$2$$.data!==$droppedItem$jscomp$6$$.data});$opts$$&&$opts$$.$notInteractive$||!$block$jscomp$23$$.$blockTemplate$.$mousedown$||!$JSCompiler_StaticMethods_addBlockToCanvas$self$$.$l$||($item_x$jscomp$87$$.$l$=
function $$item_x$jscomp$87$$$$l$$($zoomedItem$$){return $JSCompiler_StaticMethods_makeZoomedClone$$($canvas$jscomp$7$$,$zoomedItem$$)});$item_x$jscomp$87$$.$u$=!($opts$$&&$opts$$.$notClickable$);$item_x$jscomp$87$$.$i$=!($opts$$&&$opts$$.$notDraggable$);$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$$($canvas$jscomp$7$$,$item_x$jscomp$87$$,$JSCompiler_StaticMethods_itemIndex$$($canvas$jscomp$7$$,$block$jscomp$23$$));return $item_x$jscomp$87$$}
function $JSCompiler_StaticMethods_addBlockTemplateToCanvas$$($JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$,$canvas$jscomp$9_canvasItem$$,$blockTemplate$jscomp$4$$,$box$jscomp$15$$,$x$jscomp$88$$,$y$jscomp$75$$){var $block$jscomp$24$$=new $A3a$vpl$Block$$($blockTemplate$jscomp$4$$,null,null);$blockTemplate$jscomp$4$$.$typicalParam$&&($block$jscomp$24$$.$param$=$blockTemplate$jscomp$4$$.$typicalParam$());var $crossedOut$$=0>("b"===$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.mode?
$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.$enabledBlocksBasic$:$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.$enabledBlocksAdvanced$).indexOf($blockTemplate$jscomp$4$$.name);$canvas$jscomp$9_canvasItem$$=$JSCompiler_StaticMethods_addBlockToCanvas$$($JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$,$canvas$jscomp$9_canvasItem$$,$block$jscomp$24$$,$box$jscomp$15$$,$x$jscomp$88$$,$y$jscomp$75$$,{$notInteractive$:!0,$notDropTarget$:!0,$notDraggable$:$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.$noVPL$||
$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.readOnly,disabled:$crossedOut$$||$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.readOnly,$crossedOut$:$crossedOut$$,$mousedown$:!$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.$uiConfig$.$customizationMode$||$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.$noVPL$||$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.readOnly?null:function(){var $a$jscomp$6$$="b"===$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.mode?
$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.$enabledBlocksBasic$:$JSCompiler_StaticMethods_addBlockTemplateToCanvas$self$$.$enabledBlocksAdvanced$;0<=$a$jscomp$6$$.indexOf($blockTemplate$jscomp$4$$.name)?$a$jscomp$6$$.splice($a$jscomp$6$$.indexOf($blockTemplate$jscomp$4$$.name),1):$a$jscomp$6$$.push($blockTemplate$jscomp$4$$.name);return 1}});$blockTemplate$jscomp$4$$.$typicalParam$&&($canvas$jscomp$9_canvasItem$$.$o$=function $$canvas$jscomp$9_canvasItem$$$$o$$($draggedItem$jscomp$12_item$jscomp$2$$){$draggedItem$jscomp$12_item$jscomp$2$$=
$draggedItem$jscomp$12_item$jscomp$2$$.clone();$draggedItem$jscomp$12_item$jscomp$2$$.data=new $A3a$vpl$Block$$($blockTemplate$jscomp$4$$,null,null);return $draggedItem$jscomp$12_item$jscomp$2$$})}
function $A3a$vpl$Application$measureRuleWidth$$($rule$jscomp$18$$,$displaySingleEvent_sep$$,$cssBoxes$$){var $events$$=[],$totalEvents$$=0;$events$$=$rule$jscomp$18$$.$events$.map(function($event$jscomp$10$$,$j$jscomp$6$$){var $box$jscomp$16$$=$rule$jscomp$18$$.error&&$rule$jscomp$18$$.error.$g$&&(0===$rule$jscomp$18$$.error.$i$.length||0<=$rule$jscomp$18$$.error.$i$.indexOf($j$jscomp$6$$))?$rule$jscomp$18$$.error.$isWarning$?$cssBoxes$$.$blockContainerWarningBox$:$cssBoxes$$.$blockContainerErrorBox$:
$cssBoxes$$.$blockContainerBox$;$box$jscomp$16$$.width=null==$event$jscomp$10$$?$JSCompiler_StaticMethods_totalWidth$$(1===$events$$.length?$cssBoxes$$.$blockEmptyEventOnlyChildBox$:$cssBoxes$$.$blockEmptyEventAuxBox$):$JSCompiler_StaticMethods_totalWidth$$($A3a$vpl$Program$boxForBlockType$$($event$jscomp$10$$,0===$j$jscomp$6$$,$cssBoxes$$));$totalEvents$$+=$JSCompiler_StaticMethods_totalWidth$$($box$jscomp$16$$);return $cssBoxes$$.$blockContainerBox$.width});if(0===$rule$jscomp$18$$.$events$.length||
!$displaySingleEvent_sep$$&&null!==$rule$jscomp$18$$.$events$[$rule$jscomp$18$$.$events$.length-1])$cssBoxes$$.$blockContainerBox$.width=$JSCompiler_StaticMethods_totalWidth$$(0===$rule$jscomp$18$$.$events$.length?$cssBoxes$$.$blockEmptyEventOnlyChildBox$:$cssBoxes$$.$blockEmptyEventAuxBox$),$events$$.push($cssBoxes$$.$blockContainerBox$.width),$totalEvents$$+=$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$$.$blockContainerBox$);$displaySingleEvent_sep$$=$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$$.$ruleSeparatorBox$);
var $actions$$=[],$totalActions$$=0;$actions$$=$rule$jscomp$18$$.actions.map(function($action$jscomp$4$$,$j$jscomp$7$$){var $box$jscomp$17$$=$rule$jscomp$18$$.error&&!$rule$jscomp$18$$.error.$g$&&(0===$rule$jscomp$18$$.error.$b$.length||0<=$rule$jscomp$18$$.error.$b$.indexOf($j$jscomp$7$$))?$rule$jscomp$18$$.error.$isWarning$?$cssBoxes$$.$blockContainerWarningBox$:$cssBoxes$$.$blockContainerErrorBox$:$cssBoxes$$.$blockContainerBox$;$box$jscomp$17$$.width=null==$action$jscomp$4$$?$JSCompiler_StaticMethods_totalWidth$$(1===
$actions$$.length?$cssBoxes$$.$blockEmptyActionOnlyChildBox$:$cssBoxes$$.$blockEmptyActionBox$):$JSCompiler_StaticMethods_totalWidth$$($A3a$vpl$Program$boxForBlockType$$($action$jscomp$4$$,0===$j$jscomp$7$$,$cssBoxes$$));$totalActions$$+=$JSCompiler_StaticMethods_totalWidth$$($box$jscomp$17$$);return $JSCompiler_StaticMethods_totalWidth$$($box$jscomp$17$$)});if(0===$rule$jscomp$18$$.actions.length||null!==$rule$jscomp$18$$.actions[$rule$jscomp$18$$.actions.length-1])$cssBoxes$$.$blockContainerBox$.width=
$JSCompiler_StaticMethods_totalWidth$$(0===$rule$jscomp$18$$.actions.length?$cssBoxes$$.$blockEmptyActionOnlyChildBox$:$cssBoxes$$.$blockEmptyActionBox$),$actions$$.push($cssBoxes$$.$blockContainerBox$.width),$totalActions$$+=$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$$.$blockContainerBox$);return{total:$totalEvents$$+$displaySingleEvent_sep$$+$totalActions$$,$events$:$events$$,$totalEvents$:$totalEvents$$,$sep$:$displaySingleEvent_sep$$,actions:$actions$$,$totalActions$:$totalActions$$}}
function $A3a$vpl$Program$boxForBlockType$$($block$jscomp$25$$,$isFirst$$,$cssBoxes$jscomp$1$$){switch($block$jscomp$25$$.$blockTemplate$.type){case "e":return $isFirst$$?$cssBoxes$jscomp$1$$.$blockEventMainBox$:$cssBoxes$jscomp$1$$.$blockEventAuxBox$;case "a":return $cssBoxes$jscomp$1$$.$blockActionBox$;case "s":return $cssBoxes$jscomp$1$$.$blockStateBox$;case "c":return $cssBoxes$jscomp$1$$.$blockCommentBox$;default:throw"internal";}}
function $JSCompiler_StaticMethods_addRuleToCanvas$$($JSCompiler_StaticMethods_addRuleToCanvas$self$$,$canvas$jscomp$11$$,$rule$jscomp$19$$,$displaySingleEvent$jscomp$1$$,$maxWidthForEventRightAlign$$,$eventX0$$,$actionX0$$,$y$jscomp$77$$,$cssBoxes$jscomp$2$$){var $x$jscomp$90$$=$eventX0$$,$widths$$=$A3a$vpl$Application$measureRuleWidth$$($rule$jscomp$19$$,$displaySingleEvent$jscomp$1$$,$cssBoxes$jscomp$2$$),$block0Box$$=0<$rule$jscomp$19$$.$events$.length&&"e"===$rule$jscomp$19$$.$events$[0].$blockTemplate$.type?
$cssBoxes$jscomp$2$$.$blockEventMainBox$:$cssBoxes$jscomp$2$$.$blockEventAuxBox$,$item$jscomp$3$$=new $A3a$vpl$CanvasItem$$($rule$jscomp$19$$,$JSCompiler_StaticMethods_paddedWidth$$($cssBoxes$jscomp$2$$.$ruleBox$),$JSCompiler_StaticMethods_paddedHeight$$($cssBoxes$jscomp$2$$.$ruleBox$),$x$jscomp$90$$-$cssBoxes$jscomp$2$$.$ruleBox$.paddingLeft-$cssBoxes$jscomp$2$$.$blockContainerBox$.offsetLeft()-$block0Box$$.offsetLeft(),$y$jscomp$77$$-$cssBoxes$jscomp$2$$.$ruleBox$.paddingTop-$cssBoxes$jscomp$2$$.$blockContainerBox$.offsetTop()-
$block0Box$$.offsetTop(),function($canvas$jscomp$12$$,$item$jscomp$4$$,$dx$jscomp$5$$,$dy$jscomp$5$$){var $ctx$jscomp$11$$=$canvas$jscomp$12$$.$ctx$;$JSCompiler_StaticMethods_drawAt$$($cssBoxes$jscomp$2$$.$ruleBox$,$ctx$jscomp$11$$,$item$jscomp$4$$.x+$dx$jscomp$5$$,$item$jscomp$4$$.y+$dy$jscomp$5$$,!0);$JSCompiler_StaticMethods_drawAt$$($cssBoxes$jscomp$2$$.$ruleSeparatorBox$,$ctx$jscomp$11$$,$actionX0$$-$cssBoxes$jscomp$2$$.$ruleSeparatorBox$.width-$cssBoxes$jscomp$2$$.$ruleSeparatorBox$.marginRight-
$cssBoxes$jscomp$2$$.$ruleSeparatorBox$.paddingRight-$cssBoxes$jscomp$2$$.$blockContainerBox$.offsetLeft()-$cssBoxes$jscomp$2$$.$blockActionBox$.offsetLeft()+$dx$jscomp$5$$,$item$jscomp$4$$.y+($JSCompiler_StaticMethods_paddedHeight$$($cssBoxes$jscomp$2$$.$ruleBox$)-$cssBoxes$jscomp$2$$.$ruleSeparatorBox$.height)/2+$dy$jscomp$5$$);$JSCompiler_StaticMethods_drawWidget$$($canvas$jscomp$12$$,"vpl:then",$actionX0$$-$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$2$$.$ruleSeparatorBox$)/2-$cssBoxes$jscomp$2$$.$blockContainerBox$.offsetLeft()-
$cssBoxes$jscomp$2$$.$blockActionBox$.offsetLeft()+$dx$jscomp$5$$,$item$jscomp$4$$.y+$JSCompiler_StaticMethods_paddedHeight$$($cssBoxes$jscomp$2$$.$ruleBox$)/2+$dy$jscomp$5$$,$cssBoxes$jscomp$2$$.$ruleSeparatorBox$);$rule$jscomp$19$$.locked&&$JSCompiler_StaticMethods_lockedMark$$($canvas$jscomp$12$$,$item$jscomp$4$$.x,$item$jscomp$4$$.y,$item$jscomp$4$$.width,$item$jscomp$4$$.height,!1,$rule$jscomp$19$$.disabled?"#ddd":"");var $x$jscomp$91$$=$item$jscomp$4$$.x+$dx$jscomp$5$$+$cssBoxes$jscomp$2$$.$ruleBox$.paddingLeft;
0<$maxWidthForEventRightAlign$$&&($x$jscomp$91$$+=$maxWidthForEventRightAlign$$-$widths$$.$totalEvents$);$events$jscomp$1$$.forEach(function($event$jscomp$11$$,$j$jscomp$8$$){var $box$jscomp$18$$=$rule$jscomp$19$$.error&&$rule$jscomp$19$$.error.$g$&&(0===$rule$jscomp$19$$.error.$i$.length||0<=$rule$jscomp$19$$.error.$i$.indexOf($j$jscomp$8$$))?$rule$jscomp$19$$.error.$isWarning$?$cssBoxes$jscomp$2$$.$blockContainerWarningBox$:$cssBoxes$jscomp$2$$.$blockContainerErrorBox$:$cssBoxes$jscomp$2$$.$blockContainerBox$;
$box$jscomp$18$$.width=null==$event$jscomp$11$$?$JSCompiler_StaticMethods_totalWidth$$(1===$events$jscomp$1$$.length?$cssBoxes$jscomp$2$$.$blockEmptyEventOnlyChildBox$:$cssBoxes$jscomp$2$$.$blockEmptyEventAuxBox$):$JSCompiler_StaticMethods_totalWidth$$($A3a$vpl$Program$boxForBlockType$$($event$jscomp$11$$,0===$j$jscomp$8$$,$cssBoxes$jscomp$2$$));$JSCompiler_StaticMethods_drawAt$$($box$jscomp$18$$,$ctx$jscomp$11$$,$x$jscomp$91$$+$box$jscomp$18$$.marginLeft,$item$jscomp$4$$.y+$dy$jscomp$5$$+$cssBoxes$jscomp$2$$.$ruleBox$.paddingTop+
$cssBoxes$jscomp$2$$.$blockContainerBox$.marginTop,!0);$x$jscomp$91$$+=$JSCompiler_StaticMethods_totalWidth$$($box$jscomp$18$$)});$x$jscomp$91$$=$item$jscomp$4$$.x+$dx$jscomp$5$$+$cssBoxes$jscomp$2$$.$ruleBox$.paddingLeft+$actionX0$$-$eventX0$$;$actions$jscomp$1$$.forEach(function($action$jscomp$5$$,$j$jscomp$9$$){var $box$jscomp$19$$=$rule$jscomp$19$$.error&&!$rule$jscomp$19$$.error.$g$&&(0===$rule$jscomp$19$$.error.$b$.length||0<=$rule$jscomp$19$$.error.$b$.indexOf($j$jscomp$9$$))?$rule$jscomp$19$$.error.$isWarning$?
$cssBoxes$jscomp$2$$.$blockContainerWarningBox$:$cssBoxes$jscomp$2$$.$blockContainerErrorBox$:$cssBoxes$jscomp$2$$.$blockContainerBox$;$box$jscomp$19$$.width=null==$action$jscomp$5$$?$JSCompiler_StaticMethods_totalWidth$$(1===$actions$jscomp$1$$.length?$cssBoxes$jscomp$2$$.$blockEmptyActionOnlyChildBox$:$cssBoxes$jscomp$2$$.$blockEmptyActionBox$):$JSCompiler_StaticMethods_totalWidth$$($A3a$vpl$Program$boxForBlockType$$($action$jscomp$5$$,0===$j$jscomp$9$$,$cssBoxes$jscomp$2$$));$JSCompiler_StaticMethods_drawAt$$($box$jscomp$19$$,
$ctx$jscomp$11$$,$x$jscomp$91$$+$box$jscomp$19$$.marginLeft,$item$jscomp$4$$.y+$dy$jscomp$5$$+$cssBoxes$jscomp$2$$.$ruleBox$.paddingTop+$cssBoxes$jscomp$2$$.$blockContainerBox$.marginTop,!0);$x$jscomp$91$$+=$JSCompiler_StaticMethods_totalWidth$$($box$jscomp$19$$)})},null,function($targetIndex_targetItem$jscomp$3$$,$droppedItem$jscomp$7$$){if($droppedItem$jscomp$7$$.data instanceof $A3a$vpl$Rule$$){$targetIndex_targetItem$jscomp$3$$=$JSCompiler_StaticMethods_addRuleToCanvas$self$$.$program$.indexOf($targetIndex_targetItem$jscomp$3$$.data);
var $droppedIndex$$=$JSCompiler_StaticMethods_addRuleToCanvas$self$$.$program$.indexOf($droppedItem$jscomp$7$$.data);0<=$targetIndex_targetItem$jscomp$3$$&&0<=$droppedIndex$$&&($JSCompiler_StaticMethods_addRuleToCanvas$self$$.$saveStateBeforeChange$(),$JSCompiler_StaticMethods_addRuleToCanvas$self$$.$program$.splice($droppedIndex$$,1),$JSCompiler_StaticMethods_addRuleToCanvas$self$$.$program$.splice($targetIndex_targetItem$jscomp$3$$,0,$droppedItem$jscomp$7$$.data))}else $droppedItem$jscomp$7$$.data instanceof
$A3a$vpl$Block$$&&($JSCompiler_StaticMethods_addRuleToCanvas$self$$.$saveStateBeforeChange$(),$JSCompiler_StaticMethods_setBlock$$($targetIndex_targetItem$jscomp$3$$.data,$droppedItem$jscomp$7$$.data,null,function(){$JSCompiler_StaticMethods_addRuleToCanvas$self$$.$saveStateBeforeChange$()}));$canvas$jscomp$11$$.$onUpdate$&&$canvas$jscomp$11$$.$onUpdate$()},function($targetItem$jscomp$4$$,$droppedItem$jscomp$8$$){return $droppedItem$jscomp$8$$.data instanceof $A3a$vpl$Rule$$?$droppedItem$jscomp$8$$.data!==
$targetItem$jscomp$4$$.data:$droppedItem$jscomp$8$$.data.$ruleContainer$!==$targetItem$jscomp$4$$.data&&("a"===$JSCompiler_StaticMethods_addRuleToCanvas$self$$.mode||0===$targetItem$jscomp$4$$.data.$events$.length||$droppedItem$jscomp$8$$.data instanceof $A3a$vpl$Block$$&&"a"===$droppedItem$jscomp$8$$.data.$blockTemplate$.type)});$rule$jscomp$19$$.disabled&&($item$jscomp$3$$.$g$=function $$item$jscomp$3$$$$g$$($ctx$jscomp$12$$,$item$jscomp$5$$,$dx$jscomp$6$$,$dy$jscomp$6$$){$JSCompiler_StaticMethods_disabledMark$$($canvas$jscomp$11$$,
$item$jscomp$5$$.x+$dx$jscomp$6$$,$item$jscomp$5$$.y+$dy$jscomp$6$$,$item$jscomp$5$$.width,$item$jscomp$5$$.height,["rule"],["rule"])});if($JSCompiler_StaticMethods_addRuleToCanvas$self$$.$noVPL$||$JSCompiler_StaticMethods_addRuleToCanvas$self$$.readOnly)$item$jscomp$3$$.$i$=!1;$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$$($canvas$jscomp$11$$,$item$jscomp$3$$);var $childItem$$,$events$jscomp$1$$=$rule$jscomp$19$$.$events$;if(0===$events$jscomp$1$$.length||!$displaySingleEvent$jscomp$1$$&&
null!==$events$jscomp$1$$[$events$jscomp$1$$.length-1])$events$jscomp$1$$=$events$jscomp$1$$.concat(null);$x$jscomp$90$$=$eventX0$$;0<$maxWidthForEventRightAlign$$&&($x$jscomp$90$$+=$maxWidthForEventRightAlign$$-$widths$$.$totalEvents$);$events$jscomp$1$$.forEach(function($event$jscomp$12$$,$j$jscomp$10$$){var $blockBox$$=$event$jscomp$12$$?$A3a$vpl$Program$boxForBlockType$$($event$jscomp$12$$,0===$j$jscomp$10$$,$cssBoxes$jscomp$2$$):1===$events$jscomp$1$$.length?$cssBoxes$jscomp$2$$.$blockEmptyEventOnlyChildBox$:
$cssBoxes$jscomp$2$$.$blockEmptyEventAuxBox$,$containerBox$$=$rule$jscomp$19$$.error&&$rule$jscomp$19$$.error.$g$&&(0===$rule$jscomp$19$$.error.$i$.length||0<=$rule$jscomp$19$$.error.$i$.indexOf($j$jscomp$10$$))?$rule$jscomp$19$$.error.$isWarning$?$cssBoxes$jscomp$2$$.$blockContainerWarningBox$:$cssBoxes$jscomp$2$$.$blockContainerErrorBox$:$cssBoxes$jscomp$2$$.$blockContainerBox$,$vertOffset$$=0;switch($blockBox$$.verticalAlign){case "middle":$vertOffset$$=($containerBox$$.height-$blockBox$$.$totalHeight$())/
2;break;case "bottom":$vertOffset$$=$containerBox$$.height-$blockBox$$.$totalHeight$();break;case "top":break;default:$vertOffset$$=$containerBox$$.height-$blockBox$$.$totalHeight$()-$blockBox$$.verticalAlign}$event$jscomp$12$$?($containerBox$$.width=$JSCompiler_StaticMethods_totalWidth$$($blockBox$$),$childItem$$=$JSCompiler_StaticMethods_addBlockToCanvas$$(this,$canvas$jscomp$11$$,$event$jscomp$12$$,$blockBox$$,$x$jscomp$90$$,$y$jscomp$77$$+$vertOffset$$,{$notInteractive$:$rule$jscomp$19$$.disabled||
this.$noVPL$||this.readOnly,$notClickable$:$rule$jscomp$19$$.disabled||this.$noVPL$||this.readOnly,$notDraggable$:this.$noVPL$||this.readOnly})):($containerBox$$.width=$JSCompiler_StaticMethods_totalWidth$$($blockBox$$),$childItem$$=$JSCompiler_StaticMethods_addBlockToCanvas$$(this,$canvas$jscomp$11$$,new $A3a$vpl$EmptyBlock$$("e",$rule$jscomp$19$$,{$eventSide$:!0,index:$j$jscomp$10$$}),$blockBox$$,$x$jscomp$90$$,$y$jscomp$77$$+$vertOffset$$,{$notDropTarget$:$rule$jscomp$19$$.disabled||this.readOnly,
$notClickable$:!0,$notDraggable$:!0}));$item$jscomp$3$$.$m$.push($childItem$$);$x$jscomp$90$$+=$JSCompiler_StaticMethods_totalWidth$$($containerBox$$)},$JSCompiler_StaticMethods_addRuleToCanvas$self$$);var $actions$jscomp$1$$=$rule$jscomp$19$$.actions;if(0===$actions$jscomp$1$$.length||null!==$actions$jscomp$1$$[$actions$jscomp$1$$.length-1])$actions$jscomp$1$$=$actions$jscomp$1$$.concat(null);$x$jscomp$90$$=$actionX0$$;$actions$jscomp$1$$.forEach(function($action$jscomp$6$$,$j$jscomp$11$$){var $blockBox$jscomp$1$$=
$action$jscomp$6$$?$A3a$vpl$Program$boxForBlockType$$($action$jscomp$6$$,0==$j$jscomp$11$$,$cssBoxes$jscomp$2$$):1===$actions$jscomp$1$$.length?$cssBoxes$jscomp$2$$.$blockEmptyActionOnlyChildBox$:$cssBoxes$jscomp$2$$.$blockEmptyActionBox$,$containerBox$jscomp$1$$=$rule$jscomp$19$$.error&&!$rule$jscomp$19$$.error.$g$&&(0===$rule$jscomp$19$$.error.$b$.length||0<=$rule$jscomp$19$$.error.$b$.indexOf($j$jscomp$11$$))?$rule$jscomp$19$$.error.$isWarning$?$cssBoxes$jscomp$2$$.$blockContainerWarningBox$:$cssBoxes$jscomp$2$$.$blockContainerErrorBox$:
$cssBoxes$jscomp$2$$.$blockContainerBox$,$vertOffset$jscomp$1$$=0;switch($blockBox$jscomp$1$$.verticalAlign){case "middle":$vertOffset$jscomp$1$$=($cssBoxes$jscomp$2$$.$ruleBox$.height-$containerBox$jscomp$1$$.$totalHeight$())/2;break;case "bottom":$vertOffset$jscomp$1$$=$cssBoxes$jscomp$2$$.$ruleBox$.height-$containerBox$jscomp$1$$.$totalHeight$()}$action$jscomp$6$$?($containerBox$jscomp$1$$.width=$JSCompiler_StaticMethods_totalWidth$$($blockBox$jscomp$1$$),$childItem$$=$JSCompiler_StaticMethods_addBlockToCanvas$$(this,
$canvas$jscomp$11$$,$action$jscomp$6$$,$A3a$vpl$Program$boxForBlockType$$($action$jscomp$6$$,0===$j$jscomp$11$$,$cssBoxes$jscomp$2$$),$x$jscomp$90$$,$y$jscomp$77$$+$vertOffset$jscomp$1$$,{$notInteractive$:$rule$jscomp$19$$.disabled||this.$noVPL$||this.readOnly,$notClickable$:$rule$jscomp$19$$.disabled||this.$noVPL$||this.readOnly,$notDraggable$:this.$noVPL$||this.readOnly})):($containerBox$jscomp$1$$.width=$JSCompiler_StaticMethods_totalWidth$$($blockBox$jscomp$1$$),$childItem$$=$JSCompiler_StaticMethods_addBlockToCanvas$$(this,
$canvas$jscomp$11$$,new $A3a$vpl$EmptyBlock$$("a",$rule$jscomp$19$$,{$eventSide$:!1,index:$j$jscomp$11$$}),$blockBox$jscomp$1$$,$x$jscomp$90$$,$y$jscomp$77$$,{$notDropTarget$:this.readOnly,$notClickable$:!0,$notDraggable$:!0}));$item$jscomp$3$$.$m$.push($childItem$$);$x$jscomp$90$$+=$JSCompiler_StaticMethods_totalWidth$$($containerBox$jscomp$1$$)},$JSCompiler_StaticMethods_addRuleToCanvas$self$$);$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$11$$,function(){if(null!==$rule$jscomp$19$$.error){var $box$jscomp$20$$=
$rule$jscomp$19$$.error.$isWarning$?$cssBoxes$jscomp$2$$.$warningWidgetBox$:$cssBoxes$jscomp$2$$.$errorWidgetBox$;$JSCompiler_StaticMethods_drawWidget$$($canvas$jscomp$11$$,$rule$jscomp$19$$.error.$isWarning$?"vpl:warning":"vpl:error",$eventX0$$-$cssBoxes$jscomp$2$$.$ruleBox$.paddingLeft-$cssBoxes$jscomp$2$$.$ruleBox$.marginLeft-$cssBoxes$jscomp$2$$.$blockContainerBox$.offsetLeft()-$block0Box$$.offsetLeft()-$box$jscomp$20$$.width/2-$box$jscomp$20$$.marginRight-$box$jscomp$20$$.paddingRight,$y$jscomp$77$$+
.5*$block0Box$$.height,$box$jscomp$20$$)}})}
function $JSCompiler_StaticMethods_addEventHandlerConflictLinkToCanvas$$($canvas$jscomp$13$$,$x$jscomp$92$$,$y1$jscomp$5$$,$y2$jscomp$3$$,$cssBoxes$jscomp$3$$,$isWarning$$){var $widgetBox$$=$isWarning$$?$cssBoxes$jscomp$3$$.$warningWidgetBox$:$cssBoxes$jscomp$3$$.$errorWidgetBox$;$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$13$$,function($ctx$jscomp$14$$){var $errorLine$$=$JSCompiler_StaticMethods_getLine$$($canvas$jscomp$13$$.$css$,{tag:"conflict-line",$clas$:[$isWarning$$?"warning":
"error"]}),$xc$$=$x$jscomp$92$$-$cssBoxes$jscomp$3$$.$ruleBox$.paddingLeft-$cssBoxes$jscomp$3$$.$ruleBox$.marginLeft-$cssBoxes$jscomp$3$$.$blockContainerBox$.offsetLeft()-$cssBoxes$jscomp$3$$.$blockEventMainBox$.offsetLeft()-$widgetBox$$.width/2-$widgetBox$$.marginRight-$widgetBox$$.paddingRight,$yc1$$=$y1$jscomp$5$$+($cssBoxes$jscomp$3$$.$blockContainerBox$.height+$widgetBox$$.height)/2,$yc2$$=$y2$jscomp$3$$+($cssBoxes$jscomp$3$$.$blockContainerBox$.height-$widgetBox$$.height)/2;$ctx$jscomp$14$$.beginPath();
$ctx$jscomp$14$$.moveTo($xc$$,$yc1$$);$ctx$jscomp$14$$.lineTo($xc$$,$yc2$$);$errorLine$$.stroke($ctx$jscomp$14$$);$ctx$jscomp$14$$.beginPath();$ctx$jscomp$14$$.arc($xc$$,$yc1$$,$errorLine$$.lineWidth,0,Math.PI);$errorLine$$.stroke($ctx$jscomp$14$$);$ctx$jscomp$14$$.beginPath();$ctx$jscomp$14$$.arc($xc$$,$yc2$$,$errorLine$$.lineWidth,-Math.PI,0);$errorLine$$.stroke($ctx$jscomp$14$$)})}
function $JSCompiler_StaticMethods_getCSSBoxes$$($JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$,$css$jscomp$1$$){var $cssBoxes$jscomp$4$$={};$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$=$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$.$program$.$l$;$cssBoxes$jscomp$4$$.$viewBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"view",$clas$:["vpl"]});$cssBoxes$jscomp$4$$.$toolbarSeparatorBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"separator",$clas$:["vpl",
"top"]});$cssBoxes$jscomp$4$$.$toolbarSeparator2Box$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"separator",$clas$:["vpl","bottom"]});$cssBoxes$jscomp$4$$.$toolbarBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"toolbar",$clas$:["vpl","top"]});$cssBoxes$jscomp$4$$.$toolbar2Box$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"toolbar",$clas$:["vpl","bottom"]});$cssBoxes$jscomp$4$$.$vplBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"vpl",id:"scrolling-vpl"});
$cssBoxes$jscomp$4$$.$blockEventMainBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["event","event-main"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$blockEventAuxBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["event","event-aux"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$blockActionBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,
{tag:"block",$clas$:["action"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$blockStateBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["state"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$blockCommentBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["comment"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?
["small"]:[]});$cssBoxes$jscomp$4$$.$blockEmptyEventBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["event","empty"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$blockEmptyActionBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["action","empty"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$blockEmptyEventOnlyChildBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,
{tag:"block",$clas$:["event","empty"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["only-child","small"]:["only-child"]});$cssBoxes$jscomp$4$$.$blockEmptyEventAuxBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["event","event-aux","empty"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$blockEmptyActionOnlyChildBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["action",
"empty"],$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["only-child","small"]:["only-child"]});$cssBoxes$jscomp$4$$.$blockContainerBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block-container"});$cssBoxes$jscomp$4$$.$blockContainerErrorBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block-container",$clas$:["error"]});$cssBoxes$jscomp$4$$.$blockContainerWarningBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block-container",$clas$:["warning"]});
$cssBoxes$jscomp$4$$.$ruleBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"rule",$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$ruleSeparatorBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"widget",id:"widget-then",$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$blockEventLibItemBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["library",
"event"]});$cssBoxes$jscomp$4$$.$blockActionLibItemBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["library","action"]});$cssBoxes$jscomp$4$$.$blockStateLibItemBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["library","state"]});$cssBoxes$jscomp$4$$.$blockCommentLibItemBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block",$clas$:["library","comment"]});$cssBoxes$jscomp$4$$.$blockEventLibBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,
{tag:"block-library",$clas$:["event"]});$cssBoxes$jscomp$4$$.$blockActionLibBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"block-library",$clas$:["action"]});$cssBoxes$jscomp$4$$.$errorWidgetBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"widget",id:"widget-error",$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});$cssBoxes$jscomp$4$$.$warningWidgetBox$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$1$$,{tag:"widget",id:"widget-warning",
$pseudoClass$:$JSCompiler_StaticMethods_getCSSBoxes$self_zoomBlocks$$?["small"]:[]});return $cssBoxes$jscomp$4$$}
function $JSCompiler_StaticMethods_updateErrorInfo$$($JSCompiler_StaticMethods_updateErrorInfo$self$$){var $i$jscomp$58_uiConfig$jscomp$1$$=$JSCompiler_StaticMethods_updateErrorInfo$self$$.$uiConfig$,$program$jscomp$30$$=$JSCompiler_StaticMethods_updateErrorInfo$self$$.$program$;$program$jscomp$30$$.$getCode$($program$jscomp$30$$.$currentLanguage$);$JSCompiler_StaticMethods_updateErrorInfo$self$$.$vplMessage$="";$JSCompiler_StaticMethods_updateErrorInfo$self$$.$vplMessageIsWarning$=!1;if(!$i$jscomp$58_uiConfig$jscomp$1$$.$customizationMode$)for($i$jscomp$58_uiConfig$jscomp$1$$=
0;$i$jscomp$58_uiConfig$jscomp$1$$<$program$jscomp$30$$.$program$.length;$i$jscomp$58_uiConfig$jscomp$1$$++)if($program$jscomp$30$$.$program$[$i$jscomp$58_uiConfig$jscomp$1$$].error)if($program$jscomp$30$$.$program$[$i$jscomp$58_uiConfig$jscomp$1$$].error.$isWarning$)$JSCompiler_StaticMethods_updateErrorInfo$self$$.$vplMessage$||($JSCompiler_StaticMethods_updateErrorInfo$self$$.$vplMessage$=$program$jscomp$30$$.$program$[$i$jscomp$58_uiConfig$jscomp$1$$].error.$l$,$JSCompiler_StaticMethods_updateErrorInfo$self$$.$vplMessageIsWarning$=
!0);else{$JSCompiler_StaticMethods_updateErrorInfo$self$$.$vplMessage$=$program$jscomp$30$$.$program$[$i$jscomp$58_uiConfig$jscomp$1$$].error.$l$;$JSCompiler_StaticMethods_updateErrorInfo$self$$.$vplMessageIsWarning$=!1;break}}
function $JSCompiler_StaticMethods_renderProgramToCanvas$$($JSCompiler_StaticMethods_renderProgramToCanvas$self$$){function $boxForBlockTemplate$$($cssBoxes$jscomp$6$$,$blockTemplate$jscomp$5$$){switch($blockTemplate$jscomp$5$$.type){case "e":return $cssBoxes$jscomp$6$$.$blockEventLibItemBox$;case "a":return $cssBoxes$jscomp$6$$.$blockActionLibItemBox$;case "s":return $cssBoxes$jscomp$6$$.$blockStateLibItemBox$;case "c":return $cssBoxes$jscomp$6$$.$blockCommentLibItemBox$;default:throw"internal";
}}var $uiConfig$jscomp$2$$=$JSCompiler_StaticMethods_renderProgramToCanvas$self$$.$uiConfig$,$canvas$jscomp$14$$=$JSCompiler_StaticMethods_renderProgramToCanvas$self$$.$vplCanvas$,$program$jscomp$31$$=$JSCompiler_StaticMethods_renderProgramToCanvas$self$$.$program$,$cssBoxes$jscomp$5$$=$JSCompiler_StaticMethods_getCSSBoxes$$($JSCompiler_StaticMethods_renderProgramToCanvas$self$$,$canvas$jscomp$14$$.$css$);$JSCompiler_StaticMethods_recalcSize$$($canvas$jscomp$14$$);$JSCompiler_StaticMethods_updateErrorInfo$$($JSCompiler_StaticMethods_renderProgramToCanvas$self$$);
$program$jscomp$31$$.$l$=$canvas$jscomp$14$$.$dims$.$blockSize$<$canvas$jscomp$14$$.$dims$.$minInteractiveBlockSize$;var $canvasSize$jscomp$2$$=$JSCompiler_StaticMethods_getSize$$($canvas$jscomp$14$$),$renderingState$$=$canvas$jscomp$14$$.state.$vpl$,$eventLibWidth_toolbar2Config$$=$program$jscomp$31$$.$m$||"!!stretch vpl:message-error vpl:message-warning !!stretch vpl:duplicate vpl:disable vpl:lock vpl:trashcan".split(" "),$controlBar2_toolbar2HasAvButtons$$=$A3a$vpl$ControlBar$hasAvailableButtons$$($JSCompiler_StaticMethods_renderProgramToCanvas$self$$,
$eventLibWidth_toolbar2Config$$),$displaySingleEvent$jscomp$2$$=$JSCompiler_StaticMethods_displaySingleEvent$$($program$jscomp$31$$),$maxEventsWidth$$=0,$maxActionsWidth$$=0;$program$jscomp$31$$.$program$.forEach(function($details_rule$jscomp$20$$){$details_rule$jscomp$20$$=$A3a$vpl$Application$measureRuleWidth$$($details_rule$jscomp$20$$,$displaySingleEvent$jscomp$2$$,$cssBoxes$jscomp$5$$);$maxEventsWidth$$=Math.max($maxEventsWidth$$,$details_rule$jscomp$20$$.$totalEvents$);$maxActionsWidth$$=Math.max($maxActionsWidth$$,
$details_rule$jscomp$20$$.$totalActions$)});var $nEvTemplates$$=0,$nAcTemplates$$=0;$A3a$vpl$BlockTemplate$lib$$.forEach(function($blockTemplate$jscomp$6$$){if($uiConfig$jscomp$2$$.$customizationMode$||0<=("b"===$program$jscomp$31$$.mode?$program$jscomp$31$$.$enabledBlocksBasic$:$program$jscomp$31$$.$enabledBlocksAdvanced$).indexOf($blockTemplate$jscomp$6$$.name))switch($blockTemplate$jscomp$6$$.type){case "e":case "s":$nEvTemplates$$++;break;case "a":case "c":$nAcTemplates$$++}},$JSCompiler_StaticMethods_renderProgramToCanvas$self$$);
var $toolbarConfig$$=$program$jscomp$31$$.$toolbarConfig$||"vpl:close !space vpl:about vpl:help !space vpl:new vpl:save vpl:load vpl:upload vpl:filename vpl:exportToHTML !space vpl:advanced !stretch vpl:readonly !stretch vpl:undo vpl:redo !stretch vpl:run vpl:stop vpl:robot !stretch vpl:sim vpl:text !stretch vpl:teacher-reset vpl:teacher-save vpl:teacher-setasnew vpl:teacher".split(" ");$JSCompiler_StaticMethods_addDefaultDoDrop$$($canvas$jscomp$14$$,function($dropTargetItem_left$jscomp$2$$,$draggedItem$jscomp$13$$,
$x$jscomp$93$$){if($JSCompiler_StaticMethods_renderProgramToCanvas$self$$.$b$.$canDrop$("vpl:trashcan",$draggedItem$jscomp$13$$)){$dropTargetItem_left$jscomp$2$$=$eventX0$jscomp$1$$-$cssBoxes$jscomp$5$$.$ruleBox$.offsetLeft()-$cssBoxes$jscomp$5$$.$blockContainerBox$.offsetLeft()-$cssBoxes$jscomp$5$$.$blockEventMainBox$.offsetLeft();var $width$jscomp$27$$=$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$ruleBox$);if($x$jscomp$93$$<$dropTargetItem_left$jscomp$2$$||$x$jscomp$93$$>$dropTargetItem_left$jscomp$2$$+
$width$jscomp$27$$)return $JSCompiler_StaticMethods_renderProgramToCanvas$self$$.$b$.$doDrop$("vpl:trashcan",$draggedItem$jscomp$13$$),!0}return!1});var $toolbarItemBoxes$$=$A3a$vpl$ControlBar$buttonBoxes$$($JSCompiler_StaticMethods_renderProgramToCanvas$self$$,$toolbarConfig$$,["vpl","top"]),$evCol_toolbarItemHeight_vplWidth$$=$A3a$vpl$ControlBar$maxBoxHeight$$($toolbarItemBoxes$$),$actionLibWidth_toolbar2ItemBoxes$$=$A3a$vpl$ControlBar$buttonBoxes$$($JSCompiler_StaticMethods_renderProgramToCanvas$self$$,
$eventLibWidth_toolbar2Config$$,["vpl","bottom"]),$controlBar_ruleSeparatorWidth_toolbar2ItemHeight$$=$A3a$vpl$ControlBar$maxBoxHeight$$($toolbarItemBoxes$$);$cssBoxes$jscomp$5$$.$viewBox$.$setTotalWidth$($canvasSize$jscomp$2$$.width);$cssBoxes$jscomp$5$$.$viewBox$.$setTotalHeight$($canvasSize$jscomp$2$$.height);$cssBoxes$jscomp$5$$.$viewBox$.setPosition(0,0);$cssBoxes$jscomp$5$$.$toolbarBox$.$setTotalWidth$($cssBoxes$jscomp$5$$.$viewBox$.width);$cssBoxes$jscomp$5$$.$toolbarBox$.height=$evCol_toolbarItemHeight_vplWidth$$;
$cssBoxes$jscomp$5$$.$toolbarBox$.setPosition($cssBoxes$jscomp$5$$.$viewBox$.x,$cssBoxes$jscomp$5$$.$viewBox$.y);$cssBoxes$jscomp$5$$.$blockEventLibBox$.$setTotalHeight$($cssBoxes$jscomp$5$$.$viewBox$.height-$cssBoxes$jscomp$5$$.$toolbarBox$.$totalHeight$());var $maxBlPerCol_ruleWidth$$=Math.max(Math.floor($cssBoxes$jscomp$5$$.$blockEventLibBox$.height/$cssBoxes$jscomp$5$$.$blockEventLibItemBox$.$totalHeight$()),1);$evCol_toolbarItemHeight_vplWidth$$=$cssBoxes$jscomp$5$$.$blockEventLibBox$.scroll?
1:Math.ceil($nEvTemplates$$/$maxBlPerCol_ruleWidth$$);$cssBoxes$jscomp$5$$.$blockEventLibBox$.width=$evCol_toolbarItemHeight_vplWidth$$*$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockEventLibItemBox$);$cssBoxes$jscomp$5$$.$blockEventLibBox$.setPosition($cssBoxes$jscomp$5$$.$viewBox$.x,$cssBoxes$jscomp$5$$.$viewBox$.y+$cssBoxes$jscomp$5$$.$toolbarBox$.$totalHeight$());$cssBoxes$jscomp$5$$.$blockActionLibBox$.$setTotalHeight$($cssBoxes$jscomp$5$$.$viewBox$.height-$cssBoxes$jscomp$5$$.$toolbarBox$.$totalHeight$());
var $acCol$$=$cssBoxes$jscomp$5$$.$blockActionLibBox$.scroll?1:Math.ceil($nAcTemplates$$/$maxBlPerCol_ruleWidth$$);$cssBoxes$jscomp$5$$.$blockActionLibBox$.width=$acCol$$*$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockActionLibItemBox$);$cssBoxes$jscomp$5$$.$blockActionLibBox$.setPosition($cssBoxes$jscomp$5$$.$viewBox$.x+$cssBoxes$jscomp$5$$.$viewBox$.width-$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockActionLibBox$),$cssBoxes$jscomp$5$$.$viewBox$.y+$cssBoxes$jscomp$5$$.$toolbarBox$.$totalHeight$());
$cssBoxes$jscomp$5$$.$toolbar2Box$.$setTotalWidth$($cssBoxes$jscomp$5$$.$viewBox$.width-$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockEventLibBox$)-$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockActionLibBox$));$cssBoxes$jscomp$5$$.$toolbar2Box$.height=$controlBar_ruleSeparatorWidth_toolbar2ItemHeight$$;$cssBoxes$jscomp$5$$.$toolbar2Box$.setPosition($cssBoxes$jscomp$5$$.$viewBox$.x+$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockEventLibBox$),
$cssBoxes$jscomp$5$$.$viewBox$.y+$cssBoxes$jscomp$5$$.$viewBox$.height-$cssBoxes$jscomp$5$$.$toolbar2Box$.$totalHeight$());$cssBoxes$jscomp$5$$.$vplBox$.$setTotalWidth$($cssBoxes$jscomp$5$$.$viewBox$.width-$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockEventLibBox$)-$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockActionLibBox$));$cssBoxes$jscomp$5$$.$vplBox$.$setTotalHeight$($cssBoxes$jscomp$5$$.$viewBox$.height-$cssBoxes$jscomp$5$$.$toolbarBox$.$totalHeight$()-
($controlBar2_toolbar2HasAvButtons$$?$cssBoxes$jscomp$5$$.$toolbar2Box$.$totalHeight$():0));$cssBoxes$jscomp$5$$.$vplBox$.setPosition($cssBoxes$jscomp$5$$.$viewBox$.x+$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockEventLibBox$),$cssBoxes$jscomp$5$$.$viewBox$.y+$cssBoxes$jscomp$5$$.$toolbarBox$.$totalHeight$());$cssBoxes$jscomp$5$$.$blockContainerBox$.width=$cssBoxes$jscomp$5$$.$blockContainerErrorBox$.width=$cssBoxes$jscomp$5$$.$blockContainerWarningBox$.width=$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockEventMainBox$);
$cssBoxes$jscomp$5$$.$blockContainerBox$.height=$cssBoxes$jscomp$5$$.$blockContainerErrorBox$.height=$cssBoxes$jscomp$5$$.$blockContainerWarningBox$.height=$cssBoxes$jscomp$5$$.$blockEventMainBox$.$totalHeight$();$controlBar_ruleSeparatorWidth_toolbar2ItemHeight$$=$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$ruleSeparatorBox$);$maxBlPerCol_ruleWidth$$=$maxEventsWidth$$+$maxActionsWidth$$+$controlBar_ruleSeparatorWidth_toolbar2ItemHeight$$;var $eventX0$jscomp$1$$=$cssBoxes$jscomp$5$$.$viewBox$.x+
($cssBoxes$jscomp$5$$.$viewBox$.width-$maxBlPerCol_ruleWidth$$+$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$errorWidgetBox$))/2,$actionX0$jscomp$1$$=$eventX0$jscomp$1$$+$maxEventsWidth$$+$controlBar_ruleSeparatorWidth_toolbar2ItemHeight$$;$cssBoxes$jscomp$5$$.$ruleBox$.width=$maxBlPerCol_ruleWidth$$;$cssBoxes$jscomp$5$$.$ruleBox$.height=$cssBoxes$jscomp$5$$.$blockContainerBox$.$totalHeight$();$canvas$jscomp$14$$.$A3a_vpl_Canvas$items$=[];$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,
function($ctx$jscomp$15$$){$cssBoxes$jscomp$5$$.$viewBox$.$draw$($ctx$jscomp$15$$)});$controlBar_ruleSeparatorWidth_toolbar2ItemHeight$$=new $A3a$vpl$ControlBar$$($canvas$jscomp$14$$);$JSCompiler_StaticMethods_setButtons$$($controlBar_ruleSeparatorWidth_toolbar2ItemHeight$$,$JSCompiler_StaticMethods_renderProgramToCanvas$self$$,$toolbarConfig$$,["vpl","top"],$program$jscomp$31$$.$toolbarDrawButton$||$A3a$vpl$Commands$drawButtonJS$$,$program$jscomp$31$$.$toolbarGetButtonBounds$||$A3a$vpl$Commands$getButtonBoundsJS$$);
$JSCompiler_StaticMethods_calcLayout$$($controlBar_ruleSeparatorWidth_toolbar2ItemHeight$$,$cssBoxes$jscomp$5$$.$toolbarBox$,$toolbarItemBoxes$$,$cssBoxes$jscomp$5$$.$toolbarSeparatorBox$);$JSCompiler_StaticMethods_addToCanvas$$($controlBar_ruleSeparatorWidth_toolbar2ItemHeight$$,$cssBoxes$jscomp$5$$.$toolbarBox$,$toolbarItemBoxes$$);0<$controlBar2_toolbar2HasAvButtons$$&&($controlBar2_toolbar2HasAvButtons$$=new $A3a$vpl$ControlBar$$($canvas$jscomp$14$$),$JSCompiler_StaticMethods_setButtons$$($controlBar2_toolbar2HasAvButtons$$,
$JSCompiler_StaticMethods_renderProgramToCanvas$self$$,$eventLibWidth_toolbar2Config$$,["vpl","bottom"],$program$jscomp$31$$.$toolbarDrawButton$||$A3a$vpl$Commands$drawButtonJS$$,$program$jscomp$31$$.$toolbarGetButtonBounds$||$A3a$vpl$Commands$getButtonBoundsJS$$),$JSCompiler_StaticMethods_calcLayout$$($controlBar2_toolbar2HasAvButtons$$,$cssBoxes$jscomp$5$$.$toolbar2Box$,$actionLibWidth_toolbar2ItemBoxes$$,$cssBoxes$jscomp$5$$.$toolbarSeparator2Box$),$JSCompiler_StaticMethods_addToCanvas$$($controlBar2_toolbar2HasAvButtons$$,
$cssBoxes$jscomp$5$$.$toolbar2Box$,$actionLibWidth_toolbar2ItemBoxes$$));var $stepEvent$$=$cssBoxes$jscomp$5$$.$blockEventLibItemBox$.$totalHeight$(),$stepAction$$=$cssBoxes$jscomp$5$$.$blockActionLibItemBox$.$totalHeight$();$actionLibWidth_toolbar2ItemBoxes$$=$eventLibWidth_toolbar2Config$$=0;if($cssBoxes$jscomp$5$$.$blockEventLibBox$.scroll){$eventLibWidth_toolbar2Config$$=$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockEventLibItemBox$);$renderingState$$.$b$.$setTotalHeight$($nEvTemplates$$*
$stepEvent$$);$cssBoxes$jscomp$5$$.$blockEventLibBox$.width=$eventLibWidth_toolbar2Config$$;$cssBoxes$jscomp$5$$.$blockEventLibBox$.height=$cssBoxes$jscomp$5$$.$blockEventLibBox$.height;$renderingState$$.$b$.resize($cssBoxes$jscomp$5$$.$blockEventLibBox$.x,$cssBoxes$jscomp$5$$.$blockEventLibBox$.y,$cssBoxes$jscomp$5$$.$blockEventLibBox$.width,$cssBoxes$jscomp$5$$.$blockEventLibBox$.height);$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,function($ctx$jscomp$16$$){$cssBoxes$jscomp$5$$.$blockEventLibBox$.$draw$($ctx$jscomp$16$$)});
$renderingState$$.$b$.$begin$($canvas$jscomp$14$$);var $row$$=0;$A3a$vpl$BlockTemplate$lib$$.forEach(function($blockTemplate$jscomp$7$$){if(("e"===$blockTemplate$jscomp$7$$.type||"s"===$blockTemplate$jscomp$7$$.type)&&($uiConfig$jscomp$2$$.$customizationMode$||0<=("b"===$program$jscomp$31$$.mode?$program$jscomp$31$$.$enabledBlocksBasic$:$program$jscomp$31$$.$enabledBlocksAdvanced$).indexOf($blockTemplate$jscomp$7$$.name))){var $box$jscomp$21$$=$boxForBlockTemplate$$($cssBoxes$jscomp$5$$,$blockTemplate$jscomp$7$$);
$JSCompiler_StaticMethods_addBlockTemplateToCanvas$$($program$jscomp$31$$,$canvas$jscomp$14$$,$blockTemplate$jscomp$7$$,$box$jscomp$21$$,$cssBoxes$jscomp$5$$.$blockEventLibBox$.x+$box$jscomp$21$$.offsetLeft(),$cssBoxes$jscomp$5$$.$blockEventLibBox$.y+$box$jscomp$21$$.offsetTop()+$row$$*$stepEvent$$);$row$$++}},$JSCompiler_StaticMethods_renderProgramToCanvas$self$$);$renderingState$$.$b$.end();$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,function(){var $moreHighBox$$=$JSCompiler_StaticMethods_getBox$$($canvas$jscomp$14$$.$css$,
{tag:"widget",id:"widget-moreHigh"}),$moreLowBox$$=$JSCompiler_StaticMethods_getBox$$($canvas$jscomp$14$$.$css$,{tag:"widget",id:"widget-moreLow"});$JSCompiler_StaticMethods_isTop$$($renderingState$$.$b$)||$JSCompiler_StaticMethods_drawWidget$$($canvas$jscomp$14$$,"vpl:moreHigh",$cssBoxes$jscomp$5$$.$blockEventLibBox$.x+$cssBoxes$jscomp$5$$.$blockEventLibBox$.width/2,$cssBoxes$jscomp$5$$.$blockEventLibBox$.y+$moreHighBox$$.$totalHeight$()/2,$moreHighBox$$);$JSCompiler_StaticMethods_isBottom$$($renderingState$$.$b$)||
$JSCompiler_StaticMethods_drawWidget$$($canvas$jscomp$14$$,"vpl:moreLow",$cssBoxes$jscomp$5$$.$blockEventLibBox$.x+$cssBoxes$jscomp$5$$.$blockEventLibBox$.width/2,$cssBoxes$jscomp$5$$.$blockEventLibBox$.y+$cssBoxes$jscomp$5$$.$blockEventLibBox$.height-$moreLowBox$$.$totalHeight$()/2,$moreLowBox$$)})}else{$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,function($ctx$jscomp$18$$){$cssBoxes$jscomp$5$$.$blockEventLibBox$.$draw$($ctx$jscomp$18$$)});$eventLibWidth_toolbar2Config$$=$evCol_toolbarItemHeight_vplWidth$$*
$stepEvent$$+$JSCompiler_StaticMethods_nonContentWidth$$($cssBoxes$jscomp$5$$.$blockEventLibBox$);var $colLen$$=Math.ceil($nEvTemplates$$/$evCol_toolbarItemHeight_vplWidth$$);$row$$=0;$A3a$vpl$BlockTemplate$lib$$.forEach(function($blockTemplate$jscomp$8$$){if(("e"===$blockTemplate$jscomp$8$$.type||"s"===$blockTemplate$jscomp$8$$.type)&&($uiConfig$jscomp$2$$.$customizationMode$||0<=("b"===$program$jscomp$31$$.mode?$program$jscomp$31$$.$enabledBlocksBasic$:$program$jscomp$31$$.$enabledBlocksAdvanced$).indexOf($blockTemplate$jscomp$8$$.name))){var $box$jscomp$22$$=
$boxForBlockTemplate$$($cssBoxes$jscomp$5$$,$blockTemplate$jscomp$8$$),$x$jscomp$94$$=$cssBoxes$jscomp$5$$.$blockEventLibBox$.x+$box$jscomp$22$$.offsetLeft()+Math.floor($row$$/$colLen$$)*$stepEvent$$,$y$jscomp$79$$=$cssBoxes$jscomp$5$$.$blockEventLibBox$.y+$box$jscomp$22$$.offsetTop()+$row$$%$colLen$$*$stepEvent$$;$JSCompiler_StaticMethods_addBlockTemplateToCanvas$$($program$jscomp$31$$,$canvas$jscomp$14$$,$blockTemplate$jscomp$8$$,$box$jscomp$22$$,$x$jscomp$94$$,$y$jscomp$79$$);$row$$++}},$JSCompiler_StaticMethods_renderProgramToCanvas$self$$)}$cssBoxes$jscomp$5$$.$blockActionLibBox$.scroll?
($actionLibWidth_toolbar2ItemBoxes$$=$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$blockActionLibItemBox$),$renderingState$$.$g$.$setTotalHeight$($nAcTemplates$$*$stepAction$$),$cssBoxes$jscomp$5$$.$blockActionLibBox$.width=$actionLibWidth_toolbar2ItemBoxes$$,$cssBoxes$jscomp$5$$.$blockActionLibBox$.height=$cssBoxes$jscomp$5$$.$blockActionLibBox$.height,$renderingState$$.$g$.resize($cssBoxes$jscomp$5$$.$blockActionLibBox$.x,$cssBoxes$jscomp$5$$.$blockActionLibBox$.y,$cssBoxes$jscomp$5$$.$blockActionLibBox$.width,
$cssBoxes$jscomp$5$$.$blockActionLibBox$.height),$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,function($ctx$jscomp$19$$){$cssBoxes$jscomp$5$$.$blockActionLibBox$.$draw$($ctx$jscomp$19$$)}),$renderingState$$.$g$.$begin$($canvas$jscomp$14$$),$row$$=0,$A3a$vpl$BlockTemplate$lib$$.forEach(function($blockTemplate$jscomp$9$$){if(("a"===$blockTemplate$jscomp$9$$.type||"c"===$blockTemplate$jscomp$9$$.type)&&($uiConfig$jscomp$2$$.$customizationMode$||0<=("b"===$program$jscomp$31$$.mode?$program$jscomp$31$$.$enabledBlocksBasic$:
$program$jscomp$31$$.$enabledBlocksAdvanced$).indexOf($blockTemplate$jscomp$9$$.name))){var $box$jscomp$23$$=$boxForBlockTemplate$$($cssBoxes$jscomp$5$$,$blockTemplate$jscomp$9$$);$JSCompiler_StaticMethods_addBlockTemplateToCanvas$$($program$jscomp$31$$,$canvas$jscomp$14$$,$blockTemplate$jscomp$9$$,$box$jscomp$23$$,$cssBoxes$jscomp$5$$.$blockActionLibBox$.x+$cssBoxes$jscomp$5$$.$blockActionLibItemBox$.offsetLeft(),$cssBoxes$jscomp$5$$.$blockActionLibBox$.y+$cssBoxes$jscomp$5$$.$blockActionLibItemBox$.offsetTop()+
$row$$*$stepAction$$);$row$$++}},$JSCompiler_StaticMethods_renderProgramToCanvas$self$$),$renderingState$$.$g$.end(),$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,function(){var $moreHighBox$jscomp$1$$=$JSCompiler_StaticMethods_getBox$$($canvas$jscomp$14$$.$css$,{tag:"widget",id:"widget-moreHigh"}),$moreLowBox$jscomp$1$$=$JSCompiler_StaticMethods_getBox$$($canvas$jscomp$14$$.$css$,{tag:"widget",id:"widget-moreLow"});$JSCompiler_StaticMethods_isTop$$($renderingState$$.$g$)||$JSCompiler_StaticMethods_drawWidget$$($canvas$jscomp$14$$,
"vpl:moreHigh",$cssBoxes$jscomp$5$$.$blockActionLibBox$.x+$cssBoxes$jscomp$5$$.$blockActionLibBox$.width/2,$cssBoxes$jscomp$5$$.$blockActionLibBox$.y+$moreHighBox$jscomp$1$$.$totalHeight$()/2,$moreHighBox$jscomp$1$$);$JSCompiler_StaticMethods_isBottom$$($renderingState$$.$g$)||$JSCompiler_StaticMethods_drawWidget$$($canvas$jscomp$14$$,"vpl:moreLow",$cssBoxes$jscomp$5$$.$blockActionLibBox$.x+$cssBoxes$jscomp$5$$.$blockActionLibBox$.width/2,$cssBoxes$jscomp$5$$.$blockActionLibBox$.y+$cssBoxes$jscomp$5$$.$blockActionLibBox$.height-
$moreLowBox$jscomp$1$$.$totalHeight$()/2,$moreLowBox$jscomp$1$$)})):($JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,function($ctx$jscomp$21$$){$cssBoxes$jscomp$5$$.$blockActionLibBox$.$draw$($ctx$jscomp$21$$)}),$actionLibWidth_toolbar2ItemBoxes$$=$acCol$$*$stepAction$$+$JSCompiler_StaticMethods_nonContentWidth$$($cssBoxes$jscomp$5$$.$blockActionLibBox$),$colLen$$=Math.ceil($nAcTemplates$$/$acCol$$),$row$$=0,$A3a$vpl$BlockTemplate$lib$$.forEach(function($blockTemplate$jscomp$10$$){if(("a"===
$blockTemplate$jscomp$10$$.type||"c"===$blockTemplate$jscomp$10$$.type)&&($uiConfig$jscomp$2$$.$customizationMode$||0<=("b"===$program$jscomp$31$$.mode?$program$jscomp$31$$.$enabledBlocksBasic$:$program$jscomp$31$$.$enabledBlocksAdvanced$).indexOf($blockTemplate$jscomp$10$$.name))){var $box$jscomp$24$$=$boxForBlockTemplate$$($cssBoxes$jscomp$5$$,$blockTemplate$jscomp$10$$),$x$jscomp$95$$=$cssBoxes$jscomp$5$$.$blockActionLibBox$.x+$box$jscomp$24$$.offsetLeft()+$cssBoxes$jscomp$5$$.$blockActionLibBox$.width-
($acCol$$-Math.floor($row$$/$colLen$$))*$stepAction$$,$y$jscomp$80$$=$cssBoxes$jscomp$5$$.$blockActionLibBox$.y+$box$jscomp$24$$.offsetTop()+$row$$%$colLen$$*$stepAction$$;$JSCompiler_StaticMethods_addBlockTemplateToCanvas$$($program$jscomp$31$$,$canvas$jscomp$14$$,$blockTemplate$jscomp$10$$,$box$jscomp$24$$,$x$jscomp$95$$,$y$jscomp$80$$);$row$$++}},$JSCompiler_StaticMethods_renderProgramToCanvas$self$$));if($uiConfig$jscomp$2$$.$customizationMode$){var $customizationBox$$=$JSCompiler_StaticMethods_getBox$$($canvas$jscomp$14$$.$css$,
{tag:"widget",id:"vpl-customize"});$customizationBox$$.width=$cssBoxes$jscomp$5$$.$vplBox$.width/4;$customizationBox$$.height=$cssBoxes$jscomp$5$$.$vplBox$.height/4;$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,function(){$JSCompiler_StaticMethods_drawWidget$$($canvas$jscomp$14$$,"vpl:customize",$cssBoxes$jscomp$5$$.$vplBox$.x+$cssBoxes$jscomp$5$$.$vplBox$.width/2,$cssBoxes$jscomp$5$$.$vplBox$.y+$cssBoxes$jscomp$5$$.$vplBox$.height/2,$customizationBox$$)})}else if($program$jscomp$31$$.message)$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,
function($ctx$jscomp$23$$){var $lines$jscomp$3$$=$program$jscomp$31$$.message.split("\n"),$fontSize$$=Math.min(14,$canvasSize$jscomp$2$$.height/$lines$jscomp$3$$.length);$ctx$jscomp$23$$.font=$fontSize$$+"px sans-serif";$ctx$jscomp$23$$.textAlign="start";$ctx$jscomp$23$$.textBaseline="top";var $x0$jscomp$3$$=$cssBoxes$jscomp$5$$.$vplBox$.x+$fontSize$$,$y0$jscomp$3$$=$cssBoxes$jscomp$5$$.$vplBox$.y+$fontSize$$;$lines$jscomp$3$$.forEach(function($line$jscomp$8$$,$i$jscomp$64$$){$ctx$jscomp$23$$.fillText($line$jscomp$8$$,
$x0$jscomp$3$$,$y0$jscomp$3$$+1.2*$fontSize$$*$i$jscomp$64$$)})});else{$evCol_toolbarItemHeight_vplWidth$$=$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$ruleBox$)+$cssBoxes$jscomp$5$$.$vplBox$.paddingLeft+$cssBoxes$jscomp$5$$.$vplBox$.paddingRight+$JSCompiler_StaticMethods_totalWidth$$($cssBoxes$jscomp$5$$.$errorWidgetBox$);$renderingState$$.$i$.$setTotalWidth$($evCol_toolbarItemHeight_vplWidth$$);$renderingState$$.$i$.$setTotalHeight$($program$jscomp$31$$.$program$.length*$cssBoxes$jscomp$5$$.$ruleBox$.$totalHeight$());
$renderingState$$.$i$.resize($cssBoxes$jscomp$5$$.$vplBox$.x,$cssBoxes$jscomp$5$$.$vplBox$.y,$cssBoxes$jscomp$5$$.$vplBox$.width,$cssBoxes$jscomp$5$$.$vplBox$.height);$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,function($ctx$jscomp$24$$){$cssBoxes$jscomp$5$$.$vplBox$.$draw$($ctx$jscomp$24$$)});$renderingState$$.$i$.$begin$($canvas$jscomp$14$$);$eventX0$jscomp$1$$+=($eventLibWidth_toolbar2Config$$-$actionLibWidth_toolbar2ItemBoxes$$)/2-$canvas$jscomp$14$$.$dims$.$scrollbarWidth$/
2;$actionX0$jscomp$1$$+=($eventLibWidth_toolbar2Config$$-$actionLibWidth_toolbar2ItemBoxes$$)/2-$canvas$jscomp$14$$.$dims$.$scrollbarWidth$/2;$evCol_toolbarItemHeight_vplWidth$$>$cssBoxes$jscomp$5$$.$vplBox$.width&&($eventX0$jscomp$1$$+=($evCol_toolbarItemHeight_vplWidth$$-$cssBoxes$jscomp$5$$.$vplBox$.width)/2+$cssBoxes$jscomp$5$$.$vplBox$.paddingLeft+$cssBoxes$jscomp$5$$.$vplBox$.marginLeft,$actionX0$jscomp$1$$+=($evCol_toolbarItemHeight_vplWidth$$-$cssBoxes$jscomp$5$$.$vplBox$.width)/2+$cssBoxes$jscomp$5$$.$vplBox$.paddingLeft+
$cssBoxes$jscomp$5$$.$vplBox$.marginLeft);var $errorMsg$$="";$program$jscomp$31$$.$program$.forEach(function($rule$jscomp$21$$,$i$jscomp$65$$){$JSCompiler_StaticMethods_addRuleToCanvas$$($program$jscomp$31$$,$canvas$jscomp$14$$,$rule$jscomp$21$$,$displaySingleEvent$jscomp$2$$,$canvas$jscomp$14$$.$dims$.$eventRightAlign$?$maxEventsWidth$$:0,$eventX0$jscomp$1$$,$actionX0$jscomp$1$$,$cssBoxes$jscomp$5$$.$vplBox$.y+$cssBoxes$jscomp$5$$.$ruleBox$.$totalHeight$()*$i$jscomp$65$$+$cssBoxes$jscomp$5$$.$ruleBox$.offsetTop()+
$cssBoxes$jscomp$5$$.$blockContainerBox$.offsetTop(),$cssBoxes$jscomp$5$$);if(null!==$rule$jscomp$21$$.error&&""===$errorMsg$$&&($errorMsg$$=$rule$jscomp$21$$.error.$l$,null!==$rule$jscomp$21$$.error.$j$))for(var $j$jscomp$12$$=$i$jscomp$65$$+1;$j$jscomp$12$$<$program$jscomp$31$$.$program$.length;$j$jscomp$12$$++)if($program$jscomp$31$$.$program$[$j$jscomp$12$$]===$rule$jscomp$21$$.error.$j$){$JSCompiler_StaticMethods_addEventHandlerConflictLinkToCanvas$$($canvas$jscomp$14$$,$eventX0$jscomp$1$$,$cssBoxes$jscomp$5$$.$vplBox$.y+
$cssBoxes$jscomp$5$$.$ruleBox$.$totalHeight$()*$i$jscomp$65$$+$cssBoxes$jscomp$5$$.$ruleBox$.offsetTop()+$cssBoxes$jscomp$5$$.$blockContainerBox$.offsetTop(),$cssBoxes$jscomp$5$$.$vplBox$.y+$cssBoxes$jscomp$5$$.$ruleBox$.$totalHeight$()*$j$jscomp$12$$+$cssBoxes$jscomp$5$$.$ruleBox$.offsetTop()+$cssBoxes$jscomp$5$$.$blockContainerBox$.offsetTop(),$cssBoxes$jscomp$5$$,$rule$jscomp$21$$.error.$isWarning$);break}});$renderingState$$.$i$.end();$program$jscomp$31$$.$noVPL$&&$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,
function(){$JSCompiler_StaticMethods_disabledMark$$($canvas$jscomp$14$$,$cssBoxes$jscomp$5$$.$vplBox$.x,$cssBoxes$jscomp$5$$.$vplBox$.y,$cssBoxes$jscomp$5$$.$vplBox$.width,$cssBoxes$jscomp$5$$.$vplBox$.height,["vpl"],["vpl"])})}$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$14$$,function($ctx$jscomp$26$$){$ctx$jscomp$26$$.save();$ctx$jscomp$26$$.font="9px sans-serif";$ctx$jscomp$26$$.textAlign="start";$ctx$jscomp$26$$.textBaseline="bottom";$ctx$jscomp$26$$.rotate(-Math.PI/2);$ctx$jscomp$26$$.fillText("EPFL 2018-2019",
-$canvasSize$jscomp$2$$.height+$canvas$jscomp$14$$.$dims$.$blockLineWidth$,$canvasSize$jscomp$2$$.width-$canvas$jscomp$14$$.$dims$.$blockLineWidth$);$ctx$jscomp$26$$.restore()});$program$jscomp$31$$.$onUpdate$&&$program$jscomp$31$$.$onUpdate$();$JSCompiler_StaticMethods_redraw$$($canvas$jscomp$14$$)};function $CSSParser$$(){this.$v$={};this.$i$=[];this.$m$={px:1,cm:96/2.54,mm:96/25.4,"in":96,pc:16,pt:96/72};this.$b$=null}
function $JSCompiler_StaticMethods_CSSParser_prototype$parse$$($JSCompiler_StaticMethods_CSSParser_prototype$parse$self$$,$filename$$,$src$jscomp$5$$){function $location$jscomp$46$$(){return $filename$$+" line "+$line$jscomp$9$$+" col "+$col$jscomp$1$$}function $skipBlanks$$(){for(;$i$jscomp$66$$<$src$jscomp$5$$.length;)if(" "===$src$jscomp$5$$[$i$jscomp$66$$]||"\t"===$src$jscomp$5$$[$i$jscomp$66$$])$i$jscomp$66$$++,$col$jscomp$1$$++;else if("\n"===$src$jscomp$5$$[$i$jscomp$66$$])$i$jscomp$66$$++,
$col$jscomp$1$$=1,$line$jscomp$9$$++;else if("\r"===$src$jscomp$5$$[$i$jscomp$66$$])$i$jscomp$66$$++;else if("/*"===$src$jscomp$5$$.slice($i$jscomp$66$$,$i$jscomp$66$$+2))for($i$jscomp$66$$+=2,$col$jscomp$1$$+=2;$i$jscomp$66$$<$src$jscomp$5$$.length;)if("*/"===$src$jscomp$5$$.slice($i$jscomp$66$$,$i$jscomp$66$$+2)){$i$jscomp$66$$+=2;$col$jscomp$1$$+=2;break}else $i$jscomp$66$$++,$col$jscomp$1$$++;else break}function $skipCharacter$$(){"\n"===$src$jscomp$5$$[$i$jscomp$66$$]?($col$jscomp$1$$=1,$line$jscomp$9$$++):
"\r"!==$src$jscomp$5$$[$i$jscomp$66$$]&&$col$jscomp$1$$++;$i$jscomp$66$$++}function $parseTag$$(){for(var $len$$=0;$i$jscomp$66$$+$len$$<$src$jscomp$5$$.length&&/[-_a-z0-9]/i.test($src$jscomp$5$$[$i$jscomp$66$$+$len$$]);)$len$$++;$i$jscomp$66$$+=$len$$;$col$jscomp$1$$+=$len$$;return $src$jscomp$5$$.slice($i$jscomp$66$$-$len$$,$i$jscomp$66$$)}function $parseSelector$$(){var $sel$$=new $CSSParser$Selector$$;if(!/[a-z_.#*:]/i.test($src$jscomp$5$$[$i$jscomp$66$$]))throw"Syntax error "+$location$jscomp$46$$();
for(/[a-z_]/i.test($src$jscomp$5$$[$i$jscomp$66$$])?$sel$$.tag=$parseTag$$():"*"===$src$jscomp$5$$[$i$jscomp$66$$]&&$skipCharacter$$();;)if("#"===$src$jscomp$5$$[$i$jscomp$66$$]){if($sel$$.id)throw"Multiple ids in selector "+$location$jscomp$46$$();$skipCharacter$$();$sel$$.id=$parseTag$$()}else if("."===$src$jscomp$5$$[$i$jscomp$66$$])$skipCharacter$$(),$sel$$.$clas$.push($parseTag$$());else if(":"===$src$jscomp$5$$[$i$jscomp$66$$])$skipCharacter$$(),$sel$$.$pseudoClass$.push($parseTag$$());else break;
return $sel$$}function $parseValue$$(){for(var $j$jscomp$14$$=0;$i$jscomp$66$$+$j$jscomp$14$$<$src$jscomp$5$$.length&&";"!==$src$jscomp$5$$[$i$jscomp$66$$+$j$jscomp$14$$]&&"}"!==$src$jscomp$5$$[$i$jscomp$66$$+$j$jscomp$14$$];)"\n"===$src$jscomp$5$$[$i$jscomp$66$$]?($line$jscomp$9$$++,$col$jscomp$1$$=1):"\r"!==$src$jscomp$5$$[$i$jscomp$66$$]&&$col$jscomp$1$$++,$j$jscomp$14$$++;$i$jscomp$66$$+=$j$jscomp$14$$;return $src$jscomp$5$$.slice($i$jscomp$66$$-$j$jscomp$14$$,$i$jscomp$66$$).trim()}$JSCompiler_StaticMethods_CSSParser_prototype$parse$self$$.$v$[$filename$$]=
$src$jscomp$5$$;for(var $i$jscomp$66$$=0,$line$jscomp$9$$=1,$col$jscomp$1$$=1;$i$jscomp$66$$<$src$jscomp$5$$.length;){$skipBlanks$$();if($i$jscomp$66$$>=$src$jscomp$5$$.length)break;for(var $selectors$jscomp$11$$=[];;){$selectors$jscomp$11$$.push($parseSelector$$());$skipBlanks$$();if(","!==$src$jscomp$5$$[$i$jscomp$66$$])break;$i$jscomp$66$$++;$col$jscomp$1$$++;$skipBlanks$$()}if("{"!==$src$jscomp$5$$[$i$jscomp$66$$])throw"Syntax error "+$location$jscomp$46$$();$i$jscomp$66$$++;$col$jscomp$1$$++;
for(var $props$jscomp$1$$={};;){for(;;){$skipBlanks$$();if(";"!==$src$jscomp$5$$[$i$jscomp$66$$])break;$i$jscomp$66$$++}if($i$jscomp$66$$>=$src$jscomp$5$$.length)throw"Unclosed block "+$location$jscomp$46$$();if("}"===$src$jscomp$5$$[$i$jscomp$66$$]){$i$jscomp$66$$++;$col$jscomp$1$$++;break}else if(!/[a-z_]/i.test($src$jscomp$5$$[$i$jscomp$66$$]))throw"Syntax error "+$location$jscomp$46$$();var $j$jscomp$13_key$jscomp$38$$=$parseTag$$();$skipBlanks$$();if(":"!==$src$jscomp$5$$[$i$jscomp$66$$])throw"Missing colon "+
$location$jscomp$46$$();$i$jscomp$66$$++;$col$jscomp$1$$++;var $val$jscomp$3$$=$parseValue$$();$props$jscomp$1$$[$j$jscomp$13_key$jscomp$38$$]=$JSCompiler_StaticMethods_CSSParser_prototype$parse$self$$.$u$($j$jscomp$13_key$jscomp$38$$,$val$jscomp$3$$)}for($j$jscomp$13_key$jscomp$38$$=0;$j$jscomp$13_key$jscomp$38$$<$selectors$jscomp$11$$.length;$j$jscomp$13_key$jscomp$38$$++)$JSCompiler_StaticMethods_CSSParser_prototype$parse$self$$.$i$.push({$selector$:$selectors$jscomp$11$$[$j$jscomp$13_key$jscomp$38$$],
$properties$:$props$jscomp$1$$})}}$CSSParser$$.prototype.$u$=function $$CSSParser$$$$$u$$($key$jscomp$39$$,$val$jscomp$4$$){return $val$jscomp$4$$};
function $JSCompiler_StaticMethods_convertLength$$($JSCompiler_StaticMethods_convertLength$self$$,$length$jscomp$16_re$$){$length$jscomp$16_re$$=/^(-?([0-9]+\.?|[0-9]*\.[0-9]+))([a-z]*|%)$/.exec($length$jscomp$16_re$$);var $sc$jscomp$1$$=1,$type$jscomp$134$$=$CSSParser$Length$type$absolute$$;if(null==$length$jscomp$16_re$$)throw"Illegal length";if("%"===$length$jscomp$16_re$$[3])$type$jscomp$134$$=$CSSParser$Length$type$percentage$$;else if($JSCompiler_StaticMethods_convertLength$self$$.$m$.hasOwnProperty($length$jscomp$16_re$$[3]))$sc$jscomp$1$$=
$JSCompiler_StaticMethods_convertLength$self$$.$m$[$length$jscomp$16_re$$[3]];else if("vw"===$length$jscomp$16_re$$[3])$type$jscomp$134$$=$CSSParser$Length$type$vw$$;else if("vh"===$length$jscomp$16_re$$[3])$type$jscomp$134$$=$CSSParser$Length$type$vh$$;else if("vmin"===$length$jscomp$16_re$$[3])$type$jscomp$134$$=$CSSParser$Length$type$vmin$$;else if("vmax"===$length$jscomp$16_re$$[3])$type$jscomp$134$$=$CSSParser$Length$type$vmax$$;else if("ww"===$length$jscomp$16_re$$[3])$type$jscomp$134$$=$CSSParser$Length$type$ww$$;
else if("wh"===$length$jscomp$16_re$$[3])$type$jscomp$134$$=$CSSParser$Length$type$wh$$;else if("wmin"===$length$jscomp$16_re$$[3])$type$jscomp$134$$=$CSSParser$Length$type$wmin$$;else if("wmax"===$length$jscomp$16_re$$[3])$type$jscomp$134$$=$CSSParser$Length$type$wmax$$;else if(0==parseFloat($length$jscomp$16_re$$[1]))$sc$jscomp$1$$=0;else throw"Unknown length unit";return new $CSSParser$Length$$(parseFloat($length$jscomp$16_re$$[1])*$sc$jscomp$1$$,$type$jscomp$134$$)}
var $CSSParser$colorDict$$={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",
darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",
gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",
lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",
mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",
seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32",transparent:"rgba(0,0,0,0)"};
function $CSSParser$Length$$($val$jscomp$5$$,$type$jscomp$135$$){this.$val$=$val$jscomp$5$$;this.type=$type$jscomp$135$$?$type$jscomp$135$$:$CSSParser$Length$type$absolute$$}
var $CSSParser$Length$type$absolute$$="abs",$CSSParser$Length$type$percentage$$="%",$CSSParser$Length$type$vw$$="vw",$CSSParser$Length$type$vh$$="vh",$CSSParser$Length$type$vmin$$="vmin",$CSSParser$Length$type$vmax$$="vmax",$CSSParser$Length$type$ww$$="ww",$CSSParser$Length$type$wh$$="wh",$CSSParser$Length$type$wmin$$="wmin",$CSSParser$Length$type$wmax$$="wmax";
function $JSCompiler_StaticMethods_toValue$$($JSCompiler_StaticMethods_toValue$self$$,$lengthBase$$){switch($JSCompiler_StaticMethods_toValue$self$$.type){case $CSSParser$Length$type$absolute$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$;case $CSSParser$Length$type$percentage$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$*($lengthBase$$?$lengthBase$$.$l$/100:1);case $CSSParser$Length$type$vw$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$*($lengthBase$$?$lengthBase$$.$g$:
1);case $CSSParser$Length$type$vh$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$*($lengthBase$$?$lengthBase$$.$b$:1);case $CSSParser$Length$type$vmin$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$*($lengthBase$$?Math.min($lengthBase$$.$g$,$lengthBase$$.$b$):1);case $CSSParser$Length$type$vmax$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$*($lengthBase$$?Math.max($lengthBase$$.$g$,$lengthBase$$.$b$):1);case $CSSParser$Length$type$ww$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$*
($lengthBase$$?$lengthBase$$.$j$:1);case $CSSParser$Length$type$wh$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$*($lengthBase$$?$lengthBase$$.$i$:1);case $CSSParser$Length$type$wmin$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$*($lengthBase$$?Math.min($lengthBase$$.$j$,$lengthBase$$.$i$):1);case $CSSParser$Length$type$wmax$$:return $JSCompiler_StaticMethods_toValue$self$$.$val$*($lengthBase$$?Math.max($lengthBase$$.$j$,$lengthBase$$.$i$):1);default:throw"internal";}}
function $CSSParser$LengthBase$$($base$jscomp$2$$,$vw$$,$vh$$,$ww$$,$wh$$){this.$l$=$base$jscomp$2$$;this.$g$=$vw$$;this.$b$=$vh$$;this.$j$=$ww$$;this.$i$=$wh$$}function $CSSParser$Selector$$(){this.id=this.tag=null;this.$clas$=[];this.$pseudoClass$=[]}
function $CSSParser$Selector$stringifyOptions$$($opt$jscomp$5_str$jscomp$14$$,$lengthBase$jscomp$1$$){$opt$jscomp$5_str$jscomp$14$$=$opt$jscomp$5_str$jscomp$14$$.id?"#"+$opt$jscomp$5_str$jscomp$14$$.id:($opt$jscomp$5_str$jscomp$14$$.tag||"")+($opt$jscomp$5_str$jscomp$14$$.$clas$&&0<$opt$jscomp$5_str$jscomp$14$$.$clas$.length?"."+$opt$jscomp$5_str$jscomp$14$$.$clas$.join("."):"")+($opt$jscomp$5_str$jscomp$14$$.$pseudoClass$&&0<$opt$jscomp$5_str$jscomp$14$$.$pseudoClass$.length?":"+$opt$jscomp$5_str$jscomp$14$$.$pseudoClass$.join("."):
"")||"*";$lengthBase$jscomp$1$$&&($opt$jscomp$5_str$jscomp$14$$+="/"+Math.round($lengthBase$jscomp$1$$.$l$).toString(10)+","+Math.round($lengthBase$jscomp$1$$.$g$).toString(10)+","+Math.round($lengthBase$jscomp$1$$.$b$).toString(10)+","+Math.round($lengthBase$jscomp$1$$.$j$).toString(10)+","+Math.round($lengthBase$jscomp$1$$.$i$).toString(10));return $opt$jscomp$5_str$jscomp$14$$}
$CSSParser$Selector$$.prototype.match=function $$CSSParser$Selector$$$$match$($opt$jscomp$6$$){if($opt$jscomp$6$$.tag&&this.tag&&$opt$jscomp$6$$.tag!==this.tag||this.id&&this.id!==$opt$jscomp$6$$.id)return!1;for(var $i$jscomp$67$$=0;$i$jscomp$67$$<this.$clas$.length;$i$jscomp$67$$++)if(void 0==$opt$jscomp$6$$.$clas$||0>$opt$jscomp$6$$.$clas$.indexOf(this.$clas$[$i$jscomp$67$$]))return!1;for($i$jscomp$67$$=0;$i$jscomp$67$$<this.$pseudoClass$.length;$i$jscomp$67$$++)if(void 0==$opt$jscomp$6$$.$pseudoClass$||
0>$opt$jscomp$6$$.$pseudoClass$.indexOf(this.$pseudoClass$[$i$jscomp$67$$]))return!1;return!0};function $CSSParser$VPL$$(){$CSSParser$$.call(this);this.$g$=[];this.$j$={};this.$l$={};this.$o$="none hidden dotted dashed solid double".split(" ");this.$A$=["normal","italic","oblique"];this.$B$=["normal","bold"]}$CSSParser$VPL$$.prototype=Object.create($CSSParser$$.prototype);$CSSParser$VPL$$.prototype.constructor=$CSSParser$VPL$$;
$CSSParser$VPL$$.prototype.defineProperties=function $$CSSParser$VPL$$$$defineProperties$(){for(var $i$jscomp$68$$=0;$i$jscomp$68$$<this.$i$.length;$i$jscomp$68$$++){var $props$jscomp$2$$=new $CSSParser$VPL$Properties$$;$JSCompiler_StaticMethods_CSSParser_VPL_Properties_prototype$setProperties$$($props$jscomp$2$$,this.$i$[$i$jscomp$68$$].$properties$);this.$g$.push({$selector$:this.$i$[$i$jscomp$68$$].$selector$,$props$:$props$jscomp$2$$})}};
$CSSParser$VPL$$.prototype.$u$=function $$CSSParser$VPL$$$$$u$$($key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$,$val$jscomp$7$$){function $isLength$$($val$jscomp$8$$){try{$JSCompiler_StaticMethods_convertLength$$($self$jscomp$9$$,$val$jscomp$8$$)}catch($e$jscomp$11$$){return!1}return!0}function $isColor$$($val$jscomp$9$$){return $CSSParser$colorDict$$.hasOwnProperty($val$jscomp$9$$)||/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test($val$jscomp$9$$)||/^rgba\([^()]*\)$/.test($val$jscomp$9$$)}var $self$jscomp$9$$=
this;switch($key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$){case "margin-left":case "margin-right":case "margin-top":case "margin-bottom":case "padding-left":case "padding-right":case "padding-top":case "padding-bottom":case "border-left-width":case "border-right-width":case "border-top-width":case "border-bottom-width":case "line-width":case "width":case "height":case "min-width":case "min-height":case "max-width":case "max-height":case "font-size":return $JSCompiler_StaticMethods_convertLength$$(this,
$val$jscomp$7$$);case "margin":case "padding":case "border-width":switch($key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$=$val$jscomp$7$$.replace(/ +/g," ").split(" ").map(function($val1$$){return $JSCompiler_StaticMethods_convertLength$$($self$jscomp$9$$,$val1$$)}),$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$.length){case 1:return[$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0]];
case 2:return[$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[1],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[1]];case 3:return[$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[1],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[2],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[1]];case 4:return $key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$;default:throw"Wrong number of lengths";
}case "border-style":case "border-left-style":case "border-right-style":case "border-top-style":case "border-bottom-style":case "line-style":if(!(0<=$self$jscomp$9$$.$o$.indexOf($val$jscomp$7$$)))throw"Unknown border style";return $val$jscomp$7$$;case "line-cap":if(!(0<=["butt","round","square"].indexOf($val$jscomp$7$$)))throw"Unknown line cap";return $val$jscomp$7$$;case "border-color":case "border-left-color":case "border-right-color":case "border-top-color":case "border-bottom-color":case "color":case "background-color":case "background":if(!$isColor$$($val$jscomp$7$$))throw"Unknown border color";
return $val$jscomp$7$$;case "border-left":case "border-right":case "border-top":case "border-bottom":case "border":case "line":var $color$jscomp$2$$=null,$style$$=null,$width$jscomp$28$$=null;$val$jscomp$7$$.replace(/ +/g," ").split(" ").forEach(function($val1$jscomp$1$$){if($isColor$$($val1$jscomp$1$$))$color$jscomp$2$$=$val1$jscomp$1$$;else if(0<=$self$jscomp$9$$.$o$.indexOf($val1$jscomp$1$$))$style$$=$val1$jscomp$1$$;else if($isLength$$($val1$jscomp$1$$))$width$jscomp$28$$=$JSCompiler_StaticMethods_convertLength$$($self$jscomp$9$$,
$val1$jscomp$1$$);else throw"Illegal border property";});return{color:$color$jscomp$2$$,style:null===$style$$&&($color$jscomp$2$$||$width$jscomp$28$$)?"solid":$style$$,width:null===$width$jscomp$28$$&&($color$jscomp$2$$||$style$$)?new $CSSParser$Length$$(1):$width$jscomp$28$$};case "border-top-left-radius":case "border-top-right-radius":case "border-bottom-right-radius":case "border-bottom-left-radius":switch($key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$=$val$jscomp$7$$.replace(/ +/g," ").split(" ").map(function($val1$jscomp$2$$){return $JSCompiler_StaticMethods_convertLength$$($self$jscomp$9$$,
$val1$jscomp$2$$)}),$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$.length){case 1:return[$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0]];case 2:return $key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$;default:throw"Wrong number of radii";}case "border-radius":switch($key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$=$val$jscomp$7$$.split("/").map(function($part_r$jscomp$3$$){$part_r$jscomp$3$$=$part_r$jscomp$3$$.replace(/ +/g," ").split(" ").map(function($val1$jscomp$3$$){return"/"===
$val1$jscomp$3$$?"/":$JSCompiler_StaticMethods_convertLength$$($self$jscomp$9$$,$val1$jscomp$3$$)});switch($part_r$jscomp$3$$.length){case 1:return[$part_r$jscomp$3$$[0],$part_r$jscomp$3$$[0],$part_r$jscomp$3$$[0],$part_r$jscomp$3$$[0]];case 2:return[$part_r$jscomp$3$$[0],$part_r$jscomp$3$$[1],$part_r$jscomp$3$$[0],$part_r$jscomp$3$$[1]];case 3:return[$part_r$jscomp$3$$[0],$part_r$jscomp$3$$[1],$part_r$jscomp$3$$[2],$part_r$jscomp$3$$[1]];case 4:return $part_r$jscomp$3$$;default:throw"Wrong number of radii";
}}),$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$.length){case 1:return $key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0].concat($key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0]);case 2:return $key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0].concat($key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[1]);default:throw"Wrong number of radius dimensions";}case "font":var $fontStyle$$="",$fontWeight$$="",$fontSize$jscomp$1$$=null,$fontFamily$jscomp$1$$="";$val$jscomp$7$$.replace(/ +/g," ").split(" ").forEach(function($val1$jscomp$4$$){if(null===
$fontSize$jscomp$1$$)if($isLength$$($val1$jscomp$4$$))$fontSize$jscomp$1$$=$JSCompiler_StaticMethods_convertLength$$($self$jscomp$9$$,$val1$jscomp$4$$);else if(0<=$self$jscomp$9$$.$A$.indexOf($val1$jscomp$4$$))$fontStyle$$=$val1$jscomp$4$$;else if(0<=$self$jscomp$9$$.$B$.indexOf($val1$jscomp$4$$))$fontWeight$$=$val1$jscomp$4$$;else throw"Unknown font style "+$val1$jscomp$4$$;else{if(""!==$fontFamily$jscomp$1$$)throw"Unexpected font style after font-family";$fontFamily$jscomp$1$$=$val1$jscomp$4$$}});
return{fontFamily:$fontFamily$jscomp$1$$,fontSize:$fontSize$jscomp$1$$,fontStyle:$fontStyle$$,fontWeight:$fontWeight$$};case "box-shadow":case "line-shadow":return $val$jscomp$7$$=$val$jscomp$7$$.split(",")[0],$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$=$val$jscomp$7$$.replace(/ +/g," ").split(" "),"inset"===$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0]&&($key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$=$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$.slice(1)),3<=$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$.length&&
5>=$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$.length?{offset:[$JSCompiler_StaticMethods_convertLength$$(this,$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[0]),$JSCompiler_StaticMethods_convertLength$$(this,$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[1])],color:$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$.length-1],$blurRadius$:4<=$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$.length?$JSCompiler_StaticMethods_convertLength$$(this,$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[2]):
null,$spreadRadius$:5<=$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$.length?$JSCompiler_StaticMethods_convertLength$$(this,$key$jscomp$40_lengths_r$jscomp$2_rr_valArr$$[3]):null}:{};case "overflow":if(0>["wrap","scroll"].indexOf($val$jscomp$7$$))throw"Unknown overflow mode";return $val$jscomp$7$$;case "vertical-align":return 0<=["top","middle","bottom"].indexOf($val$jscomp$7$$)?$val$jscomp$7$$:$JSCompiler_StaticMethods_convertLength$$(this,$val$jscomp$7$$);default:return $val$jscomp$7$$}};
function $JSCompiler_StaticMethods_getProperties$$($JSCompiler_StaticMethods_getProperties$self$$,$opt$jscomp$7$$){for(var $props$jscomp$3_props$jscomp$inline_98$$=null,$i$jscomp$69$$=0;$i$jscomp$69$$<$JSCompiler_StaticMethods_getProperties$self$$.$g$.length;$i$jscomp$69$$++)if($JSCompiler_StaticMethods_getProperties$self$$.$g$[$i$jscomp$69$$].$selector$.match($opt$jscomp$7$$)){if($props$jscomp$3_props$jscomp$inline_98$$){var $JSCompiler_temp$jscomp$11_key$jscomp$inline_99$$=void 0;var $overridingProps$jscomp$inline_97$$=
$JSCompiler_StaticMethods_getProperties$self$$.$g$[$i$jscomp$69$$].$props$;$props$jscomp$3_props$jscomp$inline_98$$=$props$jscomp$3_props$jscomp$inline_98$$.$copy$();for($JSCompiler_temp$jscomp$11_key$jscomp$inline_99$$ in $overridingProps$jscomp$inline_97$$.$properties$)$overridingProps$jscomp$inline_97$$.$properties$.hasOwnProperty($JSCompiler_temp$jscomp$11_key$jscomp$inline_99$$)&&($props$jscomp$3_props$jscomp$inline_98$$.$properties$[$JSCompiler_temp$jscomp$11_key$jscomp$inline_99$$]=$overridingProps$jscomp$inline_97$$.$properties$[$JSCompiler_temp$jscomp$11_key$jscomp$inline_99$$]);
$JSCompiler_temp$jscomp$11_key$jscomp$inline_99$$=$props$jscomp$3_props$jscomp$inline_98$$}else $JSCompiler_temp$jscomp$11_key$jscomp$inline_99$$=$JSCompiler_StaticMethods_getProperties$self$$.$g$[$i$jscomp$69$$].$props$.$copy$();$props$jscomp$3_props$jscomp$inline_98$$=$JSCompiler_temp$jscomp$11_key$jscomp$inline_99$$}for(var $key$jscomp$41$$ in $props$jscomp$3_props$jscomp$inline_98$$)$props$jscomp$3_props$jscomp$inline_98$$.hasOwnProperty($key$jscomp$41$$)&&$props$jscomp$3_props$jscomp$inline_98$$[$key$jscomp$41$$]instanceof
$CSSParser$Length$$&&($props$jscomp$3_props$jscomp$inline_98$$[$key$jscomp$41$$]=$JSCompiler_StaticMethods_toValue$$($props$jscomp$3_props$jscomp$inline_98$$[$key$jscomp$41$$],$JSCompiler_StaticMethods_getProperties$self$$.$b$));return $props$jscomp$3_props$jscomp$inline_98$$}
function $JSCompiler_StaticMethods_getBox$$($JSCompiler_StaticMethods_getBox$self$$,$box$jscomp$25_opt$jscomp$8_props$jscomp$4$$){var $key$jscomp$42$$=$CSSParser$Selector$stringifyOptions$$($box$jscomp$25_opt$jscomp$8_props$jscomp$4$$,$JSCompiler_StaticMethods_getBox$self$$.$b$);if($JSCompiler_StaticMethods_getBox$self$$.$j$[$key$jscomp$42$$])return $JSCompiler_StaticMethods_getBox$self$$.$j$[$key$jscomp$42$$];$box$jscomp$25_opt$jscomp$8_props$jscomp$4$$=$JSCompiler_StaticMethods_getProperties$$($JSCompiler_StaticMethods_getBox$self$$,
$box$jscomp$25_opt$jscomp$8_props$jscomp$4$$);$box$jscomp$25_opt$jscomp$8_props$jscomp$4$$=new $CSSParser$VPL$Box$$($box$jscomp$25_opt$jscomp$8_props$jscomp$4$$,$JSCompiler_StaticMethods_getBox$self$$.$b$);return $JSCompiler_StaticMethods_getBox$self$$.$j$[$key$jscomp$42$$]=$box$jscomp$25_opt$jscomp$8_props$jscomp$4$$}
function $JSCompiler_StaticMethods_getLine$$($JSCompiler_StaticMethods_getLine$self$$,$line$jscomp$10_opt$jscomp$9_props$jscomp$5$$){var $key$jscomp$43$$=$CSSParser$Selector$stringifyOptions$$($line$jscomp$10_opt$jscomp$9_props$jscomp$5$$,$JSCompiler_StaticMethods_getLine$self$$.$b$);if($JSCompiler_StaticMethods_getLine$self$$.$l$[$key$jscomp$43$$])return $JSCompiler_StaticMethods_getLine$self$$.$l$[$key$jscomp$43$$];$line$jscomp$10_opt$jscomp$9_props$jscomp$5$$=$JSCompiler_StaticMethods_getProperties$$($JSCompiler_StaticMethods_getLine$self$$,
$line$jscomp$10_opt$jscomp$9_props$jscomp$5$$);$line$jscomp$10_opt$jscomp$9_props$jscomp$5$$=new $CSSParser$VPL$Line$$($line$jscomp$10_opt$jscomp$9_props$jscomp$5$$,$JSCompiler_StaticMethods_getLine$self$$.$b$);return $JSCompiler_StaticMethods_getLine$self$$.$l$[$key$jscomp$43$$]=$line$jscomp$10_opt$jscomp$9_props$jscomp$5$$}function $CSSParser$VPL$Properties$$(){this.$properties$={}}
function $JSCompiler_StaticMethods_CSSParser_VPL_Properties_prototype$setProperties$$($JSCompiler_StaticMethods_CSSParser_VPL_Properties_prototype$setProperties$self$$,$props$jscomp$6$$){for(var $key$jscomp$44$$ in $props$jscomp$6$$)$props$jscomp$6$$.hasOwnProperty($key$jscomp$44$$)&&($JSCompiler_StaticMethods_CSSParser_VPL_Properties_prototype$setProperties$self$$.$properties$[$key$jscomp$44$$]=$props$jscomp$6$$[$key$jscomp$44$$])}
$CSSParser$VPL$Properties$$.prototype.$copy$=function $$CSSParser$VPL$Properties$$$$$copy$$(){var $props$jscomp$7$$=new $CSSParser$VPL$Properties$$;$JSCompiler_StaticMethods_CSSParser_VPL_Properties_prototype$setProperties$$($props$jscomp$7$$,this.$properties$);return $props$jscomp$7$$};
function $CSSParser$VPL$Box$$($props$jscomp$9$$,$lengthBase$jscomp$2$$){this.marginBottom=this.marginTop=this.marginRight=this.marginLeft=this.y=this.x=this.height=this.width=0;this.$sameBorder$=!0;this.$roundedCorners$=!1;this.borderBottomWidth=this.borderTopWidth=this.borderRightWidth=this.borderLeftWidth=0;this.borderBottomStyle=this.borderTopStyle=this.borderRightStyle=this.borderLeftStyle="none";this.borderBottomColor=this.borderTopColor=this.borderRightColor=this.borderLeftColor="black";this.borderTopLeftRadius=
[0,0];this.borderTopRightRadius=[0,0];this.borderBottomRightRadius=[0,0];this.borderBottomLeftRadius=[0,0];this.paddingBottom=this.paddingTop=this.paddingRight=this.paddingLeft=0;this.backgroundColor="transparent";this.color="black";this.fontFamily="sans-serif";this.fontSize=10;this.fontWeight=this.fontStyle="";this.scroll=!1;this.verticalAlign="middle";this.$shadowOffset$=null;this.$shadowSpreadRadius$=this.$shadowBlurRadius$=0;this.shadowColor=null;$props$jscomp$9$$&&$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$$(this,
$props$jscomp$9$$.$properties$,$lengthBase$jscomp$2$$)}$CSSParser$VPL$Box$$.prototype=Object.create($CSSParser$VPL$Properties$$.prototype);$JSCompiler_prototypeAlias$$=$CSSParser$VPL$Box$$.prototype;$JSCompiler_prototypeAlias$$.constructor=$CSSParser$VPL$Box$$;
function $JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$$($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$,$props$jscomp$10$$,$lengthBase$jscomp$3$$){var $width$jscomp$29$$=-1,$height$jscomp$26$$=-1,$minWidth$$=-1,$minHeight$$=-1,$maxWidth$$=1E9,$maxHeight$jscomp$1$$=1E9,$key$jscomp$46$$;for($key$jscomp$46$$ in $props$jscomp$10$$)switch($key$jscomp$46$$){case "margin-left":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.marginLeft=
$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "margin-right":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.marginRight=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "margin-top":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.marginTop=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);
break;case "margin-bottom":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.marginBottom=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "border-left-width":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=
!1;break;case "border-right-width":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-top-width":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],
$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-bottom-width":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "padding-left":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.paddingLeft=
$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "padding-right":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.paddingRight=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "padding-top":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.paddingTop=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);
break;case "padding-bottom":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.paddingBottom=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "margin":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.marginTop=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][0],$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.marginRight=
$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][1],$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.marginBottom=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][2],$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.marginLeft=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][3],$lengthBase$jscomp$3$$);break;case "border-width":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopWidth=
$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][0],$lengthBase$jscomp$3$$);"none"===$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopStyle&&0<$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopWidth&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopStyle=null);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][1],
$lengthBase$jscomp$3$$);"none"===$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightStyle&&0<$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightWidth&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightStyle=null);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][2],$lengthBase$jscomp$3$$);
"none"===$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomStyle&&0<$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomWidth&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomStyle=null);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][3],$lengthBase$jscomp$3$$);"none"===$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftStyle&&
0<$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftWidth&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftStyle=null);break;case "padding":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.paddingTop=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][0],$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.paddingRight=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][1],
$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.paddingBottom=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][2],$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.paddingLeft=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][3],$lengthBase$jscomp$3$$);break;case "border-style":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftStyle=
$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightStyle=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopStyle=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomStyle=$props$jscomp$10$$[$key$jscomp$46$$];break;case "border-left-style":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftStyle=
$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-right-style":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightStyle=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-top-style":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopStyle=$props$jscomp$10$$[$key$jscomp$46$$];
$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-bottom-style":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomStyle=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-color":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftColor=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightColor=
$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopColor=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomColor=$props$jscomp$10$$[$key$jscomp$46$$];break;case "border-left-color":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftColor=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=
!1;break;case "border-right-color":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightColor=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-top-color":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopColor=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;
break;case "border-bottom-color":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomColor=$props$jscomp$10$$[$key$jscomp$46$$];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-left":null!==$props$jscomp$10$$[$key$jscomp$46$$].color&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftColor=$props$jscomp$10$$[$key$jscomp$46$$].color);null!==$props$jscomp$10$$[$key$jscomp$46$$].style&&
($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftStyle=$props$jscomp$10$$[$key$jscomp$46$$].style);null!==$props$jscomp$10$$[$key$jscomp$46$$].width&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$].width,$lengthBase$jscomp$3$$));$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-right":null!==
$props$jscomp$10$$[$key$jscomp$46$$].color&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightColor=$props$jscomp$10$$[$key$jscomp$46$$].color);null!==$props$jscomp$10$$[$key$jscomp$46$$].style&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightStyle=$props$jscomp$10$$[$key$jscomp$46$$].style);null!==$props$jscomp$10$$[$key$jscomp$46$$].width&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightWidth=
$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$].width,$lengthBase$jscomp$3$$));$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-top":null!==$props$jscomp$10$$[$key$jscomp$46$$].color&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopColor=$props$jscomp$10$$[$key$jscomp$46$$].color);null!==$props$jscomp$10$$[$key$jscomp$46$$].style&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopStyle=
$props$jscomp$10$$[$key$jscomp$46$$].style);null!==$props$jscomp$10$$[$key$jscomp$46$$].width&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$].width,$lengthBase$jscomp$3$$));$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!1;break;case "border-bottom":null!==$props$jscomp$10$$[$key$jscomp$46$$].color&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomColor=
$props$jscomp$10$$[$key$jscomp$46$$].color);null!==$props$jscomp$10$$[$key$jscomp$46$$].style&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomStyle=$props$jscomp$10$$[$key$jscomp$46$$].style);null!==$props$jscomp$10$$[$key$jscomp$46$$].width&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$].width,$lengthBase$jscomp$3$$));$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=
!1;break;case "border":null!==$props$jscomp$10$$[$key$jscomp$46$$].color&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftColor=$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightColor=$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopColor=$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomColor=$props$jscomp$10$$[$key$jscomp$46$$].color);null!==$props$jscomp$10$$[$key$jscomp$46$$].style&&
($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftStyle=$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightStyle=$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopStyle=$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomStyle=$props$jscomp$10$$[$key$jscomp$46$$].style);null!==$props$jscomp$10$$[$key$jscomp$46$$].width&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderLeftWidth=
$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderRightWidth=$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopWidth=$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomWidth=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$].width,$lengthBase$jscomp$3$$));$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$sameBorder$=!0;break;case "border-top-left-radius":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopLeftRadius=
$props$jscomp$10$$[$key$jscomp$46$$].map(function($l$$){return $JSCompiler_StaticMethods_toValue$$($l$$,$lengthBase$jscomp$3$$)});$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$roundedCorners$=!0;break;case "border-top-right-radius":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopRightRadius=$props$jscomp$10$$[$key$jscomp$46$$].map(function($l$jscomp$1$$){return $JSCompiler_StaticMethods_toValue$$($l$jscomp$1$$,$lengthBase$jscomp$3$$)});
$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$roundedCorners$=!0;break;case "border-bottom-right-radius":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomRightRadius=$props$jscomp$10$$[$key$jscomp$46$$].map(function($l$jscomp$2$$){return $JSCompiler_StaticMethods_toValue$$($l$jscomp$2$$,$lengthBase$jscomp$3$$)});$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$roundedCorners$=!0;break;case "border-bottom-left-radius":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomLeftRadius=
$props$jscomp$10$$[$key$jscomp$46$$].map(function($l$jscomp$3$$){return $JSCompiler_StaticMethods_toValue$$($l$jscomp$3$$,$lengthBase$jscomp$3$$)});$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$roundedCorners$=!0;break;case "border-radius":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopLeftRadius=[$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][0],$lengthBase$jscomp$3$$),$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][4],
$lengthBase$jscomp$3$$)];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderTopRightRadius=[$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][1],$lengthBase$jscomp$3$$),$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][5],$lengthBase$jscomp$3$$)];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomRightRadius=[$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][2],$lengthBase$jscomp$3$$),
$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][6],$lengthBase$jscomp$3$$)];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.borderBottomLeftRadius=[$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][3],$lengthBase$jscomp$3$$),$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$][7],$lengthBase$jscomp$3$$)];$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$roundedCorners$=!0;break;
case "background-color":case "background":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.backgroundColor=$props$jscomp$10$$[$key$jscomp$46$$];break;case "color":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.color=$props$jscomp$10$$[$key$jscomp$46$$];break;case "font":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.fontFamily=$props$jscomp$10$$[$key$jscomp$46$$].fontFamily;$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.fontSize=
$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$].fontSize,$lengthBase$jscomp$3$$);$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.fontStyle=$props$jscomp$10$$[$key$jscomp$46$$].fontStyle;$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.fontWeight=$props$jscomp$10$$[$key$jscomp$46$$].fontWeight;break;case "font-family":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.fontFamily=$props$jscomp$10$$[$key$jscomp$46$$];
break;case "font-size":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.fontSize=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "font-style":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.fontStyle=$props$jscomp$10$$[$key$jscomp$46$$];break;case "font-weight":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.fontWeight=$props$jscomp$10$$[$key$jscomp$46$$];break;
case "overflow":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.scroll="scroll"===$props$jscomp$10$$[$key$jscomp$46$$];break;case "vertical-align":$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.verticalAlign=$props$jscomp$10$$[$key$jscomp$46$$]instanceof $CSSParser$Length$$?$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$):$props$jscomp$10$$[$key$jscomp$46$$];break;case "box-shadow":null!==$props$jscomp$10$$[$key$jscomp$46$$].$shadowOffset$&&
($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$shadowOffset$=$props$jscomp$10$$[$key$jscomp$46$$].offset.map(function($l$jscomp$4$$){return $l$jscomp$4$$?$JSCompiler_StaticMethods_toValue$$($l$jscomp$4$$,$lengthBase$jscomp$3$$):0}),$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$shadowBlurRadius$=$props$jscomp$10$$[$key$jscomp$46$$].$blurRadius$?$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$].$blurRadius$,$lengthBase$jscomp$3$$):
0,$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.$shadowSpreadRadius$=$props$jscomp$10$$[$key$jscomp$46$$].$spreadRadius$?$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$].$spreadRadius$,$lengthBase$jscomp$3$$):0,$JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.shadowColor=$props$jscomp$10$$[$key$jscomp$46$$].color);break;case "width":$width$jscomp$29$$=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],
$lengthBase$jscomp$3$$);break;case "min-width":$minWidth$$=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "max-width":$maxWidth$$=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "height":$height$jscomp$26$$=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$);break;case "min-height":$minHeight$$=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],
$lengthBase$jscomp$3$$);break;case "max-height":$maxHeight$jscomp$1$$=$JSCompiler_StaticMethods_toValue$$($props$jscomp$10$$[$key$jscomp$46$$],$lengthBase$jscomp$3$$)}$width$jscomp$29$$=Math.max(Math.min($width$jscomp$29$$,$maxWidth$$),$minWidth$$);$height$jscomp$26$$=Math.max(Math.min($height$jscomp$26$$,$maxHeight$jscomp$1$$),$minHeight$$);0<=$width$jscomp$29$$&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.width=$width$jscomp$29$$);0<=$height$jscomp$26$$&&($JSCompiler_StaticMethods_CSSParser_VPL_Box_prototype$setProperties$self$$.height=
$height$jscomp$26$$)}$JSCompiler_prototypeAlias$$.setPosition=function $$JSCompiler_prototypeAlias$$$setPosition$($left$jscomp$3$$,$top$jscomp$2$$){this.x=$left$jscomp$3$$+this.offsetLeft();this.y=$top$jscomp$2$$+this.offsetTop()};function $JSCompiler_StaticMethods_totalWidth$$($JSCompiler_StaticMethods_totalWidth$self$$){return $JSCompiler_StaticMethods_totalWidth$self$$.width+$JSCompiler_StaticMethods_nonContentWidth$$($JSCompiler_StaticMethods_totalWidth$self$$)}
$JSCompiler_prototypeAlias$$.$totalHeight$=function $$JSCompiler_prototypeAlias$$$$totalHeight$$(){return this.height+(this.marginTop+this.borderTopWidth+this.paddingTop+this.paddingBottom+this.borderBottomWidth+this.marginBottom)};$JSCompiler_prototypeAlias$$.$setTotalWidth$=function $$JSCompiler_prototypeAlias$$$$setTotalWidth$$($totalWidth$$){this.width=$totalWidth$$-(this.marginLeft+this.borderLeftWidth+this.paddingLeft+this.paddingRight+this.borderRightWidth+this.marginRight)};
$JSCompiler_prototypeAlias$$.$setTotalHeight$=function $$JSCompiler_prototypeAlias$$$$setTotalHeight$$($totalHeight$$){this.height=$totalHeight$$-(this.marginTop+this.borderTopWidth+this.paddingTop+this.paddingBottom+this.borderBottomWidth+this.marginBottom)};
$JSCompiler_prototypeAlias$$.$copy$=function $$JSCompiler_prototypeAlias$$$$copy$$(){var $box$jscomp$26$$=new $CSSParser$VPL$Box$$;$box$jscomp$26$$.width=this.width;$box$jscomp$26$$.height=this.height;$box$jscomp$26$$.x=this.x;$box$jscomp$26$$.y=this.y;$box$jscomp$26$$.marginLeft=this.marginLeft;$box$jscomp$26$$.marginRight=this.marginRight;$box$jscomp$26$$.marginTop=this.marginTop;$box$jscomp$26$$.marginBottom=this.marginBottom;$box$jscomp$26$$.$sameBorder$=this.$sameBorder$;$box$jscomp$26$$.$roundedCorners$=
this.$roundedCorners$;$box$jscomp$26$$.borderLeftWidth=this.borderLeftWidth;$box$jscomp$26$$.borderRightWidth=this.borderRightWidth;$box$jscomp$26$$.borderTopWidth=this.borderTopWidth;$box$jscomp$26$$.borderBottomWidth=this.borderBottomWidth;$box$jscomp$26$$.borderLeftStyle=this.borderLeftStyle;$box$jscomp$26$$.borderRightStyle=this.borderRightStyle;$box$jscomp$26$$.borderTopStyle=this.borderTopStyle;$box$jscomp$26$$.borderBottomStyle=this.borderBottomStyle;$box$jscomp$26$$.borderLeftColor=this.borderLeftColor;
$box$jscomp$26$$.borderRightColor=this.borderRightColor;$box$jscomp$26$$.borderTopColor=this.borderTopColor;$box$jscomp$26$$.borderBottomColor=this.borderBottomColor;$box$jscomp$26$$.borderTopLeftRadius=this.borderTopLeftRadius;$box$jscomp$26$$.borderTopRightRadius=this.borderTopRightRadius;$box$jscomp$26$$.borderBottomRightRadius=this.borderBottomRightRadius;$box$jscomp$26$$.borderBottomLeftRadius=this.borderBottomLeftRadius;$box$jscomp$26$$.paddingLeft=this.paddingLeft;$box$jscomp$26$$.paddingRight=
this.paddingRight;$box$jscomp$26$$.paddingTop=this.paddingTop;$box$jscomp$26$$.paddingBottom=this.paddingBottom;$box$jscomp$26$$.backgroundColor=this.backgroundColor;$box$jscomp$26$$.color=this.color;$box$jscomp$26$$.fontFamily=this.fontFamily;$box$jscomp$26$$.fontSize=this.fontSize;$box$jscomp$26$$.fontStyle=this.fontStyle;$box$jscomp$26$$.fontWeight=this.fontWeight;$box$jscomp$26$$.scroll=this.scroll;$box$jscomp$26$$.verticalAlign=this.verticalAlign;$box$jscomp$26$$.$shadowOffset$=this.$shadowOffset$;
$box$jscomp$26$$.$shadowBlurRadius$=this.$shadowBlurRadius$;$box$jscomp$26$$.$shadowSpreadRadius$=this.$shadowSpreadRadius$;$box$jscomp$26$$.shadowColor=this.shadowColor;return $box$jscomp$26$$};$JSCompiler_prototypeAlias$$.offsetLeft=function $$JSCompiler_prototypeAlias$$$offsetLeft$(){return this.marginLeft+this.borderLeftWidth+this.paddingLeft};
function $JSCompiler_StaticMethods_nonContentWidth$$($JSCompiler_StaticMethods_nonContentWidth$self$$){return $JSCompiler_StaticMethods_nonContentWidth$self$$.marginLeft+$JSCompiler_StaticMethods_nonContentWidth$self$$.borderLeftWidth+$JSCompiler_StaticMethods_nonContentWidth$self$$.paddingLeft+$JSCompiler_StaticMethods_nonContentWidth$self$$.paddingRight+$JSCompiler_StaticMethods_nonContentWidth$self$$.borderRightWidth+$JSCompiler_StaticMethods_nonContentWidth$self$$.marginRight}
$JSCompiler_prototypeAlias$$.offsetTop=function $$JSCompiler_prototypeAlias$$$offsetTop$(){return this.marginTop+this.borderTopWidth+this.paddingTop};function $JSCompiler_StaticMethods_paddedWidth$$($JSCompiler_StaticMethods_paddedWidth$self$$){return $JSCompiler_StaticMethods_paddedWidth$self$$.width+$JSCompiler_StaticMethods_paddedWidth$self$$.paddingLeft+$JSCompiler_StaticMethods_paddedWidth$self$$.paddingRight}
function $JSCompiler_StaticMethods_paddedHeight$$($JSCompiler_StaticMethods_paddedHeight$self$$){return $JSCompiler_StaticMethods_paddedHeight$self$$.height+$JSCompiler_StaticMethods_paddedHeight$self$$.paddingTop+$JSCompiler_StaticMethods_paddedHeight$self$$.paddingBottom}
function $JSCompiler_StaticMethods_cssFontString$$($JSCompiler_StaticMethods_cssFontString$self$$){return($JSCompiler_StaticMethods_cssFontString$self$$.fontStyle?$JSCompiler_StaticMethods_cssFontString$self$$.fontStyle+" ":"")+($JSCompiler_StaticMethods_cssFontString$self$$.fontWeight?$JSCompiler_StaticMethods_cssFontString$self$$.fontWeight+" ":"")+$JSCompiler_StaticMethods_cssFontString$self$$.fontSize.toFixed(1)+"px "+$JSCompiler_StaticMethods_cssFontString$self$$.fontFamily}
function $CSSParser$VPL$Line$$($props$jscomp$11$$,$lengthBase$jscomp$4$$){this.margin=0;this.$cap$=this.style=this.width=null;this.color="black";this.$shadowOffset$=null;this.$shadowSpreadRadius$=this.$shadowBlurRadius$=0;this.shadowColor=null;$props$jscomp$11$$&&$JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$$(this,$props$jscomp$11$$.$properties$,$lengthBase$jscomp$4$$);null===this.width&&(this.width=null!==this.style&&"none"!==this.style?1:0);null===this.style&&(this.style=
0<this.width?"solid":"none");null===this.$cap$&&(this.$cap$="butt")}$CSSParser$VPL$Line$$.prototype=Object.create($CSSParser$VPL$Properties$$.prototype);$CSSParser$VPL$Line$$.prototype.constructor=$CSSParser$VPL$Line$$;
function $JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$$($JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$,$props$jscomp$12$$,$lengthBase$jscomp$5$$){for(var $key$jscomp$47$$ in $props$jscomp$12$$)switch($key$jscomp$47$$){case "margin":$JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.margin=$JSCompiler_StaticMethods_toValue$$($props$jscomp$12$$[$key$jscomp$47$$],$lengthBase$jscomp$5$$);break;case "line-width":$JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.width=
$JSCompiler_StaticMethods_toValue$$($props$jscomp$12$$[$key$jscomp$47$$],$lengthBase$jscomp$5$$);break;case "line-style":$JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.style=$props$jscomp$12$$[$key$jscomp$47$$];break;case "line-cap":$JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.$cap$=$props$jscomp$12$$[$key$jscomp$47$$];break;case "color":$JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.color=$props$jscomp$12$$[$key$jscomp$47$$];
break;case "line":null!==$props$jscomp$12$$[$key$jscomp$47$$].color&&($JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.color=$props$jscomp$12$$[$key$jscomp$47$$].color);null!==$props$jscomp$12$$[$key$jscomp$47$$].style&&($JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.style=$props$jscomp$12$$[$key$jscomp$47$$].style);null!==$props$jscomp$12$$[$key$jscomp$47$$].width&&($JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.width=
$JSCompiler_StaticMethods_toValue$$($props$jscomp$12$$[$key$jscomp$47$$].width,$lengthBase$jscomp$5$$));break;case "line-shadow":null!==$props$jscomp$12$$[$key$jscomp$47$$].$shadowOffset$&&($JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.$shadowOffset$=$props$jscomp$12$$[$key$jscomp$47$$].offset.map(function($l$jscomp$5$$){return $l$jscomp$5$$?$JSCompiler_StaticMethods_toValue$$($l$jscomp$5$$,$lengthBase$jscomp$5$$):0}),$JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.$shadowBlurRadius$=
$props$jscomp$12$$[$key$jscomp$47$$].$blurRadius$?$JSCompiler_StaticMethods_toValue$$($props$jscomp$12$$[$key$jscomp$47$$].$blurRadius$,$lengthBase$jscomp$5$$):0,$JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.$shadowSpreadRadius$=$props$jscomp$12$$[$key$jscomp$47$$].$spreadRadius$?$JSCompiler_StaticMethods_toValue$$($props$jscomp$12$$[$key$jscomp$47$$].$spreadRadius$,$lengthBase$jscomp$5$$):0,$JSCompiler_StaticMethods_CSSParser_VPL_Line_prototype$setProperties$self$$.shadowColor=
$props$jscomp$12$$[$key$jscomp$47$$].color)}}
$CSSParser$VPL$Line$$.prototype.$copy$=function $$CSSParser$VPL$Line$$$$$copy$$(){var $line$jscomp$11$$=new $CSSParser$VPL$Line$$;$line$jscomp$11$$.margin=this.margin;$line$jscomp$11$$.width=this.width;$line$jscomp$11$$.style=this.style;$line$jscomp$11$$.$cap$=this.$cap$;$line$jscomp$11$$.color=this.color;$line$jscomp$11$$.$shadowOffset$=this.$shadowOffset$;$line$jscomp$11$$.$shadowBlurRadius$=this.$shadowBlurRadius$;$line$jscomp$11$$.$shadowSpreadRadius$=this.$shadowSpreadRadius$;$line$jscomp$11$$.shadowColor=
this.shadowColor;return $line$jscomp$11$$};var $CSSParser$VPL$debug$$=!1;
function $CSSParser$VPL$Box$setLineStyle$$($ctx$jscomp$27$$,$lineWidth$jscomp$1$$,$color$jscomp$3$$,$style$jscomp$1$$){$ctx$jscomp$27$$.strokeStyle=$color$jscomp$3$$||"black";switch($style$jscomp$1$$){case "dotted":$ctx$jscomp$27$$.setLineDash([2*$lineWidth$jscomp$1$$,3*$lineWidth$jscomp$1$$]);$ctx$jscomp$27$$.lineDashOffset=0;break;case "dashed":$ctx$jscomp$27$$.setLineDash([3*$lineWidth$jscomp$1$$,3*$lineWidth$jscomp$1$$]),$ctx$jscomp$27$$.lineDashOffset=0}$ctx$jscomp$27$$.lineWidth=$lineWidth$jscomp$1$$||
0}
function $JSCompiler_StaticMethods_drawAt$$($JSCompiler_StaticMethods_drawAt$self$$,$ctx$jscomp$28$$,$x$jscomp$96$$,$y$jscomp$81$$,$includePadding$$){function $rrect$$(){var $rx$$=Math.min($self$jscomp$10$$.borderTopLeftRadius[0],$w$jscomp$9$$/2),$ry$$=Math.min($self$jscomp$10$$.borderTopLeftRadius[1],$h$jscomp$6$$/2);$ctx$jscomp$28$$.moveTo($x$jscomp$96$$,$y$jscomp$81$$+$ry$$);$ctx$jscomp$28$$.bezierCurveTo($x$jscomp$96$$,$y$jscomp$81$$+$ry$$/2,$x$jscomp$96$$+$rx$$/2,$y$jscomp$81$$,$x$jscomp$96$$+$rx$$,
$y$jscomp$81$$);$rx$$=Math.min($self$jscomp$10$$.borderTopRightRadius[0],$w$jscomp$9$$/2);$ry$$=Math.min($self$jscomp$10$$.borderTopRightRadius[1],$h$jscomp$6$$/2);$ctx$jscomp$28$$.lineTo($x$jscomp$96$$+$w$jscomp$9$$-$rx$$,$y$jscomp$81$$);$ctx$jscomp$28$$.bezierCurveTo($x$jscomp$96$$+$w$jscomp$9$$-$rx$$/2,$y$jscomp$81$$,$x$jscomp$96$$+$w$jscomp$9$$,$y$jscomp$81$$+$ry$$/2,$x$jscomp$96$$+$w$jscomp$9$$,$y$jscomp$81$$+$ry$$);$rx$$=Math.min($self$jscomp$10$$.borderBottomRightRadius[0],$w$jscomp$9$$/2);
$ry$$=Math.min($self$jscomp$10$$.borderBottomRightRadius[1],$h$jscomp$6$$/2);$ctx$jscomp$28$$.lineTo($x$jscomp$96$$+$w$jscomp$9$$,$y$jscomp$81$$+$h$jscomp$6$$-$ry$$);$ctx$jscomp$28$$.bezierCurveTo($x$jscomp$96$$+$w$jscomp$9$$,$y$jscomp$81$$+$h$jscomp$6$$-$ry$$/2,$x$jscomp$96$$+$w$jscomp$9$$-$rx$$/2,$y$jscomp$81$$+$h$jscomp$6$$,$x$jscomp$96$$+$w$jscomp$9$$-$rx$$,$y$jscomp$81$$+$h$jscomp$6$$);$rx$$=Math.min($self$jscomp$10$$.borderBottomLeftRadius[0],$w$jscomp$9$$/2);$ry$$=Math.min($self$jscomp$10$$.borderBottomLeftRadius[1],
$h$jscomp$6$$/2);$ctx$jscomp$28$$.lineTo($x$jscomp$96$$+$rx$$,$y$jscomp$81$$+$h$jscomp$6$$);$ctx$jscomp$28$$.bezierCurveTo($x$jscomp$96$$+$rx$$/2,$y$jscomp$81$$+$h$jscomp$6$$,$x$jscomp$96$$,$y$jscomp$81$$+$h$jscomp$6$$-$ry$$/2,$x$jscomp$96$$,$y$jscomp$81$$+$h$jscomp$6$$-$ry$$);$ctx$jscomp$28$$.closePath()}$includePadding$$||($x$jscomp$96$$-=$JSCompiler_StaticMethods_drawAt$self$$.paddingLeft,$y$jscomp$81$$-=$JSCompiler_StaticMethods_drawAt$self$$.paddingTop);var $self$jscomp$10$$=$JSCompiler_StaticMethods_drawAt$self$$,
$w$jscomp$9$$=$JSCompiler_StaticMethods_drawAt$self$$.width+$JSCompiler_StaticMethods_drawAt$self$$.paddingLeft+$JSCompiler_StaticMethods_drawAt$self$$.paddingRight,$h$jscomp$6$$=$JSCompiler_StaticMethods_drawAt$self$$.height+$JSCompiler_StaticMethods_drawAt$self$$.paddingTop+$JSCompiler_StaticMethods_drawAt$self$$.paddingBottom;$CSSParser$VPL$debug$$&&($ctx$jscomp$28$$.save(),$ctx$jscomp$28$$.strokeStyle="black",$ctx$jscomp$28$$.lineWidth=1,$ctx$jscomp$28$$.strokeRect($x$jscomp$96$$,$y$jscomp$81$$,
$w$jscomp$9$$,$h$jscomp$6$$),$ctx$jscomp$28$$.strokeRect($x$jscomp$96$$+$JSCompiler_StaticMethods_drawAt$self$$.paddingLeft,$y$jscomp$81$$+$JSCompiler_StaticMethods_drawAt$self$$.paddingTop,$JSCompiler_StaticMethods_drawAt$self$$.width,$JSCompiler_StaticMethods_drawAt$self$$.height),$ctx$jscomp$28$$.strokeRect($x$jscomp$96$$-$JSCompiler_StaticMethods_drawAt$self$$.marginLeft,$y$jscomp$81$$-$JSCompiler_StaticMethods_drawAt$self$$.marginTop,$w$jscomp$9$$+$JSCompiler_StaticMethods_drawAt$self$$.marginLeft+
$JSCompiler_StaticMethods_drawAt$self$$.marginRight,$h$jscomp$6$$+$JSCompiler_StaticMethods_drawAt$self$$.marginTop+$JSCompiler_StaticMethods_drawAt$self$$.marginBottom),$ctx$jscomp$28$$.restore());$ctx$jscomp$28$$.save();$ctx$jscomp$28$$.beginPath();$JSCompiler_StaticMethods_drawAt$self$$.$roundedCorners$?($ctx$jscomp$28$$.beginPath(),$rrect$$()):$ctx$jscomp$28$$.rect($x$jscomp$96$$,$y$jscomp$81$$,$w$jscomp$9$$,$h$jscomp$6$$);$ctx$jscomp$28$$.save();$JSCompiler_StaticMethods_drawAt$self$$.$shadowOffset$&&
($ctx$jscomp$28$$.shadowOffsetX=$JSCompiler_StaticMethods_drawAt$self$$.$shadowOffset$[0],$ctx$jscomp$28$$.shadowOffsetY=$JSCompiler_StaticMethods_drawAt$self$$.$shadowOffset$[1],$ctx$jscomp$28$$.shadowColor=$JSCompiler_StaticMethods_drawAt$self$$.shadowColor,$ctx$jscomp$28$$.shadowBlur=$JSCompiler_StaticMethods_drawAt$self$$.$shadowBlurRadius$);$JSCompiler_StaticMethods_drawAt$self$$.backgroundColor?$ctx$jscomp$28$$.fillStyle=$JSCompiler_StaticMethods_drawAt$self$$.backgroundColor:$JSCompiler_StaticMethods_drawAt$self$$.$shadowOffset$&&
($ctx$jscomp$28$$.fillStyle="transparent");$ctx$jscomp$28$$.fill();$ctx$jscomp$28$$.restore();$JSCompiler_StaticMethods_drawAt$self$$.$sameBorder$?0<$JSCompiler_StaticMethods_drawAt$self$$.borderLeftWidth&&$JSCompiler_StaticMethods_drawAt$self$$.borderLeftColor&&"none"!==$JSCompiler_StaticMethods_drawAt$self$$.borderLeftStyle&&"hidden"!==$JSCompiler_StaticMethods_drawAt$self$$.borderLeftStyle&&($CSSParser$VPL$Box$setLineStyle$$($ctx$jscomp$28$$,$JSCompiler_StaticMethods_drawAt$self$$.borderLeftWidth,
$JSCompiler_StaticMethods_drawAt$self$$.borderLeftColor,$JSCompiler_StaticMethods_drawAt$self$$.borderLeftStyle),"double"===$JSCompiler_StaticMethods_drawAt$self$$.borderLeftStyle&&($ctx$jscomp$28$$.save(),$ctx$jscomp$28$$.translate($x$jscomp$96$$+$w$jscomp$9$$/2,$y$jscomp$81$$+$h$jscomp$6$$/2),$ctx$jscomp$28$$.scale(($w$jscomp$9$$-3*$JSCompiler_StaticMethods_drawAt$self$$.borderLeftWidth)/$w$jscomp$9$$,($h$jscomp$6$$-3*$JSCompiler_StaticMethods_drawAt$self$$.borderLeftWidth)/$h$jscomp$6$$),$ctx$jscomp$28$$.translate(-$x$jscomp$96$$-
$w$jscomp$9$$/2,-$y$jscomp$81$$-$h$jscomp$6$$/2),$rrect$$(),$ctx$jscomp$28$$.restore()),$ctx$jscomp$28$$.stroke()):(0<$JSCompiler_StaticMethods_drawAt$self$$.borderLeftWidth&&$JSCompiler_StaticMethods_drawAt$self$$.borderLeftColor&&"none"!==$JSCompiler_StaticMethods_drawAt$self$$.borderLeftStyle&&"hidden"!==$JSCompiler_StaticMethods_drawAt$self$$.borderLeftStyle&&($CSSParser$VPL$Box$setLineStyle$$($ctx$jscomp$28$$,$JSCompiler_StaticMethods_drawAt$self$$.borderLeftWidth,$JSCompiler_StaticMethods_drawAt$self$$.borderLeftColor,
$JSCompiler_StaticMethods_drawAt$self$$.borderLeftStyle),$ctx$jscomp$28$$.beginPath(),$ctx$jscomp$28$$.moveTo($x$jscomp$96$$,$y$jscomp$81$$),$ctx$jscomp$28$$.lineTo($x$jscomp$96$$,$y$jscomp$81$$+$h$jscomp$6$$),$ctx$jscomp$28$$.stroke()),0<$JSCompiler_StaticMethods_drawAt$self$$.borderRightWidth&&$JSCompiler_StaticMethods_drawAt$self$$.borderRightColor&&"none"!==$JSCompiler_StaticMethods_drawAt$self$$.borderRightStyle&&"hidden"!==$JSCompiler_StaticMethods_drawAt$self$$.borderRightStyle&&($CSSParser$VPL$Box$setLineStyle$$($ctx$jscomp$28$$,
$JSCompiler_StaticMethods_drawAt$self$$.borderRightWidth,$JSCompiler_StaticMethods_drawAt$self$$.borderRightColor,$JSCompiler_StaticMethods_drawAt$self$$.borderRightStyle),$ctx$jscomp$28$$.beginPath(),$ctx$jscomp$28$$.moveTo($x$jscomp$96$$+$w$jscomp$9$$,$y$jscomp$81$$),$ctx$jscomp$28$$.lineTo($x$jscomp$96$$+$w$jscomp$9$$,$y$jscomp$81$$+$h$jscomp$6$$),$ctx$jscomp$28$$.stroke()),0<$JSCompiler_StaticMethods_drawAt$self$$.borderTopWidth&&$JSCompiler_StaticMethods_drawAt$self$$.borderTopColor&&"none"!==
$JSCompiler_StaticMethods_drawAt$self$$.borderTopStyle&&"hidden"!==$JSCompiler_StaticMethods_drawAt$self$$.borderTopStyle&&($CSSParser$VPL$Box$setLineStyle$$($ctx$jscomp$28$$,$JSCompiler_StaticMethods_drawAt$self$$.borderTopWidth,$JSCompiler_StaticMethods_drawAt$self$$.borderTopColor,$JSCompiler_StaticMethods_drawAt$self$$.borderTopStyle),$ctx$jscomp$28$$.beginPath(),$ctx$jscomp$28$$.moveTo($x$jscomp$96$$,$y$jscomp$81$$),$ctx$jscomp$28$$.lineTo($x$jscomp$96$$+$w$jscomp$9$$,$y$jscomp$81$$),$ctx$jscomp$28$$.stroke()),
0<$JSCompiler_StaticMethods_drawAt$self$$.borderBottomWidth&&$JSCompiler_StaticMethods_drawAt$self$$.borderBottomColor&&"none"!==$JSCompiler_StaticMethods_drawAt$self$$.borderBottomStyle&&"hidden"!==$JSCompiler_StaticMethods_drawAt$self$$.borderBottomStyle&&($CSSParser$VPL$Box$setLineStyle$$($ctx$jscomp$28$$,$JSCompiler_StaticMethods_drawAt$self$$.borderBottomWidth,$JSCompiler_StaticMethods_drawAt$self$$.borderBottomColor,$JSCompiler_StaticMethods_drawAt$self$$.borderBottomStyle),$ctx$jscomp$28$$.beginPath(),
$ctx$jscomp$28$$.moveTo($x$jscomp$96$$,$y$jscomp$81$$+$h$jscomp$6$$),$ctx$jscomp$28$$.lineTo($x$jscomp$96$$+$w$jscomp$9$$,$y$jscomp$81$$+$h$jscomp$6$$),$ctx$jscomp$28$$.stroke()));$ctx$jscomp$28$$.restore()}$CSSParser$VPL$Box$$.prototype.$draw$=function $$CSSParser$VPL$Box$$$$$draw$$($ctx$jscomp$29$$){$JSCompiler_StaticMethods_drawAt$$(this,$ctx$jscomp$29$$,this.x,this.y)};
$CSSParser$VPL$Line$$.prototype.stroke=function $$CSSParser$VPL$Line$$$$stroke$($ctx$jscomp$30$$){$ctx$jscomp$30$$.save();this.$shadowOffset$&&($ctx$jscomp$30$$.shadowOffsetX=this.$shadowOffset$[0],$ctx$jscomp$30$$.shadowOffsetY=this.$shadowOffset$[1],$ctx$jscomp$30$$.shadowColor=this.shadowColor,$ctx$jscomp$30$$.shadowBlur=this.$shadowBlurRadius$);0<this.width&&this.color&&"none"!==this.style&&"hidden"!==this.style&&($CSSParser$VPL$Box$setLineStyle$$($ctx$jscomp$30$$,this.width,this.color,this.style),
$ctx$jscomp$30$$.lineCap=this.$cap$,$ctx$jscomp$30$$.stroke());$ctx$jscomp$30$$.restore()};function $A3a$vpl$CanvasItem$$($data$jscomp$63$$,$width$jscomp$30$$,$height$jscomp$27$$,$x$jscomp$97$$,$y$jscomp$82$$,$draw$jscomp$2$$,$interactiveCB$$,$doDrop$jscomp$1$$,$canDrop$jscomp$1$$,$id$jscomp$19$$){this.data=$data$jscomp$63$$;this.width=$width$jscomp$30$$;this.height=$height$jscomp$27$$;this.x=$x$jscomp$97$$;this.y=$y$jscomp$82$$;this.$b$=null;this.$m$=[];this.$j$=$draw$jscomp$2$$;this.$g$=null;this.$i$=this.$u$=!0;this.$o$=null;this.$interactiveCB$=$interactiveCB$$||null;this.$doDrop$=
$doDrop$jscomp$1$$||null;this.$canDrop$=$canDrop$jscomp$1$$||null;this.$dropTarget$=this.$v$=!1;this.doScroll=null;this.id=$id$jscomp$19$$||"";this.$dragging$=this.$onUpdate$=this.$l$=null}$A3a$vpl$CanvasItem$$.prototype.clone=function $$A3a$vpl$CanvasItem$$$$clone$(){var $c$jscomp$4$$=new $A3a$vpl$CanvasItem$$(this.data,this.width,this.height,this.x,this.y,this.$j$,this.$interactiveCB$,this.$doDrop$,this.$canDrop$,this.id);$c$jscomp$4$$.$g$=this.$g$;return $c$jscomp$4$$};
$A3a$vpl$CanvasItem$$.prototype.$draw$=function $$A3a$vpl$CanvasItem$$$$$draw$$($canvas$jscomp$15$$,$dx$jscomp$7$$,$dy$jscomp$7$$,$overlay$$){var $ctx$jscomp$31$$=$canvas$jscomp$15$$.$ctx$,$clipped$$=this.$b$&&void 0===$dx$jscomp$7$$;$clipped$$&&($ctx$jscomp$31$$.save(),$ctx$jscomp$31$$.beginPath(),$ctx$jscomp$31$$.rect(this.$b$.x,this.$b$.y,this.$b$.$w$,this.$b$.$h$),$ctx$jscomp$31$$.clip(),$dx$jscomp$7$$=this.$b$.$xOffset$,$dy$jscomp$7$$=this.$b$.$yOffset$);$overlay$$?this.$g$&&this.$g$($canvas$jscomp$15$$,
this,$dx$jscomp$7$$||0,$dy$jscomp$7$$||0):this.$j$&&this.$j$($canvas$jscomp$15$$,this,$dx$jscomp$7$$||0,$dy$jscomp$7$$||0);$clipped$$&&$ctx$jscomp$31$$.restore()};
$A3a$vpl$CanvasItem$$.prototype.toDataURL=function $$A3a$vpl$CanvasItem$$$$toDataURL$($dims$jscomp$8$$,$canvas$jscomp$16_scale$jscomp$3$$,$mimetype$$){var $canvasEl$jscomp$1$$=document.createElement("canvas");$canvas$jscomp$16_scale$jscomp$3$$=$canvas$jscomp$16_scale$jscomp$3$$||1;$canvasEl$jscomp$1$$.width=$canvas$jscomp$16_scale$jscomp$3$$*this.width;$canvasEl$jscomp$1$$.height=$canvas$jscomp$16_scale$jscomp$3$$*this.height;$canvas$jscomp$16_scale$jscomp$3$$=new $A3a$vpl$Canvas$$($canvasEl$jscomp$1$$,
{$pixelRatio$:$canvas$jscomp$16_scale$jscomp$3$$});$canvas$jscomp$16_scale$jscomp$3$$.$dims$=$dims$jscomp$8$$;this.$draw$($canvas$jscomp$16_scale$jscomp$3$$);this.$draw$($canvas$jscomp$16_scale$jscomp$3$$,0,0,!0);return $canvasEl$jscomp$1$$.toDataURL($mimetype$$||"image/png")};
function $JSCompiler_StaticMethods_getTranslation$$($JSCompiler_StaticMethods_getTranslation$self$$){return $JSCompiler_StaticMethods_getTranslation$self$$.$b$?{$dx$:$JSCompiler_StaticMethods_getTranslation$self$$.$b$.$xOffset$,$dy$:$JSCompiler_StaticMethods_getTranslation$self$$.$b$.$yOffset$}:{$dx$:0,$dy$:0}}
function $A3a$vpl$Canvas$$($canvas$jscomp$17$$,$options$jscomp$15$$){function $mousedown$$($d_downEvent$jscomp$3$$){function $startInteraction$$($item$jscomp$8$$){var $canvasBndRect$$=$self$jscomp$11$$.$b$.getBoundingClientRect(),$d$jscomp$1$$=$JSCompiler_StaticMethods_getTranslation$$($item$jscomp$8$$);$item$jscomp$8$$.$dragging$=$item$jscomp$8$$.$interactiveCB$.$mousedown$($self$jscomp$11$$,$item$jscomp$8$$.data,$item$jscomp$8$$.width,$item$jscomp$8$$.height,$canvasBndRect$$.left+$item$jscomp$8$$.x+
$d$jscomp$1$$.$dx$,$canvasBndRect$$.top+$item$jscomp$8$$.y+$d$jscomp$1$$.$dy$,$mouseEvent$$);return null!==$item$jscomp$8$$.$dragging$?($item$jscomp$8$$.$interactiveCB$.$mousedrag$&&$item$jscomp$8$$.$interactiveCB$.$mousedrag$($self$jscomp$11$$,$item$jscomp$8$$.data,$item$jscomp$8$$.$dragging$,$item$jscomp$8$$.width,$item$jscomp$8$$.height,$canvasBndRect$$.left+$item$jscomp$8$$.x+$d$jscomp$1$$.$dx$,$canvasBndRect$$.top+$item$jscomp$8$$.y+$d$jscomp$1$$.$dy$,$mouseEvent$$),$self$jscomp$11$$.$onUpdate$&&
$self$jscomp$11$$.$onUpdate$(),$self$jscomp$11$$.$onDraw$?$self$jscomp$11$$.$onDraw$():$JSCompiler_StaticMethods_redraw$$($self$jscomp$11$$),$A3a$vpl$dragFun$$=$item$jscomp$8$$.$interactiveCB$.$mousedrag$?function($e$jscomp$12$$,$isUp$$){$isUp$$?$item$jscomp$8$$.$interactiveCB$.$mouseup$&&($item$jscomp$8$$.$interactiveCB$.$mouseup$($self$jscomp$11$$,$item$jscomp$8$$.data,$item$jscomp$8$$.$dragging$),$self$jscomp$11$$.$onUpdate$&&$self$jscomp$11$$.$onUpdate$(),$self$jscomp$11$$.$onDraw$?$self$jscomp$11$$.$onDraw$():
$JSCompiler_StaticMethods_redraw$$($self$jscomp$11$$)):($item$jscomp$8$$.$interactiveCB$.$mousedrag$($self$jscomp$11$$,$item$jscomp$8$$.data,$item$jscomp$8$$.$dragging$,$item$jscomp$8$$.width,$item$jscomp$8$$.height,$canvasBndRect$$.left+$item$jscomp$8$$.x+$d$jscomp$1$$.$dx$,$canvasBndRect$$.top+$item$jscomp$8$$.y+$d$jscomp$1$$.$dy$,$JSCompiler_StaticMethods_makeMouseEvent$$($self$jscomp$11$$,$e$jscomp$12$$)),$self$jscomp$11$$.$onUpdate$&&$self$jscomp$11$$.$onUpdate$(),$self$jscomp$11$$.$onDraw$?
$self$jscomp$11$$.$onDraw$():$JSCompiler_StaticMethods_redraw$$($self$jscomp$11$$))}:null,$self$jscomp$11$$.$onUpdate$&&$self$jscomp$11$$.$onUpdate$(),$self$jscomp$11$$.$onDraw$?$self$jscomp$11$$.$onDraw$():$JSCompiler_StaticMethods_redraw$$($self$jscomp$11$$),!0):!1}if($self$jscomp$11$$.$o$){var $mouseEvent$$=$JSCompiler_StaticMethods_makeMouseEvent$$($self$jscomp$11$$,$d_downEvent$jscomp$3$$);if($JSCompiler_StaticMethods_isZoomedItemProxyClicked$$($self$jscomp$11$$,$mouseEvent$$)){var $item$jscomp$7$$=
$self$jscomp$11$$.$zoomedItemProxy$;$item$jscomp$7$$.$interactiveCB$&&$startInteraction$$($item$jscomp$7$$)}else if($self$jscomp$11$$.$zoomedItemProxy$)$self$jscomp$11$$.$l$=-1,$self$jscomp$11$$.$zoomedItemProxy$=null,$self$jscomp$11$$.$onUpdate$&&$self$jscomp$11$$.$onUpdate$(),$self$jscomp$11$$.$onDraw$?$self$jscomp$11$$.$onDraw$():$JSCompiler_StaticMethods_redraw$$($self$jscomp$11$$);else{var $indices$$=$JSCompiler_StaticMethods_clickedItemIndex$$($self$jscomp$11$$,$mouseEvent$$,!0);if(0<$indices$$.length){if($item$jscomp$7$$=
$self$jscomp$11$$.$A3a_vpl_Canvas$items$[$indices$$[0]],0<=$self$jscomp$11$$.$l$&&$self$jscomp$11$$.$l$!==$indices$$[0]&&($self$jscomp$11$$.$l$=-1,$self$jscomp$11$$.$zoomedItemProxy$=null),$self$jscomp$11$$.$B$=Date.now(),(!$item$jscomp$7$$.$interactiveCB$||$item$jscomp$7$$.$l$&&$self$jscomp$11$$.$l$!==$indices$$[0]||!$startInteraction$$($item$jscomp$7$$))&&$item$jscomp$7$$.$i$){var $draggedItem$jscomp$14$$=$item$jscomp$7$$.$o$?$item$jscomp$7$$.$o$($item$jscomp$7$$):$item$jscomp$7$$,$dropTargetItem$jscomp$1$$=
null;$d_downEvent$jscomp$3$$=$JSCompiler_StaticMethods_getTranslation$$($draggedItem$jscomp$14$$);var $x0$jscomp$4$$=$mouseEvent$$.x-$d_downEvent$jscomp$3$$.$dx$,$y0$jscomp$4$$=$mouseEvent$$.y-$d_downEvent$jscomp$3$$.$dy$;$A3a$vpl$dragFun$$=function $$A3a$vpl$dragFun$$$($canDrop$jscomp$2_dragEvent$$,$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$){var $mouseEvent$jscomp$1$$=$JSCompiler_StaticMethods_makeMouseEvent$$($self$jscomp$11$$,$canDrop$jscomp$2_dragEvent$$);if($ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$){if($item$jscomp$7$$.$l$&&
$item$jscomp$7$$===$self$jscomp$11$$.$A3a_vpl_Canvas$items$[$JSCompiler_StaticMethods_clickedItemIndex$$($self$jscomp$11$$,$mouseEvent$jscomp$1$$,!1)[0]])$self$jscomp$11$$.$l$=$indices$$[0],$self$jscomp$11$$.$zoomedItemProxy$=$item$jscomp$7$$.$l$($item$jscomp$7$$);else if($dropTargetItem$jscomp$1$$&&$dropTargetItem$jscomp$1$$.$doDrop$&&(!$dropTargetItem$jscomp$1$$.$canDrop$||$dropTargetItem$jscomp$1$$.$canDrop$($dropTargetItem$jscomp$1$$,$draggedItem$jscomp$14$$)))$dropTargetItem$jscomp$1$$.$doDrop$($dropTargetItem$jscomp$1$$,
$draggedItem$jscomp$14$$);else if(null==$dropTargetItem$jscomp$1$$||null==$dropTargetItem$jscomp$1$$.$doDrop$||$dropTargetItem$jscomp$1$$.$canDrop$&&!$dropTargetItem$jscomp$1$$.$canDrop$($dropTargetItem$jscomp$1$$,$draggedItem$jscomp$14$$))for($ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$=0;$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$<$self$jscomp$11$$.$u$.length&&!$self$jscomp$11$$.$u$[$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$].$doDrop$($dropTargetItem$jscomp$1$$,$draggedItem$jscomp$14$$,$mouseEvent$jscomp$1$$.x,
$mouseEvent$jscomp$1$$.y);$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$++);$JSCompiler_StaticMethods_redraw$$($self$jscomp$11$$);$self$jscomp$11$$.$b$.style.cursor="default"}else{var $dropTargetTranslation_targetIndices$$=$JSCompiler_StaticMethods_clickedItemIndex$$($self$jscomp$11$$,$mouseEvent$jscomp$1$$,!1);$dropTargetItem$jscomp$1$$=null;$canDrop$jscomp$2_dragEvent$$=!1;for($ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$=0;!$canDrop$jscomp$2_dragEvent$$&&$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$<$dropTargetTranslation_targetIndices$$.length;$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$++)$dropTargetItem$jscomp$1$$=
$self$jscomp$11$$.$A3a_vpl_Canvas$items$[$dropTargetTranslation_targetIndices$$[$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$]],$canDrop$jscomp$2_dragEvent$$=$dropTargetItem$jscomp$1$$.$doDrop$&&(!$dropTargetItem$jscomp$1$$.$canDrop$||$dropTargetItem$jscomp$1$$.$canDrop$($dropTargetItem$jscomp$1$$,$draggedItem$jscomp$14$$));$canDrop$jscomp$2_dragEvent$$&&null!=$dropTargetItem$jscomp$1$$?($dropTargetItem$jscomp$1$$.$dropTarget$=!0,$JSCompiler_StaticMethods_redraw$$($self$jscomp$11$$),$dropTargetItem$jscomp$1$$.$dropTarget$=
!1):$JSCompiler_StaticMethods_redraw$$($self$jscomp$11$$);$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$=$self$jscomp$11$$.$ctx$;$canDrop$jscomp$2_dragEvent$$&&!$dropTargetItem$jscomp$1$$.$v$&&($dropTargetTranslation_targetIndices$$=$JSCompiler_StaticMethods_getTranslation$$($dropTargetItem$jscomp$1$$),$JSCompiler_StaticMethods_overlayRect$$($self$jscomp$11$$,$dropTargetItem$jscomp$1$$.x+$dropTargetTranslation_targetIndices$$.$dx$,$dropTargetItem$jscomp$1$$.y+$dropTargetTranslation_targetIndices$$.$dy$,
$dropTargetItem$jscomp$1$$.width,$dropTargetItem$jscomp$1$$.height,["drop-target"]));$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$.save();$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$$($self$jscomp$11$$);$self$jscomp$11$$.transform&&($ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$.translate($self$jscomp$11$$.width/2,$self$jscomp$11$$.height/2),CanvasRenderingContext2D.prototype.transform.apply($ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$,$self$jscomp$11$$.transform),$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$.translate(-$self$jscomp$11$$.width/
2,-$self$jscomp$11$$.height/2));$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$.translate($self$jscomp$11$$.$i$*$self$jscomp$11$$.$relativeArea$.$xmin$,$self$jscomp$11$$.$g$*$self$jscomp$11$$.$relativeArea$.$ymin$);$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$.globalAlpha=.5;$draggedItem$jscomp$14$$.$draw$($self$jscomp$11$$,$mouseEvent$jscomp$1$$.x-$x0$jscomp$4$$,$mouseEvent$jscomp$1$$.y-$y0$jscomp$4$$);$draggedItem$jscomp$14$$.$m$.forEach(function($attachedItem$$){$attachedItem$$.$draw$($self$jscomp$11$$,
$mouseEvent$jscomp$1$$.x-$x0$jscomp$4$$,$mouseEvent$jscomp$1$$.y-$y0$jscomp$4$$);$attachedItem$$.$draw$($self$jscomp$11$$,$mouseEvent$jscomp$1$$.x-$x0$jscomp$4$$,$mouseEvent$jscomp$1$$.y-$y0$jscomp$4$$,!0)});$draggedItem$jscomp$14$$.$draw$($self$jscomp$11$$,$mouseEvent$jscomp$1$$.x-$x0$jscomp$4$$,$mouseEvent$jscomp$1$$.y-$y0$jscomp$4$$,!0);$ctx$jscomp$33_i$jscomp$70_isUp$jscomp$1$$.restore();$self$jscomp$11$$.$b$.style.cursor=$canDrop$jscomp$2_dragEvent$$?"copy":"default"}}}}else 0<=$self$jscomp$11$$.$l$&&
($self$jscomp$11$$.$l$=-1,$self$jscomp$11$$.$zoomedItemProxy$=null,$JSCompiler_StaticMethods_redraw$$($self$jscomp$11$$))}}}var $backingScale$$=$options$jscomp$15$$&&$options$jscomp$15$$.$pixelRatio$||("devicePixelRatio"in window?window.devicePixelRatio:1);this.$b$=$canvas$jscomp$17$$;this.$i$=$canvas$jscomp$17$$.width/$backingScale$$;this.$g$=$canvas$jscomp$17$$.height/$backingScale$$;this.$relativeArea$=$options$jscomp$15$$&&$options$jscomp$15$$.$relativeArea$||{$xmin$:0,$xmax$:1,$ymin$:0,$ymax$:1};
this.width=this.$i$*(this.$relativeArea$.$xmax$-this.$relativeArea$.$xmin$);this.height=this.$g$*(this.$relativeArea$.$ymax$-this.$relativeArea$.$ymin$);this.$o$=!0;this.transform=this.$A$=null;this.$ctx$=this.$b$.getContext("2d");this.state=null;this.$u$=[];this.$B$=0;this.$l$=-1;this.$zoomedItemProxy$=null;this.$j$={};this.clientData={};this.$css$=$options$jscomp$15$$&&$options$jscomp$15$$.$css$||new $CSSParser$VPL$$;this.$dims$=null;this.resize(this.width,this.height,$options$jscomp$15$$&&$options$jscomp$15$$.$pixelRatio$);
this.$v$={};var $self$jscomp$11$$=this;$canvas$jscomp$17$$.addEventListener("mousedown",$mousedown$$,!1);$canvas$jscomp$17$$.addEventListener("touchstart",function($ev$$){var $touches$jscomp$2$$=$ev$$.targetTouches;1===$touches$jscomp$2$$.length&&($ev$$.preventDefault(),$mousedown$$($touches$jscomp$2$$[0]),$A3a$vpl$lastTouch$$=$touches$jscomp$2$$[0])},!1);$canvas$jscomp$17$$.addEventListener("wheel",function($wheelEvent$$){function $doScroll$$($item$jscomp$9$$){$item$jscomp$9$$.doScroll&&($wheelEvent$$.preventDefault(),
$item$jscomp$9$$.doScroll(0===$wheelEvent$$.deltaMode?$wheelEvent$$.deltaX:1===$wheelEvent$$.deltaMode?10*$wheelEvent$$.deltaX:30*$wheelEvent$$.deltaX,0===$wheelEvent$$.deltaMode?$wheelEvent$$.deltaY:1===$wheelEvent$$.deltaMode?10*$wheelEvent$$.deltaY:30*$wheelEvent$$.deltaY))}if($self$jscomp$11$$.$o$){var $indices$jscomp$1_mouseEvent$jscomp$2$$=$JSCompiler_StaticMethods_makeMouseEvent$$($self$jscomp$11$$,$wheelEvent$$);if($JSCompiler_StaticMethods_isZoomedItemProxyClicked$$($self$jscomp$11$$,$indices$jscomp$1_mouseEvent$jscomp$2$$))$self$jscomp$11$$.$zoomedItemProxy$&&
$doScroll$$($self$jscomp$11$$.$zoomedItemProxy$);else if(0>$self$jscomp$11$$.$l$){$indices$jscomp$1_mouseEvent$jscomp$2$$=$JSCompiler_StaticMethods_clickedItemIndex$$($self$jscomp$11$$,$indices$jscomp$1_mouseEvent$jscomp$2$$,!0);for(var $i$jscomp$71$$=0;$i$jscomp$71$$<$indices$jscomp$1_mouseEvent$jscomp$2$$.length;$i$jscomp$71$$++)if(null!=$self$jscomp$11$$.$A3a_vpl_Canvas$items$[$indices$jscomp$1_mouseEvent$jscomp$2$$[$i$jscomp$71$$]].doScroll){$doScroll$$($self$jscomp$11$$.$A3a_vpl_Canvas$items$[$indices$jscomp$1_mouseEvent$jscomp$2$$[$i$jscomp$71$$]]);
break}}}},!1);this.$A3a_vpl_Canvas$items$=[];this.$m$=[];this.$onDraw$=this.$onUpdate$=null}
function $JSCompiler_StaticMethods_setRelativeArea$$($JSCompiler_StaticMethods_setRelativeArea$self$$,$relativeArea$$){$JSCompiler_StaticMethods_setRelativeArea$self$$.$relativeArea$=$relativeArea$$||{$xmin$:0,$xmax$:1,$ymin$:0,$ymax$:1};$JSCompiler_StaticMethods_setRelativeArea$self$$.width=$JSCompiler_StaticMethods_setRelativeArea$self$$.$i$*($JSCompiler_StaticMethods_setRelativeArea$self$$.$relativeArea$.$xmax$-$JSCompiler_StaticMethods_setRelativeArea$self$$.$relativeArea$.$xmin$);$JSCompiler_StaticMethods_setRelativeArea$self$$.height=
$JSCompiler_StaticMethods_setRelativeArea$self$$.$g$*($JSCompiler_StaticMethods_setRelativeArea$self$$.$relativeArea$.$ymax$-$JSCompiler_StaticMethods_setRelativeArea$self$$.$relativeArea$.$ymin$)}
function $JSCompiler_StaticMethods_addDefaultDoDrop$$($JSCompiler_StaticMethods_addDefaultDoDrop$self$$,$doDrop$jscomp$2$$){for(var $i$jscomp$72$$=0;$i$jscomp$72$$<$JSCompiler_StaticMethods_addDefaultDoDrop$self$$.$u$.length;$i$jscomp$72$$++)if("delete"===$JSCompiler_StaticMethods_addDefaultDoDrop$self$$.$u$[$i$jscomp$72$$].tag){$JSCompiler_StaticMethods_addDefaultDoDrop$self$$.$u$[$i$jscomp$72$$].$doDrop$=$doDrop$jscomp$2$$;return}$JSCompiler_StaticMethods_addDefaultDoDrop$self$$.$u$.push({tag:"delete",
$doDrop$:$doDrop$jscomp$2$$})}$A3a$vpl$Canvas$$.prototype.show=function $$A3a$vpl$Canvas$$$$show$(){this.$o$=!0};$A3a$vpl$Canvas$$.prototype.$hide$=function $$A3a$vpl$Canvas$$$$$hide$$(){this.$o$=!1};function $JSCompiler_StaticMethods_setFilter$$($JSCompiler_StaticMethods_setFilter$self$$,$filter$jscomp$3$$){$JSCompiler_StaticMethods_setFilter$self$$.$b$.style.filter=$filter$jscomp$3$$}
function $JSCompiler_StaticMethods_initTransform$$($JSCompiler_StaticMethods_initTransform$self$$,$transform$jscomp$1$$){$JSCompiler_StaticMethods_initTransform$self$$.$A$=$transform$jscomp$1$$&&$transform$jscomp$1$$.slice();$JSCompiler_StaticMethods_initTransform$self$$.transform=$JSCompiler_StaticMethods_initTransform$self$$.$A$}
function $JSCompiler_StaticMethods_makeMouseEvent$$($JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$,$e$jscomp$13_mouseEvent$jscomp$3$$){$e$jscomp$13_mouseEvent$jscomp$3$$={x:$e$jscomp$13_mouseEvent$jscomp$3$$.clientX,y:$e$jscomp$13_mouseEvent$jscomp$3$$.clientY,$modifier$:$e$jscomp$13_mouseEvent$jscomp$3$$.altKey};var $p$jscomp$inline_102_p1$$=[$e$jscomp$13_mouseEvent$jscomp$3$$.x,$e$jscomp$13_mouseEvent$jscomp$3$$.y];$p$jscomp$inline_102_p1$$=[$p$jscomp$inline_102_p1$$[0]-
$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$.$i$*$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$.$relativeArea$.$xmin$,$p$jscomp$inline_102_p1$$[1]-$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$.$g$*$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$.$relativeArea$.$ymin$];var $T$jscomp$inline_103$$=$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$.transform;
if($T$jscomp$inline_103$$){var $w2$jscomp$inline_104$$=$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$.width/2;$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$=$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$.height/2;$T$jscomp$inline_103$$=$T$jscomp$inline_103$$.slice(0,4).concat($T$jscomp$inline_103$$[4]-$w2$jscomp$inline_104$$*$T$jscomp$inline_103$$[0]-$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$*
$T$jscomp$inline_103$$[2]+$w2$jscomp$inline_104$$,$T$jscomp$inline_103$$[5]-$w2$jscomp$inline_104$$*$T$jscomp$inline_103$$[1]-$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$*$T$jscomp$inline_103$$[3]+$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$);$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$=$T$jscomp$inline_103$$[0]*$T$jscomp$inline_103$$[3]-$T$jscomp$inline_103$$[1]*
$T$jscomp$inline_103$$[2];$p$jscomp$inline_102_p1$$=[($T$jscomp$inline_103$$[3]*$p$jscomp$inline_102_p1$$[0]-$T$jscomp$inline_103$$[2]*$p$jscomp$inline_102_p1$$[1]+$T$jscomp$inline_103$$[2]*$T$jscomp$inline_103$$[5]-$T$jscomp$inline_103$$[3]*$T$jscomp$inline_103$$[4])/$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$,(-$T$jscomp$inline_103$$[1]*$p$jscomp$inline_102_p1$$[0]+$T$jscomp$inline_103$$[0]*$p$jscomp$inline_102_p1$$[1]+$T$jscomp$inline_103$$[1]*$T$jscomp$inline_103$$[4]-
$T$jscomp$inline_103$$[0]*$T$jscomp$inline_103$$[5])/$JSCompiler_StaticMethods_makeMouseEvent$self_det$jscomp$inline_106_h2$jscomp$inline_105$$]}$e$jscomp$13_mouseEvent$jscomp$3$$.x=$p$jscomp$inline_102_p1$$[0];$e$jscomp$13_mouseEvent$jscomp$3$$.y=$p$jscomp$inline_102_p1$$[1];return $e$jscomp$13_mouseEvent$jscomp$3$$}
function $JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$$($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$self$$){$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$self$$.$onUpdate$&&$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$self$$.$onUpdate$();$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$self$$.$onDraw$?$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$self$$.$onDraw$():$JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$self$$)}
function $A3a$vpl$Canvas$calcDims$$($blockSize$jscomp$1$$,$controlSize$$){return{$blockSize$:$blockSize$jscomp$1$$,$minInteractiveBlockSize$:60,$eventRightAlign$:!1,$blockLineWidth$:Math.max(1,Math.min(3,Math.round($blockSize$jscomp$1$$/40))),$blockFont$:Math.round($blockSize$jscomp$1$$/4).toString(10)+"px sans-serif",$controlColor$:"navy",$controlDownColor$:"#37f",$controlActiveColor$:"#06f",$controlSize$:$controlSize$$,$controlLineWidth$:Math.max(1,Math.min(3,$controlSize$$/30)),$controlFont$:"bold 15px sans-serif",
$scrollbarThumbColor$:"navy",$scrollbarBackgroundColor$:"#ccc",$scrollbarWidth$:5,$errorColor$:"#e44",$warningColor$:"#f88",$ruleMarks$:"#bbb"}}
function $JSCompiler_StaticMethods_recalcSize$$($JSCompiler_StaticMethods_recalcSize$self$$,$backingScale$jscomp$1_blockSize$jscomp$2_pixelRatio$$){$JSCompiler_StaticMethods_recalcSize$self$$.width=$JSCompiler_StaticMethods_recalcSize$self$$.$i$*($JSCompiler_StaticMethods_recalcSize$self$$.$relativeArea$.$xmax$-$JSCompiler_StaticMethods_recalcSize$self$$.$relativeArea$.$xmin$);$JSCompiler_StaticMethods_recalcSize$self$$.height=$JSCompiler_StaticMethods_recalcSize$self$$.$g$*($JSCompiler_StaticMethods_recalcSize$self$$.$relativeArea$.$ymax$-
$JSCompiler_StaticMethods_recalcSize$self$$.$relativeArea$.$ymin$);$JSCompiler_StaticMethods_recalcSize$self$$.$ctx$=$JSCompiler_StaticMethods_recalcSize$self$$.$b$.getContext("2d");$backingScale$jscomp$1_blockSize$jscomp$2_pixelRatio$$=$backingScale$jscomp$1_blockSize$jscomp$2_pixelRatio$$||("devicePixelRatio"in window?window.devicePixelRatio:1);1!=$backingScale$jscomp$1_blockSize$jscomp$2_pixelRatio$$&&($JSCompiler_StaticMethods_recalcSize$self$$.$ctx$.resetTransform(),$JSCompiler_StaticMethods_recalcSize$self$$.$ctx$.scale($backingScale$jscomp$1_blockSize$jscomp$2_pixelRatio$$,
$backingScale$jscomp$1_blockSize$jscomp$2_pixelRatio$$));$JSCompiler_StaticMethods_recalcSize$self$$.$css$.$b$=new $CSSParser$LengthBase$$($JSCompiler_StaticMethods_recalcSize$self$$.width,$JSCompiler_StaticMethods_recalcSize$self$$.width/100,$JSCompiler_StaticMethods_recalcSize$self$$.height/100,$JSCompiler_StaticMethods_recalcSize$self$$.$i$/100,$JSCompiler_StaticMethods_recalcSize$self$$.$g$/100);$backingScale$jscomp$1_blockSize$jscomp$2_pixelRatio$$=$JSCompiler_StaticMethods_getBox$$($JSCompiler_StaticMethods_recalcSize$self$$.$css$,
{tag:"block"}).width;var $controlSize$jscomp$1$$=$JSCompiler_StaticMethods_getBox$$($JSCompiler_StaticMethods_recalcSize$self$$.$css$,{tag:"button"}).width;$JSCompiler_StaticMethods_recalcSize$self$$.$dims$=$A3a$vpl$Canvas$calcDims$$($backingScale$jscomp$1_blockSize$jscomp$2_pixelRatio$$,$controlSize$jscomp$1$$)}
$A3a$vpl$Canvas$$.prototype.resize=function $$A3a$vpl$Canvas$$$$resize$($width$jscomp$31$$,$height$jscomp$28$$,$pixelRatio$jscomp$1$$){var $backingScale$jscomp$2$$=$pixelRatio$jscomp$1$$||("devicePixelRatio"in window?window.devicePixelRatio:1);this.$b$.width=$width$jscomp$31$$*$backingScale$jscomp$2$$;this.$b$.height=$height$jscomp$28$$*$backingScale$jscomp$2$$;this.$i$=$width$jscomp$31$$;this.$g$=$height$jscomp$28$$;$JSCompiler_StaticMethods_recalcSize$$(this,$pixelRatio$jscomp$1$$)};
function $JSCompiler_StaticMethods_itemIndex$$($JSCompiler_StaticMethods_itemIndex$self$$,$data$jscomp$64$$){for(var $i$jscomp$73$$=0;$i$jscomp$73$$<$JSCompiler_StaticMethods_itemIndex$self$$.$A3a_vpl_Canvas$items$.length;$i$jscomp$73$$++)if($JSCompiler_StaticMethods_itemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$73$$].data===$data$jscomp$64$$)return $i$jscomp$73$$;return-1}
function $JSCompiler_StaticMethods_clickedItemIndex$$($JSCompiler_StaticMethods_clickedItemIndex$self$$,$mouseEvent$jscomp$4_y$jscomp$84$$,$clickableOnly$$){var $canvasBndRect$jscomp$1_indices$jscomp$2$$=$JSCompiler_StaticMethods_clickedItemIndex$self$$.$b$.getBoundingClientRect(),$x$jscomp$100$$=$mouseEvent$jscomp$4_y$jscomp$84$$.x-$canvasBndRect$jscomp$1_indices$jscomp$2$$.left;$mouseEvent$jscomp$4_y$jscomp$84$$=$mouseEvent$jscomp$4_y$jscomp$84$$.y-$canvasBndRect$jscomp$1_indices$jscomp$2$$.top;
$canvasBndRect$jscomp$1_indices$jscomp$2$$=[];for(var $i$jscomp$74$$=$JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$.length-1;0<=$i$jscomp$74$$;$i$jscomp$74$$--){var $JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$=$JSCompiler_StaticMethods_getTranslation$$($JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$74$$]);if($JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$=
(!$clickableOnly$$||$JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$74$$].$u$)&&$x$jscomp$100$$>=$JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$74$$].x+$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$dx$&&$x$jscomp$100$$<=$JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$74$$].x+$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$dx$+
$JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$74$$].width&&$mouseEvent$jscomp$4_y$jscomp$84$$>=$JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$74$$].y+$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$dy$&&$mouseEvent$jscomp$4_y$jscomp$84$$<=$JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$74$$].y+$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$dy$+
$JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$74$$].height)$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$=$JSCompiler_StaticMethods_clickedItemIndex$self$$.$A3a_vpl_Canvas$items$[$i$jscomp$74$$],$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$=!$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$b$||$x$jscomp$100$$>=$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$b$.x&&
$x$jscomp$100$$<$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$b$.x+$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$b$.$w$&&$mouseEvent$jscomp$4_y$jscomp$84$$>=$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$b$.y&&$mouseEvent$jscomp$4_y$jscomp$84$$<$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$b$.y+
$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$.$b$.$h$;$JSCompiler_StaticMethods_isInClip$self$jscomp$inline_108_JSCompiler_temp$jscomp$12_d$jscomp$2$$&&$canvasBndRect$jscomp$1_indices$jscomp$2$$.push($i$jscomp$74$$)}return $canvasBndRect$jscomp$1_indices$jscomp$2$$}
function $JSCompiler_StaticMethods_makeZoomedClone$$($JSCompiler_StaticMethods_makeZoomedClone$self_canvasSize$jscomp$3$$,$item$jscomp$10$$){var $c$jscomp$5$$=$item$jscomp$10$$.clone();$JSCompiler_StaticMethods_makeZoomedClone$self_canvasSize$jscomp$3$$=$JSCompiler_StaticMethods_getSize$$($JSCompiler_StaticMethods_makeZoomedClone$self_canvasSize$jscomp$3$$);var $sc$jscomp$3$$=Math.min($JSCompiler_StaticMethods_makeZoomedClone$self_canvasSize$jscomp$3$$.width,$JSCompiler_StaticMethods_makeZoomedClone$self_canvasSize$jscomp$3$$.height)/
1.5/$c$jscomp$5$$.width;$c$jscomp$5$$.width*=$sc$jscomp$3$$;$c$jscomp$5$$.height*=$sc$jscomp$3$$;$c$jscomp$5$$.x=($JSCompiler_StaticMethods_makeZoomedClone$self_canvasSize$jscomp$3$$.width-$c$jscomp$5$$.width)/2;$c$jscomp$5$$.y=($JSCompiler_StaticMethods_makeZoomedClone$self_canvasSize$jscomp$3$$.height-$c$jscomp$5$$.height)/2;$c$jscomp$5$$.$l$=null;$c$jscomp$5$$.$j$=function $$c$jscomp$5$$$$j$$($canvas$jscomp$18$$,$item1$$){var $ctx$jscomp$34$$=$canvas$jscomp$18$$.$ctx$;$ctx$jscomp$34$$.save();$ctx$jscomp$34$$.translate($item1$$.x,
$item1$$.y);$ctx$jscomp$34$$.scale($sc$jscomp$3$$,$sc$jscomp$3$$);$ctx$jscomp$34$$.translate(-$item1$$.x,-$item1$$.y);$item$jscomp$10$$.$j$($canvas$jscomp$18$$,$c$jscomp$5$$,$item1$$.x-$c$jscomp$5$$.x,$item1$$.y-$c$jscomp$5$$.y);$ctx$jscomp$34$$.restore()};$item$jscomp$10$$.$g$&&($c$jscomp$5$$.$g$=function $$c$jscomp$5$$$$g$$($canvas$jscomp$19$$,$item1$jscomp$1$$){var $ctx$jscomp$35$$=$canvas$jscomp$19$$.$ctx$;$ctx$jscomp$35$$.save();$ctx$jscomp$35$$.translate($item1$jscomp$1$$.x,$item1$jscomp$1$$.y);
$ctx$jscomp$35$$.scale($sc$jscomp$3$$,$sc$jscomp$3$$);$ctx$jscomp$35$$.translate(-$item1$jscomp$1$$.x,-$item1$jscomp$1$$.y);$item$jscomp$10$$.$g$($canvas$jscomp$19$$,$c$jscomp$5$$,$item1$jscomp$1$$.x-$c$jscomp$5$$.x,$item1$jscomp$1$$.y-$c$jscomp$5$$.y);$ctx$jscomp$35$$.restore()});return $c$jscomp$5$$}
function $JSCompiler_StaticMethods_isZoomedItemProxyClicked$$($JSCompiler_StaticMethods_isZoomedItemProxyClicked$self$$,$mouseEvent$jscomp$5_y$jscomp$85$$){if(null==$JSCompiler_StaticMethods_isZoomedItemProxyClicked$self$$.$zoomedItemProxy$)return!1;var $canvasBndRect$jscomp$2$$=$JSCompiler_StaticMethods_isZoomedItemProxyClicked$self$$.$b$.getBoundingClientRect(),$x$jscomp$101$$=$mouseEvent$jscomp$5_y$jscomp$85$$.x-$canvasBndRect$jscomp$2$$.left;$mouseEvent$jscomp$5_y$jscomp$85$$=$mouseEvent$jscomp$5_y$jscomp$85$$.y-
$canvasBndRect$jscomp$2$$.top;return $x$jscomp$101$$>=$JSCompiler_StaticMethods_isZoomedItemProxyClicked$self$$.$zoomedItemProxy$.x&&$x$jscomp$101$$<=$JSCompiler_StaticMethods_isZoomedItemProxyClicked$self$$.$zoomedItemProxy$.x+$JSCompiler_StaticMethods_isZoomedItemProxyClicked$self$$.$zoomedItemProxy$.width&&$mouseEvent$jscomp$5_y$jscomp$85$$>=$JSCompiler_StaticMethods_isZoomedItemProxyClicked$self$$.$zoomedItemProxy$.y&&$mouseEvent$jscomp$5_y$jscomp$85$$<=$JSCompiler_StaticMethods_isZoomedItemProxyClicked$self$$.$zoomedItemProxy$.y+
$JSCompiler_StaticMethods_isZoomedItemProxyClicked$self$$.$zoomedItemProxy$.height}function $JSCompiler_StaticMethods_getSize$$($JSCompiler_StaticMethods_getSize$self$$){return{width:$JSCompiler_StaticMethods_getSize$self$$.width,height:$JSCompiler_StaticMethods_getSize$self$$.height}}
function $JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$$($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$){$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$ctx$.beginPath();$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$ctx$.rect($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$i$*$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$relativeArea$.$xmin$,$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$g$*
$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$relativeArea$.$ymin$,$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$i$*($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$relativeArea$.$xmax$-$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$relativeArea$.$xmin$),$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$g$*($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$relativeArea$.$ymax$-$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$relativeArea$.$ymin$));
$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$clip$self$$.$ctx$.clip()}
function $JSCompiler_StaticMethods_beginClip$$($JSCompiler_StaticMethods_beginClip$self$$,$x$jscomp$102$$,$y$jscomp$86$$,$width$jscomp$32$$,$height$jscomp$29$$,$xOffset$$,$yOffset$$){$xOffset$$=$xOffset$$||0;$yOffset$$=$yOffset$$||0;if(0<$JSCompiler_StaticMethods_beginClip$self$$.$m$.length){var $c0$$=$JSCompiler_StaticMethods_beginClip$self$$.$m$[$JSCompiler_StaticMethods_beginClip$self$$.$m$.length-1];$c0$$.x>$x$jscomp$102$$&&($width$jscomp$32$$-=$c0$$.x-$x$jscomp$102$$,$x$jscomp$102$$=$c0$$.x);
$c0$$.x+$c0$$.$w$<$x$jscomp$102$$+$width$jscomp$32$$&&($width$jscomp$32$$=$c0$$.x+$c0$$.$w$-$x$jscomp$102$$);$c0$$.y>$y$jscomp$86$$&&($height$jscomp$29$$-=$c0$$.y-$y$jscomp$86$$,$y$jscomp$86$$=$c0$$.y);$c0$$.y+$c0$$.$h$<$y$jscomp$86$$+$height$jscomp$29$$&&($height$jscomp$29$$=$c0$$.y+$c0$$.$h$-$y$jscomp$86$$);$xOffset$$+=$c0$$.$xOffset$;$yOffset$$+=$c0$$.$yOffset$}$JSCompiler_StaticMethods_beginClip$self$$.$m$.push({x:$x$jscomp$102$$,y:$y$jscomp$86$$,$w$:$width$jscomp$32$$,$h$:$height$jscomp$29$$,
$xOffset$:$xOffset$$,$yOffset$:$yOffset$$})}
function $JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$$($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$self$$,$item$jscomp$11$$,$index$jscomp$69$$){0<$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$self$$.$m$.length&&($item$jscomp$11$$.$b$=$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$self$$.$m$[$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$self$$.$m$.length-1]);0<=$index$jscomp$69$$?$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$self$$.$A3a_vpl_Canvas$items$[$index$jscomp$69$$]=$item$jscomp$11$$:
$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$self$$.$A3a_vpl_Canvas$items$.push($item$jscomp$11$$)}
function $JSCompiler_StaticMethods_addDecoration$$($JSCompiler_StaticMethods_addDecoration$self$$,$fun$jscomp$3$$){var $item$jscomp$12$$=new $A3a$vpl$CanvasItem$$(null,-1,-1,0,0,function($canvas$jscomp$20_ctx$jscomp$36$$,$item$jscomp$13$$,$dx$jscomp$11$$,$dy$jscomp$11$$){$canvas$jscomp$20_ctx$jscomp$36$$=$canvas$jscomp$20_ctx$jscomp$36$$.$ctx$;$canvas$jscomp$20_ctx$jscomp$36$$.save();$canvas$jscomp$20_ctx$jscomp$36$$.translate($item$jscomp$13$$.x+$dx$jscomp$11$$,$item$jscomp$13$$.y+$dy$jscomp$11$$);
$fun$jscomp$3$$($canvas$jscomp$20_ctx$jscomp$36$$);$canvas$jscomp$20_ctx$jscomp$36$$.restore()});$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$$($JSCompiler_StaticMethods_addDecoration$self$$,$item$jscomp$12$$);return $item$jscomp$12$$}
function $JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$$($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$,$x$jscomp$103$$,$y$jscomp$87$$,$box$jscomp$27$$,$draw$jscomp$3$$,$action$jscomp$7$$,$doDrop$jscomp$3$$,$canDrop$jscomp$3$$,$id$jscomp$20$$){var $downEvent$jscomp$4$$,$item$jscomp$14$$=new $A3a$vpl$CanvasItem$$(null,$box$jscomp$27$$.width,$box$jscomp$27$$.height,$x$jscomp$103$$,$y$jscomp$87$$,function($canvas$jscomp$21_ctx$jscomp$37$$,$item$jscomp$15$$,$dx$jscomp$12$$,
$dy$jscomp$12$$){$canvas$jscomp$21_ctx$jscomp$37$$=$canvas$jscomp$21_ctx$jscomp$37$$.$ctx$;$canvas$jscomp$21_ctx$jscomp$37$$.save();$JSCompiler_StaticMethods_drawAt$$($box$jscomp$27$$,$canvas$jscomp$21_ctx$jscomp$37$$,$item$jscomp$15$$.x+$dx$jscomp$12$$,$item$jscomp$15$$.y+$dy$jscomp$12$$);$canvas$jscomp$21_ctx$jscomp$37$$.translate($item$jscomp$15$$.x+$dx$jscomp$12$$,$item$jscomp$15$$.y+$dy$jscomp$12$$);$draw$jscomp$3$$($canvas$jscomp$21_ctx$jscomp$37$$,$box$jscomp$27$$,$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.id===
$id$jscomp$20$$&&$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.$isInside$||$item$jscomp$15$$.$dropTarget$);$canvas$jscomp$21_ctx$jscomp$37$$.restore()},$action$jscomp$7$$?{$mousedown$:function($canvas$jscomp$22$$,$data$jscomp$65$$,$width$jscomp$33$$,$height$jscomp$30$$,$left$jscomp$4$$,$top$jscomp$3$$,$ev$jscomp$1$$){$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$={id:$id$jscomp$20$$,rect:{x:$item$jscomp$14$$.x,y:$item$jscomp$14$$.y,$w$:$width$jscomp$33$$,
$h$:$height$jscomp$30$$},$isInside$:!0};$downEvent$jscomp$4$$=$ev$jscomp$1$$;$JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$);return 0},$mousedrag$:function($canvas$jscomp$23$$,$data$jscomp$66_x$jscomp$104$$,$canvasBndRect$jscomp$3_dragIndex$$,$width$jscomp$34$$,$height$jscomp$31$$,$left$jscomp$5$$,$top$jscomp$4$$,$ev$jscomp$2_y$jscomp$88$$){$canvasBndRect$jscomp$3_dragIndex$$=$canvas$jscomp$23$$.$b$.getBoundingClientRect();$data$jscomp$66_x$jscomp$104$$=
$ev$jscomp$2_y$jscomp$88$$.x-$canvasBndRect$jscomp$3_dragIndex$$.left;$ev$jscomp$2_y$jscomp$88$$=$ev$jscomp$2_y$jscomp$88$$.y-$canvasBndRect$jscomp$3_dragIndex$$.top;$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.$isInside$=$data$jscomp$66_x$jscomp$104$$>=$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.rect.x&&$data$jscomp$66_x$jscomp$104$$<$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.rect.x+$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.rect.$w$&&
$ev$jscomp$2_y$jscomp$88$$>=$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.rect.y&&$ev$jscomp$2_y$jscomp$88$$<$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.rect.y+$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.rect.$h$;$JSCompiler_StaticMethods_redraw$$($canvas$jscomp$23$$)},$mouseup$:function(){$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$.$isInside$&&$action$jscomp$7$$($downEvent$jscomp$4$$);
$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$.$j$={};$JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$)}}:null,$doDrop$jscomp$3$$,$canDrop$jscomp$3$$,$id$jscomp$20$$);$item$jscomp$14$$.$i$=!1;$item$jscomp$14$$.$v$=!0;$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$$($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$self$$,$item$jscomp$14$$);return $item$jscomp$14$$}
function $JSCompiler_StaticMethods_drawWidget$$($JSCompiler_StaticMethods_drawWidget$self$$,$id$jscomp$21$$,$x$jscomp$105$$,$y$jscomp$89$$,$cssBox$$){$JSCompiler_StaticMethods_drawAt$$($cssBox$$,$JSCompiler_StaticMethods_drawWidget$self$$.$ctx$,$x$jscomp$105$$-$cssBox$$.width/2,$y$jscomp$89$$-$cssBox$$.height/2);var $w$jscomp$10$$=$JSCompiler_StaticMethods_drawWidget$self$$.$v$[$id$jscomp$21$$];void 0!=$w$jscomp$10$$&&($JSCompiler_StaticMethods_drawWidget$self$$.$ctx$.save(),$JSCompiler_StaticMethods_drawWidget$self$$.$ctx$.translate($x$jscomp$105$$,
$y$jscomp$89$$),$w$jscomp$10$$($JSCompiler_StaticMethods_drawWidget$self$$.$ctx$,$id$jscomp$21$$,$JSCompiler_StaticMethods_drawWidget$self$$.$dims$,$cssBox$$),$JSCompiler_StaticMethods_drawWidget$self$$.$ctx$.restore())}
function $JSCompiler_StaticMethods_redraw$$($JSCompiler_StaticMethods_redraw$self$$){$JSCompiler_StaticMethods_redraw$self$$.$o$&&($JSCompiler_StaticMethods_redraw$self$$.$ctx$.clearRect($JSCompiler_StaticMethods_redraw$self$$.$i$*$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$xmin$,$JSCompiler_StaticMethods_redraw$self$$.$g$*$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$ymin$,$JSCompiler_StaticMethods_redraw$self$$.$i$*($JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$xmax$-
$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$xmin$),$JSCompiler_StaticMethods_redraw$self$$.$g$*($JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$ymax$-$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$ymin$)),$JSCompiler_StaticMethods_redraw$self$$.$ctx$.save(),$JSCompiler_StaticMethods_redraw$self$$.transform&&($JSCompiler_StaticMethods_redraw$self$$.$ctx$.translate($JSCompiler_StaticMethods_redraw$self$$.width/2,$JSCompiler_StaticMethods_redraw$self$$.height/2),CanvasRenderingContext2D.prototype.transform.apply($JSCompiler_StaticMethods_redraw$self$$.$ctx$,
$JSCompiler_StaticMethods_redraw$self$$.transform),$JSCompiler_StaticMethods_redraw$self$$.$ctx$.translate(-$JSCompiler_StaticMethods_redraw$self$$.width/2,-$JSCompiler_StaticMethods_redraw$self$$.height/2)),$JSCompiler_StaticMethods_redraw$self$$.$ctx$.translate($JSCompiler_StaticMethods_redraw$self$$.$i$*$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$xmin$,$JSCompiler_StaticMethods_redraw$self$$.$g$*$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$ymin$),$JSCompiler_StaticMethods_redraw$self$$.$A3a_vpl_Canvas$items$.forEach(function($item$jscomp$16$$){$item$jscomp$16$$.$draw$(this)},
$JSCompiler_StaticMethods_redraw$self$$),$JSCompiler_StaticMethods_redraw$self$$.$A3a_vpl_Canvas$items$.forEach(function($item$jscomp$17$$){$item$jscomp$17$$.$draw$(this,void 0,void 0,!0)},$JSCompiler_StaticMethods_redraw$self$$),$JSCompiler_StaticMethods_redraw$self$$.$zoomedItemProxy$&&($JSCompiler_StaticMethods_redraw$self$$.$ctx$.save(),$JSCompiler_StaticMethods_redraw$self$$.$ctx$.globalAlpha=.5,$JSCompiler_StaticMethods_redraw$self$$.$ctx$.fillStyle="black",$JSCompiler_StaticMethods_redraw$self$$.$ctx$.fillRect($JSCompiler_StaticMethods_redraw$self$$.$i$*
$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$xmin$,$JSCompiler_StaticMethods_redraw$self$$.$g$*$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$ymin$,$JSCompiler_StaticMethods_redraw$self$$.$i$*($JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$xmax$-$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$xmin$),$JSCompiler_StaticMethods_redraw$self$$.$g$*($JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$ymax$-$JSCompiler_StaticMethods_redraw$self$$.$relativeArea$.$ymin$)),
$JSCompiler_StaticMethods_redraw$self$$.$ctx$.restore(),$JSCompiler_StaticMethods_redraw$self$$.$zoomedItemProxy$.$draw$($JSCompiler_StaticMethods_redraw$self$$),$JSCompiler_StaticMethods_redraw$self$$.$zoomedItemProxy$.$draw$($JSCompiler_StaticMethods_redraw$self$$,0,0,!0)),$JSCompiler_StaticMethods_redraw$self$$.$ctx$.restore())};function $A3a$vpl$ScrollArea$$(){this.$l$=this.$m$=1;this.$b$=this.$g$=this.y=this.x=0;this.$o$=!1;this.$v$="";this.$y0$=this.$i$=this.$x0$=this.$j$=0;this.$u$=null}$JSCompiler_prototypeAlias$$=$A3a$vpl$ScrollArea$$.prototype;$JSCompiler_prototypeAlias$$.$setTotalWidth$=function $$JSCompiler_prototypeAlias$$$$setTotalWidth$$($wTotal$jscomp$1$$){this.$m$=$wTotal$jscomp$1$$;this.$j$=Math.max(0,Math.min(this.$j$,this.$m$-this.$g$))};
$JSCompiler_prototypeAlias$$.$setTotalHeight$=function $$JSCompiler_prototypeAlias$$$$setTotalHeight$$($hTotal$jscomp$1$$){this.$l$=$hTotal$jscomp$1$$;this.$i$=Math.max(0,Math.min(this.$i$,this.$l$-this.$b$))};
$JSCompiler_prototypeAlias$$.resize=function $$JSCompiler_prototypeAlias$$$resize$($x$jscomp$107$$,$y$jscomp$91$$,$wView$jscomp$1$$,$hView$jscomp$1$$){this.x=$x$jscomp$107$$;this.y=$y$jscomp$91$$;this.$g$=$wView$jscomp$1$$;this.$b$=$hView$jscomp$1$$;this.$j$=Math.max(0,Math.min(this.$j$,this.$m$-this.$g$));this.$i$=Math.max(0,Math.min(this.$i$,this.$l$-this.$b$))};
$JSCompiler_prototypeAlias$$.$begin$=function $$JSCompiler_prototypeAlias$$$$begin$$($canvas$jscomp$25$$){this.$u$=$canvas$jscomp$25$$;var $self$jscomp$14$$=this,$item$jscomp$18$$=new $A3a$vpl$CanvasItem$$(null,this.$g$,this.$b$,this.x,this.y,null,this.$m$>this.$g$||this.$l$>this.$b$?{$mousedown$:function($canvas$jscomp$26$$,$data$jscomp$68$$,$width$jscomp$35$$,$height$jscomp$32$$,$x$jscomp$108$$,$y$jscomp$92$$,$downEvent$jscomp$5$$){$self$jscomp$14$$.$x0$=$downEvent$jscomp$5$$.x;$self$jscomp$14$$.$y0$=
$downEvent$jscomp$5$$.y;return 0},$mousedrag$:function($canvas$jscomp$27_deltaX$$,$data$jscomp$69$$,$dragging$$,$width$jscomp$36$$,$height$jscomp$33$$,$x$jscomp$109$$,$y$jscomp$93$$,$deltaY_dragEvent$jscomp$1$$){$canvas$jscomp$27_deltaX$$=Math.max(Math.min($deltaY_dragEvent$jscomp$1$$.x-$self$jscomp$14$$.$x0$,$self$jscomp$14$$.$j$),$self$jscomp$14$$.$j$-$self$jscomp$14$$.$m$+$self$jscomp$14$$.$g$);$self$jscomp$14$$.$j$-=$canvas$jscomp$27_deltaX$$;$self$jscomp$14$$.$x0$+=$canvas$jscomp$27_deltaX$$;
$deltaY_dragEvent$jscomp$1$$=Math.max(Math.min($deltaY_dragEvent$jscomp$1$$.y-$self$jscomp$14$$.$y0$,$self$jscomp$14$$.$i$),$self$jscomp$14$$.$i$-$self$jscomp$14$$.$l$+$self$jscomp$14$$.$b$);$self$jscomp$14$$.$i$-=$deltaY_dragEvent$jscomp$1$$;$self$jscomp$14$$.$y0$+=$deltaY_dragEvent$jscomp$1$$}}:null,null,null);$item$jscomp$18$$.$i$=!1;$item$jscomp$18$$.doScroll=function $$item$jscomp$18$$$doScroll$($dx$jscomp$13$$,$dy$jscomp$13$$){$self$jscomp$14$$.$j$+=$dx$jscomp$13$$;$self$jscomp$14$$.$i$+=$dy$jscomp$13$$;
$canvas$jscomp$25$$.$onUpdate$()};$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$$($canvas$jscomp$25$$,$item$jscomp$18$$);this.$v$&&$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$25$$,function($ctx$jscomp$38$$){$ctx$jscomp$38$$.save();$ctx$jscomp$38$$.fillStyle=$self$jscomp$14$$.$v$;$ctx$jscomp$38$$.fillRect($self$jscomp$14$$.x,$self$jscomp$14$$.y,$self$jscomp$14$$.$g$,$self$jscomp$14$$.$b$);$ctx$jscomp$38$$.restore()});(this.$m$>this.$g$||this.$l$>this.$b$)&&$JSCompiler_StaticMethods_addDecoration$$($canvas$jscomp$25$$,
function($ctx$jscomp$39$$){$ctx$jscomp$39$$.save();if($self$jscomp$14$$.$m$>$self$jscomp$14$$.$g$){var $scrollbarAbsLength_scrollbarRelLength$$=$self$jscomp$14$$.$g$/$self$jscomp$14$$.$m$;$scrollbarAbsLength_scrollbarRelLength$$=Math.max($scrollbarAbsLength_scrollbarRelLength$$*$self$jscomp$14$$.$g$,Math.min(20,$self$jscomp$14$$.$g$));var $scrollbarMaxMotion_scrollbarMotion$$=$self$jscomp$14$$.$g$-$scrollbarAbsLength_scrollbarRelLength$$,$scrollbarRelMotion$$=$self$jscomp$14$$.$j$/($self$jscomp$14$$.$m$-
$self$jscomp$14$$.$g$);$scrollbarMaxMotion_scrollbarMotion$$*=$scrollbarRelMotion$$;$ctx$jscomp$39$$.fillStyle=$canvas$jscomp$25$$.$dims$.$scrollbarBackgroundColor$;$ctx$jscomp$39$$.fillRect($self$jscomp$14$$.x,$self$jscomp$14$$.y+$self$jscomp$14$$.$b$+2,$self$jscomp$14$$.$g$,$canvas$jscomp$25$$.$dims$.$scrollbarWidth$);$ctx$jscomp$39$$.fillStyle=$canvas$jscomp$25$$.$dims$.$scrollbarThumbColor$;$ctx$jscomp$39$$.fillRect($self$jscomp$14$$.x+$scrollbarMaxMotion_scrollbarMotion$$,$self$jscomp$14$$.y+
$self$jscomp$14$$.$b$+2,$scrollbarAbsLength_scrollbarRelLength$$,$canvas$jscomp$25$$.$dims$.$scrollbarWidth$)}$self$jscomp$14$$.$l$>$self$jscomp$14$$.$b$&&($scrollbarAbsLength_scrollbarRelLength$$=$self$jscomp$14$$.$b$/$self$jscomp$14$$.$l$,$scrollbarAbsLength_scrollbarRelLength$$=Math.max($scrollbarAbsLength_scrollbarRelLength$$*$self$jscomp$14$$.$b$,Math.min(20,$self$jscomp$14$$.$b$)),$scrollbarMaxMotion_scrollbarMotion$$=$self$jscomp$14$$.$b$-$scrollbarAbsLength_scrollbarRelLength$$,$scrollbarRelMotion$$=
$self$jscomp$14$$.$i$/($self$jscomp$14$$.$l$-$self$jscomp$14$$.$b$),$scrollbarMaxMotion_scrollbarMotion$$*=$scrollbarRelMotion$$,$ctx$jscomp$39$$.save(),$ctx$jscomp$39$$.fillStyle=$canvas$jscomp$25$$.$dims$.$scrollbarBackgroundColor$,$ctx$jscomp$39$$.fillRect($self$jscomp$14$$.$o$?$self$jscomp$14$$.x-2-$canvas$jscomp$25$$.$dims$.$scrollbarWidth$:$self$jscomp$14$$.x+$self$jscomp$14$$.$g$+2,$self$jscomp$14$$.y,$canvas$jscomp$25$$.$dims$.$scrollbarWidth$,$self$jscomp$14$$.$b$),$ctx$jscomp$39$$.fillStyle=
$canvas$jscomp$25$$.$dims$.$scrollbarThumbColor$,$ctx$jscomp$39$$.fillRect($self$jscomp$14$$.$o$?$self$jscomp$14$$.x-2-$canvas$jscomp$25$$.$dims$.$scrollbarWidth$:$self$jscomp$14$$.x+$self$jscomp$14$$.$g$+2,$self$jscomp$14$$.y+$scrollbarMaxMotion_scrollbarMotion$$,$canvas$jscomp$25$$.$dims$.$scrollbarWidth$,$scrollbarAbsLength_scrollbarRelLength$$));$ctx$jscomp$39$$.restore()});$JSCompiler_StaticMethods_beginClip$$($canvas$jscomp$25$$,this.x,this.y,this.$g$,this.$b$,-this.$j$,-this.$i$)};
$JSCompiler_prototypeAlias$$.end=function $$JSCompiler_prototypeAlias$$$end$(){this.$u$.$m$.pop()};function $JSCompiler_StaticMethods_isTop$$($JSCompiler_StaticMethods_isTop$self$$){return $JSCompiler_StaticMethods_isTop$self$$.$i$<=.001*$JSCompiler_StaticMethods_isTop$self$$.$b$}
function $JSCompiler_StaticMethods_isBottom$$($JSCompiler_StaticMethods_isBottom$self$$){return $JSCompiler_StaticMethods_isBottom$self$$.$i$>=$JSCompiler_StaticMethods_isBottom$self$$.$l$-1.001*$JSCompiler_StaticMethods_isBottom$self$$.$b$};function $JSCompiler_StaticMethods_overlayRect$$($JSCompiler_StaticMethods_overlayRect$self$$,$left$jscomp$6$$,$top$jscomp$5$$,$width$jscomp$37$$,$height$jscomp$34$$,$overlayRect_overlayRectClasses$$){$overlayRect_overlayRectClasses$$=$JSCompiler_StaticMethods_getBox$$($JSCompiler_StaticMethods_overlayRect$self$$.$css$,{tag:"overlay-rectangle",$clas$:$overlayRect_overlayRectClasses$$||[]});$overlayRect_overlayRectClasses$$.x=$left$jscomp$6$$;$overlayRect_overlayRectClasses$$.y=$top$jscomp$5$$;$overlayRect_overlayRectClasses$$.width=
$width$jscomp$37$$;$overlayRect_overlayRectClasses$$.height=$height$jscomp$34$$;$overlayRect_overlayRectClasses$$.$draw$($JSCompiler_StaticMethods_overlayRect$self$$.$ctx$)}
function $JSCompiler_StaticMethods_disabledMark$$($JSCompiler_StaticMethods_disabledMark$self$$,$left$jscomp$7$$,$top$jscomp$6$$,$width$jscomp$38$$,$height$jscomp$35$$,$crossoutLine_overlayRectClasses$jscomp$1$$,$crossoutLineClasses$$,$noCrossoutLine$$){$JSCompiler_StaticMethods_overlayRect$$($JSCompiler_StaticMethods_disabledMark$self$$,$left$jscomp$7$$,$top$jscomp$6$$,$width$jscomp$38$$,$height$jscomp$35$$,($crossoutLine_overlayRectClasses$jscomp$1$$||[]).concat("disabled"));$JSCompiler_StaticMethods_getBox$$($JSCompiler_StaticMethods_disabledMark$self$$.$css$,
{tag:"overlay-rectangle",$clas$:$crossoutLine_overlayRectClasses$jscomp$1$$||[]});$noCrossoutLine$$||($JSCompiler_StaticMethods_disabledMark$self$$.$ctx$.save(),$crossoutLine_overlayRectClasses$jscomp$1$$=$JSCompiler_StaticMethods_getLine$$($JSCompiler_StaticMethods_disabledMark$self$$.$css$,{tag:"crossout-line",$clas$:$crossoutLineClasses$$||[]}),$JSCompiler_StaticMethods_disabledMark$self$$.$ctx$.beginPath(),$JSCompiler_StaticMethods_disabledMark$self$$.$ctx$.moveTo($left$jscomp$7$$-.1*$JSCompiler_StaticMethods_disabledMark$self$$.$dims$.$blockSize$,
$top$jscomp$6$$+.7*$height$jscomp$35$$),$JSCompiler_StaticMethods_disabledMark$self$$.$ctx$.lineTo($left$jscomp$7$$+$width$jscomp$38$$+.1*$JSCompiler_StaticMethods_disabledMark$self$$.$dims$.$blockSize$,$top$jscomp$6$$+.3*$height$jscomp$35$$),$crossoutLine_overlayRectClasses$jscomp$1$$.stroke($JSCompiler_StaticMethods_disabledMark$self$$.$ctx$),$JSCompiler_StaticMethods_disabledMark$self$$.$ctx$.restore())}
function $A3a$vpl$Canvas$lock$$($ctx$jscomp$40$$,$x$jscomp$110$$,$y$jscomp$94$$,$r$jscomp$4$$,$color$jscomp$4$$,$unlocked$$){$ctx$jscomp$40$$.save();$ctx$jscomp$40$$.strokeStyle=$color$jscomp$4$$;$ctx$jscomp$40$$.fillStyle=$color$jscomp$4$$;$ctx$jscomp$40$$.lineWidth=$r$jscomp$4$$;$ctx$jscomp$40$$.fillRect($x$jscomp$110$$-2.5*$r$jscomp$4$$,$y$jscomp$94$$-$r$jscomp$4$$,5*$r$jscomp$4$$,4*$r$jscomp$4$$);$ctx$jscomp$40$$.beginPath();$ctx$jscomp$40$$.moveTo($x$jscomp$110$$-1.7*$r$jscomp$4$$,$y$jscomp$94$$);
$ctx$jscomp$40$$.lineTo($x$jscomp$110$$-1.7*$r$jscomp$4$$,$y$jscomp$94$$);$unlocked$$?($ctx$jscomp$40$$.arc($x$jscomp$110$$-3.4*$r$jscomp$4$$,$y$jscomp$94$$-2*$r$jscomp$4$$,1.7*$r$jscomp$4$$,0,Math.PI,!0),$ctx$jscomp$40$$.lineTo($x$jscomp$110$$-5.1*$r$jscomp$4$$,$y$jscomp$94$$)):($ctx$jscomp$40$$.arc($x$jscomp$110$$,$y$jscomp$94$$-2*$r$jscomp$4$$,1.7*$r$jscomp$4$$,-Math.PI,0),$ctx$jscomp$40$$.lineTo($x$jscomp$110$$+1.7*$r$jscomp$4$$,$y$jscomp$94$$));$ctx$jscomp$40$$.stroke();$ctx$jscomp$40$$.restore()}
function $JSCompiler_StaticMethods_lockedMark$$($JSCompiler_StaticMethods_lockedMark$self$$,$left$jscomp$8$$,$top$jscomp$7$$,$width$jscomp$39$$,$height$jscomp$36$$,$inside$$,$color$jscomp$5$$){var $r$jscomp$5$$=.03*$JSCompiler_StaticMethods_lockedMark$self$$.$dims$.$blockSize$;$A3a$vpl$Canvas$lock$$($JSCompiler_StaticMethods_lockedMark$self$$.$ctx$,$left$jscomp$8$$+$width$jscomp$39$$+($inside$$?-5:5)*$r$jscomp$5$$,$top$jscomp$7$$+.15*$height$jscomp$36$$,$r$jscomp$5$$,$color$jscomp$5$$||"#333")}
function $A3a$vpl$Canvas$drawArcArrow$$($ctx$jscomp$41$$,$x$jscomp$112$$,$y$jscomp$96$$,$r$jscomp$6$$,$a1$$,$a2$$,$opt$jscomp$10$$){$ctx$jscomp$41$$.save();$opt$jscomp$10$$&&($opt$jscomp$10$$.style&&($ctx$jscomp$41$$.strokeStyle=$opt$jscomp$10$$.style,$ctx$jscomp$41$$.fillStyle=$opt$jscomp$10$$.style),void 0!==$opt$jscomp$10$$.lineWidth&&($ctx$jscomp$41$$.lineWidth=$opt$jscomp$10$$.lineWidth),void 0!==$opt$jscomp$10$$.alpha&&($ctx$jscomp$41$$.globalAlpha=$opt$jscomp$10$$.alpha));var $s$jscomp$18$$=
$opt$jscomp$10$$&&void 0!==$opt$jscomp$10$$.$arrowSize$?$opt$jscomp$10$$.$arrowSize$:5*$ctx$jscomp$41$$.lineWidth;$ctx$jscomp$41$$.beginPath();var $a1b$$=$a1$$+($opt$jscomp$10$$&&$opt$jscomp$10$$.$arrowAtStart$?$s$jscomp$18$$/$r$jscomp$6$$:0),$a2b$$=$a2$$-($opt$jscomp$10$$&&$opt$jscomp$10$$.$arrowAtStart$?0:$s$jscomp$18$$/$r$jscomp$6$$);$ctx$jscomp$41$$.arc($x$jscomp$112$$,$y$jscomp$96$$,$r$jscomp$6$$,$a1b$$,$a2b$$);$ctx$jscomp$41$$.stroke();$opt$jscomp$10$$&&$opt$jscomp$10$$.$arrowAtStart$?($ctx$jscomp$41$$.translate($x$jscomp$112$$+
$r$jscomp$6$$*Math.cos($a1$$),$y$jscomp$96$$+$r$jscomp$6$$*Math.sin($a1$$)),$ctx$jscomp$41$$.rotate(($a1$$+$a1b$$)/2+Math.PI)):($ctx$jscomp$41$$.translate($x$jscomp$112$$+$r$jscomp$6$$*Math.cos($a2$$),$y$jscomp$96$$+$r$jscomp$6$$*Math.sin($a2$$)),$ctx$jscomp$41$$.rotate(($a2$$+$a2b$$)/2));$ctx$jscomp$41$$.beginPath();$ctx$jscomp$41$$.moveTo(0,0);$ctx$jscomp$41$$.lineTo($s$jscomp$18$$/2,1.2*-$s$jscomp$18$$);$ctx$jscomp$41$$.lineTo(-$s$jscomp$18$$/2,1.2*-$s$jscomp$18$$);$ctx$jscomp$41$$.fill();$ctx$jscomp$41$$.restore()}
$A3a$vpl$Canvas$$.prototype.text=function $$A3a$vpl$Canvas$$$$text$($str$jscomp$15$$,$opt$jscomp$11$$){var $ctx$jscomp$42$$=this.$ctx$,$dims$jscomp$9$$=this.$dims$;$ctx$jscomp$42$$.save();$ctx$jscomp$42$$.fillStyle=$opt$jscomp$11$$&&$opt$jscomp$11$$.fillStyle||"white";$ctx$jscomp$42$$.font=$dims$jscomp$9$$.$blockFont$;$ctx$jscomp$42$$.textAlign="center";$ctx$jscomp$42$$.textBaseline="middle";$ctx$jscomp$42$$.translate(.5*$dims$jscomp$9$$.$blockSize$+($opt$jscomp$11$$&&$opt$jscomp$11$$.x||0),.5*$dims$jscomp$9$$.$blockSize$-
($opt$jscomp$11$$&&$opt$jscomp$11$$.y||0));$opt$jscomp$11$$&&$opt$jscomp$11$$.$rot$&&$ctx$jscomp$42$$.rotate(-$opt$jscomp$11$$.$rot$);$ctx$jscomp$42$$.translate(-.5*$dims$jscomp$9$$.$blockSize$,-.5*$dims$jscomp$9$$.$blockSize$);$ctx$jscomp$42$$.fillText($str$jscomp$15$$,.5*$dims$jscomp$9$$.$blockSize$,.5*$dims$jscomp$9$$.$blockSize$);$ctx$jscomp$42$$.restore()};
function $JSCompiler_StaticMethods_robotTop$$($JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$,$options$jscomp$16$$){var $ctx$jscomp$43$$=$JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$.$ctx$,$dims$jscomp$10$$=$JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$.$dims$;$ctx$jscomp$43$$.save();$ctx$jscomp$43$$.beginPath();$ctx$jscomp$43$$.rect(0,0,$JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$.$dims$.$blockSize$,$JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$.$dims$.$blockSize$);
$ctx$jscomp$43$$.clip();$options$jscomp$16$$&&($options$jscomp$16$$.scale||$options$jscomp$16$$.rotation)&&($options$jscomp$16$$.$translation$&&$ctx$jscomp$43$$.translate(-$options$jscomp$16$$.$translation$[0],-$options$jscomp$16$$.$translation$[1]),$ctx$jscomp$43$$.translate(.5*$dims$jscomp$10$$.$blockSize$,.5*$dims$jscomp$10$$.$blockSize$),$options$jscomp$16$$.scale&&$ctx$jscomp$43$$.scale($options$jscomp$16$$.scale,$options$jscomp$16$$.scale),$options$jscomp$16$$.rotation&&$ctx$jscomp$43$$.rotate(-$options$jscomp$16$$.rotation),
$ctx$jscomp$43$$.translate(-.5*$dims$jscomp$10$$.$blockSize$,-.5*$dims$jscomp$10$$.$blockSize$));$ctx$jscomp$43$$.beginPath();$ctx$jscomp$43$$.moveTo(.5*$dims$jscomp$10$$.$blockSize$,$dims$jscomp$10$$.$blockSize$-$dims$jscomp$10$$.$blockLineWidth$);$options$jscomp$16$$&&"left"===$options$jscomp$16$$.$side$||($ctx$jscomp$43$$.lineTo($dims$jscomp$10$$.$blockSize$-$dims$jscomp$10$$.$blockLineWidth$,$dims$jscomp$10$$.$blockSize$-$dims$jscomp$10$$.$blockLineWidth$),$ctx$jscomp$43$$.lineTo($dims$jscomp$10$$.$blockSize$-
$dims$jscomp$10$$.$blockLineWidth$,.25*$dims$jscomp$10$$.$blockSize$),$ctx$jscomp$43$$.bezierCurveTo(.8*$dims$jscomp$10$$.$blockSize$,$dims$jscomp$10$$.$blockLineWidth$,.52*$dims$jscomp$10$$.$blockSize$,$dims$jscomp$10$$.$blockLineWidth$,.5*$dims$jscomp$10$$.$blockSize$,$dims$jscomp$10$$.$blockLineWidth$));$options$jscomp$16$$&&"right"===$options$jscomp$16$$.$side$||($ctx$jscomp$43$$.lineTo(.5*$dims$jscomp$10$$.$blockSize$,$dims$jscomp$10$$.$blockLineWidth$),$ctx$jscomp$43$$.bezierCurveTo(.48*$dims$jscomp$10$$.$blockSize$,
$dims$jscomp$10$$.$blockLineWidth$,.2*$dims$jscomp$10$$.$blockSize$,$dims$jscomp$10$$.$blockLineWidth$,$dims$jscomp$10$$.$blockLineWidth$,.25*$dims$jscomp$10$$.$blockSize$),$ctx$jscomp$43$$.lineTo($dims$jscomp$10$$.$blockLineWidth$,$dims$jscomp$10$$.$blockSize$-$dims$jscomp$10$$.$blockLineWidth$));$ctx$jscomp$43$$.closePath();if($options$jscomp$16$$&&$options$jscomp$16$$.$rgb$){$JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$=[$options$jscomp$16$$.$rgb$[0],Math.max(.2+.8*$options$jscomp$16$$.$rgb$[1],
$options$jscomp$16$$.$rgb$[2]/2),$options$jscomp$16$$.$rgb$[2]];var $max$jscomp$1$$=Math.max($JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$[0],Math.max($JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$[1],$JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$[2]));$ctx$jscomp$43$$.fillStyle="rgb("+$JSCompiler_StaticMethods_robotTop$self_rgb$jscomp$1$$.map(function($x$jscomp$113$$){return Math.round(225*(1-$max$jscomp$1$$)+(30+225*$max$jscomp$1$$)*$x$jscomp$113$$)}).join(",")+")"}else $ctx$jscomp$43$$.fillStyle=
"white";$ctx$jscomp$43$$.fill();$options$jscomp$16$$&&$options$jscomp$16$$.$rgb$&&($ctx$jscomp$43$$.strokeStyle="white",$ctx$jscomp$43$$.lineWidth=$dims$jscomp$10$$.$blockLineWidth$,$ctx$jscomp$43$$.stroke());$options$jscomp$16$$&&$options$jscomp$16$$.$withWheels$&&($ctx$jscomp$43$$.fillStyle="black",$ctx$jscomp$43$$.fillRect(0,.6*$dims$jscomp$10$$.$blockSize$,.1*$dims$jscomp$10$$.$blockSize$,.35*$dims$jscomp$10$$.$blockSize$),$ctx$jscomp$43$$.fillRect(.9*$dims$jscomp$10$$.$blockSize$,.6*$dims$jscomp$10$$.$blockSize$,
.1*$dims$jscomp$10$$.$blockSize$,.35*$dims$jscomp$10$$.$blockSize$));$ctx$jscomp$43$$.restore()}
function $A3a$vpl$draw$diffWheels$$($dleft$$,$dright$$){var $phi$jscomp$2$$=($dright$$-$dleft$$)/2,$R$$=$dright$$===$dleft$$?Infinity:($dright$$+$dleft$$)/(2*$phi$jscomp$2$$);return{$phi$:$phi$jscomp$2$$,$R$:$R$$,x:Math.abs($R$$)>1E3*Math.abs($dleft$$+$dright$$)?0:$R$$*(.01>$phi$jscomp$2$$?$phi$jscomp$2$$*$phi$jscomp$2$$/2:1-Math.cos($phi$jscomp$2$$)),y:Math.abs($R$$)>1E3*Math.abs($dleft$$+$dright$$)?($dleft$$+$dright$$)/2:$R$$*Math.sin($phi$jscomp$2$$)}}
function $JSCompiler_StaticMethods_traces$$($JSCompiler_StaticMethods_traces$self_dims$jscomp$11$$,$dleft$jscomp$1$$,$dright$jscomp$1$$,$rw$$,$linewidth_options$jscomp$17$$){var $ctx$jscomp$44$$=$JSCompiler_StaticMethods_traces$self_dims$jscomp$11$$.$ctx$;$JSCompiler_StaticMethods_traces$self_dims$jscomp$11$$=$JSCompiler_StaticMethods_traces$self_dims$jscomp$11$$.$dims$;$rw$$*=$JSCompiler_StaticMethods_traces$self_dims$jscomp$11$$.$blockSize$;var $ra$$=$linewidth_options$jscomp$17$$&&$linewidth_options$jscomp$17$$.r||
[-1,0,1],$color$jscomp$6$$=$linewidth_options$jscomp$17$$&&$linewidth_options$jscomp$17$$.color||"black";$linewidth_options$jscomp$17$$=$linewidth_options$jscomp$17$$&&void 0!==$linewidth_options$jscomp$17$$.$linewidth$?$linewidth_options$jscomp$17$$.$linewidth$:1;var $tr$$=$A3a$vpl$draw$diffWheels$$($dleft$jscomp$1$$,$dright$jscomp$1$$);$ctx$jscomp$44$$.save();$ctx$jscomp$44$$.translate(.5*$JSCompiler_StaticMethods_traces$self_dims$jscomp$11$$.$blockSize$,.5*$JSCompiler_StaticMethods_traces$self_dims$jscomp$11$$.$blockSize$);
$ctx$jscomp$44$$.strokeStyle=$color$jscomp$6$$;$ctx$jscomp$44$$.lineWidth=$JSCompiler_StaticMethods_traces$self_dims$jscomp$11$$.$blockLineWidth$*$linewidth_options$jscomp$17$$;20<Math.abs($tr$$.$R$)?($ctx$jscomp$44$$.beginPath(),$ra$$.forEach(function($r$jscomp$8$$){$ctx$jscomp$44$$.moveTo($r$jscomp$8$$*$rw$$,0);$ctx$jscomp$44$$.lineTo(($tr$$.x+$r$jscomp$8$$)*$rw$$,-$tr$$.y*$rw$$)}),$ctx$jscomp$44$$.stroke()):$ra$$.forEach(function($r$jscomp$9_r$jscomp$inline_122$$){$ctx$jscomp$44$$.beginPath();
var $x$jscomp$inline_120$$=-$tr$$.$R$*$rw$$;$r$jscomp$9_r$jscomp$inline_122$$=($tr$$.$R$+$r$jscomp$9_r$jscomp$inline_122$$)*$rw$$;var $phi$jscomp$inline_123$$=$tr$$.$phi$;0<$r$jscomp$9_r$jscomp$inline_122$$?$ctx$jscomp$44$$.arc($x$jscomp$inline_120$$,0,$r$jscomp$9_r$jscomp$inline_122$$,0,-$phi$jscomp$inline_123$$,0<$phi$jscomp$inline_123$$):0>$r$jscomp$9_r$jscomp$inline_122$$&&$ctx$jscomp$44$$.arc($x$jscomp$inline_120$$,0,-$r$jscomp$9_r$jscomp$inline_122$$,Math.PI,Math.PI-$phi$jscomp$inline_123$$,
0<$phi$jscomp$inline_123$$);$ctx$jscomp$44$$.stroke()});$ctx$jscomp$44$$.restore();return $tr$$}
function $JSCompiler_StaticMethods_robotTopCheck$$($JSCompiler_StaticMethods_robotTopCheck$self_dims$jscomp$12_r$jscomp$10$$,$width$jscomp$40_y$jscomp$98$$,$left$jscomp$9_x$jscomp$115$$,$top$jscomp$8$$,$dleft$jscomp$2_tr$jscomp$1$$,$dright$jscomp$2$$,$ev$jscomp$3$$){$JSCompiler_StaticMethods_robotTopCheck$self_dims$jscomp$12_r$jscomp$10$$=$JSCompiler_StaticMethods_robotTopCheck$self_dims$jscomp$12_r$jscomp$10$$.$dims$;$dleft$jscomp$2_tr$jscomp$1$$*=$JSCompiler_StaticMethods_robotTopCheck$self_dims$jscomp$12_r$jscomp$10$$.$blockSize$;
$dright$jscomp$2$$*=$JSCompiler_StaticMethods_robotTopCheck$self_dims$jscomp$12_r$jscomp$10$$.$blockSize$;$JSCompiler_StaticMethods_robotTopCheck$self_dims$jscomp$12_r$jscomp$10$$=.21*$JSCompiler_StaticMethods_robotTopCheck$self_dims$jscomp$12_r$jscomp$10$$.$blockSize$;$left$jscomp$9_x$jscomp$115$$=$ev$jscomp$3$$.x-$left$jscomp$9_x$jscomp$115$$-$width$jscomp$40_y$jscomp$98$$/2;$width$jscomp$40_y$jscomp$98$$=$top$jscomp$8$$+$width$jscomp$40_y$jscomp$98$$/2-$ev$jscomp$3$$.y;$dleft$jscomp$2_tr$jscomp$1$$=
$A3a$vpl$draw$diffWheels$$($dleft$jscomp$2_tr$jscomp$1$$,$dright$jscomp$2$$);return($left$jscomp$9_x$jscomp$115$$-$dleft$jscomp$2_tr$jscomp$1$$.x)*($left$jscomp$9_x$jscomp$115$$-$dleft$jscomp$2_tr$jscomp$1$$.x)+($width$jscomp$40_y$jscomp$98$$-$dleft$jscomp$2_tr$jscomp$1$$.y)*($width$jscomp$40_y$jscomp$98$$-$dleft$jscomp$2_tr$jscomp$1$$.y)<$JSCompiler_StaticMethods_robotTopCheck$self_dims$jscomp$12_r$jscomp$10$$*$JSCompiler_StaticMethods_robotTopCheck$self_dims$jscomp$12_r$jscomp$10$$}
function $JSCompiler_StaticMethods_robotSide$$($JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$){var $ctx$jscomp$45$$=$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$ctx$;$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$=$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$dims$;$ctx$jscomp$45$$.save();$ctx$jscomp$45$$.translate(.5*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,.5*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$);
$ctx$jscomp$45$$.scale(.7,.7);$ctx$jscomp$45$$.translate(-.5*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,-.5*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$);$ctx$jscomp$45$$.fillStyle="white";$ctx$jscomp$45$$.fillRect($JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockLineWidth$,.45*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$-2*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockLineWidth$,
.35*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$);$ctx$jscomp$45$$.fillStyle="black";$ctx$jscomp$45$$.beginPath();$ctx$jscomp$45$$.arc(.27*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,.72*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,.2*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,0,2*Math.PI);$ctx$jscomp$45$$.fill();$ctx$jscomp$45$$.fillStyle="white";$ctx$jscomp$45$$.beginPath();$ctx$jscomp$45$$.arc(.27*
$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,.72*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,.12*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,0,2*Math.PI);$ctx$jscomp$45$$.fill();$ctx$jscomp$45$$.beginPath();$ctx$jscomp$45$$.arc(.8*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,.8*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$-$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockLineWidth$,
.1*$JSCompiler_StaticMethods_robotSide$self_dims$jscomp$13$$.$blockSize$,0,2*Math.PI);$ctx$jscomp$45$$.fill();$ctx$jscomp$45$$.restore()}
function $JSCompiler_StaticMethods_tap$$($JSCompiler_StaticMethods_tap$self_dims$jscomp$14$$){var $ctx$jscomp$46$$=$JSCompiler_StaticMethods_tap$self_dims$jscomp$14$$.$ctx$;$JSCompiler_StaticMethods_tap$self_dims$jscomp$14$$=$JSCompiler_StaticMethods_tap$self_dims$jscomp$14$$.$dims$;$ctx$jscomp$46$$.save();$ctx$jscomp$46$$.lineWidth=$JSCompiler_StaticMethods_tap$self_dims$jscomp$14$$.$blockLineWidth$;$ctx$jscomp$46$$.strokeStyle="white";for(var $i$jscomp$75$$=1;3>=$i$jscomp$75$$;$i$jscomp$75$$++)$ctx$jscomp$46$$.beginPath(),
$ctx$jscomp$46$$.arc(.185*$JSCompiler_StaticMethods_tap$self_dims$jscomp$14$$.$blockSize$,.48*$JSCompiler_StaticMethods_tap$self_dims$jscomp$14$$.$blockSize$,.05*$JSCompiler_StaticMethods_tap$self_dims$jscomp$14$$.$blockSize$*$i$jscomp$75$$,.9*Math.PI,1.7*Math.PI),$ctx$jscomp$46$$.stroke();$ctx$jscomp$46$$.restore()}
$A3a$vpl$Canvas$$.prototype.buttons=function $$A3a$vpl$Canvas$$$$buttons$($shapes$$,$state$jscomp$3$$,$opt$jscomp$12$$){var $ctx$jscomp$47$$=this.$ctx$,$dims$jscomp$15$$=this.$dims$;$shapes$$.forEach(function($shape$$,$i$jscomp$76$$){$ctx$jscomp$47$$.save();$ctx$jscomp$47$$.translate($dims$jscomp$15$$.$blockSize$*(.5+$shape$$.x),$dims$jscomp$15$$.$blockSize$*(.5-$shape$$.y));$ctx$jscomp$47$$.rotate($shape$$.r||0);$ctx$jscomp$47$$.fillStyle=$shape$$.fillStyle?$shape$$.fillStyle:$state$jscomp$3$$&&
!0===$state$jscomp$3$$[$i$jscomp$76$$]?"red":$state$jscomp$3$$&&1===$state$jscomp$3$$[$i$jscomp$76$$]?"#f66":$state$jscomp$3$$&&-1===$state$jscomp$3$$[$i$jscomp$76$$]?"#333":"white";$ctx$jscomp$47$$.strokeStyle=$shape$$.strokeStyle?$shape$$.strokeStyle:!$state$jscomp$3$$||1!==$state$jscomp$3$$[$i$jscomp$76$$]&&!0!==$state$jscomp$3$$[$i$jscomp$76$$]?$state$jscomp$3$$&&0>$state$jscomp$3$$[$i$jscomp$76$$]?"black":"#aaa":"#700";$ctx$jscomp$47$$.lineWidth=$dims$jscomp$15$$.$blockLineWidth$;$ctx$jscomp$47$$.lineJoin=
"round";var $sz$$=$shape$$.size||1;switch($shape$$.$sh$){case "r":$ctx$jscomp$47$$.fillRect(.08*-$dims$jscomp$15$$.$blockSize$*$sz$$,.08*-$dims$jscomp$15$$.$blockSize$*$sz$$,.16*$dims$jscomp$15$$.$blockSize$*$sz$$,.16*$dims$jscomp$15$$.$blockSize$*$sz$$);$ctx$jscomp$47$$.strokeRect(.08*-$dims$jscomp$15$$.$blockSize$*$sz$$,.08*-$dims$jscomp$15$$.$blockSize$*$sz$$,.16*$dims$jscomp$15$$.$blockSize$*$sz$$,.16*$dims$jscomp$15$$.$blockSize$*$sz$$);break;case "t":$ctx$jscomp$47$$.beginPath();$ctx$jscomp$47$$.moveTo(0,
-.122*$dims$jscomp$15$$.$blockSize$*$sz$$);$ctx$jscomp$47$$.lineTo(.106*$dims$jscomp$15$$.$blockSize$*$sz$$,.062*$dims$jscomp$15$$.$blockSize$*$sz$$);$ctx$jscomp$47$$.lineTo(-.106*$dims$jscomp$15$$.$blockSize$*$sz$$,.062*$dims$jscomp$15$$.$blockSize$*$sz$$);$ctx$jscomp$47$$.closePath();$ctx$jscomp$47$$.fill();$ctx$jscomp$47$$.stroke();break;case "c":$ctx$jscomp$47$$.beginPath(),$ctx$jscomp$47$$.arc(0,0,.112*$dims$jscomp$15$$.$blockSize$*$sz$$,0,2*Math.PI),$ctx$jscomp$47$$.fill(),$ctx$jscomp$47$$.stroke()}$state$jscomp$3$$&&
-1===$state$jscomp$3$$[$i$jscomp$76$$]&&$opt$jscomp$12$$&&$opt$jscomp$12$$.$cross$&&($ctx$jscomp$47$$.strokeStyle="white",$ctx$jscomp$47$$.beginPath(),$ctx$jscomp$47$$.moveTo(.06*-$dims$jscomp$15$$.$blockSize$*$sz$$,.06*-$dims$jscomp$15$$.$blockSize$*$sz$$),$ctx$jscomp$47$$.lineTo(.06*$dims$jscomp$15$$.$blockSize$*$sz$$,.06*$dims$jscomp$15$$.$blockSize$*$sz$$),$ctx$jscomp$47$$.moveTo(.06*-$dims$jscomp$15$$.$blockSize$*$sz$$,.06*$dims$jscomp$15$$.$blockSize$*$sz$$),$ctx$jscomp$47$$.lineTo(.06*$dims$jscomp$15$$.$blockSize$*
$sz$$,.06*-$dims$jscomp$15$$.$blockSize$*$sz$$),$ctx$jscomp$47$$.stroke());$ctx$jscomp$47$$.restore()})};
function $JSCompiler_StaticMethods_notesLL$$($JSCompiler_StaticMethods_notesLL$self_dims$jscomp$16$$,$notes$$,$left$jscomp$10$$,$right$jscomp$2$$,$low$$,$high$$,$numHeights$$,$noteSize$$,$linewidth$jscomp$1_numNotes$$){var $ctx$jscomp$48$$=$JSCompiler_StaticMethods_notesLL$self_dims$jscomp$16$$.$ctx$;$JSCompiler_StaticMethods_notesLL$self_dims$jscomp$16$$=$JSCompiler_StaticMethods_notesLL$self_dims$jscomp$16$$.$dims$;$ctx$jscomp$48$$.save();$ctx$jscomp$48$$.strokeStyle="black";$ctx$jscomp$48$$.lineWidth=
$JSCompiler_StaticMethods_notesLL$self_dims$jscomp$16$$.$blockLineWidth$*$linewidth$jscomp$1_numNotes$$;$linewidth$jscomp$1_numNotes$$=$notes$$.length/2;for(var $i$jscomp$77$$=0;$i$jscomp$77$$<$linewidth$jscomp$1_numNotes$$;$i$jscomp$77$$++)0<$notes$$[2*$i$jscomp$77$$+1]&&($ctx$jscomp$48$$.fillStyle=2===$notes$$[2*$i$jscomp$77$$+1]?"white":"black",$ctx$jscomp$48$$.beginPath(),$ctx$jscomp$48$$.arc($JSCompiler_StaticMethods_notesLL$self_dims$jscomp$16$$.$blockSize$*($left$jscomp$10$$+($right$jscomp$2$$-
$left$jscomp$10$$)/$linewidth$jscomp$1_numNotes$$*($i$jscomp$77$$+.5)),$JSCompiler_StaticMethods_notesLL$self_dims$jscomp$16$$.$blockSize$*($low$$+($high$$-$low$$)/$numHeights$$*($notes$$[2*$i$jscomp$77$$]+.5)),$JSCompiler_StaticMethods_notesLL$self_dims$jscomp$16$$.$blockSize$*$noteSize$$/2,0,2*Math.PI),$ctx$jscomp$48$$.fill(),$ctx$jscomp$48$$.stroke());$ctx$jscomp$48$$.restore()}
function $JSCompiler_StaticMethods_accelerometerHandle$$($JSCompiler_StaticMethods_accelerometerHandle$self_dims$jscomp$19$$){var $ctx$jscomp$51$$=$JSCompiler_StaticMethods_accelerometerHandle$self_dims$jscomp$19$$.$ctx$;$JSCompiler_StaticMethods_accelerometerHandle$self_dims$jscomp$19$$=$JSCompiler_StaticMethods_accelerometerHandle$self_dims$jscomp$19$$.$dims$;$ctx$jscomp$51$$.beginPath();$ctx$jscomp$51$$.arc(0,0,.4*$JSCompiler_StaticMethods_accelerometerHandle$self_dims$jscomp$19$$.$blockSize$,
0,2*Math.PI,!0);$ctx$jscomp$51$$.moveTo(0,0);$ctx$jscomp$51$$.lineTo(0,.4*-$JSCompiler_StaticMethods_accelerometerHandle$self_dims$jscomp$19$$.$blockSize$);$ctx$jscomp$51$$.strokeStyle="#666";$ctx$jscomp$51$$.lineWidth=$JSCompiler_StaticMethods_accelerometerHandle$self_dims$jscomp$19$$.$blockLineWidth$;$ctx$jscomp$51$$.stroke();$ctx$jscomp$51$$.beginPath();$ctx$jscomp$51$$.arc(0,.4*-$JSCompiler_StaticMethods_accelerometerHandle$self_dims$jscomp$19$$.$blockSize$,.1*$JSCompiler_StaticMethods_accelerometerHandle$self_dims$jscomp$19$$.$blockSize$,
0,2*Math.PI);$ctx$jscomp$51$$.fillStyle="white";$ctx$jscomp$51$$.fill();$ctx$jscomp$51$$.strokeStyle="black";$ctx$jscomp$51$$.stroke()}
function $JSCompiler_StaticMethods_robotAccelerometer$$($JSCompiler_StaticMethods_robotAccelerometer$self$$,$pitch$$,$angle$jscomp$1_phi$jscomp$4$$){var $ctx$jscomp$52$$=$JSCompiler_StaticMethods_robotAccelerometer$self$$.$ctx$,$dims$jscomp$20$$=$JSCompiler_StaticMethods_robotAccelerometer$self$$.$dims$;$angle$jscomp$1_phi$jscomp$4$$=$angle$jscomp$1_phi$jscomp$4$$*Math.PI/12;$ctx$jscomp$52$$.save();$ctx$jscomp$52$$.translate(.5*$dims$jscomp$20$$.$blockSize$,.5*$dims$jscomp$20$$.$blockSize$);$ctx$jscomp$52$$.rotate($angle$jscomp$1_phi$jscomp$4$$);
$JSCompiler_StaticMethods_accelerometerHandle$$($JSCompiler_StaticMethods_robotAccelerometer$self$$);$ctx$jscomp$52$$.fillRect(-.28*$dims$jscomp$20$$.$blockSize$,-.1*$dims$jscomp$20$$.$blockSize$,.56*$dims$jscomp$20$$.$blockSize$,.2*$dims$jscomp$20$$.$blockSize$);$ctx$jscomp$52$$.fillStyle="black";$pitch$$?($ctx$jscomp$52$$.beginPath(),$ctx$jscomp$52$$.arc(-.15*$dims$jscomp$20$$.$blockSize$,.03*$dims$jscomp$20$$.$blockSize$,.11*$dims$jscomp$20$$.$blockSize$,0,2*Math.PI),$ctx$jscomp$52$$.fill(),$ctx$jscomp$52$$.fillStyle=
"white",$ctx$jscomp$52$$.beginPath(),$ctx$jscomp$52$$.arc(-.15*$dims$jscomp$20$$.$blockSize$,.03*$dims$jscomp$20$$.$blockSize$,.07*$dims$jscomp$20$$.$blockSize$,0,2*Math.PI),$ctx$jscomp$52$$.fill(),$ctx$jscomp$52$$.beginPath(),$ctx$jscomp$52$$.arc(.15*$dims$jscomp$20$$.$blockSize$,.07*$dims$jscomp$20$$.$blockSize$,.06*$dims$jscomp$20$$.$blockSize$,0,2*Math.PI)):($ctx$jscomp$52$$.fillRect(-.28*$dims$jscomp$20$$.$blockSize$,.1*$dims$jscomp$20$$.$blockSize$,.08*$dims$jscomp$20$$.$blockSize$,.04*$dims$jscomp$20$$.$blockSize$),
$ctx$jscomp$52$$.fillRect(.2*$dims$jscomp$20$$.$blockSize$,.1*$dims$jscomp$20$$.$blockSize$,.08*$dims$jscomp$20$$.$blockSize$,.04*$dims$jscomp$20$$.$blockSize$),$ctx$jscomp$52$$.fillStyle="white",$ctx$jscomp$52$$.beginPath(),$ctx$jscomp$52$$.arc(0,.06*$dims$jscomp$20$$.$blockSize$,.06*$dims$jscomp$20$$.$blockSize$,0,2*Math.PI));$ctx$jscomp$52$$.fill();$ctx$jscomp$52$$.restore()}
function $JSCompiler_StaticMethods_accelerometerCheck$$($r2_width$jscomp$41$$,$left$jscomp$11_x$jscomp$116$$,$top$jscomp$9_y$jscomp$99$$,$ev$jscomp$4$$,$tp$$){$left$jscomp$11_x$jscomp$116$$=$ev$jscomp$4$$.x-$left$jscomp$11_x$jscomp$116$$-$r2_width$jscomp$41$$/2;$top$jscomp$9_y$jscomp$99$$=$top$jscomp$9_y$jscomp$99$$+$r2_width$jscomp$41$$/2-$ev$jscomp$4$$.y;$r2_width$jscomp$41$$=($left$jscomp$11_x$jscomp$116$$*$left$jscomp$11_x$jscomp$116$$+$top$jscomp$9_y$jscomp$99$$*$top$jscomp$9_y$jscomp$99$$)/
($r2_width$jscomp$41$$*$r2_width$jscomp$41$$/4);return 1>$r2_width$jscomp$41$$&&.4<$r2_width$jscomp$41$$&&($tp$$||0<=$top$jscomp$9_y$jscomp$99$$)}
function $JSCompiler_StaticMethods_accelerometerDrag$$($a$jscomp$7_width$jscomp$42$$,$left$jscomp$12$$,$top$jscomp$10$$,$ev$jscomp$5$$,$tp$jscomp$1$$){$a$jscomp$7_width$jscomp$42$$=Math.round(12*Math.atan2($ev$jscomp$5$$.x-$left$jscomp$12$$-$a$jscomp$7_width$jscomp$42$$/2,$top$jscomp$10$$+$a$jscomp$7_width$jscomp$42$$/2-$ev$jscomp$5$$.y)/Math.PI);return $tp$jscomp$1$$?12===$a$jscomp$7_width$jscomp$42$$?-12:$a$jscomp$7_width$jscomp$42$$:Math.max(-6,Math.min(6,$a$jscomp$7_width$jscomp$42$$))}
function $A3a$vpl$Canvas$drawTimer$$($ctx$jscomp$56$$,$x0$jscomp$6$$,$y0$jscomp$6$$,$r$jscomp$12$$,$lineWidth$jscomp$2$$,$drawText_rExt$jscomp$inline_128$$,$rIntMax$jscomp$inline_129_time$$,$isEvent$$,$d$jscomp$inline_133_isLog$$){var $time2$$=$d$jscomp$inline_133_isLog$$?0>=$rIntMax$jscomp$inline_129_time$$?0:Math.max(Math.log(10*$rIntMax$jscomp$inline_129_time$$)/Math.log(100),0):$rIntMax$jscomp$inline_129_time$$/4;$ctx$jscomp$56$$.save();!$isEvent$$&&$drawText_rExt$jscomp$inline_128$$&&$drawText_rExt$jscomp$inline_128$$($rIntMax$jscomp$inline_129_time$$);
$ctx$jscomp$56$$.beginPath();$ctx$jscomp$56$$.arc($x0$jscomp$6$$,$y0$jscomp$6$$,$r$jscomp$12$$,0,2*Math.PI);$ctx$jscomp$56$$.fillStyle="white";$ctx$jscomp$56$$.fill();$drawText_rExt$jscomp$inline_128$$=.9*$r$jscomp$12$$;$rIntMax$jscomp$inline_129_time$$=$d$jscomp$inline_133_isLog$$?.8*$r$jscomp$12$$:.6*$r$jscomp$12$$;var $angle$jscomp$inline_131$$=2*Math.PI*($isEvent$$?.2:$time2$$),$fillStyle$jscomp$inline_132$$=$isEvent$$?"#ddd":"red";$d$jscomp$inline_133_isLog$$=($rIntMax$jscomp$inline_129_time$$-
($d$jscomp$inline_133_isLog$$?.5*$r$jscomp$12$$:.6*$r$jscomp$12$$))/4;$ctx$jscomp$56$$.save();$ctx$jscomp$56$$.beginPath();$ctx$jscomp$56$$.arc($x0$jscomp$6$$,$y0$jscomp$6$$,$drawText_rExt$jscomp$inline_128$$,-Math.PI/2,3*Math.PI/2-.05);$ctx$jscomp$56$$.arc($x0$jscomp$6$$,$y0$jscomp$6$$,$rIntMax$jscomp$inline_129_time$$-4*$d$jscomp$inline_133_isLog$$,3*Math.PI/2-.05,Math.PI,!0);$ctx$jscomp$56$$.arc($x0$jscomp$6$$+$d$jscomp$inline_133_isLog$$,$y0$jscomp$6$$,$rIntMax$jscomp$inline_129_time$$-3*$d$jscomp$inline_133_isLog$$,
Math.PI,Math.PI/2,!0);$ctx$jscomp$56$$.arc($x0$jscomp$6$$+$d$jscomp$inline_133_isLog$$,$y0$jscomp$6$$-$d$jscomp$inline_133_isLog$$,$rIntMax$jscomp$inline_129_time$$-2*$d$jscomp$inline_133_isLog$$,Math.PI/2,0,!0);$ctx$jscomp$56$$.arc($x0$jscomp$6$$,$y0$jscomp$6$$-$d$jscomp$inline_133_isLog$$,$rIntMax$jscomp$inline_129_time$$-$d$jscomp$inline_133_isLog$$,0,-Math.PI/2,!0);$ctx$jscomp$56$$.clip();$ctx$jscomp$56$$.fillStyle=$fillStyle$jscomp$inline_132$$;$ctx$jscomp$56$$.beginPath();$ctx$jscomp$56$$.arc($x0$jscomp$6$$,
$y0$jscomp$6$$,$drawText_rExt$jscomp$inline_128$$,-Math.PI/2,-Math.PI/2+$angle$jscomp$inline_131$$);$ctx$jscomp$56$$.lineTo($x0$jscomp$6$$,$y0$jscomp$6$$);$ctx$jscomp$56$$.fill();$ctx$jscomp$56$$.restore();$ctx$jscomp$56$$.beginPath();$ctx$jscomp$56$$.arc($x0$jscomp$6$$,$y0$jscomp$6$$,$r$jscomp$12$$/2,0,2*Math.PI);$ctx$jscomp$56$$.fill();$ctx$jscomp$56$$.beginPath();$ctx$jscomp$56$$.arc($x0$jscomp$6$$,$y0$jscomp$6$$,$r$jscomp$12$$,0,2*Math.PI);$ctx$jscomp$56$$.strokeStyle="black";$ctx$jscomp$56$$.lineWidth=
$lineWidth$jscomp$2$$;$ctx$jscomp$56$$.stroke();$ctx$jscomp$56$$.beginPath();$ctx$jscomp$56$$.moveTo($x0$jscomp$6$$-.1*$r$jscomp$12$$*Math.sin(2*$time2$$*Math.PI),$y0$jscomp$6$$+.1*$r$jscomp$12$$*Math.cos(2*$time2$$*Math.PI));$ctx$jscomp$56$$.lineTo($x0$jscomp$6$$+.9*$r$jscomp$12$$*Math.sin(2*$time2$$*Math.PI),$y0$jscomp$6$$-.9*$r$jscomp$12$$*Math.cos(2*$time2$$*Math.PI));$ctx$jscomp$56$$.lineWidth=2*$lineWidth$jscomp$2$$;$ctx$jscomp$56$$.stroke();$isEvent$$&&$A3a$vpl$Canvas$drawArcArrow$$($ctx$jscomp$56$$,
$x0$jscomp$6$$,$y0$jscomp$6$$,1.25*$r$jscomp$12$$,.5*-Math.PI,.1*-Math.PI,{$arrowAtStart$:!0,$arrowSize$:5*$lineWidth$jscomp$2$$,style:"black"});$ctx$jscomp$56$$.restore()}
function $JSCompiler_StaticMethods_drawTimer$$($JSCompiler_StaticMethods_drawTimer$self$$,$time$jscomp$1$$,$isEvent$jscomp$1$$,$isLog$jscomp$1$$){var $ctx$jscomp$57$$=$JSCompiler_StaticMethods_drawTimer$self$$.$ctx$,$s$jscomp$20$$=$JSCompiler_StaticMethods_drawTimer$self$$.$dims$.$blockSize$;$A3a$vpl$Canvas$drawTimer$$($ctx$jscomp$57$$,$s$jscomp$20$$/2+($isEvent$jscomp$1$$?-.05*$s$jscomp$20$$:.05*$s$jscomp$20$$),$s$jscomp$20$$/2+($isEvent$jscomp$1$$?.07*$s$jscomp$20$$:.03*$s$jscomp$20$$),.4*$s$jscomp$20$$,
$JSCompiler_StaticMethods_drawTimer$self$$.$dims$.$blockLineWidth$,function($t$$){$ctx$jscomp$57$$.textAlign="start";$ctx$jscomp$57$$.textBaseline="top";$ctx$jscomp$57$$.font=Math.round($s$jscomp$20$$/6).toString(10)+"px sans-serif";$ctx$jscomp$57$$.fillStyle="white";$ctx$jscomp$57$$.fillText($t$$.toFixed(1>$t$$?2:1),$s$jscomp$20$$/20,$s$jscomp$20$$/40)},$time$jscomp$1$$,$isEvent$jscomp$1$$,$isLog$jscomp$1$$)}
function $A3a$vpl$Canvas$drawArc$$($ctx$jscomp$58$$,$x0$jscomp$8$$,$y0$jscomp$8$$,$rInner$$,$rOuter$$,$a1$jscomp$1$$,$a2$jscomp$1$$,$fillStyle$jscomp$1$$,$strokeStyle$$,$lineWidth$jscomp$3$$){var $rMid$$=($rInner$$+$rOuter$$)/2,$rEnd$$=($rOuter$$-$rInner$$)/2;$ctx$jscomp$58$$.save();$ctx$jscomp$58$$.beginPath();$ctx$jscomp$58$$.arc($x0$jscomp$8$$,$y0$jscomp$8$$,$rInner$$,-$a2$jscomp$1$$,-$a1$jscomp$1$$);$ctx$jscomp$58$$.arc($x0$jscomp$8$$+$rMid$$*Math.cos($a1$jscomp$1$$),$y0$jscomp$8$$-$rMid$$*Math.sin($a1$jscomp$1$$),
$rEnd$$,-$a1$jscomp$1$$-Math.PI,-$a1$jscomp$1$$,!0);$ctx$jscomp$58$$.arc($x0$jscomp$8$$,$y0$jscomp$8$$,$rOuter$$,-$a1$jscomp$1$$,-$a2$jscomp$1$$,!0);$ctx$jscomp$58$$.arc($x0$jscomp$8$$+$rMid$$*Math.cos($a2$jscomp$1$$),$y0$jscomp$8$$-$rMid$$*Math.sin($a2$jscomp$1$$),$rEnd$$,-$a2$jscomp$1$$,-$a2$jscomp$1$$+Math.PI,!0);$ctx$jscomp$58$$.fillStyle=$fillStyle$jscomp$1$$;$ctx$jscomp$58$$.strokeStyle=$strokeStyle$$;$ctx$jscomp$58$$.lineWidth=$lineWidth$jscomp$3$$;$ctx$jscomp$58$$.fill();$ctx$jscomp$58$$.stroke();
$ctx$jscomp$58$$.restore()}
function $JSCompiler_StaticMethods_drawArc$$($JSCompiler_StaticMethods_drawArc$self$$,$a1$jscomp$2$$,$a2$jscomp$2$$,$val$jscomp$12$$){var $dims$jscomp$23$$=$JSCompiler_StaticMethods_drawArc$self$$.$dims$;$A3a$vpl$Canvas$drawArc$$($JSCompiler_StaticMethods_drawArc$self$$.$ctx$,$dims$jscomp$23$$.$blockSize$/2,$dims$jscomp$23$$.$blockSize$/2,.3*$dims$jscomp$23$$.$blockSize$,.45*$dims$jscomp$23$$.$blockSize$,$a1$jscomp$2$$,$a2$jscomp$2$$,0>$val$jscomp$12$$?"white":2===$val$jscomp$12$$?"red":0<$val$jscomp$12$$?
"#f70":"#ddd",0===$val$jscomp$12$$?"#bbb":"black",$dims$jscomp$23$$.$blockLineWidth$)}
function $JSCompiler_StaticMethods_drawState$$($JSCompiler_StaticMethods_drawState$self$$,$state$jscomp$4$$){var $ctx$jscomp$59$$=$JSCompiler_StaticMethods_drawState$self$$.$ctx$;$ctx$jscomp$59$$.save();$JSCompiler_StaticMethods_drawArc$$($JSCompiler_StaticMethods_drawState$self$$,.65*Math.PI,.85*Math.PI,$state$jscomp$4$$[0]);$JSCompiler_StaticMethods_drawArc$$($JSCompiler_StaticMethods_drawState$self$$,.15*Math.PI,.35*Math.PI,$state$jscomp$4$$[1]);$JSCompiler_StaticMethods_drawArc$$($JSCompiler_StaticMethods_drawState$self$$,
1.15*Math.PI,1.35*Math.PI,$state$jscomp$4$$[2]);$JSCompiler_StaticMethods_drawArc$$($JSCompiler_StaticMethods_drawState$self$$,1.65*Math.PI,1.85*Math.PI,$state$jscomp$4$$[3]);$ctx$jscomp$59$$.restore()}
function $JSCompiler_StaticMethods_drawState8$$($JSCompiler_StaticMethods_drawState8$self$$,$state$jscomp$6$$){var $ctx$jscomp$61$$=$JSCompiler_StaticMethods_drawState8$self$$.$ctx$;$ctx$jscomp$61$$.save();for(var $i$jscomp$80$$=0;8>$i$jscomp$80$$;$i$jscomp$80$$++)$JSCompiler_StaticMethods_drawArc$$($JSCompiler_StaticMethods_drawState8$self$$,Math.PI*(.46-.25*$i$jscomp$80$$),Math.PI*(.54-.25*$i$jscomp$80$$),$i$jscomp$80$$===$state$jscomp$6$$?1:-1);$ctx$jscomp$61$$.restore()}
function $JSCompiler_StaticMethods_buttonClick$$($shapes$jscomp$1$$,$width$jscomp$43_x$jscomp$118$$,$height$jscomp$40_y$jscomp$101$$,$left$jscomp$13$$,$i$jscomp$82_top$jscomp$11$$,$ev$jscomp$6$$){$width$jscomp$43_x$jscomp$118$$=($ev$jscomp$6$$.x-$left$jscomp$13$$)/$width$jscomp$43_x$jscomp$118$$-.5;$height$jscomp$40_y$jscomp$101$$=.5-($ev$jscomp$6$$.y-$i$jscomp$82_top$jscomp$11$$)/$height$jscomp$40_y$jscomp$101$$;for($i$jscomp$82_top$jscomp$11$$=0;$i$jscomp$82_top$jscomp$11$$<$shapes$jscomp$1$$.length;$i$jscomp$82_top$jscomp$11$$++)if(Math.max(Math.abs($width$jscomp$43_x$jscomp$118$$-
$shapes$jscomp$1$$[$i$jscomp$82_top$jscomp$11$$].x),Math.abs($height$jscomp$40_y$jscomp$101$$-$shapes$jscomp$1$$[$i$jscomp$82_top$jscomp$11$$].y))<.11*($shapes$jscomp$1$$[$i$jscomp$82_top$jscomp$11$$].size||1))return $i$jscomp$82_top$jscomp$11$$;return null}
function $JSCompiler_StaticMethods_slider$$($JSCompiler_StaticMethods_slider$self$$,$val$jscomp$13$$,$pos$$,$vert$$,$thumbColor$$,$levelType$$){function $sliderPath$$($min$$,$max$jscomp$2$$){$ctx$jscomp$63$$.beginPath();$ctx$jscomp$63$$.moveTo($dims$jscomp$24$$.$blockSize$*(.1+.8*$min$$),$dims$jscomp$24$$.$blockSize$*(.46-$pos$$));$ctx$jscomp$63$$.lineTo($dims$jscomp$24$$.$blockSize$*(.1+.8*$max$jscomp$2$$),$dims$jscomp$24$$.$blockSize$*(.46-$pos$$));$ctx$jscomp$63$$.arc($dims$jscomp$24$$.$blockSize$*
(.1+.8*$max$jscomp$2$$),$dims$jscomp$24$$.$blockSize$*(.5-$pos$$),.04*$dims$jscomp$24$$.$blockSize$,-Math.PI/2,Math.PI/2);$ctx$jscomp$63$$.lineTo($dims$jscomp$24$$.$blockSize$*(.1+.8*$max$jscomp$2$$),$dims$jscomp$24$$.$blockSize$*(.54-$pos$$));$ctx$jscomp$63$$.lineTo($dims$jscomp$24$$.$blockSize$*(.1+.8*$min$$),$dims$jscomp$24$$.$blockSize$*(.54-$pos$$));$ctx$jscomp$63$$.arc($dims$jscomp$24$$.$blockSize$*(.1+.8*$min$$),$dims$jscomp$24$$.$blockSize$*(.5-$pos$$),.04*$dims$jscomp$24$$.$blockSize$,Math.PI/
2,-Math.PI/2)}var $ctx$jscomp$63$$=$JSCompiler_StaticMethods_slider$self$$.$ctx$,$dims$jscomp$24$$=$JSCompiler_StaticMethods_slider$self$$.$dims$;$ctx$jscomp$63$$.save();$vert$$&&($ctx$jscomp$63$$.translate(.5*$dims$jscomp$24$$.$blockSize$,.5*$dims$jscomp$24$$.$blockSize$),$ctx$jscomp$63$$.rotate(-Math.PI/2),$ctx$jscomp$63$$.scale(1,-1),$ctx$jscomp$63$$.translate(-.5*$dims$jscomp$24$$.$blockSize$,-.5*$dims$jscomp$24$$.$blockSize$));$ctx$jscomp$63$$.lineWidth=$dims$jscomp$24$$.$blockLineWidth$;$ctx$jscomp$63$$.fillStyle=
"white";$ctx$jscomp$63$$.strokeStyle="black";$sliderPath$$(0,1);$ctx$jscomp$63$$.fill();$ctx$jscomp$63$$.stroke();$ctx$jscomp$63$$.fillStyle=$thumbColor$$;switch($levelType$$||0){case 1:$sliderPath$$(0,$val$jscomp$13$$);$ctx$jscomp$63$$.fill();$ctx$jscomp$63$$.stroke();break;case 2:$sliderPath$$($val$jscomp$13$$,1),$ctx$jscomp$63$$.fill(),$ctx$jscomp$63$$.stroke()}$ctx$jscomp$63$$.fillStyle=$thumbColor$$;$ctx$jscomp$63$$.strokeStyle="black";$ctx$jscomp$63$$.lineWidth=$dims$jscomp$24$$.$blockLineWidth$;
$ctx$jscomp$63$$.beginPath();$ctx$jscomp$63$$.arc($dims$jscomp$24$$.$blockSize$*(.1+.8*$val$jscomp$13$$),$dims$jscomp$24$$.$blockSize$*(.5-$pos$$),.1*$dims$jscomp$24$$.$blockSize$,0,2*Math.PI);$ctx$jscomp$63$$.fill();$ctx$jscomp$63$$.stroke();$ctx$jscomp$63$$.restore()}
function $JSCompiler_StaticMethods_sliderCheck$$($pos$jscomp$1$$,$vert$jscomp$1$$,$width$jscomp$44_x$jscomp$119$$,$height$jscomp$41_y$jscomp$102$$,$left$jscomp$14$$,$top$jscomp$12$$,$ev$jscomp$7$$){$width$jscomp$44_x$jscomp$119$$=($ev$jscomp$7$$.x-$left$jscomp$14$$)/$width$jscomp$44_x$jscomp$119$$-.5;$height$jscomp$41_y$jscomp$102$$=.5-($ev$jscomp$7$$.y-$top$jscomp$12$$)/$height$jscomp$41_y$jscomp$102$$;return.1>Math.abs(($vert$jscomp$1$$?$width$jscomp$44_x$jscomp$119$$:$height$jscomp$41_y$jscomp$102$$)-
$pos$jscomp$1$$)}
function $JSCompiler_StaticMethods_sliderDrag$$($vert$jscomp$2$$,$width$jscomp$45_x$jscomp$120$$,$height$jscomp$42_y$jscomp$103$$,$left$jscomp$15$$,$top$jscomp$13$$,$ev$jscomp$8$$){$width$jscomp$45_x$jscomp$120$$=($ev$jscomp$8$$.x-$left$jscomp$15$$)/$width$jscomp$45_x$jscomp$120$$-.5;$height$jscomp$42_y$jscomp$103$$=.5-($ev$jscomp$8$$.y-$top$jscomp$13$$)/$height$jscomp$42_y$jscomp$103$$;return.5+($vert$jscomp$2$$?$height$jscomp$42_y$jscomp$103$$:$width$jscomp$45_x$jscomp$120$$)/.8}
function $JSCompiler_StaticMethods_noteClickLL$$($scoreLeft_x$jscomp$121$$,$scoreRight$$,$scoreBottom_y$jscomp$104$$,$scoreTop$$,$numNotes$jscomp$1$$,$numHeights$jscomp$1$$,$width$jscomp$46$$,$height$jscomp$43$$,$left$jscomp$16$$,$top$jscomp$14$$,$ev$jscomp$9$$){$scoreLeft_x$jscomp$121$$=Math.floor((($ev$jscomp$9$$.x-$left$jscomp$16$$)/$width$jscomp$46$$-$scoreLeft_x$jscomp$121$$)/(($scoreRight$$-$scoreLeft_x$jscomp$121$$)/$numNotes$jscomp$1$$));$scoreBottom_y$jscomp$104$$=Math.floor(($scoreBottom_y$jscomp$104$$-
($ev$jscomp$9$$.y-$top$jscomp$14$$)/$height$jscomp$43$$)/(($scoreBottom_y$jscomp$104$$-$scoreTop$$)/$numHeights$jscomp$1$$));return 0<=$scoreLeft_x$jscomp$121$$&&$scoreLeft_x$jscomp$121$$<$numNotes$jscomp$1$$&&0<=$scoreBottom_y$jscomp$104$$&&$scoreBottom_y$jscomp$104$$<$numHeights$jscomp$1$$?{index:$scoreLeft_x$jscomp$121$$,tone:$scoreBottom_y$jscomp$104$$}:null}
function $JSCompiler_StaticMethods_timerCheck$$($width$jscomp$48_x$jscomp$122$$,$height$jscomp$45_y$jscomp$105$$,$left$jscomp$18$$,$top$jscomp$16$$,$ev$jscomp$11$$){var $r$jscomp$14$$=.4*$width$jscomp$48_x$jscomp$122$$;$width$jscomp$48_x$jscomp$122$$=$ev$jscomp$11$$.x-$left$jscomp$18$$-.55*$width$jscomp$48_x$jscomp$122$$;$height$jscomp$45_y$jscomp$105$$=$top$jscomp$16$$+.53*$height$jscomp$45_y$jscomp$105$$-$ev$jscomp$11$$.y;return $width$jscomp$48_x$jscomp$122$$*$width$jscomp$48_x$jscomp$122$$+$height$jscomp$45_y$jscomp$105$$*
$height$jscomp$45_y$jscomp$105$$<=$r$jscomp$14$$*$r$jscomp$14$$}
function $JSCompiler_StaticMethods_timerDrag$$($time2$jscomp$2_width$jscomp$49$$,$height$jscomp$46$$,$left$jscomp$19$$,$top$jscomp$17$$,$isLog$jscomp$2$$,$ev$jscomp$12$$){$time2$jscomp$2_width$jscomp$49$$=(Math.PI-Math.atan2($ev$jscomp$12$$.x-$left$jscomp$19$$-.55*$time2$jscomp$2_width$jscomp$49$$,-($top$jscomp$17$$+.53*$height$jscomp$46$$-$ev$jscomp$12$$.y)))/(2*Math.PI);return $isLog$jscomp$2$$?Math.exp($time2$jscomp$2_width$jscomp$49$$*Math.log(100))/10:4*$time2$jscomp$2_width$jscomp$49$$}
function $JSCompiler_StaticMethods_stateClick$$($width$jscomp$50$$,$height$jscomp$47_y$jscomp$107$$,$left$jscomp$20_x$jscomp$124$$,$top$jscomp$18$$,$ev$jscomp$13$$){$left$jscomp$20_x$jscomp$124$$=$ev$jscomp$13$$.x-$left$jscomp$20_x$jscomp$124$$-$width$jscomp$50$$/2;$height$jscomp$47_y$jscomp$107$$=$height$jscomp$47_y$jscomp$107$$/2-($ev$jscomp$13$$.y-$top$jscomp$18$$);return Math.abs(Math.sqrt($left$jscomp$20_x$jscomp$124$$*$left$jscomp$20_x$jscomp$124$$+$height$jscomp$47_y$jscomp$107$$*$height$jscomp$47_y$jscomp$107$$)-
.375*$width$jscomp$50$$)<=.15*$width$jscomp$50$$?0<=$height$jscomp$47_y$jscomp$107$$?0>$left$jscomp$20_x$jscomp$124$$?0:1:0>$left$jscomp$20_x$jscomp$124$$?2:3:null}
function $JSCompiler_StaticMethods_state8Click$$($th$jscomp$2_width$jscomp$51$$,$height$jscomp$48_y$jscomp$108$$,$left$jscomp$21_x$jscomp$125$$,$top$jscomp$19$$,$ev$jscomp$14$$){$left$jscomp$21_x$jscomp$125$$=$ev$jscomp$14$$.x-$left$jscomp$21_x$jscomp$125$$-$th$jscomp$2_width$jscomp$51$$/2;$height$jscomp$48_y$jscomp$108$$=$height$jscomp$48_y$jscomp$108$$/2-($ev$jscomp$14$$.y-$top$jscomp$19$$);return Math.abs(Math.sqrt($left$jscomp$21_x$jscomp$125$$*$left$jscomp$21_x$jscomp$125$$+$height$jscomp$48_y$jscomp$108$$*
$height$jscomp$48_y$jscomp$108$$)-.375*$th$jscomp$2_width$jscomp$51$$)<=.15*$th$jscomp$2_width$jscomp$51$$?($th$jscomp$2_width$jscomp$51$$=Math.atan2($left$jscomp$21_x$jscomp$125$$,$height$jscomp$48_y$jscomp$108$$)+Math.PI/8,Math.floor((0>$th$jscomp$2_width$jscomp$51$$?$th$jscomp$2_width$jscomp$51$$+2*Math.PI:$th$jscomp$2_width$jscomp$51$$)/(Math.PI/4))):null}
function $A3a$vpl$Canvas$drawHexagonalNut$$($ctx$jscomp$64$$,$x0$jscomp$12$$,$y0$jscomp$12$$,$r$jscomp$17$$){$ctx$jscomp$64$$.beginPath();$ctx$jscomp$64$$.moveTo($x0$jscomp$12$$+$r$jscomp$17$$*Math.cos(.1),$y0$jscomp$12$$+$r$jscomp$17$$*Math.sin(.2));for(var $i$jscomp$83$$=1;6>$i$jscomp$83$$;$i$jscomp$83$$++)$ctx$jscomp$64$$.lineTo($x0$jscomp$12$$+$r$jscomp$17$$*Math.cos($i$jscomp$83$$*Math.PI/3+.2),$y0$jscomp$12$$+$r$jscomp$17$$*Math.sin($i$jscomp$83$$*Math.PI/3+.2));$ctx$jscomp$64$$.closePath();
$ctx$jscomp$64$$.arc($x0$jscomp$12$$,$y0$jscomp$12$$,.5*$r$jscomp$17$$,0,2*Math.PI,!0);$ctx$jscomp$64$$.fill()};function $A3a$vpl$BlockTemplate$findByName$$($name$jscomp$86$$){for(var $i$jscomp$84$$=0;$i$jscomp$84$$<$A3a$vpl$BlockTemplate$lib$$.length;$i$jscomp$84$$++)if($A3a$vpl$BlockTemplate$lib$$[$i$jscomp$84$$].name===$name$jscomp$86$$)return $A3a$vpl$BlockTemplate$lib$$[$i$jscomp$84$$];return null}
function $A3a$vpl$BlockTemplate$getBlocksByMode$$($mode$jscomp$16$$){var $a$jscomp$9$$=[];($A3a$vpl$BlockTemplate$lib$$||[]).forEach(function($b$jscomp$10$$){"h"!==$b$jscomp$10$$.type&&0<=$b$jscomp$10$$.$modes$.indexOf($mode$jscomp$16$$)&&$a$jscomp$9$$.push($b$jscomp$10$$)});return $a$jscomp$9$$};var $A3a$vpl$BlockTemplate$lib$$=[new $A3a$vpl$BlockTemplate$$({name:"!stop",type:"h",$genCode$:{aseba:function(){return{$statement$:"motor.left.target = 0\nmotor.right.target = 0\ncall sound.system(-1)\ncall leds.circle(32,32,32,32,32,32,32,32)\ntimer.period[0] = 100\nonevent timer0\ncall leds.circle(0,0,0,0,0,0,0,0)\n"}}}}),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$4$$=[{$sh$:"c",x:0,y:0,r:0},{$sh$:"t",x:0,y:.3,r:0},{$sh$:"t",x:0,y:-.3,r:Math.PI},{$sh$:"t",x:.3,y:0,r:Math.PI/2},
{$sh$:"t",x:-.3,y:0,r:-Math.PI/2}];return{name:"button 1",type:"e",$defaultParam$:function(){return[0]},$draw$:function($canvas$jscomp$28$$,$block$jscomp$27_i$jscomp$85$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$28$$);$block$jscomp$27_i$jscomp$85$$=$block$jscomp$27_i$jscomp$85$$.$param$[0];$canvas$jscomp$28$$.buttons($buttons$jscomp$4$$,[0==$block$jscomp$27_i$jscomp$85$$,1==$block$jscomp$27_i$jscomp$85$$,2==$block$jscomp$27_i$jscomp$85$$,3==$block$jscomp$27_i$jscomp$85$$,4==$block$jscomp$27_i$jscomp$85$$])},
$mousedown$:function($canvas$jscomp$29_i$jscomp$86$$,$block$jscomp$28$$,$width$jscomp$52$$,$height$jscomp$49$$,$left$jscomp$22$$,$top$jscomp$20$$,$ev$jscomp$15$$){$canvas$jscomp$29_i$jscomp$86$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$4$$,$width$jscomp$52$$,$height$jscomp$49$$,$left$jscomp$22$$,$top$jscomp$20$$,$ev$jscomp$15$$);null!==$canvas$jscomp$29_i$jscomp$86$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$28$$),$block$jscomp$28$$.$param$[0]=$canvas$jscomp$29_i$jscomp$86$$);
return $canvas$jscomp$29_i$jscomp$86$$},$genCode$:{aseba:function($block$jscomp$29$$){return{$sectionBegin$:"onevent buttons\n",$clause$:"button."+["center","forward","backward","right","left"][$block$jscomp$29$$.$param$[0]]+" != 0"}}}}}()),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$5$$=[{$sh$:"r",x:0,y:.4,r:0,$str$:"2"},{$sh$:"r",x:-.22,y:.35,r:-.45,$str$:"1"},{$sh$:"r",x:.22,y:.35,r:.45,$str$:"3"},{$sh$:"r",x:-.4,y:.22,r:-.8,$str$:"0"},{$sh$:"r",x:.4,y:.22,r:.8,$str$:"4"},{$sh$:"r",
x:-.2,y:-.4,$str$:"5"},{$sh$:"r",x:.2,y:-.4,$str$:"6"}];return{name:"horiz prox",$modes$:["b"],type:"e",$defaultParam$:function(){return[0,0,0,0,0,0,0]},$typicalParam$:function(){return[0,1,-1,1,-1,0,0]},$draw$:function($canvas$jscomp$30$$,$block$jscomp$30$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$30$$);$canvas$jscomp$30$$.buttons($buttons$jscomp$5$$,$block$jscomp$30$$.$param$,{$cross$:!0})},$mousedown$:function($canvas$jscomp$31_i$jscomp$87$$,$block$jscomp$31$$,$width$jscomp$53$$,$height$jscomp$50$$,
$left$jscomp$23$$,$top$jscomp$21$$,$ev$jscomp$16$$){$canvas$jscomp$31_i$jscomp$87$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$5$$,$width$jscomp$53$$,$height$jscomp$50$$,$left$jscomp$23$$,$top$jscomp$21$$,$ev$jscomp$16$$);null!==$canvas$jscomp$31_i$jscomp$87$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$31$$),$block$jscomp$31$$.$param$[$canvas$jscomp$31_i$jscomp$87$$]=($block$jscomp$31$$.$param$[$canvas$jscomp$31_i$jscomp$87$$]+2)%3-1);return $canvas$jscomp$31_i$jscomp$87$$},
$validate$:function($block$jscomp$32$$){for(var $i$jscomp$88$$=0;7>$i$jscomp$88$$;$i$jscomp$88$$++)if($block$jscomp$32$$.$param$[$i$jscomp$88$$])return null;return new $A3a$vpl$Error$$("No proximity sensor specified",!0)},$changeMode$:function($block$jscomp$33$$,$mode$jscomp$17_newBlock$jscomp$1$$){switch($mode$jscomp$17_newBlock$jscomp$1$$){case "a":return $mode$jscomp$17_newBlock$jscomp$1$$=new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("horiz prox adv"),null,null),$mode$jscomp$17_newBlock$jscomp$1$$.$param$=
$block$jscomp$33$$.$param$.concat($mode$jscomp$17_newBlock$jscomp$1$$.$param$.slice(7)),$mode$jscomp$17_newBlock$jscomp$1$$;default:return $block$jscomp$33$$}},$genCode$:{aseba:function($block$jscomp$34$$){for(var $cond$$="",$i$jscomp$89$$=0;7>$i$jscomp$89$$;$i$jscomp$89$$++)$block$jscomp$34$$.$param$[$i$jscomp$89$$]&&($cond$$+=(0===$cond$$.length?"":" and ")+"prox.horizontal["+$buttons$jscomp$5$$[$i$jscomp$89$$].$str$+"] "+(0<$block$jscomp$34$$.$param$[$i$jscomp$89$$]?">= 2":"<= 1")+"000");if(""===
$cond$$){for($i$jscomp$89$$=0;7>$i$jscomp$89$$;$i$jscomp$89$$++)$cond$$+=" or prox.horizontal["+$buttons$jscomp$5$$[$i$jscomp$89$$].$str$+"] >= 2000";$cond$$=$cond$$.slice(4)}return{$sectionBegin$:"onevent prox\n",$clause$:$cond$$}}}}}()),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$6$$=[{$sh$:"r",x:0,y:.4,r:0,$str$:"2"},{$sh$:"r",x:-.22,y:.35,r:-.45,$str$:"1"},{$sh$:"r",x:.22,y:.35,r:.45,$str$:"3"},{$sh$:"r",x:-.4,y:.22,r:-.8,$str$:"0"},{$sh$:"r",x:.4,y:.22,r:.8,$str$:"4"},{$sh$:"r",
x:-.2,y:-.4,$str$:"5"},{$sh$:"r",x:.2,y:-.4,$str$:"6"}];return{name:"horiz prox adv",$modes$:["c"],type:"e",$defaultParam$:function(){return[0,0,0,0,0,0,0,.4,.1]},$typicalParam$:function(){return[0,1,-1,1,-1,0,0,.4,.1]},$draw$:function($canvas$jscomp$32$$,$block$jscomp$35$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$32$$);$canvas$jscomp$32$$.buttons($buttons$jscomp$6$$,$block$jscomp$35$$.$param$,{$cross$:!0});$JSCompiler_StaticMethods_slider$$($canvas$jscomp$32$$,$block$jscomp$35$$.$param$[7],
.02,!1,"red",2);$JSCompiler_StaticMethods_slider$$($canvas$jscomp$32$$,$block$jscomp$35$$.$param$[8],-.2,!1,"black",1)},$mousedown$:function($canvas$jscomp$33_i$jscomp$90$$,$block$jscomp$36$$,$width$jscomp$54$$,$height$jscomp$51$$,$left$jscomp$24$$,$top$jscomp$22$$,$ev$jscomp$17$$){$canvas$jscomp$33_i$jscomp$90$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$6$$,$width$jscomp$54$$,$height$jscomp$51$$,$left$jscomp$24$$,$top$jscomp$22$$,$ev$jscomp$17$$);return null!==$canvas$jscomp$33_i$jscomp$90$$?
($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$36$$),$block$jscomp$36$$.$param$[$canvas$jscomp$33_i$jscomp$90$$]=($block$jscomp$36$$.$param$[$canvas$jscomp$33_i$jscomp$90$$]+2)%3-1,$canvas$jscomp$33_i$jscomp$90$$):$JSCompiler_StaticMethods_sliderCheck$$(.02,!1,$width$jscomp$54$$,$height$jscomp$51$$,$left$jscomp$24$$,$top$jscomp$22$$,$ev$jscomp$17$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$36$$),7):$JSCompiler_StaticMethods_sliderCheck$$(-.2,!1,$width$jscomp$54$$,$height$jscomp$51$$,
$left$jscomp$24$$,$top$jscomp$22$$,$ev$jscomp$17$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$36$$),8):null},$mousedrag$:function($canvas$jscomp$34$$,$block$jscomp$37$$,$dragIndex$jscomp$2$$,$width$jscomp$55$$,$height$jscomp$52$$,$left$jscomp$25$$,$top$jscomp$23$$,$ev$jscomp$18$$){7<=$dragIndex$jscomp$2$$&&($block$jscomp$37$$.$param$[$dragIndex$jscomp$2$$]=Math.max(0,Math.min(1,$JSCompiler_StaticMethods_sliderDrag$$(!1,$width$jscomp$55$$,$height$jscomp$52$$,$left$jscomp$25$$,$top$jscomp$23$$,
$ev$jscomp$18$$))))},$validate$:function($block$jscomp$38$$){for(var $i$jscomp$91$$=0;7>$i$jscomp$91$$;$i$jscomp$91$$++)if($block$jscomp$38$$.$param$[$i$jscomp$91$$])return null;return new $A3a$vpl$Error$$("No sensor specified",!0)},$changeMode$:function($block$jscomp$39$$,$defParam$jscomp$1_mode$jscomp$18_newBlock$jscomp$2$$){switch($defParam$jscomp$1_mode$jscomp$18_newBlock$jscomp$2$$){case "b":if($defParam$jscomp$1_mode$jscomp$18_newBlock$jscomp$2$$=$block$jscomp$39$$.$blockTemplate$.$defaultParam$(),
$block$jscomp$39$$.$param$[7]===$defParam$jscomp$1_mode$jscomp$18_newBlock$jscomp$2$$[7]&&$block$jscomp$39$$.$param$[8]===$defParam$jscomp$1_mode$jscomp$18_newBlock$jscomp$2$$[8])return $defParam$jscomp$1_mode$jscomp$18_newBlock$jscomp$2$$=new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("horiz prox"),null,null),$defParam$jscomp$1_mode$jscomp$18_newBlock$jscomp$2$$.$param$=$block$jscomp$39$$.$param$.slice(0,7),$defParam$jscomp$1_mode$jscomp$18_newBlock$jscomp$2$$;default:return $block$jscomp$39$$}},
$genCode$:{aseba:function($block$jscomp$40$$){for(var $cond$jscomp$1$$="",$i$jscomp$92$$=0;7>$i$jscomp$92$$;$i$jscomp$92$$++)$block$jscomp$40$$.$param$[$i$jscomp$92$$]&&($cond$jscomp$1$$+=(0===$cond$jscomp$1$$.length?"":" and ")+"prox.horizontal["+$buttons$jscomp$6$$[$i$jscomp$92$$].$str$+"] "+(0<$block$jscomp$40$$.$param$[$i$jscomp$92$$]?">= "+Math.round(7+33*$block$jscomp$40$$.$param$[7]):"<= "+Math.round(7+33*$block$jscomp$40$$.$param$[8]))+"00");if(""===$cond$jscomp$1$$){for($i$jscomp$92$$=0;7>
$i$jscomp$92$$;$i$jscomp$92$$++)$cond$jscomp$1$$+=" or prox.horizontal["+$buttons$jscomp$6$$[$i$jscomp$92$$].$str$+"] >= 2000";$cond$jscomp$1$$=$cond$jscomp$1$$.slice(5)}return{$sectionBegin$:"onevent prox\n",$clause$:$cond$jscomp$1$$}}}}}()),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$7$$=[{$sh$:"r",x:0,y:.4,r:0,$str$:"2"},{$sh$:"r",x:-.22,y:.35,r:-.45,$str$:"1"},{$sh$:"r",x:.22,y:.35,r:.45,$str$:"3"},{$sh$:"r",x:-.4,y:.22,r:-.8,$str$:"0"},{$sh$:"r",x:.4,y:.22,r:.8,$str$:"4"},{$sh$:"r",
x:-.2,y:-.4,$str$:"5"},{$sh$:"r",x:.2,y:-.4,$str$:"6"}];return{name:"horiz prox 1",$modes$:["a"],type:"e",$defaultParam$:function(){return[0,0,0,0,0,0,0,.25]},$typicalParam$:function(){return[0,1,-1,1,-1,0,0,.25]},$draw$:function($canvas$jscomp$35$$,$block$jscomp$41$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$35$$);$canvas$jscomp$35$$.buttons($buttons$jscomp$7$$,$block$jscomp$41$$.$param$,{$cross$:!0});$JSCompiler_StaticMethods_slider$$($canvas$jscomp$35$$,$block$jscomp$41$$.$param$[7],
-.1,!1,"black",1)},$mousedown$:function($canvas$jscomp$36_i$jscomp$93$$,$block$jscomp$42$$,$width$jscomp$56$$,$height$jscomp$53$$,$left$jscomp$26$$,$top$jscomp$24$$,$ev$jscomp$19$$){$canvas$jscomp$36_i$jscomp$93$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$7$$,$width$jscomp$56$$,$height$jscomp$53$$,$left$jscomp$26$$,$top$jscomp$24$$,$ev$jscomp$19$$);return null!==$canvas$jscomp$36_i$jscomp$93$$?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$42$$),$block$jscomp$42$$.$param$[$canvas$jscomp$36_i$jscomp$93$$]=
($block$jscomp$42$$.$param$[$canvas$jscomp$36_i$jscomp$93$$]+2)%3-1,$canvas$jscomp$36_i$jscomp$93$$):$JSCompiler_StaticMethods_sliderCheck$$(-.1,!1,$width$jscomp$56$$,$height$jscomp$53$$,$left$jscomp$26$$,$top$jscomp$24$$,$ev$jscomp$19$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$42$$),7):null},$mousedrag$:function($canvas$jscomp$37$$,$block$jscomp$43$$,$dragIndex$jscomp$3$$,$width$jscomp$57$$,$height$jscomp$54$$,$left$jscomp$27$$,$top$jscomp$25$$,$ev$jscomp$20$$){7<=$dragIndex$jscomp$3$$&&
($block$jscomp$43$$.$param$[$dragIndex$jscomp$3$$]=Math.max(.25,Math.min(.75,Math.round(4*$JSCompiler_StaticMethods_sliderDrag$$(!1,$width$jscomp$57$$,$height$jscomp$54$$,$left$jscomp$27$$,$top$jscomp$25$$,$ev$jscomp$20$$))/4)))},$validate$:function($block$jscomp$44$$){for(var $i$jscomp$94$$=0;7>$i$jscomp$94$$;$i$jscomp$94$$++)if($block$jscomp$44$$.$param$[$i$jscomp$94$$])return null;return new $A3a$vpl$Error$$("No sensor specified",!0)},$changeMode$:function($block$jscomp$45$$,$defParam$jscomp$2_mode$jscomp$19_newBlock$jscomp$3$$){switch($defParam$jscomp$2_mode$jscomp$19_newBlock$jscomp$3$$){case "b":if($defParam$jscomp$2_mode$jscomp$19_newBlock$jscomp$3$$=
$block$jscomp$45$$.$blockTemplate$.$defaultParam$(),$block$jscomp$45$$.$param$[7]===$defParam$jscomp$2_mode$jscomp$19_newBlock$jscomp$3$$[7])return $defParam$jscomp$2_mode$jscomp$19_newBlock$jscomp$3$$=new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("horiz prox"),null,null),$defParam$jscomp$2_mode$jscomp$19_newBlock$jscomp$3$$.$param$=$block$jscomp$45$$.$param$.slice(0,7),$defParam$jscomp$2_mode$jscomp$19_newBlock$jscomp$3$$;default:return $block$jscomp$45$$}},$genCode$:{aseba:function($block$jscomp$46$$){for(var $cond$jscomp$2$$=
"",$i$jscomp$95$$=0;7>$i$jscomp$95$$;$i$jscomp$95$$++)$block$jscomp$46$$.$param$[$i$jscomp$95$$]&&($cond$jscomp$2$$+=(0===$cond$jscomp$2$$.length?"":" and ")+"prox.horizontal["+$buttons$jscomp$7$$[$i$jscomp$95$$].$str$+"] "+(0<$block$jscomp$46$$.$param$[$i$jscomp$95$$]?">=":"<")+" "+Math.round(4E3*$block$jscomp$46$$.$param$[7]));if(""===$cond$jscomp$2$$){for($i$jscomp$95$$=0;7>$i$jscomp$95$$;$i$jscomp$95$$++)$cond$jscomp$2$$+=" or prox.horizontal["+$buttons$jscomp$7$$[$i$jscomp$95$$].$str$+"] >= 2000";
$cond$jscomp$2$$=$cond$jscomp$2$$.slice(5)}return{$sectionBegin$:"onevent prox\n",$clause$:$cond$jscomp$2$$}}}}}()),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$8$$=[{$sh$:"r",x:-.15,y:.35,$str$:"0"},{$sh$:"r",x:.15,y:.35,$str$:"1"}];return{name:"ground",$modes$:["b"],type:"e",$defaultParam$:function(){return[0,0]},$typicalParam$:function(){return[1,-1]},$draw$:function($canvas$jscomp$38$$,$block$jscomp$47$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$38$$,{$withWheels$:!0});
$canvas$jscomp$38$$.buttons($buttons$jscomp$8$$,$block$jscomp$47$$.$param$,{$cross$:!0})},$mousedown$:function($canvas$jscomp$39_i$jscomp$96$$,$block$jscomp$48$$,$width$jscomp$58$$,$height$jscomp$55$$,$left$jscomp$28$$,$top$jscomp$26$$,$ev$jscomp$21$$){$canvas$jscomp$39_i$jscomp$96$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$8$$,$width$jscomp$58$$,$height$jscomp$55$$,$left$jscomp$28$$,$top$jscomp$26$$,$ev$jscomp$21$$);null!==$canvas$jscomp$39_i$jscomp$96$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$48$$),
$block$jscomp$48$$.$param$[$canvas$jscomp$39_i$jscomp$96$$]=($block$jscomp$48$$.$param$[$canvas$jscomp$39_i$jscomp$96$$]+2)%3-1);return $canvas$jscomp$39_i$jscomp$96$$},$validate$:function($block$jscomp$49$$){return $block$jscomp$49$$.$param$[0]||$block$jscomp$49$$.$param$[1]?null:new $A3a$vpl$Error$$("No ground sensor specified",!0)},$changeMode$:function($block$jscomp$50$$,$mode$jscomp$20_newBlock$jscomp$4$$){switch($mode$jscomp$20_newBlock$jscomp$4$$){case "a":return $mode$jscomp$20_newBlock$jscomp$4$$=
new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("ground adv"),null,null),$mode$jscomp$20_newBlock$jscomp$4$$.$param$=$block$jscomp$50$$.$param$.concat($mode$jscomp$20_newBlock$jscomp$4$$.$param$.slice(2)),$mode$jscomp$20_newBlock$jscomp$4$$;default:return $block$jscomp$50$$}},$genCode$:{aseba:function($block$jscomp$51$$){for(var $cond$jscomp$3$$="",$i$jscomp$97$$=0;2>$i$jscomp$97$$;$i$jscomp$97$$++)$block$jscomp$51$$.$param$[$i$jscomp$97$$]&&($cond$jscomp$3$$+=(0===$cond$jscomp$3$$.length?
"":" and ")+"prox.ground.delta["+$buttons$jscomp$8$$[$i$jscomp$97$$].$str$+"] "+(0<$block$jscomp$51$$.$param$[$i$jscomp$97$$]?">= 450":"<= 400"));if(""===$cond$jscomp$3$$){for($i$jscomp$97$$=0;2>$i$jscomp$97$$;$i$jscomp$97$$++)$cond$jscomp$3$$+=" or prox.ground.delta["+$buttons$jscomp$8$$[$i$jscomp$97$$].$str$+"] >= 450";$cond$jscomp$3$$=$cond$jscomp$3$$.slice(4)}return{$sectionBegin$:"onevent prox\n",$clause$:$cond$jscomp$3$$}}}}}()),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$9$$=
[{$sh$:"r",x:-.15,y:.35,$str$:"0"},{$sh$:"r",x:.15,y:.35,$str$:"1"}];return{name:"ground adv",$modes$:["c"],type:"e",$defaultParam$:function(){return[0,0,.6,.4]},$typicalParam$:function(){return[1,-1,.6,.4]},$draw$:function($canvas$jscomp$40$$,$block$jscomp$52$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$40$$,{$withWheels$:!0});$canvas$jscomp$40$$.buttons($buttons$jscomp$9$$,$block$jscomp$52$$.$param$,{$cross$:!0});$JSCompiler_StaticMethods_slider$$($canvas$jscomp$40$$,$block$jscomp$52$$.$param$[2],
.02,!1,"red",2);$JSCompiler_StaticMethods_slider$$($canvas$jscomp$40$$,$block$jscomp$52$$.$param$[3],-.2,!1,"black",1)},$mousedown$:function($canvas$jscomp$41_i$jscomp$98$$,$block$jscomp$53$$,$width$jscomp$59$$,$height$jscomp$56$$,$left$jscomp$29$$,$top$jscomp$27$$,$ev$jscomp$22$$){$canvas$jscomp$41_i$jscomp$98$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$9$$,$width$jscomp$59$$,$height$jscomp$56$$,$left$jscomp$29$$,$top$jscomp$27$$,$ev$jscomp$22$$);return null!==$canvas$jscomp$41_i$jscomp$98$$?
($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$53$$),$block$jscomp$53$$.$param$[$canvas$jscomp$41_i$jscomp$98$$]=($block$jscomp$53$$.$param$[$canvas$jscomp$41_i$jscomp$98$$]+2)%3-1,$canvas$jscomp$41_i$jscomp$98$$):$JSCompiler_StaticMethods_sliderCheck$$(.02,!1,$width$jscomp$59$$,$height$jscomp$56$$,$left$jscomp$29$$,$top$jscomp$27$$,$ev$jscomp$22$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$53$$),2):$JSCompiler_StaticMethods_sliderCheck$$(-.2,!1,$width$jscomp$59$$,$height$jscomp$56$$,
$left$jscomp$29$$,$top$jscomp$27$$,$ev$jscomp$22$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$53$$),3):null},$mousedrag$:function($canvas$jscomp$42$$,$block$jscomp$54$$,$dragIndex$jscomp$4$$,$width$jscomp$60$$,$height$jscomp$57$$,$left$jscomp$30$$,$top$jscomp$28$$,$ev$jscomp$23$$){2<=$dragIndex$jscomp$4$$&&($block$jscomp$54$$.$param$[$dragIndex$jscomp$4$$]=Math.max(0,Math.min(1,$JSCompiler_StaticMethods_sliderDrag$$(!1,$width$jscomp$60$$,$height$jscomp$57$$,$left$jscomp$30$$,$top$jscomp$28$$,
$ev$jscomp$23$$))))},$validate$:function($block$jscomp$55$$){return $block$jscomp$55$$.$param$[0]||$block$jscomp$55$$.$param$[1]?null:new $A3a$vpl$Error$$("No ground sensor specified",!0)},$changeMode$:function($block$jscomp$56$$,$defParam$jscomp$3_mode$jscomp$21_newBlock$jscomp$5$$){switch($defParam$jscomp$3_mode$jscomp$21_newBlock$jscomp$5$$){case "b":if($defParam$jscomp$3_mode$jscomp$21_newBlock$jscomp$5$$=$block$jscomp$56$$.$blockTemplate$.$defaultParam$(),$block$jscomp$56$$.$param$[2]===$defParam$jscomp$3_mode$jscomp$21_newBlock$jscomp$5$$[2]&&
$block$jscomp$56$$.$param$[3]===$defParam$jscomp$3_mode$jscomp$21_newBlock$jscomp$5$$[3])return $defParam$jscomp$3_mode$jscomp$21_newBlock$jscomp$5$$=new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("ground"),null,null),$defParam$jscomp$3_mode$jscomp$21_newBlock$jscomp$5$$.$param$=$block$jscomp$56$$.$param$.slice(0,2),$defParam$jscomp$3_mode$jscomp$21_newBlock$jscomp$5$$;default:return $block$jscomp$56$$}},$genCode$:{aseba:function($block$jscomp$57$$){for(var $cond$jscomp$4$$="",$i$jscomp$99$$=
0;2>$i$jscomp$99$$;$i$jscomp$99$$++)$block$jscomp$57$$.$param$[$i$jscomp$99$$]&&($cond$jscomp$4$$+=(0===$cond$jscomp$4$$.length?"":" and ")+"prox.ground.delta["+$buttons$jscomp$9$$[$i$jscomp$99$$].$str$+"] "+(0<$block$jscomp$57$$.$param$[$i$jscomp$99$$]?">= "+25*Math.round(40*$block$jscomp$57$$.$param$[2]):"<= "+25*Math.round(40*$block$jscomp$57$$.$param$[3])));if(""===$cond$jscomp$4$$){for($i$jscomp$99$$=0;2>$i$jscomp$99$$;$i$jscomp$99$$++)$cond$jscomp$4$$+=" or prox.ground.delta["+$buttons$jscomp$9$$[$i$jscomp$99$$].$str$+
"] >= 450";$cond$jscomp$4$$=$cond$jscomp$4$$.slice(4)}return{$sectionBegin$:"onevent prox\n",$clause$:$cond$jscomp$4$$}}}}}()),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$10$$=[{$sh$:"r",x:-.15,y:.35,$str$:"0"},{$sh$:"r",x:.15,y:.35,$str$:"1"}];return{name:"ground 1",$modes$:["a"],type:"e",$defaultParam$:function(){return[0,0,.5]},$typicalParam$:function(){return[1,-1,.5]},$draw$:function($canvas$jscomp$43$$,$block$jscomp$58$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$43$$,
{$withWheels$:!0});$canvas$jscomp$43$$.buttons($buttons$jscomp$10$$,$block$jscomp$58$$.$param$,{$cross$:!0});$JSCompiler_StaticMethods_slider$$($canvas$jscomp$43$$,$block$jscomp$58$$.$param$[2],0,!1,"black",1)},$mousedown$:function($canvas$jscomp$44_i$jscomp$100$$,$block$jscomp$59$$,$width$jscomp$61$$,$height$jscomp$58$$,$left$jscomp$31$$,$top$jscomp$29$$,$ev$jscomp$24$$){$canvas$jscomp$44_i$jscomp$100$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$10$$,$width$jscomp$61$$,$height$jscomp$58$$,
$left$jscomp$31$$,$top$jscomp$29$$,$ev$jscomp$24$$);return null!==$canvas$jscomp$44_i$jscomp$100$$?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$59$$),$block$jscomp$59$$.$param$[$canvas$jscomp$44_i$jscomp$100$$]=($block$jscomp$59$$.$param$[$canvas$jscomp$44_i$jscomp$100$$]+2)%3-1,$canvas$jscomp$44_i$jscomp$100$$):$JSCompiler_StaticMethods_sliderCheck$$(0,!1,$width$jscomp$61$$,$height$jscomp$58$$,$left$jscomp$31$$,$top$jscomp$29$$,$ev$jscomp$24$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$59$$),
2):null},$mousedrag$:function($canvas$jscomp$45$$,$block$jscomp$60$$,$dragIndex$jscomp$5$$,$width$jscomp$62$$,$height$jscomp$59$$,$left$jscomp$32$$,$top$jscomp$30$$,$ev$jscomp$25$$){2<=$dragIndex$jscomp$5$$&&($block$jscomp$60$$.$param$[$dragIndex$jscomp$5$$]=Math.max(.25,Math.min(.75,Math.round(4*$JSCompiler_StaticMethods_sliderDrag$$(!1,$width$jscomp$62$$,$height$jscomp$59$$,$left$jscomp$32$$,$top$jscomp$30$$,$ev$jscomp$25$$))/4)))},$validate$:function($block$jscomp$61$$){return $block$jscomp$61$$.$param$[0]||
$block$jscomp$61$$.$param$[1]?null:new $A3a$vpl$Error$$("No ground sensor specified",!0)},$changeMode$:function($block$jscomp$62$$,$defParam$jscomp$4_mode$jscomp$22_newBlock$jscomp$6$$){switch($defParam$jscomp$4_mode$jscomp$22_newBlock$jscomp$6$$){case "b":if($defParam$jscomp$4_mode$jscomp$22_newBlock$jscomp$6$$=$block$jscomp$62$$.$blockTemplate$.$defaultParam$(),$block$jscomp$62$$.$param$[2]===$defParam$jscomp$4_mode$jscomp$22_newBlock$jscomp$6$$[2])return $defParam$jscomp$4_mode$jscomp$22_newBlock$jscomp$6$$=
new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("ground"),null,null),$defParam$jscomp$4_mode$jscomp$22_newBlock$jscomp$6$$.$param$=$block$jscomp$62$$.$param$.slice(0,2),$defParam$jscomp$4_mode$jscomp$22_newBlock$jscomp$6$$;default:return $block$jscomp$62$$}},$genCode$:{aseba:function($block$jscomp$63$$){for(var $cond$jscomp$5$$="",$i$jscomp$101$$=0;2>$i$jscomp$101$$;$i$jscomp$101$$++)$block$jscomp$63$$.$param$[$i$jscomp$101$$]&&($cond$jscomp$5$$+=(0===$cond$jscomp$5$$.length?"":" and ")+
"prox.ground.delta["+$buttons$jscomp$10$$[$i$jscomp$101$$].$str$+"] "+(0<$block$jscomp$63$$.$param$[$i$jscomp$101$$]?">= ":"< ")+Math.round(1E3*$block$jscomp$63$$.$param$[2]));if(""===$cond$jscomp$5$$){for($i$jscomp$101$$=0;2>$i$jscomp$101$$;$i$jscomp$101$$++)$cond$jscomp$5$$+=" or prox.ground.delta["+$buttons$jscomp$10$$[$i$jscomp$101$$].$str$+"] >= 450";$cond$jscomp$5$$=$cond$jscomp$5$$.slice(4)}return{$sectionBegin$:"onevent prox\n",$clause$:$cond$jscomp$5$$}}}}}()),new $A3a$vpl$BlockTemplate$$({name:"tap",
$modes$:["b","a"],type:"e",$draw$:function($canvas$jscomp$46$$){$canvas$jscomp$46$$.$ctx$.translate(.05*$canvas$jscomp$46$$.$dims$.$blockSize$,0);$JSCompiler_StaticMethods_robotSide$$($canvas$jscomp$46$$);$JSCompiler_StaticMethods_tap$$($canvas$jscomp$46$$)},$changeMode$:function($block$jscomp$65$$,$mode$jscomp$23$$){switch($mode$jscomp$23$$){case "a":return new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("accelerometer"),null,null);default:return $block$jscomp$65$$}},$genCode$:{aseba:function(){return{$initVarDecl$:["var tapped\n"],
$initCodeExec$:["tapped = 0\n"],$sectionBegin$:"onevent tap\n",$sectionPreamble$:"tapped = 1\n",$clause$:"tapped != 0"}}}}),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$11$$=[{$sh$:"c",x:-.33,y:-.3,r:0},{$sh$:"c",x:0,y:-.3,r:0},{$sh$:"c",x:.33,y:-.3,r:0}];return{name:"accelerometer",$modes$:["c"],type:"e",$defaultParam$:function(){return[0,0]},$draw$:function($canvas$jscomp$47$$,$a$jscomp$10_block$jscomp$67$$){var $dir$$=$a$jscomp$10_block$jscomp$67$$.$param$[0];$a$jscomp$10_block$jscomp$67$$=
$a$jscomp$10_block$jscomp$67$$.$param$[1];0===$dir$$?($canvas$jscomp$47$$.$ctx$.save(),$canvas$jscomp$47$$.$ctx$.translate(.08*$canvas$jscomp$47$$.$dims$.$blockSize$,-.2*$canvas$jscomp$47$$.$dims$.$blockSize$),$JSCompiler_StaticMethods_robotSide$$($canvas$jscomp$47$$),$JSCompiler_StaticMethods_tap$$($canvas$jscomp$47$$),$canvas$jscomp$47$$.$ctx$.restore()):$JSCompiler_StaticMethods_robotAccelerometer$$($canvas$jscomp$47$$,2===$dir$$,$a$jscomp$10_block$jscomp$67$$);$canvas$jscomp$47$$.buttons($buttons$jscomp$11$$,
[0===$dir$$,1===$dir$$,2===$dir$$])},$mousedown$:function($canvas$jscomp$48_i$jscomp$102$$,$block$jscomp$68$$,$width$jscomp$63$$,$height$jscomp$60$$,$left$jscomp$33$$,$top$jscomp$31$$,$ev$jscomp$26$$){if(0!==$block$jscomp$68$$.$param$[0]&&$JSCompiler_StaticMethods_accelerometerCheck$$($width$jscomp$63$$,$left$jscomp$33$$,$top$jscomp$31$$,$ev$jscomp$26$$))return $JSCompiler_StaticMethods_prepareChange$$($block$jscomp$68$$),1;$canvas$jscomp$48_i$jscomp$102$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$11$$,
$width$jscomp$63$$,$height$jscomp$60$$,$left$jscomp$33$$,$top$jscomp$31$$,$ev$jscomp$26$$);return null!==$canvas$jscomp$48_i$jscomp$102$$?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$68$$),$block$jscomp$68$$.$param$[0]=$canvas$jscomp$48_i$jscomp$102$$,2):null},$mousedrag$:function($canvas$jscomp$49$$,$block$jscomp$69$$,$dragIndex$jscomp$6$$,$width$jscomp$64$$,$height$jscomp$61$$,$left$jscomp$34$$,$top$jscomp$32$$,$ev$jscomp$27$$){1===$dragIndex$jscomp$6$$&&($block$jscomp$69$$.$param$[1]=
$JSCompiler_StaticMethods_accelerometerDrag$$($width$jscomp$64$$,$left$jscomp$34$$,$top$jscomp$32$$,$ev$jscomp$27$$))},$changeMode$:function($block$jscomp$70$$,$mode$jscomp$24$$){switch($mode$jscomp$24$$){case "b":if(0===$block$jscomp$70$$.$param$[0])return new $A3a$vpl$Block$$($A3a$vpl$BlockTemplate$findByName$$("tap"),null,null);default:return $block$jscomp$70$$}},$genCode$:{aseba:function($a$jscomp$11_block$jscomp$71$$){var $dir$jscomp$1$$=$a$jscomp$11_block$jscomp$71$$.$param$[0];if(0===$dir$jscomp$1$$)return{$initVarDecl$:["var tapped\n"],
$initCodeExec$:["tapped = 0\n"],$sectionBegin$:"onevent tap\n",$sectionPreamble$:"tapped = 1\n",$clause$:"tapped != 0"};$a$jscomp$11_block$jscomp$71$$=(2===$dir$jscomp$1$$?-1:1)*$a$jscomp$11_block$jscomp$71$$.$param$[1];var $name$jscomp$88$$=1===$dir$jscomp$1$$?"roll":"pitch";return{$initVarDecl$:["# "+$name$jscomp$88$$+" angle from accelerometer\nvar "+$name$jscomp$88$$+"Angle\n"],$sectionBegin$:"onevent acc\n",$clauseInit$:"call math.atan2("+$name$jscomp$88$$+"Angle, acc["+(2===$dir$jscomp$1$$?
"1":"0")+"], acc[2])\n",$clause$:-6>=$a$jscomp$11_block$jscomp$71$$?$name$jscomp$88$$+"Angle < "+Math.round(2730.67*$a$jscomp$11_block$jscomp$71$$+1365.33):6<=$a$jscomp$11_block$jscomp$71$$?$name$jscomp$88$$+"Angle >= "+Math.round(2730.67*$a$jscomp$11_block$jscomp$71$$-1365.33):$name$jscomp$88$$+"Angle >= "+Math.round(2730.67*$a$jscomp$11_block$jscomp$71$$-1365.33)+" and "+$name$jscomp$88$$+"Angle < "+Math.round(2730.67*$a$jscomp$11_block$jscomp$71$$+1365.33)}}}}}()),new $A3a$vpl$BlockTemplate$$({name:"roll",
$modes$:["a"],type:"e",$defaultParam$:function(){return[0]},$typicalParam$:function(){return[2]},$draw$:function($canvas$jscomp$50$$,$block$jscomp$72$$){$JSCompiler_StaticMethods_robotAccelerometer$$($canvas$jscomp$50$$,!1,$block$jscomp$72$$.$param$[0])},$mousedown$:function($canvas$jscomp$51$$,$block$jscomp$73$$,$width$jscomp$65$$,$height$jscomp$62$$,$left$jscomp$35$$,$top$jscomp$33$$,$ev$jscomp$28$$){return $JSCompiler_StaticMethods_accelerometerCheck$$($width$jscomp$65$$,$left$jscomp$35$$,$top$jscomp$33$$,
$ev$jscomp$28$$,!0)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$73$$),1):null},$mousedrag$:function($canvas$jscomp$52$$,$block$jscomp$74$$,$dragIndex$jscomp$7$$,$width$jscomp$66$$,$height$jscomp$63$$,$left$jscomp$36$$,$top$jscomp$34$$,$ev$jscomp$29$$){$block$jscomp$74$$.$param$[0]=$JSCompiler_StaticMethods_accelerometerDrag$$($width$jscomp$66$$,$left$jscomp$36$$,$top$jscomp$34$$,$ev$jscomp$29$$,!0)},$genCode$:{aseba:function($a$jscomp$13_block$jscomp$75$$){$a$jscomp$13_block$jscomp$75$$=
$a$jscomp$13_block$jscomp$75$$.$param$[0];return{$initVarDecl$:["# roll angle from accelerometer\nvar rollAngle\n"],$sectionBegin$:"onevent acc\n",$clauseInit$:"call math.atan2(rollAngle, -acc[0], acc[2])\n",$clause$:-12===$a$jscomp$13_block$jscomp$75$$?"rollAngle >= 31403 or rollAngle < "+Math.round(2730.67*$a$jscomp$13_block$jscomp$75$$+1365.33):"rollAngle >= "+Math.round(2730.67*$a$jscomp$13_block$jscomp$75$$-1365.33)+" and rollAngle < "+Math.round(2730.67*$a$jscomp$13_block$jscomp$75$$+1365.33)}}}}),
new $A3a$vpl$BlockTemplate$$({name:"pitch",$modes$:["a"],type:"e",$defaultParam$:function(){return[0]},$typicalParam$:function(){return[2]},$draw$:function($canvas$jscomp$53$$,$block$jscomp$76$$){$JSCompiler_StaticMethods_robotAccelerometer$$($canvas$jscomp$53$$,!0,$block$jscomp$76$$.$param$[0])},$mousedown$:function($canvas$jscomp$54$$,$block$jscomp$77$$,$width$jscomp$67$$,$height$jscomp$64$$,$left$jscomp$37$$,$top$jscomp$35$$,$ev$jscomp$30$$){return $JSCompiler_StaticMethods_accelerometerCheck$$($width$jscomp$67$$,
$left$jscomp$37$$,$top$jscomp$35$$,$ev$jscomp$30$$,!0)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$77$$),1):null},$mousedrag$:function($canvas$jscomp$55$$,$block$jscomp$78$$,$dragIndex$jscomp$8$$,$width$jscomp$68$$,$height$jscomp$65$$,$left$jscomp$38$$,$top$jscomp$36$$,$ev$jscomp$31$$){$block$jscomp$78$$.$param$[0]=$JSCompiler_StaticMethods_accelerometerDrag$$($width$jscomp$68$$,$left$jscomp$38$$,$top$jscomp$36$$,$ev$jscomp$31$$,!0)},$genCode$:{aseba:function($a$jscomp$15_block$jscomp$79$$){$a$jscomp$15_block$jscomp$79$$=
-$a$jscomp$15_block$jscomp$79$$.$param$[0];return{$initVarDecl$:["# pitch angle from accelerometer\nvar pitchAngle\n"],$sectionBegin$:"onevent acc\n",$clauseInit$:"call math.atan2(pitchAngle, acc[1], acc[2])\n",$clause$:-12===$a$jscomp$15_block$jscomp$79$$?"pitchAngle >= 31403 or pitchAngle < "+Math.round(2730.67*$a$jscomp$15_block$jscomp$79$$+1365.33):"pitchAngle >= "+Math.round(2730.67*$a$jscomp$15_block$jscomp$79$$-1365.33)+" and pitchAngle < "+Math.round(2730.67*$a$jscomp$15_block$jscomp$79$$+
1365.33)}}}}),new $A3a$vpl$BlockTemplate$$({name:"yaw",$modes$:["a"],type:"e",$defaultParam$:function(){return[0]},$typicalParam$:function(){return[2]},$draw$:function($canvas$jscomp$56$$,$block$jscomp$80_phi$jscomp$inline_139$$){var $ctx$jscomp$inline_137$$=$canvas$jscomp$56$$.$ctx$,$dims$jscomp$inline_138$$=$canvas$jscomp$56$$.$dims$;$block$jscomp$80_phi$jscomp$inline_139$$=$block$jscomp$80_phi$jscomp$inline_139$$.$param$[0]*Math.PI/12;$ctx$jscomp$inline_137$$.save();$ctx$jscomp$inline_137$$.translate(.5*
$dims$jscomp$inline_138$$.$blockSize$,.5*$dims$jscomp$inline_138$$.$blockSize$);$ctx$jscomp$inline_137$$.rotate($block$jscomp$80_phi$jscomp$inline_139$$);$JSCompiler_StaticMethods_accelerometerHandle$$($canvas$jscomp$56$$);$ctx$jscomp$inline_137$$.translate(-$dims$jscomp$inline_138$$.$blockSize$/2,-$dims$jscomp$inline_138$$.$blockSize$/2);$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$56$$,{$withWheels$:!0,scale:.45});$ctx$jscomp$inline_137$$.restore()},$mousedown$:function($canvas$jscomp$57$$,
$block$jscomp$81$$,$width$jscomp$69$$,$height$jscomp$66$$,$left$jscomp$39$$,$top$jscomp$37$$,$ev$jscomp$32$$){return $JSCompiler_StaticMethods_accelerometerCheck$$($width$jscomp$69$$,$left$jscomp$39$$,$top$jscomp$37$$,$ev$jscomp$32$$,!0)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$81$$),1):null},$mousedrag$:function($canvas$jscomp$58$$,$block$jscomp$82$$,$dragIndex$jscomp$9$$,$width$jscomp$70$$,$height$jscomp$67$$,$left$jscomp$40$$,$top$jscomp$38$$,$ev$jscomp$33$$){$block$jscomp$82$$.$param$[0]=
$JSCompiler_StaticMethods_accelerometerDrag$$($width$jscomp$70$$,$left$jscomp$40$$,$top$jscomp$38$$,$ev$jscomp$33$$,!0)},$genCode$:{aseba:function($a$jscomp$17_block$jscomp$83$$){$a$jscomp$17_block$jscomp$83$$=-$a$jscomp$17_block$jscomp$83$$.$param$[0];return{$initVarDecl$:["# yaw angle from accelerometer\nvar yawAngle\n"],$sectionBegin$:"onevent acc\n",$clauseInit$:"call math.atan2(yawAngle, acc[0], acc[1])\n",$clause$:-12===$a$jscomp$17_block$jscomp$83$$?"yawAngle >= 31403 or yawAngle < "+Math.round(2730.67*
$a$jscomp$17_block$jscomp$83$$+1365.33):"yawAngle >= "+Math.round(2730.67*$a$jscomp$17_block$jscomp$83$$-1365.33)+" and yawAngle < "+Math.round(2730.67*$a$jscomp$17_block$jscomp$83$$+1365.33)}}}}),new $A3a$vpl$BlockTemplate$$({name:"clap",type:"e",$draw$:function($canvas$jscomp$59_dims$jscomp$inline_143$$){var $ctx$jscomp$inline_142$$=$canvas$jscomp$59_dims$jscomp$inline_143$$.$ctx$;$canvas$jscomp$59_dims$jscomp$inline_143$$=$canvas$jscomp$59_dims$jscomp$inline_143$$.$dims$;$ctx$jscomp$inline_142$$.save();
$ctx$jscomp$inline_142$$.beginPath();$ctx$jscomp$inline_142$$.arc(.7*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,.6*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,.15*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,0,2*Math.PI);$ctx$jscomp$inline_142$$.fillStyle="white";$ctx$jscomp$inline_142$$.fill();$ctx$jscomp$inline_142$$.beginPath();$ctx$jscomp$inline_142$$.moveTo(.7*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,.6*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$);
$ctx$jscomp$inline_142$$.lineTo(.8*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,.95*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$);$ctx$jscomp$inline_142$$.strokeStyle="white";$ctx$jscomp$inline_142$$.lineWidth=.13*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$;$ctx$jscomp$inline_142$$.stroke();$ctx$jscomp$inline_142$$.lineWidth=1.5*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockLineWidth$;$ctx$jscomp$inline_142$$.translate(.3*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,
.3*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$);$ctx$jscomp$inline_142$$.rotate(.1);for(var $i$jscomp$inline_144$$=0;9>$i$jscomp$inline_144$$;$i$jscomp$inline_144$$++)$ctx$jscomp$inline_142$$.beginPath(),$ctx$jscomp$inline_142$$.moveTo(.07*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,0),$ctx$jscomp$inline_142$$.lineTo(.14*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,0),$ctx$jscomp$inline_142$$.moveTo(.17*$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,0),$ctx$jscomp$inline_142$$.lineTo(.22*
$canvas$jscomp$59_dims$jscomp$inline_143$$.$blockSize$,0),$ctx$jscomp$inline_142$$.stroke(),$ctx$jscomp$inline_142$$.rotate(Math.PI/4.5);$ctx$jscomp$inline_142$$.restore()},$genCode$:{aseba:function(){return{$initCodeExec$:["# setup threshold for detecting claps\nmic.threshold = 250\n"],$sectionBegin$:"onevent mic\n",$clause$:"mic.intensity > mic.threshold",$clauseOptional$:!0}}}}),new $A3a$vpl$BlockTemplate$$({name:"init",$modes$:["b","a"],type:"e",$draw$:function($canvas$jscomp$60_dims$jscomp$inline_148$$){var $ctx$jscomp$inline_147$$=
$canvas$jscomp$60_dims$jscomp$inline_148$$.$ctx$;$canvas$jscomp$60_dims$jscomp$inline_148$$=$canvas$jscomp$60_dims$jscomp$inline_148$$.$dims$;var $r$jscomp$inline_149_triSize$jscomp$inline_150$$=.4*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$;$ctx$jscomp$inline_147$$.save();$ctx$jscomp$inline_147$$.fillStyle="black";$ctx$jscomp$inline_147$$.strokeStyle="black";$ctx$jscomp$inline_147$$.lineWidth=$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockLineWidth$;$ctx$jscomp$inline_147$$.beginPath();
$ctx$jscomp$inline_147$$.arc(.3*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$,.5*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$,.08*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$,0,2*Math.PI);$ctx$jscomp$inline_147$$.fill();$ctx$jscomp$inline_147$$.beginPath();$ctx$jscomp$inline_147$$.moveTo(.42*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$,.5*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$);$ctx$jscomp$inline_147$$.lineTo(.7*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$,
.5*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$);$ctx$jscomp$inline_147$$.stroke();$r$jscomp$inline_149_triSize$jscomp$inline_150$$*=.4;$ctx$jscomp$inline_147$$.beginPath();$ctx$jscomp$inline_147$$.moveTo(.8*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$,.5*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$);$ctx$jscomp$inline_147$$.lineTo(.8*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$-$r$jscomp$inline_149_triSize$jscomp$inline_150$$*Math.sqrt(3)/2,.5*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$+
$r$jscomp$inline_149_triSize$jscomp$inline_150$$/2);$ctx$jscomp$inline_147$$.lineTo(.8*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$-$r$jscomp$inline_149_triSize$jscomp$inline_150$$*Math.sqrt(3)/2,.5*$canvas$jscomp$60_dims$jscomp$inline_148$$.$blockSize$-$r$jscomp$inline_149_triSize$jscomp$inline_150$$/2);$ctx$jscomp$inline_147$$.fill();$ctx$jscomp$inline_147$$.restore()},$noState$:!0,$genCode$:{aseba:function(){return{$sectionBegin$:"# initialization\n"}}}}),new $A3a$vpl$BlockTemplate$$({name:"timer",
$modes$:["a"],type:"e",$draw$:function($canvas$jscomp$61$$){$JSCompiler_StaticMethods_drawTimer$$($canvas$jscomp$61$$,0,!0,!1)},$genCode$:{aseba:function(){return{$initVarDecl$:["var timerElapsed\n"],$initCodeExec$:["# stop timer 0\ntimer.period[0] = 0\n","timerElapsed = 0\n"],$sectionBegin$:"onevent timer0\n",$sectionPreamble$:"timerElapsed = 1\ntimer.period[0] = 0\n",$clause$:"timerElapsed"}}}}),new $A3a$vpl$BlockTemplate$$({name:"state",$modes$:["a"],type:"s",$defaultParam$:function(){return[0,
0,0,0]},$typicalParam$:function(){return[1,0,0,-1]},$draw$:function($canvas$jscomp$62$$,$block$jscomp$90$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$62$$);$JSCompiler_StaticMethods_drawState$$($canvas$jscomp$62$$,$block$jscomp$90$$.$param$)},$mousedown$:function($canvas$jscomp$63_i$jscomp$103$$,$block$jscomp$91$$,$width$jscomp$71$$,$height$jscomp$68$$,$left$jscomp$41$$,$top$jscomp$39$$,$ev$jscomp$34$$){$canvas$jscomp$63_i$jscomp$103$$=$JSCompiler_StaticMethods_stateClick$$($width$jscomp$71$$,
$height$jscomp$68$$,$left$jscomp$41$$,$top$jscomp$39$$,$ev$jscomp$34$$);null!==$canvas$jscomp$63_i$jscomp$103$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$91$$),$block$jscomp$91$$.$param$[$canvas$jscomp$63_i$jscomp$103$$]=($block$jscomp$91$$.$param$[$canvas$jscomp$63_i$jscomp$103$$]+2)%3-1);return $canvas$jscomp$63_i$jscomp$103$$},$changeMode$:function($block$jscomp$92$$,$mode$jscomp$25$$){return"b"===$mode$jscomp$25$$&&0===$block$jscomp$92$$.$param$[0]&&0===$block$jscomp$92$$.$param$[1]&&
0===$block$jscomp$92$$.$param$[2]&&0===$block$jscomp$92$$.$param$[3]?null:$block$jscomp$92$$},$genCode$:{aseba:function($block$jscomp$93$$){for(var $cond$jscomp$7$$="",$i$jscomp$104$$=0;4>$i$jscomp$104$$;$i$jscomp$104$$++)$block$jscomp$93$$.$param$[$i$jscomp$104$$]&&($cond$jscomp$7$$+=(0===$cond$jscomp$7$$.length?"":" and ")+"state["+$i$jscomp$104$$+"] == "+(0<$block$jscomp$93$$.$param$[$i$jscomp$104$$]?"1":"0"));return{$initVarDecl$:["var state[4]\n"],$initCodeExec$:["state = [0, 0, 0, 0]\n"],$clause$:$cond$jscomp$7$$}}}}),
new $A3a$vpl$BlockTemplate$$({name:"state 8",$modes$:["c"],type:"s",$defaultParam$:function(){return[0]},$draw$:function($canvas$jscomp$64$$,$block$jscomp$94$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$64$$);$JSCompiler_StaticMethods_drawState8$$($canvas$jscomp$64$$,$block$jscomp$94$$.$param$[0])},$mousedown$:function($canvas$jscomp$65_i$jscomp$105$$,$block$jscomp$95$$,$width$jscomp$72$$,$height$jscomp$69$$,$left$jscomp$42$$,$top$jscomp$40$$,$ev$jscomp$35$$){$canvas$jscomp$65_i$jscomp$105$$=
$JSCompiler_StaticMethods_state8Click$$($width$jscomp$72$$,$height$jscomp$69$$,$left$jscomp$42$$,$top$jscomp$40$$,$ev$jscomp$35$$);null!==$canvas$jscomp$65_i$jscomp$105$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$95$$),$block$jscomp$95$$.$param$[0]=$canvas$jscomp$65_i$jscomp$105$$);return $canvas$jscomp$65_i$jscomp$105$$},$genCode$:{aseba:function($block$jscomp$96$$){return{$initVarDecl$:["var state8\n"],$initCodeExec$:["state8 = 0\n"],$clause$:"state8 == "+$block$jscomp$96$$.$param$[0].toString(10)}}}}),
new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$12$$=[{$sh$:"t",x:-.3,y:.3,r:0},{$sh$:"t",x:-.3,y:-.3,r:Math.PI},{$sh$:"t",x:.1,y:.3,r:0},{$sh$:"t",x:.1,y:-.3,r:Math.PI},{$sh$:"c",x:.35,y:-.3,r:0}];return{name:"counter comparison",$modes$:["a"],type:"s",$defaultParam$:function(){return[0,0]},$draw$:function($canvas$jscomp$66$$,$block$jscomp$97$$){$canvas$jscomp$66$$.text(0===$block$jscomp$97$$.$param$[0]?"=":0<$block$jscomp$97$$.$param$[0]?"\u2265":"\u2264",{x:-.3*$canvas$jscomp$66$$.$dims$.$blockSize$,
fillStyle:"black"});$canvas$jscomp$66$$.text($block$jscomp$97$$.$param$[1].toString(10),{x:.1*$canvas$jscomp$66$$.$dims$.$blockSize$,fillStyle:"black"});$canvas$jscomp$66$$.buttons($buttons$jscomp$12$$,[1>$block$jscomp$97$$.$param$[0]?-2:0,-1<$block$jscomp$97$$.$param$[0]?-2:0,255>$block$jscomp$97$$.$param$[1]?-2:0,0<$block$jscomp$97$$.$param$[1]?-2:0,0!==$block$jscomp$97$$.$param$[1]?-2:0])},$mousedown$:function($canvas$jscomp$67_i$jscomp$106$$,$block$jscomp$98$$,$width$jscomp$73$$,$height$jscomp$70$$,
$left$jscomp$43$$,$top$jscomp$41$$,$ev$jscomp$36$$){$canvas$jscomp$67_i$jscomp$106$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$12$$,$width$jscomp$73$$,$height$jscomp$70$$,$left$jscomp$43$$,$top$jscomp$41$$,$ev$jscomp$36$$);if(null!==$canvas$jscomp$67_i$jscomp$106$$)switch($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$98$$),$canvas$jscomp$67_i$jscomp$106$$){case 0:$block$jscomp$98$$.$param$[0]=Math.min(1,$block$jscomp$98$$.$param$[0]+1);break;case 1:$block$jscomp$98$$.$param$[0]=
Math.max(-1,$block$jscomp$98$$.$param$[0]-1);break;case 2:$block$jscomp$98$$.$param$[1]=Math.min(255,$block$jscomp$98$$.$param$[1]+1);break;case 3:$block$jscomp$98$$.$param$[1]=Math.max(0,$block$jscomp$98$$.$param$[1]-1);break;case 4:$block$jscomp$98$$.$param$[1]=0}return $canvas$jscomp$67_i$jscomp$106$$},$genCode$:{aseba:function($block$jscomp$99$$){return{$initVarDecl$:["var counter\n"],$initCodeExec$:["counter = 0\n"],$clause$:"counter "+(0===$block$jscomp$99$$.$param$[0]?"==":0<$block$jscomp$99$$.$param$[0]?
">=":"<=")+" "+$block$jscomp$99$$.$param$[1]}}}}}()),new $A3a$vpl$BlockTemplate$$({name:"color state",$modes$:["c"],type:"s",$defaultParam$:function(){return[0,0,0]},$draw$:function($canvas$jscomp$68$$,$block$jscomp$100$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$68$$,{$rgb$:$block$jscomp$100$$.$param$});$JSCompiler_StaticMethods_slider$$($canvas$jscomp$68$$,$block$jscomp$100$$.$param$[0],.3,!1,"red");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$68$$,$block$jscomp$100$$.$param$[1],
0,!1,"#0c0");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$68$$,$block$jscomp$100$$.$param$[2],-.3,!1,"#08f")},$mousedown$:function($canvas$jscomp$69$$,$block$jscomp$101$$,$width$jscomp$74$$,$height$jscomp$71$$,$left$jscomp$44$$,$top$jscomp$42$$,$ev$jscomp$37$$){return $JSCompiler_StaticMethods_sliderCheck$$(.3,!1,$width$jscomp$74$$,$height$jscomp$71$$,$left$jscomp$44$$,$top$jscomp$42$$,$ev$jscomp$37$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$101$$),0):$JSCompiler_StaticMethods_sliderCheck$$(0,
!1,$width$jscomp$74$$,$height$jscomp$71$$,$left$jscomp$44$$,$top$jscomp$42$$,$ev$jscomp$37$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$101$$),1):$JSCompiler_StaticMethods_sliderCheck$$(-.3,!1,$width$jscomp$74$$,$height$jscomp$71$$,$left$jscomp$44$$,$top$jscomp$42$$,$ev$jscomp$37$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$101$$),2):null},$mousedrag$:function($canvas$jscomp$70$$,$block$jscomp$102$$,$dragIndex$jscomp$10$$,$width$jscomp$75$$,$height$jscomp$72$$,$left$jscomp$45$$,
$top$jscomp$43$$,$ev$jscomp$38$$){$block$jscomp$102$$.$param$[$dragIndex$jscomp$10$$]=Math.max(0,Math.min(1,Math.round($JSCompiler_StaticMethods_sliderDrag$$(!1,$width$jscomp$75$$,$height$jscomp$72$$,$left$jscomp$45$$,$top$jscomp$43$$,$ev$jscomp$38$$))))},$genCode$:{aseba:function($block$jscomp$103$$){return{$initVarDecl$:["var topColor[3]\n"],$initCodeExec$:["topColor = [0, 0, 0]\n"],$clause$:$block$jscomp$103$$.$param$.map(function($p$jscomp$4$$,$i$jscomp$107$$){return"topColor["+$i$jscomp$107$$+
"] / 11 == "+Math.floor(2.99*$p$jscomp$4$$)}).join(" and ")}}}}),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$13$$=[{$sh$:"r",x:-.15,y:.3,size:1.4,$str$:"black",fillStyle:"#666",strokeStyle:"white"},{$sh$:"r",x:-.3,y:0,size:1.4,$str$:"red",fillStyle:"red",strokeStyle:"white"},{$sh$:"r",x:0,y:0,size:1.4,$str$:"green",fillStyle:"#0c0",strokeStyle:"white"},{$sh$:"r",x:.3,y:0,size:1.4,$str$:"yellow",fillStyle:"yellow",strokeStyle:"silver"},{$sh$:"r",x:-.3,y:-.3,size:1.4,$str$:"blue",fillStyle:"blue",
strokeStyle:"white"},{$sh$:"r",x:0,y:-.3,size:1.4,$str$:"magenta",fillStyle:"magenta",strokeStyle:"white"},{$sh$:"r",x:.3,y:-.3,size:1.4,$str$:"cyan",fillStyle:"cyan",strokeStyle:"white"},{$sh$:"r",x:.15,y:.3,size:1.4,$str$:"white",fillStyle:"white",strokeStyle:"silver"}];return{name:"color 8 state",$modes$:["a"],type:"s",$defaultParam$:function(){return[0]},$draw$:function($canvas$jscomp$71$$,$block$jscomp$104$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$71$$,{$rgb$:[$block$jscomp$104$$.$param$&
1,($block$jscomp$104$$.$param$&2)/2,($block$jscomp$104$$.$param$&4)/4]});$canvas$jscomp$71$$.buttons($buttons$jscomp$13$$,[1>$block$jscomp$104$$.$param$[0]?-2:0,-1<$block$jscomp$104$$.$param$[0]?-2:0])},$mousedown$:function($canvas$jscomp$72_i$jscomp$108$$,$block$jscomp$105$$,$width$jscomp$76$$,$height$jscomp$73$$,$left$jscomp$46$$,$top$jscomp$44$$,$ev$jscomp$39$$){$canvas$jscomp$72_i$jscomp$108$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$13$$,$width$jscomp$76$$,$height$jscomp$73$$,
$left$jscomp$46$$,$top$jscomp$44$$,$ev$jscomp$39$$);null!==$canvas$jscomp$72_i$jscomp$108$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$105$$),$block$jscomp$105$$.$param$=[$canvas$jscomp$72_i$jscomp$108$$]);return $canvas$jscomp$72_i$jscomp$108$$},$genCode$:{aseba:function($block$jscomp$106$$){return{$initVarDecl$:["var topColor[3]\n"],$initCodeExec$:["topColor = [0, 0, 0]\n"],$clause$:"topColor[0] "+($block$jscomp$106$$.$param$[0]%2?">=":"<")+" 16 and topColor[1] "+(2<=$block$jscomp$106$$.$param$[0]%
4?">=":"<")+" 16 and topColor[2] "+(4<=$block$jscomp$106$$.$param$[0]?">=":"<")+" 16"}}}}}()),new $A3a$vpl$BlockTemplate$$({name:"motor state",$modes$:["c"],type:"s",$defaultParam$:function(){return[0,0]},$draw$:function($canvas$jscomp$73$$,$block$jscomp$107$$){var $tr$jscomp$2$$=$JSCompiler_StaticMethods_traces$$($canvas$jscomp$73$$,2.4*$block$jscomp$107$$.$param$[0],2.4*$block$jscomp$107$$.$param$[1],.19);$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$73$$,{$withWheels$:!0,scale:.45,rotation:$tr$jscomp$2$$.$phi$,
$translation$:[.19*$tr$jscomp$2$$.x*$canvas$jscomp$73$$.$dims$.$blockSize$+.13*$canvas$jscomp$73$$.$dims$.$blockSize$*Math.sin($tr$jscomp$2$$.$phi$),.19*$tr$jscomp$2$$.y*$canvas$jscomp$73$$.$dims$.$blockSize$+.13*$canvas$jscomp$73$$.$dims$.$blockSize$*Math.cos($tr$jscomp$2$$.$phi$)]});$canvas$jscomp$73$$.$ctx$.save();$canvas$jscomp$73$$.$ctx$.globalAlpha=.2;$JSCompiler_StaticMethods_traces$$($canvas$jscomp$73$$,2.4*$block$jscomp$107$$.$param$[0],2.4*$block$jscomp$107$$.$param$[1],.19);$canvas$jscomp$73$$.$ctx$.restore();
$JSCompiler_StaticMethods_slider$$($canvas$jscomp$73$$,.5+.5*$block$jscomp$107$$.$param$[0],-.4,!0,0===$block$jscomp$107$$.$param$[0]?"white":$block$jscomp$107$$.$param$[0]===$block$jscomp$107$$.$param$[1]?"#0c0":$block$jscomp$107$$.$param$[0]===-$block$jscomp$107$$.$param$[1]?"#f70":"#fd0");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$73$$,.5+.5*$block$jscomp$107$$.$param$[1],.4,!0,0===$block$jscomp$107$$.$param$[1]?"white":$block$jscomp$107$$.$param$[0]===$block$jscomp$107$$.$param$[1]?"#0c0":
$block$jscomp$107$$.$param$[0]===-$block$jscomp$107$$.$param$[1]?"#f70":"#fd0")},$mousedown$:function($canvas$jscomp$74$$,$block$jscomp$108$$,$width$jscomp$77$$,$height$jscomp$74$$,$left$jscomp$47$$,$top$jscomp$45$$,$ev$jscomp$40$$){return $JSCompiler_StaticMethods_sliderCheck$$(-.4,!0,$width$jscomp$77$$,$height$jscomp$74$$,$left$jscomp$47$$,$top$jscomp$45$$,$ev$jscomp$40$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$108$$),0):$JSCompiler_StaticMethods_sliderCheck$$(.4,!0,$width$jscomp$77$$,
$height$jscomp$74$$,$left$jscomp$47$$,$top$jscomp$45$$,$ev$jscomp$40$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$108$$),1):$JSCompiler_StaticMethods_robotTopCheck$$($canvas$jscomp$74$$,$width$jscomp$77$$,$left$jscomp$47$$,$top$jscomp$45$$,.5*$block$jscomp$108$$.$param$[0],.5*$block$jscomp$108$$.$param$[1],$ev$jscomp$40$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$108$$),2):null},$mousedrag$:function($canvas$jscomp$75_val$jscomp$19$$,$block$jscomp$109$$,$dragIndex$jscomp$11$$,
$width$jscomp$78$$,$height$jscomp$75$$,$left$jscomp$48$$,$top$jscomp$46$$,$ev$jscomp$41$$){2>$dragIndex$jscomp$11$$?($canvas$jscomp$75_val$jscomp$19$$=$JSCompiler_StaticMethods_sliderDrag$$(!0,$width$jscomp$78$$,$height$jscomp$75$$,$left$jscomp$48$$,$top$jscomp$46$$,$ev$jscomp$41$$),$block$jscomp$109$$.$param$[$dragIndex$jscomp$11$$]=.25>$canvas$jscomp$75_val$jscomp$19$$?-1:.75<$canvas$jscomp$75_val$jscomp$19$$?1:0):($canvas$jscomp$75_val$jscomp$19$$=$JSCompiler_StaticMethods_sliderDrag$$(!0,$width$jscomp$78$$,
$height$jscomp$75$$,$left$jscomp$48$$,$top$jscomp$46$$,$ev$jscomp$41$$),$canvas$jscomp$75_val$jscomp$19$$=.25>$canvas$jscomp$75_val$jscomp$19$$?-1:.75<$canvas$jscomp$75_val$jscomp$19$$?1:0,$block$jscomp$109$$.$param$[0]=$canvas$jscomp$75_val$jscomp$19$$,$block$jscomp$109$$.$param$[1]=$canvas$jscomp$75_val$jscomp$19$$)},$genCode$:{aseba:function($block$jscomp$110$$){function $clause1$$($side$$,$x$jscomp$126$$){return 0<$x$jscomp$126$$?"motor."+$side$$+".target > 250":0>$x$jscomp$126$$?"motor."+$side$$+
".target < -250":"abs(motor."+$side$$+".target) < 250"}return{$clause$:$clause1$$("left",$block$jscomp$110$$.$param$[0])+" and "+$clause1$$("right",$block$jscomp$110$$.$param$[1])}}}}),new $A3a$vpl$BlockTemplate$$({name:"motor",type:"a",$defaultParam$:function(){return[0,0]},$typicalParam$:function(){return[.5,.2]},$draw$:function($canvas$jscomp$76$$,$block$jscomp$111$$){var $tr$jscomp$3$$=$JSCompiler_StaticMethods_traces$$($canvas$jscomp$76$$,2.4*$block$jscomp$111$$.$param$[0],2.4*$block$jscomp$111$$.$param$[1],
.19);$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$76$$,{$withWheels$:!0,scale:.45,rotation:$tr$jscomp$3$$.$phi$,$translation$:[.19*$tr$jscomp$3$$.x*$canvas$jscomp$76$$.$dims$.$blockSize$+.13*$canvas$jscomp$76$$.$dims$.$blockSize$*Math.sin($tr$jscomp$3$$.$phi$),.19*$tr$jscomp$3$$.y*$canvas$jscomp$76$$.$dims$.$blockSize$+.13*$canvas$jscomp$76$$.$dims$.$blockSize$*Math.cos($tr$jscomp$3$$.$phi$)]});$canvas$jscomp$76$$.$ctx$.save();$canvas$jscomp$76$$.$ctx$.globalAlpha=.2;$JSCompiler_StaticMethods_traces$$($canvas$jscomp$76$$,
2.4*$block$jscomp$111$$.$param$[0],2.4*$block$jscomp$111$$.$param$[1],.19);$canvas$jscomp$76$$.$ctx$.restore();$JSCompiler_StaticMethods_slider$$($canvas$jscomp$76$$,.5+.5*$block$jscomp$111$$.$param$[0],-.4,!0,0===$block$jscomp$111$$.$param$[0]?"white":$block$jscomp$111$$.$param$[0]===$block$jscomp$111$$.$param$[1]?"#0c0":$block$jscomp$111$$.$param$[0]===-$block$jscomp$111$$.$param$[1]?"#f70":"#fd0");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$76$$,.5+.5*$block$jscomp$111$$.$param$[1],.4,!0,
0===$block$jscomp$111$$.$param$[1]?"white":$block$jscomp$111$$.$param$[0]===$block$jscomp$111$$.$param$[1]?"#0c0":$block$jscomp$111$$.$param$[0]===-$block$jscomp$111$$.$param$[1]?"#f70":"#fd0")},$mousedown$:function($canvas$jscomp$77$$,$block$jscomp$112$$,$width$jscomp$79$$,$height$jscomp$76$$,$left$jscomp$49$$,$top$jscomp$47$$,$ev$jscomp$42$$){return $JSCompiler_StaticMethods_sliderCheck$$(-.4,!0,$width$jscomp$79$$,$height$jscomp$76$$,$left$jscomp$49$$,$top$jscomp$47$$,$ev$jscomp$42$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$112$$),
0):$JSCompiler_StaticMethods_sliderCheck$$(.4,!0,$width$jscomp$79$$,$height$jscomp$76$$,$left$jscomp$49$$,$top$jscomp$47$$,$ev$jscomp$42$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$112$$),1):$JSCompiler_StaticMethods_robotTopCheck$$($canvas$jscomp$77$$,$width$jscomp$79$$,$left$jscomp$49$$,$top$jscomp$47$$,.5*$block$jscomp$112$$.$param$[0],.5*$block$jscomp$112$$.$param$[1],$ev$jscomp$42$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$112$$),2):null},$mousedrag$:function($canvas$jscomp$78_val$jscomp$20$$,
$block$jscomp$113$$,$dragIndex$jscomp$12$$,$val2_width$jscomp$80$$,$height$jscomp$77$$,$left$jscomp$50$$,$top$jscomp$48$$,$ev$jscomp$43$$){2>$dragIndex$jscomp$12$$?($canvas$jscomp$78_val$jscomp$20$$=2*$JSCompiler_StaticMethods_sliderDrag$$(!0,$val2_width$jscomp$80$$,$height$jscomp$77$$,$left$jscomp$50$$,$top$jscomp$48$$,$ev$jscomp$43$$)-1,$val2_width$jscomp$80$$=$block$jscomp$113$$.$param$[1-$dragIndex$jscomp$12$$],.1>Math.abs($canvas$jscomp$78_val$jscomp$20$$)?$canvas$jscomp$78_val$jscomp$20$$=0:
.1>Math.abs($canvas$jscomp$78_val$jscomp$20$$-$val2_width$jscomp$80$$)?$canvas$jscomp$78_val$jscomp$20$$=$val2_width$jscomp$80$$:.1>Math.abs($canvas$jscomp$78_val$jscomp$20$$+$val2_width$jscomp$80$$)&&($canvas$jscomp$78_val$jscomp$20$$=-$val2_width$jscomp$80$$),$block$jscomp$113$$.$param$[$dragIndex$jscomp$12$$]=Math.max(-1,Math.min(1,$canvas$jscomp$78_val$jscomp$20$$))):($canvas$jscomp$78_val$jscomp$20$$=2*$JSCompiler_StaticMethods_sliderDrag$$(!0,$val2_width$jscomp$80$$,$height$jscomp$77$$,$left$jscomp$50$$,
$top$jscomp$48$$,$ev$jscomp$43$$)-1,$canvas$jscomp$78_val$jscomp$20$$=.1>Math.abs($canvas$jscomp$78_val$jscomp$20$$)?0:Math.max(-1,Math.min(1,$canvas$jscomp$78_val$jscomp$20$$)),.05>Math.abs($block$jscomp$113$$.$param$[0]-$block$jscomp$113$$.$param$[1])?($block$jscomp$113$$.$param$[0]=$canvas$jscomp$78_val$jscomp$20$$,$block$jscomp$113$$.$param$[1]=$canvas$jscomp$78_val$jscomp$20$$):Math.abs($block$jscomp$113$$.$param$[0])>Math.abs($block$jscomp$113$$.$param$[1])?($block$jscomp$113$$.$param$[1]*=
$canvas$jscomp$78_val$jscomp$20$$/$block$jscomp$113$$.$param$[0],$block$jscomp$113$$.$param$[0]=$canvas$jscomp$78_val$jscomp$20$$):($block$jscomp$113$$.$param$[0]*=$canvas$jscomp$78_val$jscomp$20$$/$block$jscomp$113$$.$param$[1],$block$jscomp$113$$.$param$[1]=$canvas$jscomp$78_val$jscomp$20$$))},$genCode$:{aseba:function($block$jscomp$114$$){return{$initCodeExec$:["call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],
$statement$:"motor.left.target = "+Math.round(500*$block$jscomp$114$$.$param$[0])+"\nmotor.right.target = "+Math.round(500*$block$jscomp$114$$.$param$[1])+"\n"}}}}),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$14$$=[{$sh$:"c",x:0,y:0,r:0},{$sh$:"t",x:0,y:.35,r:0},{$sh$:"t",x:0,y:-.35,r:Math.PI},{$sh$:"t",x:-.3,y:.32,r:-.4},{$sh$:"t",x:.3,y:.32,r:.4},{$sh$:"t",x:-.35,y:.05,r:-Math.PI/2},{$sh$:"t",x:.35,y:.05,r:Math.PI/2}];return{name:"move",$modes$:["c"],type:"a",$defaultParam$:function(){return[0]},
$draw$:function($canvas$jscomp$79$$,$block$jscomp$115$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$79$$,{$withWheels$:!0,scale:.45});$canvas$jscomp$79$$.buttons($buttons$jscomp$14$$,[0===$block$jscomp$115$$.$param$[0]?1:-2,1===$block$jscomp$115$$.$param$[0]?1:-2,2===$block$jscomp$115$$.$param$[0]?1:-2,3===$block$jscomp$115$$.$param$[0]?1:-2,4===$block$jscomp$115$$.$param$[0]?1:-2,5===$block$jscomp$115$$.$param$[0]?1:-2,6===$block$jscomp$115$$.$param$[0]?1:-2])},$mousedown$:function($canvas$jscomp$80_i$jscomp$109$$,
$block$jscomp$116$$,$width$jscomp$81$$,$height$jscomp$78$$,$left$jscomp$51$$,$top$jscomp$49$$,$ev$jscomp$44$$){$canvas$jscomp$80_i$jscomp$109$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$14$$,$width$jscomp$81$$,$height$jscomp$78$$,$left$jscomp$51$$,$top$jscomp$49$$,$ev$jscomp$44$$);null!==$canvas$jscomp$80_i$jscomp$109$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$116$$),$block$jscomp$116$$.$param$[0]=$canvas$jscomp$80_i$jscomp$109$$);return $canvas$jscomp$80_i$jscomp$109$$},
$genCode$:{aseba:function($block$jscomp$117$$){return{$initCodeExec$:["call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],$statement$:"motor.left.target = "+[0,100,-100,75,125,-100,100][$block$jscomp$117$$.$param$[0]]+"\nmotor.right.target = "+[0,100,-100,125,75,100,-100][$block$jscomp$117$$.$param$[0]]+"\n"}}}}}()),new $A3a$vpl$BlockTemplate$$({name:"top color",$modes$:["a"],type:"a",$defaultParam$:function(){return[0,
0,0]},$draw$:function($canvas$jscomp$81$$,$block$jscomp$118$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$81$$,{$rgb$:$block$jscomp$118$$.$param$});$JSCompiler_StaticMethods_slider$$($canvas$jscomp$81$$,$block$jscomp$118$$.$param$[0],.3,!1,"red");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$81$$,$block$jscomp$118$$.$param$[1],0,!1,"#0c0");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$81$$,$block$jscomp$118$$.$param$[2],-.3,!1,"#08f")},$mousedown$:function($canvas$jscomp$82$$,$block$jscomp$119$$,
$width$jscomp$82$$,$height$jscomp$79$$,$left$jscomp$52$$,$top$jscomp$50$$,$ev$jscomp$45$$){return $JSCompiler_StaticMethods_sliderCheck$$(.3,!1,$width$jscomp$82$$,$height$jscomp$79$$,$left$jscomp$52$$,$top$jscomp$50$$,$ev$jscomp$45$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$119$$),0):$JSCompiler_StaticMethods_sliderCheck$$(0,!1,$width$jscomp$82$$,$height$jscomp$79$$,$left$jscomp$52$$,$top$jscomp$50$$,$ev$jscomp$45$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$119$$),
1):$JSCompiler_StaticMethods_sliderCheck$$(-.3,!1,$width$jscomp$82$$,$height$jscomp$79$$,$left$jscomp$52$$,$top$jscomp$50$$,$ev$jscomp$45$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$119$$),2):null},$mousedrag$:function($canvas$jscomp$83$$,$block$jscomp$120$$,$dragIndex$jscomp$13$$,$width$jscomp$83$$,$height$jscomp$80$$,$left$jscomp$53$$,$top$jscomp$51$$,$ev$jscomp$46$$){$block$jscomp$120$$.$param$[$dragIndex$jscomp$13$$]=Math.max(0,Math.min(1,$JSCompiler_StaticMethods_sliderDrag$$(!1,
$width$jscomp$83$$,$height$jscomp$80$$,$left$jscomp$53$$,$top$jscomp$51$$,$ev$jscomp$46$$)))},$genCode$:{aseba:function($block$jscomp$121$$){return{$initVarDecl$:["var topColor[3]\n"],$initCodeExec$:["topColor = [0, 0, 0]\n","call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],$statement$:"call leds.top("+$block$jscomp$121$$.$param$.map(function($x$jscomp$127$$){return Math.round(32*$x$jscomp$127$$)}).join(", ")+")\ntopColor = ["+
$block$jscomp$121$$.$param$.map(function($x$jscomp$128$$){return Math.round(32*$x$jscomp$128$$)}).join(", ")+"]\n",$statementWithoutInit$:"call leds.top("+$block$jscomp$121$$.$param$.map(function($x$jscomp$129$$){return Math.round(32*$x$jscomp$129$$)}).join(", ")+")\n"}}}}),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$15$$=[{$sh$:"r",x:-.15,y:.3,size:1.4,$str$:"black",fillStyle:"#666",strokeStyle:"white"},{$sh$:"r",x:-.3,y:0,size:1.4,$str$:"red",fillStyle:"red",strokeStyle:"white"},
{$sh$:"r",x:0,y:0,size:1.4,$str$:"green",fillStyle:"#0c0",strokeStyle:"white"},{$sh$:"r",x:.3,y:0,size:1.4,$str$:"yellow",fillStyle:"yellow",strokeStyle:"silver"},{$sh$:"r",x:-.3,y:-.3,size:1.4,$str$:"blue",fillStyle:"blue",strokeStyle:"white"},{$sh$:"r",x:0,y:-.3,size:1.4,$str$:"magenta",fillStyle:"magenta",strokeStyle:"white"},{$sh$:"r",x:.3,y:-.3,size:1.4,$str$:"cyan",fillStyle:"cyan",strokeStyle:"white"},{$sh$:"r",x:.15,y:.3,size:1.4,$str$:"white",fillStyle:"white",strokeStyle:"silver"}];return{name:"top color 8",
$modes$:["b"],type:"a",$defaultParam$:function(){return[0]},$draw$:function($canvas$jscomp$84$$,$block$jscomp$122$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$84$$,{$rgb$:[$block$jscomp$122$$.$param$&1,($block$jscomp$122$$.$param$&2)/2,($block$jscomp$122$$.$param$&4)/4]});$canvas$jscomp$84$$.buttons($buttons$jscomp$15$$,[1>$block$jscomp$122$$.$param$[0]?-2:0,-1<$block$jscomp$122$$.$param$[0]?-2:0])},$mousedown$:function($canvas$jscomp$85_i$jscomp$110$$,$block$jscomp$123$$,$width$jscomp$84$$,
$height$jscomp$81$$,$left$jscomp$54$$,$top$jscomp$52$$,$ev$jscomp$47$$){$canvas$jscomp$85_i$jscomp$110$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$15$$,$width$jscomp$84$$,$height$jscomp$81$$,$left$jscomp$54$$,$top$jscomp$52$$,$ev$jscomp$47$$);null!==$canvas$jscomp$85_i$jscomp$110$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$123$$),$block$jscomp$123$$.$param$=[$canvas$jscomp$85_i$jscomp$110$$]);return $canvas$jscomp$85_i$jscomp$110$$},$genCode$:{aseba:function($block$jscomp$124_rgbStr$$){$block$jscomp$124_rgbStr$$=
[32*($block$jscomp$124_rgbStr$$.$param$&1),16*($block$jscomp$124_rgbStr$$.$param$&2),8*($block$jscomp$124_rgbStr$$.$param$&4)].join(", ");return{$initVarDecl$:["var topColor[3]\n"],$initCodeExec$:["topColor = [0, 0, 0]\n","call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],$statement$:"call leds.top("+$block$jscomp$124_rgbStr$$+")\ntopColor = ["+$block$jscomp$124_rgbStr$$+"]\n",$statementWithoutInit$:"call leds.top("+
$block$jscomp$124_rgbStr$$+")\n"}}}}}()),new $A3a$vpl$BlockTemplate$$({name:"bottom color",$modes$:["a"],type:"a",$defaultParam$:function(){return[0,0,0]},$draw$:function($canvas$jscomp$86$$,$block$jscomp$125$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$86$$,{$withWheels$:!0,$rgb$:$block$jscomp$125$$.$param$});$JSCompiler_StaticMethods_slider$$($canvas$jscomp$86$$,$block$jscomp$125$$.$param$[0],.3,!1,"red");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$86$$,$block$jscomp$125$$.$param$[1],
0,!1,"#0c0");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$86$$,$block$jscomp$125$$.$param$[2],-.3,!1,"#08f")},$mousedown$:function($canvas$jscomp$87$$,$block$jscomp$126$$,$width$jscomp$85$$,$height$jscomp$82$$,$left$jscomp$55$$,$top$jscomp$53$$,$ev$jscomp$48$$){return $JSCompiler_StaticMethods_sliderCheck$$(.3,!1,$width$jscomp$85$$,$height$jscomp$82$$,$left$jscomp$55$$,$top$jscomp$53$$,$ev$jscomp$48$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$126$$),0):$JSCompiler_StaticMethods_sliderCheck$$(0,
!1,$width$jscomp$85$$,$height$jscomp$82$$,$left$jscomp$55$$,$top$jscomp$53$$,$ev$jscomp$48$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$126$$),1):$JSCompiler_StaticMethods_sliderCheck$$(-.3,!1,$width$jscomp$85$$,$height$jscomp$82$$,$left$jscomp$55$$,$top$jscomp$53$$,$ev$jscomp$48$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$126$$),2):null},$mousedrag$:function($canvas$jscomp$88$$,$block$jscomp$127$$,$dragIndex$jscomp$14$$,$width$jscomp$86$$,$height$jscomp$83$$,$left$jscomp$56$$,
$top$jscomp$54$$,$ev$jscomp$49$$){$block$jscomp$127$$.$param$[$dragIndex$jscomp$14$$]=Math.max(0,Math.min(1,$JSCompiler_StaticMethods_sliderDrag$$(!1,$width$jscomp$86$$,$height$jscomp$83$$,$left$jscomp$56$$,$top$jscomp$54$$,$ev$jscomp$49$$)))},$genCode$:{aseba:function($block$jscomp$128$$){return{$initCodeExec$:["call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],$statement$:"call leds.bottom.left("+$block$jscomp$128$$.$param$.map(function($x$jscomp$130$$){return Math.round(32*
$x$jscomp$130$$)}).join(", ")+")\ncall leds.bottom.right("+$block$jscomp$128$$.$param$.map(function($x$jscomp$131$$){return Math.round(32*$x$jscomp$131$$)}).join(", ")+")\n"}}}}),new $A3a$vpl$BlockTemplate$$({name:"bottom-left color",$modes$:["c"],type:"a",$defaultParam$:function(){return[0,0,0]},$draw$:function($canvas$jscomp$89$$,$block$jscomp$129$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$89$$,{$withWheels$:!0,$rgb$:$block$jscomp$129$$.$param$,$side$:"left"});$JSCompiler_StaticMethods_slider$$($canvas$jscomp$89$$,
$block$jscomp$129$$.$param$[0],.3,!1,"red");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$89$$,$block$jscomp$129$$.$param$[1],0,!1,"#0c0");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$89$$,$block$jscomp$129$$.$param$[2],-.3,!1,"#08f")},$mousedown$:function($canvas$jscomp$90$$,$block$jscomp$130$$,$width$jscomp$87$$,$height$jscomp$84$$,$left$jscomp$57$$,$top$jscomp$55$$,$ev$jscomp$50$$){return $JSCompiler_StaticMethods_sliderCheck$$(.3,!1,$width$jscomp$87$$,$height$jscomp$84$$,$left$jscomp$57$$,
$top$jscomp$55$$,$ev$jscomp$50$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$130$$),0):$JSCompiler_StaticMethods_sliderCheck$$(0,!1,$width$jscomp$87$$,$height$jscomp$84$$,$left$jscomp$57$$,$top$jscomp$55$$,$ev$jscomp$50$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$130$$),1):$JSCompiler_StaticMethods_sliderCheck$$(-.3,!1,$width$jscomp$87$$,$height$jscomp$84$$,$left$jscomp$57$$,$top$jscomp$55$$,$ev$jscomp$50$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$130$$),
2):null},$mousedrag$:function($canvas$jscomp$91$$,$block$jscomp$131$$,$dragIndex$jscomp$15$$,$width$jscomp$88$$,$height$jscomp$85$$,$left$jscomp$58$$,$top$jscomp$56$$,$ev$jscomp$51$$){$block$jscomp$131$$.$param$[$dragIndex$jscomp$15$$]=Math.max(0,Math.min(1,$JSCompiler_StaticMethods_sliderDrag$$(!1,$width$jscomp$88$$,$height$jscomp$85$$,$left$jscomp$58$$,$top$jscomp$56$$,$ev$jscomp$51$$)))},$genCode$:{aseba:function($block$jscomp$132$$){return{$initCodeExec$:["call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],
$statement$:"call leds.bottom.left("+$block$jscomp$132$$.$param$.map(function($x$jscomp$132$$){return Math.round(32*$x$jscomp$132$$)}).join(", ")+")\n"}}}}),new $A3a$vpl$BlockTemplate$$({name:"bottom-right color",$modes$:["c"],type:"a",$defaultParam$:function(){return[0,0,0]},$draw$:function($canvas$jscomp$92$$,$block$jscomp$133$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$92$$,{$withWheels$:!0,$rgb$:$block$jscomp$133$$.$param$,$side$:"right"});$JSCompiler_StaticMethods_slider$$($canvas$jscomp$92$$,
$block$jscomp$133$$.$param$[0],.3,!1,"red");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$92$$,$block$jscomp$133$$.$param$[1],0,!1,"#0c0");$JSCompiler_StaticMethods_slider$$($canvas$jscomp$92$$,$block$jscomp$133$$.$param$[2],-.3,!1,"#08f")},$mousedown$:function($canvas$jscomp$93$$,$block$jscomp$134$$,$width$jscomp$89$$,$height$jscomp$86$$,$left$jscomp$59$$,$top$jscomp$57$$,$ev$jscomp$52$$){return $JSCompiler_StaticMethods_sliderCheck$$(.3,!1,$width$jscomp$89$$,$height$jscomp$86$$,$left$jscomp$59$$,
$top$jscomp$57$$,$ev$jscomp$52$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$134$$),0):$JSCompiler_StaticMethods_sliderCheck$$(0,!1,$width$jscomp$89$$,$height$jscomp$86$$,$left$jscomp$59$$,$top$jscomp$57$$,$ev$jscomp$52$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$134$$),1):$JSCompiler_StaticMethods_sliderCheck$$(-.3,!1,$width$jscomp$89$$,$height$jscomp$86$$,$left$jscomp$59$$,$top$jscomp$57$$,$ev$jscomp$52$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$134$$),
2):null},$mousedrag$:function($canvas$jscomp$94$$,$block$jscomp$135$$,$dragIndex$jscomp$16$$,$width$jscomp$90$$,$height$jscomp$87$$,$left$jscomp$60$$,$top$jscomp$58$$,$ev$jscomp$53$$){$block$jscomp$135$$.$param$[$dragIndex$jscomp$16$$]=Math.max(0,Math.min(1,$JSCompiler_StaticMethods_sliderDrag$$(!1,$width$jscomp$90$$,$height$jscomp$87$$,$left$jscomp$60$$,$top$jscomp$58$$,$ev$jscomp$53$$)))},$genCode$:{aseba:function($block$jscomp$136$$){return{$initCodeExec$:["call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],
$statement$:"call leds.bottom.right("+$block$jscomp$136$$.$param$.map(function($x$jscomp$133$$){return Math.round(32*$x$jscomp$133$$)}).join(", ")+")\n"}}}}),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$16$$=[{$sh$:"r",x:-.15,y:.3,size:1.4,$str$:"black",fillStyle:"#666",strokeStyle:"white"},{$sh$:"r",x:-.3,y:0,size:1.4,$str$:"red",fillStyle:"red",strokeStyle:"white"},{$sh$:"r",x:0,y:0,size:1.4,$str$:"green",fillStyle:"#0c0",strokeStyle:"white"},{$sh$:"r",x:.3,y:0,size:1.4,$str$:"yellow",
fillStyle:"yellow",strokeStyle:"silver"},{$sh$:"r",x:-.3,y:-.3,size:1.4,$str$:"blue",fillStyle:"blue",strokeStyle:"white"},{$sh$:"r",x:0,y:-.3,size:1.4,$str$:"magenta",fillStyle:"magenta",strokeStyle:"white"},{$sh$:"r",x:.3,y:-.3,size:1.4,$str$:"cyan",fillStyle:"cyan",strokeStyle:"white"},{$sh$:"r",x:.15,y:.3,size:1.4,$str$:"white",fillStyle:"white",strokeStyle:"silver"}];return{name:"bottom color 8",$modes$:["b"],type:"a",$defaultParam$:function(){return[0]},$draw$:function($canvas$jscomp$95$$,$block$jscomp$137$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$95$$,
{$withWheels$:!0,$rgb$:[$block$jscomp$137$$.$param$&1,($block$jscomp$137$$.$param$&2)/2,($block$jscomp$137$$.$param$&4)/4]});$canvas$jscomp$95$$.buttons($buttons$jscomp$16$$,[1>$block$jscomp$137$$.$param$[0]?-2:0,-1<$block$jscomp$137$$.$param$[0]?-2:0])},$mousedown$:function($canvas$jscomp$96_i$jscomp$111$$,$block$jscomp$138$$,$width$jscomp$91$$,$height$jscomp$88$$,$left$jscomp$61$$,$top$jscomp$59$$,$ev$jscomp$54$$){$canvas$jscomp$96_i$jscomp$111$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$16$$,
$width$jscomp$91$$,$height$jscomp$88$$,$left$jscomp$61$$,$top$jscomp$59$$,$ev$jscomp$54$$);null!==$canvas$jscomp$96_i$jscomp$111$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$138$$),$block$jscomp$138$$.$param$=[$canvas$jscomp$96_i$jscomp$111$$]);return $canvas$jscomp$96_i$jscomp$111$$},$genCode$:{aseba:function($block$jscomp$139_rgbStr$jscomp$1$$){$block$jscomp$139_rgbStr$jscomp$1$$=[32*($block$jscomp$139_rgbStr$jscomp$1$$.$param$&1),16*($block$jscomp$139_rgbStr$jscomp$1$$.$param$&2),
8*($block$jscomp$139_rgbStr$jscomp$1$$.$param$&4)].join(", ");return{$initCodeExec$:["call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],$statement$:"call leds.bottom.left("+$block$jscomp$139_rgbStr$jscomp$1$$+")\ncall leds.bottom.right("+$block$jscomp$139_rgbStr$jscomp$1$$+")\n"}}}}}()),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$17$$=[{$sh$:"r",x:-.15,y:.3,size:1.4,$str$:"black",fillStyle:"#666",strokeStyle:"white"},
{$sh$:"r",x:-.3,y:0,size:1.4,$str$:"red",fillStyle:"red",strokeStyle:"white"},{$sh$:"r",x:0,y:0,size:1.4,$str$:"green",fillStyle:"#0c0",strokeStyle:"white"},{$sh$:"r",x:.3,y:0,size:1.4,$str$:"yellow",fillStyle:"yellow",strokeStyle:"silver"},{$sh$:"r",x:-.3,y:-.3,size:1.4,$str$:"blue",fillStyle:"blue",strokeStyle:"white"},{$sh$:"r",x:0,y:-.3,size:1.4,$str$:"magenta",fillStyle:"magenta",strokeStyle:"white"},{$sh$:"r",x:.3,y:-.3,size:1.4,$str$:"cyan",fillStyle:"cyan",strokeStyle:"white"},{$sh$:"r",x:.15,
y:.3,size:1.4,$str$:"white",fillStyle:"white",strokeStyle:"silver"}];return{name:"bottom-left color 8",$modes$:["c"],type:"a",$defaultParam$:function(){return[0]},$draw$:function($canvas$jscomp$97$$,$block$jscomp$140$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$97$$,{$withWheels$:!0,$rgb$:[$block$jscomp$140$$.$param$&1,($block$jscomp$140$$.$param$&2)/2,($block$jscomp$140$$.$param$&4)/4],$side$:"left"});$canvas$jscomp$97$$.buttons($buttons$jscomp$17$$,[1>$block$jscomp$140$$.$param$[0]?-2:
0,-1<$block$jscomp$140$$.$param$[0]?-2:0])},$mousedown$:function($canvas$jscomp$98_i$jscomp$112$$,$block$jscomp$141$$,$width$jscomp$92$$,$height$jscomp$89$$,$left$jscomp$62$$,$top$jscomp$60$$,$ev$jscomp$55$$){$canvas$jscomp$98_i$jscomp$112$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$17$$,$width$jscomp$92$$,$height$jscomp$89$$,$left$jscomp$62$$,$top$jscomp$60$$,$ev$jscomp$55$$);null!==$canvas$jscomp$98_i$jscomp$112$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$141$$),$block$jscomp$141$$.$param$=
[$canvas$jscomp$98_i$jscomp$112$$]);return $canvas$jscomp$98_i$jscomp$112$$},$genCode$:{aseba:function($block$jscomp$142$$){return{$initCodeExec$:["call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],$statement$:"call leds.bottom.left("+[32*($block$jscomp$142$$.$param$&1),16*($block$jscomp$142$$.$param$&2),8*($block$jscomp$142$$.$param$&4)].join(", ")+")\n"}}}}}()),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$18$$=
[{$sh$:"r",x:-.15,y:.3,size:1.4,$str$:"black",fillStyle:"#666",strokeStyle:"white"},{$sh$:"r",x:-.3,y:0,size:1.4,$str$:"red",fillStyle:"red",strokeStyle:"white"},{$sh$:"r",x:0,y:0,size:1.4,$str$:"green",fillStyle:"#0c0",strokeStyle:"white"},{$sh$:"r",x:.3,y:0,size:1.4,$str$:"yellow",fillStyle:"yellow",strokeStyle:"silver"},{$sh$:"r",x:-.3,y:-.3,size:1.4,$str$:"blue",fillStyle:"blue",strokeStyle:"white"},{$sh$:"r",x:0,y:-.3,size:1.4,$str$:"magenta",fillStyle:"magenta",strokeStyle:"white"},{$sh$:"r",
x:.3,y:-.3,size:1.4,$str$:"cyan",fillStyle:"cyan",strokeStyle:"white"},{$sh$:"r",x:.15,y:.3,size:1.4,$str$:"white",fillStyle:"white",strokeStyle:"silver"}];return{name:"bottom-right color 8",$modes$:["c"],type:"a",$defaultParam$:function(){return[0]},$draw$:function($canvas$jscomp$99$$,$block$jscomp$143$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$99$$,{$withWheels$:!0,$rgb$:[$block$jscomp$143$$.$param$&1,($block$jscomp$143$$.$param$&2)/2,($block$jscomp$143$$.$param$&4)/4],$side$:"right"});
$canvas$jscomp$99$$.buttons($buttons$jscomp$18$$,[1>$block$jscomp$143$$.$param$[0]?-2:0,-1<$block$jscomp$143$$.$param$[0]?-2:0])},$mousedown$:function($canvas$jscomp$100_i$jscomp$113$$,$block$jscomp$144$$,$width$jscomp$93$$,$height$jscomp$90$$,$left$jscomp$63$$,$top$jscomp$61$$,$ev$jscomp$56$$){$canvas$jscomp$100_i$jscomp$113$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$18$$,$width$jscomp$93$$,$height$jscomp$90$$,$left$jscomp$63$$,$top$jscomp$61$$,$ev$jscomp$56$$);null!==$canvas$jscomp$100_i$jscomp$113$$&&
($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$144$$),$block$jscomp$144$$.$param$=[$canvas$jscomp$100_i$jscomp$113$$]);return $canvas$jscomp$100_i$jscomp$113$$},$genCode$:{aseba:function($block$jscomp$145$$){return{$initCodeExec$:["call leds.top(0, 0, 0)\ncall leds.bottom.left(0, 0, 0)\ncall leds.bottom.right(0, 0, 0)\ncall leds.circle(0, 0, 0, 0, 0, 0, 0, 0)\n"],$statement$:"call leds.bottom.right("+[32*($block$jscomp$145$$.$param$&1),16*($block$jscomp$145$$.$param$&2),8*($block$jscomp$145$$.$param$&
4)].join(", ")+")\n"}}}}}()),new $A3a$vpl$BlockTemplate$$({name:"notes",type:"a",$defaultParam$:function(){return[0,1,1,1,2,1,0,1,2,1,4,2]},$draw$:function($canvas$jscomp$101$$,$block$jscomp$146_notes$jscomp$inline_153$$){$block$jscomp$146_notes$jscomp$inline_153$$=$block$jscomp$146_notes$jscomp$inline_153$$.$param$;var $ctx$jscomp$inline_154$$=$canvas$jscomp$101$$.$ctx$,$dims$jscomp$inline_155$$=$canvas$jscomp$101$$.$dims$;$ctx$jscomp$inline_154$$.save();$ctx$jscomp$inline_154$$.fillStyle="#eee";
for(var $i$jscomp$inline_156$$=0;5>$i$jscomp$inline_156$$;$i$jscomp$inline_156$$++)$ctx$jscomp$inline_154$$.fillRect(.1*$dims$jscomp$inline_155$$.$blockSize$,$dims$jscomp$inline_155$$.$blockSize$*(.1+.16*$i$jscomp$inline_156$$),.8*$dims$jscomp$inline_155$$.$blockSize$,.16*$dims$jscomp$inline_155$$.$blockSize$-$dims$jscomp$inline_155$$.$blockLineWidth$);$JSCompiler_StaticMethods_notesLL$$($canvas$jscomp$101$$,$block$jscomp$146_notes$jscomp$inline_153$$,.1,.9,.9,.1,5,.14,1);$ctx$jscomp$inline_154$$.restore()},
$mousedown$:function($canvas$jscomp$102_note$$,$block$jscomp$147$$,$width$jscomp$94$$,$height$jscomp$91$$,$left$jscomp$64$$,$top$jscomp$62$$,$ev$jscomp$57$$){return($canvas$jscomp$102_note$$=$JSCompiler_StaticMethods_noteClickLL$$(.1,.9,.9,.1,6,5,$width$jscomp$94$$,$height$jscomp$91$$,$left$jscomp$64$$,$top$jscomp$62$$,$ev$jscomp$57$$))?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$147$$),$block$jscomp$147$$.$param$[2*$canvas$jscomp$102_note$$.index]===$canvas$jscomp$102_note$$.tone?$block$jscomp$147$$.$param$[2*
$canvas$jscomp$102_note$$.index+1]=($block$jscomp$147$$.$param$[2*$canvas$jscomp$102_note$$.index+1]+1)%3:($block$jscomp$147$$.$param$[2*$canvas$jscomp$102_note$$.index]=$canvas$jscomp$102_note$$.tone,$block$jscomp$147$$.$param$[2*$canvas$jscomp$102_note$$.index+1]=1),0):null},$genCode$:{aseba:function($block$jscomp$148$$){for(var $notes$jscomp$2$$=[],$durations$$=[],$i$jscomp$114$$=0;6>$i$jscomp$114$$;$i$jscomp$114$$++)0<$block$jscomp$148$$.$param$[2*$i$jscomp$114$$+1]?($notes$jscomp$2$$.push([262,
311,370,440,524,370][$block$jscomp$148$$.$param$[2*$i$jscomp$114$$]]),$durations$$.push(7*$block$jscomp$148$$.$param$[2*$i$jscomp$114$$+1])):($notes$jscomp$2$$.push(0),$durations$$.push(28));return{$initVarDecl$:["# variables for notes\nvar notes[6]\nvar durations[6]\nvar note_index\nvar note_count\nvar wave[142]\nvar i\nvar wave_phase\nvar wave_intensity\n"],$initCodeExec$:["# init. variables for notes\nnote_index = 6\nnote_count = 6\n","# compute a sinus wave for sound\nfor i in 0 : 141 do\nwave_phase = (i - 70) * 468\ncall math.cos(wave_intensity, wave_phase)\nwave[i] = wave_intensity / 256\nend\ncall sound.wave(wave)\n",
"call sound.system(-1)\n"],$initCodeDecl$:["# when a note is finished, play the next one\nonevent sound.finished\nif note_index != note_count then\ncall sound.freq(notes[note_index], durations[note_index])\nnote_index++\nend\n"],$statement$:"notes = ["+$notes$jscomp$2$$.join(", ")+"]\ndurations = ["+$durations$$.join(", ")+"]\nnote_index = 1\nnote_count = 6\ncall sound.freq(notes[0], durations[0])\n"}}}}),new $A3a$vpl$BlockTemplate$$({name:"set state",$modes$:["a"],type:"a",$defaultParam$:function(){return[0,
0,0,0]},$typicalParam$:function(){return[0,1,-1,0]},$draw$:function($canvas$jscomp$103$$,$block$jscomp$149$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$103$$);$JSCompiler_StaticMethods_drawState$$($canvas$jscomp$103$$,$block$jscomp$149$$.$param$)},$mousedown$:function($canvas$jscomp$104_i$jscomp$115$$,$block$jscomp$150$$,$width$jscomp$95$$,$height$jscomp$92$$,$left$jscomp$65$$,$top$jscomp$63$$,$ev$jscomp$58$$){$canvas$jscomp$104_i$jscomp$115$$=$JSCompiler_StaticMethods_stateClick$$($width$jscomp$95$$,
$height$jscomp$92$$,$left$jscomp$65$$,$top$jscomp$63$$,$ev$jscomp$58$$);null!==$canvas$jscomp$104_i$jscomp$115$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$150$$),$block$jscomp$150$$.$param$[$canvas$jscomp$104_i$jscomp$115$$]=($block$jscomp$150$$.$param$[$canvas$jscomp$104_i$jscomp$115$$]+2)%3-1);return $canvas$jscomp$104_i$jscomp$115$$},$genCode$:{aseba:function($block$jscomp$151$$){for(var $code$jscomp$17$$="",$i$jscomp$116$$=0;4>$i$jscomp$116$$;$i$jscomp$116$$++)$block$jscomp$151$$.$param$[$i$jscomp$116$$]&&
($code$jscomp$17$$+="state["+$i$jscomp$116$$+"] = "+(0<$block$jscomp$151$$.$param$[$i$jscomp$116$$]?"1":"0")+"\n");return{$initVarDecl$:["var state[4]\n"],$initCodeExec$:["state = [0, 0, 0, 0]\n"],$initCodeDecl$:["sub display_state\ncall leds.circle(0,state[1]*32,0,state[3]*32,0,state[2]*32,0,state[0]*32)\n"],$statement$:0<$code$jscomp$17$$.length?$code$jscomp$17$$+"callsub display_state\n":"",$statementWithoutInit$:"call leds.circle(0,"+($block$jscomp$151$$.$param$[1]?"32":"0")+",0,"+($block$jscomp$151$$.$param$[3]?
"32":"0")+",0,"+($block$jscomp$151$$.$param$[2]?"32":"0")+",0,"+($block$jscomp$151$$.$param$[0]?"32":"0")+")\n"}}}}),new $A3a$vpl$BlockTemplate$$({name:"toggle state",$modes$:["c"],type:"a",$defaultParam$:function(){return[!1,!1,!1,!1]},$draw$:function($canvas$jscomp$105$$,$block$jscomp$152$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$105$$);$JSCompiler_StaticMethods_drawState$$($canvas$jscomp$105$$,$block$jscomp$152$$.$param$.map(function($b$jscomp$11$$){return $b$jscomp$11$$?2:0}));$A3a$vpl$Canvas$drawArcArrow$$($canvas$jscomp$105$$.$ctx$,
$canvas$jscomp$105$$.$dims$.$blockSize$/2,$canvas$jscomp$105$$.$dims$.$blockSize$/2,.2*$canvas$jscomp$105$$.$dims$.$blockSize$,-1.4,1.4,{style:"black",lineWidth:$canvas$jscomp$105$$.$dims$.$blockLineWidth$,$arrowSize$:5*$canvas$jscomp$105$$.$dims$.$blockLineWidth$});$A3a$vpl$Canvas$drawArcArrow$$($canvas$jscomp$105$$.$ctx$,$canvas$jscomp$105$$.$dims$.$blockSize$/2,$canvas$jscomp$105$$.$dims$.$blockSize$/2,.2*$canvas$jscomp$105$$.$dims$.$blockSize$,Math.PI-1.4,Math.PI+1.4,{style:"black",lineWidth:$canvas$jscomp$105$$.$dims$.$blockLineWidth$,
$arrowSize$:5*$canvas$jscomp$105$$.$dims$.$blockLineWidth$})},$mousedown$:function($canvas$jscomp$106_i$jscomp$117$$,$block$jscomp$153$$,$width$jscomp$96$$,$height$jscomp$93$$,$left$jscomp$66$$,$top$jscomp$64$$,$ev$jscomp$59$$){$canvas$jscomp$106_i$jscomp$117$$=$JSCompiler_StaticMethods_stateClick$$($width$jscomp$96$$,$height$jscomp$93$$,$left$jscomp$66$$,$top$jscomp$64$$,$ev$jscomp$59$$);null!==$canvas$jscomp$106_i$jscomp$117$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$153$$),$block$jscomp$153$$.$param$[$canvas$jscomp$106_i$jscomp$117$$]=
!$block$jscomp$153$$.$param$[$canvas$jscomp$106_i$jscomp$117$$]);return $canvas$jscomp$106_i$jscomp$117$$},$genCode$:{aseba:function($block$jscomp$154$$){for(var $code$jscomp$18$$="",$i$jscomp$118$$=0;4>$i$jscomp$118$$;$i$jscomp$118$$++)$block$jscomp$154$$.$param$[$i$jscomp$118$$]&&($code$jscomp$18$$+="state["+$i$jscomp$118$$+"] = 1 - state["+$i$jscomp$118$$+"]\n");return{$initVarDecl$:["var state[4]\n"],$initCodeExec$:["state = [0, 0, 0, 0]\n"],$initCodeDecl$:["sub display_state\ncall leds.circle(0,state[1]*32,0,state[3]*32,0,state[2]*32,0,state[0]*32)\n"],
$statement$:0<$code$jscomp$18$$.length?$code$jscomp$18$$+"callsub display_state\n":"",$statementWithoutInit$:"call leds.circle(0,"+($block$jscomp$154$$.$param$[1]?"32":"0")+",0,"+($block$jscomp$154$$.$param$[3]?"32":"0")+",0,"+($block$jscomp$154$$.$param$[2]?"32":"0")+",0,"+($block$jscomp$154$$.$param$[0]?"32":"0")+")\n"}}}}),new $A3a$vpl$BlockTemplate$$({name:"set state 8",$modes$:["c"],type:"a",$defaultParam$:function(){return[0]},$draw$:function($canvas$jscomp$107$$,$block$jscomp$155$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$107$$);
$JSCompiler_StaticMethods_drawState8$$($canvas$jscomp$107$$,$block$jscomp$155$$.$param$[0])},$mousedown$:function($canvas$jscomp$108_i$jscomp$119$$,$block$jscomp$156$$,$width$jscomp$97$$,$height$jscomp$94$$,$left$jscomp$67$$,$top$jscomp$65$$,$ev$jscomp$60$$){$canvas$jscomp$108_i$jscomp$119$$=$JSCompiler_StaticMethods_state8Click$$($width$jscomp$97$$,$height$jscomp$94$$,$left$jscomp$67$$,$top$jscomp$65$$,$ev$jscomp$60$$);null!==$canvas$jscomp$108_i$jscomp$119$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$156$$),
$block$jscomp$156$$.$param$[0]=$canvas$jscomp$108_i$jscomp$119$$);return $canvas$jscomp$108_i$jscomp$119$$},$genCode$:{aseba:function($block$jscomp$157$$){return{$initVarDecl$:["var state8\n"],$initCodeExec$:["state8 = 0\n"],$initCodeDecl$:["sub display_state8\ncall leds.circle((state8==0)*32, (state8==1)*32, (state8==2)*32, (state8==3)*32, (state8==4)*32, (state8==5)*32, (state8==6)*32, (state8==7)*32)\n"],$statement$:"state8 = "+$block$jscomp$157$$.$param$[0].toString(10)+"\ncallsub display_state8\n",
$statementWithoutInit$:"call leds.circle("+(0===$block$jscomp$157$$.$param$[0]?"32":"0")+","+(1===$block$jscomp$157$$.$param$[0]?"32":"0")+","+(2===$block$jscomp$157$$.$param$[0]?"32":"0")+","+(3===$block$jscomp$157$$.$param$[0]?"32":"0")+","+(4===$block$jscomp$157$$.$param$[0]?"32":"0")+","+(5===$block$jscomp$157$$.$param$[0]?"32":"0")+","+(6===$block$jscomp$157$$.$param$[0]?"32":"0")+","+(7===$block$jscomp$157$$.$param$[0]?"32":"0")+")\n"}}}}),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$19$$=
[{$sh$:"c",x:-.2,y:0},{$sh$:"c",x:.2,y:0}];return{name:"change state 8",$modes$:["c"],type:"a",$defaultParam$:function(){return[1]},$draw$:function($canvas$jscomp$109$$,$block$jscomp$158$$){$JSCompiler_StaticMethods_robotTop$$($canvas$jscomp$109$$);var $ctx$jscomp$inline_159$$=$canvas$jscomp$109$$.$ctx$;$ctx$jscomp$inline_159$$.save();for(var $i$jscomp$inline_160$$=0;8>$i$jscomp$inline_160$$;$i$jscomp$inline_160$$++)$JSCompiler_StaticMethods_drawArc$$($canvas$jscomp$109$$,Math.PI*(.46-.25*$i$jscomp$inline_160$$),
Math.PI*(.54-.25*$i$jscomp$inline_160$$),0);$ctx$jscomp$inline_159$$.restore();$A3a$vpl$Canvas$drawArcArrow$$($canvas$jscomp$109$$.$ctx$,$canvas$jscomp$109$$.$dims$.$blockSize$/2,$canvas$jscomp$109$$.$dims$.$blockSize$/2,.375*$canvas$jscomp$109$$.$dims$.$blockSize$,-.8,.8,{style:"black",lineWidth:$canvas$jscomp$109$$.$dims$.$blockLineWidth$,$arrowSize$:5*$canvas$jscomp$109$$.$dims$.$blockLineWidth$});$A3a$vpl$Canvas$drawArcArrow$$($canvas$jscomp$109$$.$ctx$,$canvas$jscomp$109$$.$dims$.$blockSize$/
2,$canvas$jscomp$109$$.$dims$.$blockSize$/2,.375*$canvas$jscomp$109$$.$dims$.$blockSize$,Math.PI-.8,Math.PI+.8,{$arrowAtStart$:!0,style:"black",lineWidth:$canvas$jscomp$109$$.$dims$.$blockLineWidth$,$arrowSize$:5*$canvas$jscomp$109$$.$dims$.$blockLineWidth$});$canvas$jscomp$109$$.buttons($buttons$jscomp$19$$,[0>$block$jscomp$158$$.$param$[0],0<$block$jscomp$158$$.$param$[0]])},$mousedown$:function($canvas$jscomp$110_i$jscomp$120$$,$block$jscomp$159$$,$width$jscomp$98$$,$height$jscomp$95$$,$left$jscomp$68$$,
$top$jscomp$66$$,$ev$jscomp$61$$){$canvas$jscomp$110_i$jscomp$120$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$19$$,$width$jscomp$98$$,$height$jscomp$95$$,$left$jscomp$68$$,$top$jscomp$66$$,$ev$jscomp$61$$);null!==$canvas$jscomp$110_i$jscomp$120$$&&($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$159$$),$block$jscomp$159$$.$param$[0]=0===$canvas$jscomp$110_i$jscomp$120$$?-1:1);return $canvas$jscomp$110_i$jscomp$120$$},$genCode$:{aseba:function($block$jscomp$160$$){return{$initVarDecl$:["var state8\n"],
$initCodeExec$:["state8 = 0\n"],$initCodeDecl$:["sub display_state8\ncall leds.circle((state8==0)*32, (state8==1)*32, (state8==2)*32, (state8==3)*32, (state8==4)*32, (state8==5)*32, (state8==6)*32, (state8==7)*32)\n"],$statement$:"state8 = (state8 + "+(0<$block$jscomp$160$$.$param$[0]?"1":"7")+") % 8\ncallsub display_state8\n",$statementWithoutInit$:"call leds.circle("+(0===$block$jscomp$160$$.$param$[0]?"32":"0")+","+(1===$block$jscomp$160$$.$param$[0]?"32":"0")+","+(2===$block$jscomp$160$$.$param$[0]?
"32":"0")+","+(3===$block$jscomp$160$$.$param$[0]?"32":"0")+","+(4===$block$jscomp$160$$.$param$[0]?"32":"0")+","+(5===$block$jscomp$160$$.$param$[0]?"32":"0")+","+(6===$block$jscomp$160$$.$param$[0]?"32":"0")+","+(7===$block$jscomp$160$$.$param$[0]?"32":"0")+")\n"}}}}}()),new $A3a$vpl$BlockTemplate$$(function(){var $buttons$jscomp$20$$=[{$sh$:"t",x:0,y:.3,r:0},{$sh$:"t",x:0,y:-.3,r:Math.PI}];return{name:"set counter",$modes$:["a"],type:"a",$defaultParam$:function(){return[0]},$draw$:function($canvas$jscomp$111$$,
$block$jscomp$161$$){$canvas$jscomp$111$$.text(0===$block$jscomp$161$$.$param$[0]?"= 0":0<$block$jscomp$161$$.$param$[0]?"+1":"\u22121");$canvas$jscomp$111$$.buttons($buttons$jscomp$20$$,[1>$block$jscomp$161$$.$param$[0]?-2:0,-1<$block$jscomp$161$$.$param$[0]?-2:0])},$mousedown$:function($canvas$jscomp$112_i$jscomp$121$$,$block$jscomp$162$$,$width$jscomp$99$$,$height$jscomp$96$$,$left$jscomp$69$$,$top$jscomp$67$$,$ev$jscomp$62$$){$canvas$jscomp$112_i$jscomp$121$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$20$$,
$width$jscomp$99$$,$height$jscomp$96$$,$left$jscomp$69$$,$top$jscomp$67$$,$ev$jscomp$62$$);if(null!==$canvas$jscomp$112_i$jscomp$121$$)switch($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$162$$),$canvas$jscomp$112_i$jscomp$121$$){case 0:$block$jscomp$162$$.$param$[0]=Math.min(1,$block$jscomp$162$$.$param$[0]+1);break;case 1:$block$jscomp$162$$.$param$[0]=Math.max(-1,$block$jscomp$162$$.$param$[0]-1)}return $canvas$jscomp$112_i$jscomp$121$$},$genCode$:{aseba:function($block$jscomp$163$$){return{$initVarDecl$:["var counter\n"],
$initCodeExec$:["counter = 0\n"],$initCodeDecl$:["sub display_counter\ncall leds.circle((counter&1)<<5,(counter&2)<<4,(counter&4)<<3,(counter&8)<<2,(counter&16)<<1,counter&32,(counter&64)>>1,(counter&128)>>2)\n"],$statement$:(0===$block$jscomp$163$$.$param$[0]?"counter = 0":0<$block$jscomp$163$$.$param$[0]?"if counter < 255 then\ncounter++\nend":"if counter > 0 then\ncounter--\nend")+"\ncallsub display_counter\n",$statementWithoutInit$:"call leds.circle("+(0<$block$jscomp$163$$.$param$[0]?"1":"0")+
",0,0,0,0,0,0,0)\n"}}}}}()),new $A3a$vpl$BlockTemplate$$({name:"set timer",$modes$:["a"],type:"a",$defaultParam$:function(){return[1]},$draw$:function($canvas$jscomp$113$$,$block$jscomp$164$$){$JSCompiler_StaticMethods_drawTimer$$($canvas$jscomp$113$$,$block$jscomp$164$$.$param$[0],!1,!1)},$mousedown$:function($canvas$jscomp$114$$,$block$jscomp$165$$,$width$jscomp$100$$,$height$jscomp$97$$,$left$jscomp$70$$,$top$jscomp$68$$,$ev$jscomp$63$$){return $JSCompiler_StaticMethods_timerCheck$$($width$jscomp$100$$,
$height$jscomp$97$$,$left$jscomp$70$$,$top$jscomp$68$$,$ev$jscomp$63$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$165$$),1):null},$mousedrag$:function($canvas$jscomp$115$$,$block$jscomp$166$$,$dragIndex$jscomp$17$$,$width$jscomp$101$$,$height$jscomp$98$$,$left$jscomp$71$$,$top$jscomp$69$$,$ev$jscomp$64$$){$block$jscomp$166$$.$param$[0]=$JSCompiler_StaticMethods_timerDrag$$($width$jscomp$101$$,$height$jscomp$98$$,$left$jscomp$71$$,$top$jscomp$69$$,!1,$ev$jscomp$64$$)},$genCode$:{aseba:function($block$jscomp$167$$){return{$initVarDecl$:["var timerElapsed\n"],
$initCodeExec$:["# stop timer 0\ntimer.period[0] = 0\n","timerElapsed = 0\n"],$statement$:"timer.period[0] = "+Math.round(1E3*$block$jscomp$167$$.$param$[0])+"\ntimerElapsed = 0\n"}}}}),new $A3a$vpl$BlockTemplate$$({name:"set timer log",$modes$:["c"],type:"a",$defaultParam$:function(){return[1]},$draw$:function($canvas$jscomp$116$$,$block$jscomp$168$$){$JSCompiler_StaticMethods_drawTimer$$($canvas$jscomp$116$$,$block$jscomp$168$$.$param$[0],!1,!0)},$mousedown$:function($canvas$jscomp$117$$,$block$jscomp$169$$,
$width$jscomp$102$$,$height$jscomp$99$$,$left$jscomp$72$$,$top$jscomp$70$$,$ev$jscomp$65$$){return $JSCompiler_StaticMethods_timerCheck$$($width$jscomp$102$$,$height$jscomp$99$$,$left$jscomp$72$$,$top$jscomp$70$$,$ev$jscomp$65$$)?($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$169$$),1):null},$mousedrag$:function($canvas$jscomp$118$$,$block$jscomp$170$$,$dragIndex$jscomp$18$$,$width$jscomp$103$$,$height$jscomp$100$$,$left$jscomp$73$$,$top$jscomp$71$$,$ev$jscomp$66$$){$block$jscomp$170$$.$param$[0]=
$JSCompiler_StaticMethods_timerDrag$$($width$jscomp$103$$,$height$jscomp$100$$,$left$jscomp$73$$,$top$jscomp$71$$,!0,$ev$jscomp$66$$)},$genCode$:{aseba:function($block$jscomp$171$$){return{$initVarDecl$:["var timerElapsed\n"],$initCodeExec$:["# stop timer 0\ntimer.period[0] = 0\n","timerElapsed = 0\n"],$statement$:"timer.period[0] = "+Math.round(1E3*$block$jscomp$171$$.$param$[0])+"\ntimerElapsed = 0\n"}}}}),new $A3a$vpl$BlockTemplate$$(function(){function $updateImage$$($block$jscomp$172$$,$loadedFun$$){if($block$jscomp$172$$.$param$[1]){var $im$$=
new Image;$im$$.src=$block$jscomp$172$$.$param$[1];$im$$.addEventListener("load",function(){$block$jscomp$172$$.$param$[2]=$im$$;$loadedFun$$&&$loadedFun$$()},!1)}}var $buttons$jscomp$21$$=[{$sh$:"c",x:-.33,y:-.3,r:0}];return{name:"picture comment",$modes$:["a"],type:"c",$defaultParam$:function(){return[!1,"",null]},$exportParam$:function($block$jscomp$173$$){return 2<=$block$jscomp$173$$.$param$.length?[!1,$block$jscomp$173$$.$param$[1]]:[!1,""]},$importParam$:function($block$jscomp$174$$,$param$jscomp$5$$,
$readyFun$$){$block$jscomp$174$$.$param$=2<=$param$jscomp$5$$.length?[!1,$param$jscomp$5$$[1]]:[!1,""];$updateImage$$($block$jscomp$174$$,$readyFun$$)},$draw$:function($canvas$jscomp$119$$,$block$jscomp$175$$){$block$jscomp$175$$.$param$[2]&&$canvas$jscomp$119$$.$ctx$.drawImage($block$jscomp$175$$.$param$[2],0,0,240,240,0,0,$canvas$jscomp$119$$.$dims$.$blockSize$,$canvas$jscomp$119$$.$dims$.$blockSize$);$canvas$jscomp$119$$.buttons($buttons$jscomp$21$$,[$block$jscomp$175$$.$param$[0]])},$mousedown$:function($canvas$jscomp$120$$,
$block$jscomp$176$$,$i$jscomp$122_width$jscomp$104$$,$height$jscomp$101$$,$left$jscomp$74$$,$top$jscomp$72$$,$ev$jscomp$67$$){$i$jscomp$122_width$jscomp$104$$=$JSCompiler_StaticMethods_buttonClick$$($buttons$jscomp$21$$,$i$jscomp$122_width$jscomp$104$$,$height$jscomp$101$$,$left$jscomp$74$$,$top$jscomp$72$$,$ev$jscomp$67$$);0===$i$jscomp$122_width$jscomp$104$$&&($block$jscomp$176$$.$param$[0]?$A3a$webcamVideo$$&&($A3a$webcamVideo$$.pause&&$A3a$webcamVideo$$.pause(),$A3a$webcamStream$$.getTracks().forEach(function($track$jscomp$4$$){$track$jscomp$4$$.stop()}),
$A3a$webcamVideo$$=null):($JSCompiler_StaticMethods_prepareChange$$($block$jscomp$176$$),navigator.mediaDevices.getUserMedia({audio:!1,video:{width:320,height:240}}).then(function($stream$jscomp$4$$){$A3a$webcamStream$$=$stream$jscomp$4$$;$A3a$webcamVideo$$=document.createElement("video");$A3a$webcamVideo$$.srcObject=$stream$jscomp$4$$;$A3a$webcamVideo$$.addEventListener("loadedmetadata",function(){$A3a$webcamVideo$$.play();var $id$jscomp$22$$=setInterval(function grab(){$A3a$webcamVideo$$?($A3a$webcamCanvas$$||
($A3a$webcamCanvas$$=document.createElement("canvas"),$A3a$webcamCanvas$$.width=240,$A3a$webcamCanvas$$.height=240),$A3a$webcamCanvas$$.getContext("2d").drawImage($A3a$webcamVideo$$,0,0,240,240,0,0,240,240),$block$jscomp$176$$.$param$[1]=$A3a$webcamCanvas$$.toDataURL("image/png"),$updateImage$$($block$jscomp$176$$,function(){$canvas$jscomp$120$$.$onUpdate$&&$canvas$jscomp$120$$.$onUpdate$();$JSCompiler_StaticMethods_redraw$$($canvas$jscomp$120$$)})):clearInterval($id$jscomp$22$$)},100)},!1)})),$block$jscomp$176$$.$param$[0]=
!$block$jscomp$176$$.$param$[0]);return $i$jscomp$122_width$jscomp$104$$},$genCode$:{aseba:function(){return{}}}}}())];function $SVG$$($src$jscomp$6$$){this.$o$=new DOMParser;this.$b$=this.$o$.parseFromString($src$jscomp$6$$,"text/xml");this.$g$=this.$b$.documentElement;this.$viewBox$=(this.$g$.getAttribute("viewBox")||"0 0 1 1").split(" ").map(function($s$jscomp$21$$){return parseFloat($s$jscomp$21$$)});this.$l$={}}
var $SVG$colorDict$$={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",
darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",
ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",
lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",
moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",
seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};
function $SVG$mergeStyle$$($baseDict$$,$newDict$$){for(var $key$jscomp$48$$ in $newDict$$)$newDict$$.hasOwnProperty($key$jscomp$48$$)&&($baseDict$$[$key$jscomp$48$$]=$newDict$$[$key$jscomp$48$$])}function $SVG$copyStyle$$($dict$$){var $copy$$={};$SVG$mergeStyle$$($copy$$,$dict$$);return $copy$$}
function $SVG$parseStyle$$($dict$jscomp$1$$,$style$jscomp$2$$){$style$jscomp$2$$.split(";").forEach(function($st$$){$st$$=$st$$.trim().split(":").map(function($s$jscomp$22$$){return $s$jscomp$22$$.trim()});2===$st$$.length&&($dict$jscomp$1$$[$st$$[0]]=$st$$[1])})}
function $SVG$applyTransform$$($tr$jscomp$4$$,$doTranslate$$,$doRotate$$,$doScale$$,$doApplyMatrix$$){$tr$jscomp$4$$&&($tr$jscomp$4$$=$tr$jscomp$4$$.replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/ +,/g,",").replace(/, +/g,",").replace(/ +/g,","),$tr$jscomp$4$$.split(")").slice(0,-1).forEach(function($args_t$jscomp$3_y0$jscomp$13$$){var $a$jscomp$18_c$jscomp$6_scx$$=$args_t$jscomp$3_y0$jscomp$13$$.split("(")[0];$args_t$jscomp$3_y0$jscomp$13$$=$args_t$jscomp$3_y0$jscomp$13$$.split("(")[1].split(",").map(function($s$jscomp$23$$){return parseFloat($s$jscomp$23$$)});
switch($a$jscomp$18_c$jscomp$6_scx$$){case "translate":$doTranslate$$($args_t$jscomp$3_y0$jscomp$13$$[0]||0,$args_t$jscomp$3_y0$jscomp$13$$[1]||0);break;case "rotate":$a$jscomp$18_c$jscomp$6_scx$$=($args_t$jscomp$3_y0$jscomp$13$$[0]||0)*Math.PI/180;var $x0$jscomp$13$$=$args_t$jscomp$3_y0$jscomp$13$$[1]||0;$args_t$jscomp$3_y0$jscomp$13$$=$args_t$jscomp$3_y0$jscomp$13$$[2]||0;0!==$x0$jscomp$13$$||0!==$args_t$jscomp$3_y0$jscomp$13$$?($doTranslate$$(-$x0$jscomp$13$$,-$args_t$jscomp$3_y0$jscomp$13$$),
$doRotate$$($a$jscomp$18_c$jscomp$6_scx$$),$doTranslate$$($x0$jscomp$13$$,$args_t$jscomp$3_y0$jscomp$13$$)):$doRotate$$($a$jscomp$18_c$jscomp$6_scx$$);break;case "scale":$a$jscomp$18_c$jscomp$6_scx$$=$args_t$jscomp$3_y0$jscomp$13$$[0]||1;$doScale$$($a$jscomp$18_c$jscomp$6_scx$$,$args_t$jscomp$3_y0$jscomp$13$$[1]||$a$jscomp$18_c$jscomp$6_scx$$);break;case "matrix":$doApplyMatrix$$($args_t$jscomp$3_y0$jscomp$13$$[0],$args_t$jscomp$3_y0$jscomp$13$$[1],$args_t$jscomp$3_y0$jscomp$13$$[2],$args_t$jscomp$3_y0$jscomp$13$$[3],
$args_t$jscomp$3_y0$jscomp$13$$[4],$args_t$jscomp$3_y0$jscomp$13$$[5]);break;default:throw"transform not implemented: "+$a$jscomp$18_c$jscomp$6_scx$$;}}))}
function $SVG$applyTransformTo$$($transformString$$,$transform$jscomp$2$$){$SVG$applyTransform$$($transformString$$,function($dx$jscomp$16$$,$dy$jscomp$16$$){$transform$jscomp$2$$.translate($dx$jscomp$16$$,$dy$jscomp$16$$)},function($a$jscomp$19$$){$transform$jscomp$2$$.rotate($a$jscomp$19$$)},function($scx$jscomp$1$$,$scy$jscomp$1$$){$transform$jscomp$2$$.scale($scx$jscomp$1$$,$scy$jscomp$1$$)},function($a$jscomp$20$$,$b$jscomp$12$$,$c$jscomp$7$$,$d$jscomp$4$$,$e$jscomp$15$$,$f$jscomp$2$$){$transform$jscomp$2$$.$matrix$($a$jscomp$20$$,
$b$jscomp$12$$,$c$jscomp$7$$,$d$jscomp$4$$,$e$jscomp$15$$,$f$jscomp$2$$)})}
$SVG$$.prototype.$draw$=function $$SVG$$$$$draw$$($ctx$jscomp$65$$,$options$jscomp$18$$){function $drawEl$$($el$jscomp$3$$,$baseStyle$$,$overriddenStyle$$){function $drawChildren$$(){for(var $i$jscomp$126$$=0;$i$jscomp$126$$<$el$jscomp$3$$.childElementCount;$i$jscomp$126$$++)$drawEl$$($el$jscomp$3$$.children[$i$jscomp$126$$],$baseStyle$$,$overriddenStyle$$)}function $getArg$$($name$jscomp$89_val$jscomp$26$$,$def$$){$name$jscomp$89_val$jscomp$26$$=$el$jscomp$3$$.getAttribute($name$jscomp$89_val$jscomp$26$$);
return null===$name$jscomp$89_val$jscomp$26$$?$def$$||0:parseFloat($name$jscomp$89_val$jscomp$26$$)}function $addPoint$$($pt_x$jscomp$135$$,$y$jscomp$110$$){$pt_x$jscomp$135$$=$transform$jscomp$3$$.apply(new $SVG$Transform$Point$$($pt_x$jscomp$135$$,$y$jscomp$110$$));$xa$$.push($pt_x$jscomp$135$$.x);$ya$$.push($pt_x$jscomp$135$$.y)}function $lengthToNum$$($length$jscomp$17_r$jscomp$19$$,$def$jscomp$1_x$jscomp$136$$,$size$jscomp$15$$){if(null==$length$jscomp$17_r$jscomp$19$$||""==$length$jscomp$17_r$jscomp$19$$)return $def$jscomp$1_x$jscomp$136$$;
$length$jscomp$17_r$jscomp$19$$=/^\s*(-?[0-9.]+)\s*([a-z%]*)\s*$/i.exec($length$jscomp$17_r$jscomp$19$$);$def$jscomp$1_x$jscomp$136$$=parseFloat($length$jscomp$17_r$jscomp$19$$[1]);switch($length$jscomp$17_r$jscomp$19$$[2]||"px"){case "pt":return 25.4*$def$jscomp$1_x$jscomp$136$$/72*3;case "pc":return 25.4*$def$jscomp$1_x$jscomp$136$$/6*3;case "in":return 25.4*$def$jscomp$1_x$jscomp$136$$*3;case "mm":return 3*$def$jscomp$1_x$jscomp$136$$;case "cm":return 30*$def$jscomp$1_x$jscomp$136$$;case "em":return 18*
$def$jscomp$1_x$jscomp$136$$;case "ex":return 9*$def$jscomp$1_x$jscomp$136$$;case "%":return $def$jscomp$1_x$jscomp$136$$*$size$jscomp$15$$/100;default:return $def$jscomp$1_x$jscomp$136$$}}function $path$jscomp$3$$($d$jscomp$6$$){$d$jscomp$6$$=$d$jscomp$6$$.replace(/\.([0-9]+)(?=\.)/g,".$1 ").replace(/([.0-9])-/g,"$1 -").replace(/\s*([a-z])\s*/gi,";$1").replace(/\s*,\s*/g,",").replace(/\s+/g,",");var $x$jscomp$137$$=0,$y$jscomp$111$$=0,$xc1$$=0,$yc1$jscomp$1$$=0,$polyX$$=[],$polyY$$=[],$polyDoCollect$$=
!0;$ctx$jscomp$65$$&&$ctx$jscomp$65$$.beginPath();$d$jscomp$6$$.slice(1).split(";").forEach(function($args$jscomp$1_c$jscomp$9$$){var $cmd$jscomp$13_i$jscomp$127$$=$args$jscomp$1_c$jscomp$9$$[0];$args$jscomp$1_c$jscomp$9$$=1<$args$jscomp$1_c$jscomp$9$$.length?$args$jscomp$1_c$jscomp$9$$.slice(1).split(",").map(function($s$jscomp$25$$){return parseFloat($s$jscomp$25$$)}):[];switch($cmd$jscomp$13_i$jscomp$127$$){case "M":if(2<=$args$jscomp$1_c$jscomp$9$$.length){$x$jscomp$137$$=$args$jscomp$1_c$jscomp$9$$[0];
$y$jscomp$111$$=$args$jscomp$1_c$jscomp$9$$[1];$ctx$jscomp$65$$&&$ctx$jscomp$65$$.moveTo($x$jscomp$137$$,$y$jscomp$111$$);$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$);$polyDoCollect$$&&1<$polyX$$.length&&$options$jscomp$18$$&&$options$jscomp$18$$.$cb$&&$options$jscomp$18$$.$cb$.line&&$options$jscomp$18$$.$cb$.line($polyX$$,$polyY$$,!1);$polyDoCollect$$=!0;$polyX$$=$xa$$.slice(-1);$polyY$$=$ya$$.slice(-1);for($cmd$jscomp$13_i$jscomp$127$$=2;$cmd$jscomp$13_i$jscomp$127$$+1<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=
2)$x$jscomp$137$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($x$jscomp$137$$,$y$jscomp$111$$),$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyX$$.push($xa$$[$xa$$.length-1]),$polyY$$.push($ya$$[$ya$$.length-1]);$xc1$$=$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$}break;case "m":if(2<=$args$jscomp$1_c$jscomp$9$$.length)for($x$jscomp$137$$+=$args$jscomp$1_c$jscomp$9$$[0],
$y$jscomp$111$$+=$args$jscomp$1_c$jscomp$9$$[1],$ctx$jscomp$65$$&&$ctx$jscomp$65$$.moveTo($x$jscomp$137$$,$y$jscomp$111$$),$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyDoCollect$$&&1<$polyX$$.length&&$options$jscomp$18$$&&$options$jscomp$18$$.$cb$&&$options$jscomp$18$$.$cb$.line&&$options$jscomp$18$$.$cb$.line($polyX$$,$polyY$$,!1),$polyDoCollect$$=!0,$polyX$$=$xa$$.slice(-1),$polyY$$=$ya$$.slice(-1),$cmd$jscomp$13_i$jscomp$127$$=2;$cmd$jscomp$13_i$jscomp$127$$+1<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=
2)$x$jscomp$137$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($x$jscomp$137$$,$y$jscomp$111$$),$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyX$$.push($xa$$[$xa$$.length-1]),$polyY$$.push($ya$$[$ya$$.length-1]);$xc1$$=$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$;break;case "L":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+1<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=
2)$x$jscomp$137$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($x$jscomp$137$$,$y$jscomp$111$$),$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyX$$.push($xa$$[$xa$$.length-1]),$polyY$$.push($ya$$[$ya$$.length-1]);$xc1$$=$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$;break;case "l":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+1<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=
2)$x$jscomp$137$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($x$jscomp$137$$,$y$jscomp$111$$),$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyX$$.push($xa$$[$xa$$.length-1]),$polyY$$.push($ya$$[$ya$$.length-1]);$xc1$$=$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$;break;case "H":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$++)$x$jscomp$137$$=
$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($x$jscomp$137$$,$y$jscomp$111$$),$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyX$$.push($xa$$[$xa$$.length-1]),$polyY$$.push($ya$$[$ya$$.length-1]);$xc1$$=$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$;break;case "h":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$++)$x$jscomp$137$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],
$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($x$jscomp$137$$,$y$jscomp$111$$),$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyX$$.push($xa$$[$xa$$.length-1]),$polyY$$.push($ya$$[$ya$$.length-1]);$xc1$$=$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$;break;case "V":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$++)$y$jscomp$111$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($x$jscomp$137$$,
$y$jscomp$111$$),$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyX$$.push($xa$$[$xa$$.length-1]),$polyY$$.push($ya$$[$ya$$.length-1]);$xc1$$=$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$;break;case "v":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$++)$y$jscomp$111$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($x$jscomp$137$$,$y$jscomp$111$$),$addPoint$$($x$jscomp$137$$,
$y$jscomp$111$$),$polyX$$.push($xa$$[$xa$$.length-1]),$polyY$$.push($ya$$[$ya$$.length-1]);$xc1$$=$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$;break;case "A":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+6<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=7){var $x1$jscomp$6$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+5],$y1$jscomp$7$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+6],$p$jscomp$6$$=$ellipticalArc$$($args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],
$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2]*Math.PI/180,0!=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],0==$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+4],$x$jscomp$137$$,$y$jscomp$111$$,$x1$jscomp$6$$,$y1$jscomp$7$$);$x$jscomp$137$$=$x1$jscomp$6$$;$y$jscomp$111$$=$y1$jscomp$7$$;$addPoint$$($p$jscomp$6$$.x,$p$jscomp$6$$.y);$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$);$polyDoCollect$$=!1}$xc1$$=
$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$;break;case "a":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+6<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=7)$x1$jscomp$6$$=$x$jscomp$137$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+5],$y1$jscomp$7$$=$y$jscomp$111$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+6],$p$jscomp$6$$=$ellipticalArc$$($args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+
1],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2]*Math.PI/180,0!=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],0==$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+4],$x$jscomp$137$$,$y$jscomp$111$$,$x1$jscomp$6$$,$y1$jscomp$7$$),$x$jscomp$137$$=$x1$jscomp$6$$,$y$jscomp$111$$=$y1$jscomp$7$$,$addPoint$$($p$jscomp$6$$.x,$p$jscomp$6$$.y),$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyDoCollect$$=!1;$xc1$$=$x$jscomp$137$$;$yc1$jscomp$1$$=$y$jscomp$111$$;break;case "C":for($cmd$jscomp$13_i$jscomp$127$$=
0;$cmd$jscomp$13_i$jscomp$127$$+5<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=6)$ctx$jscomp$65$$&&$ctx$jscomp$65$$.bezierCurveTo($args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+4],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+
5]),$x$jscomp$137$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+4],$y$jscomp$111$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+5],$xc1$$=2*$x$jscomp$137$$-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$yc1$jscomp$1$$=2*$y$jscomp$111$$-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyDoCollect$$=!1;break;case "c":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+5<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=
6)$ctx$jscomp$65$$&&$ctx$jscomp$65$$.bezierCurveTo($x$jscomp$137$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$x$jscomp$137$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$y$jscomp$111$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],$x$jscomp$137$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+4],$y$jscomp$111$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+
5]),$xc1$$=$x$jscomp$137$$+2*$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+4]-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$yc1$jscomp$1$$=$y$jscomp$111$$+2*$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+5]-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],$x$jscomp$137$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+4],$y$jscomp$111$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+5],$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),
$polyDoCollect$$=!1;break;case "S":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+3<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=4)$ctx$jscomp$65$$&&$ctx$jscomp$65$$.bezierCurveTo($xc1$$,$yc1$jscomp$1$$,$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3]),$x$jscomp$137$$=
$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$y$jscomp$111$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],$xc1$$=2*$x$jscomp$137$$-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$yc1$jscomp$1$$=2*$y$jscomp$111$$-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyDoCollect$$=!1;break;case "s":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+3<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=
4)$ctx$jscomp$65$$&&$ctx$jscomp$65$$.bezierCurveTo($xc1$$,$yc1$jscomp$1$$,$x$jscomp$137$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$x$jscomp$137$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$y$jscomp$111$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3]),$xc1$$=$x$jscomp$137$$-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$yc1$jscomp$1$$=$y$jscomp$111$$-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+
1],$x$jscomp$137$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$y$jscomp$111$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyDoCollect$$=!1;break;case "Q":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+3<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=4)$ctx$jscomp$65$$&&$ctx$jscomp$65$$.quadraticCurveTo($args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+
1],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3]),$x$jscomp$137$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$y$jscomp$111$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],$xc1$$=2*$x$jscomp$137$$-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$yc1$jscomp$1$$=2*$y$jscomp$111$$-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),
$polyDoCollect$$=!1;break;case "q":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+3<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=4)$ctx$jscomp$65$$&&$ctx$jscomp$65$$.quadraticCurveTo($x$jscomp$137$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$x$jscomp$137$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$y$jscomp$111$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+
3]),$xc1$$=$x$jscomp$137$$+2*$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2]-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$yc1$jscomp$1$$=$y$jscomp$111$$+2*$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3]-$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$x$jscomp$137$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+2],$y$jscomp$111$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+3],$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),
$polyDoCollect$$=!1;break;case "T":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+1<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=2)$ctx$jscomp$65$$&&$ctx$jscomp$65$$.quadraticCurveTo($xc1$$,$yc1$jscomp$1$$,$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1]),$x$jscomp$137$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+
1],$xc1$$=2*$x$jscomp$137$$-$xc1$$,$yc1$jscomp$1$$=2*$y$jscomp$111$$-$yc1$jscomp$1$$,$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyDoCollect$$=!1;break;case "t":for($cmd$jscomp$13_i$jscomp$127$$=0;$cmd$jscomp$13_i$jscomp$127$$+1<$args$jscomp$1_c$jscomp$9$$.length;$cmd$jscomp$13_i$jscomp$127$$+=2)$ctx$jscomp$65$$&&$ctx$jscomp$65$$.quadraticCurveTo($xc1$$,$yc1$jscomp$1$$,$x$jscomp$137$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$+$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+
1]),$x$jscomp$137$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$],$y$jscomp$111$$+=$args$jscomp$1_c$jscomp$9$$[$cmd$jscomp$13_i$jscomp$127$$+1],$xc1$$=2*$x$jscomp$137$$-$xc1$$,$yc1$jscomp$1$$=2*$y$jscomp$111$$-$yc1$jscomp$1$$,$addPoint$$($x$jscomp$137$$,$y$jscomp$111$$),$polyDoCollect$$=!1;break;case "Z":case "z":$ctx$jscomp$65$$&&$ctx$jscomp$65$$.closePath();$polyDoCollect$$&&1<$polyX$$.length&&$options$jscomp$18$$&&$options$jscomp$18$$.$cb$&&$options$jscomp$18$$.$cb$.line&&$options$jscomp$18$$.$cb$.line($polyX$$,
$polyY$$,!0);$polyDoCollect$$=!0;$polyX$$=[];$polyY$$=[];break;default:throw"unimplemented path command: "+$cmd$jscomp$13_i$jscomp$127$$;}});$polyDoCollect$$&&1<$polyX$$.length&&$options$jscomp$18$$&&$options$jscomp$18$$.$cb$&&$options$jscomp$18$$.$cb$.line&&$options$jscomp$18$$.$cb$.line($polyX$$,$polyY$$,!1)}function $decodeFillStyle$$($fill_lg_rg$$){function $fillStopArray$$($stops$$,$stopEl$$){if(0<$stopEl$$.length){$stops$$.splice(0,$stops$$.length);for(var $i$jscomp$129$$=0;$i$jscomp$129$$<
$stopEl$$.length&&1>$i$jscomp$129$$;$i$jscomp$129$$++){var $opacity_str$jscomp$16_styleDict$$=($stopEl$$[$i$jscomp$129$$].getAttribute("offset")||"0").trim(),$offset$jscomp$19$$=/%$/.test($opacity_str$jscomp$16_styleDict$$)?parseFloat($opacity_str$jscomp$16_styleDict$$.slice(0,-1))/100:parseFloat($opacity_str$jscomp$16_styleDict$$),$color$jscomp$7_style$jscomp$4$$=$stopEl$$[$i$jscomp$129$$].getAttribute("style");$opacity_str$jscomp$16_styleDict$$={};$color$jscomp$7_style$jscomp$4$$&&$SVG$parseStyle$$($opacity_str$jscomp$16_styleDict$$,
$color$jscomp$7_style$jscomp$4$$);isNaN($offset$jscomp$19$$)||($color$jscomp$7_style$jscomp$4$$=$stopEl$$[$i$jscomp$129$$].getAttribute("stop-color")||$opacity_str$jscomp$16_styleDict$$["stop-color"]||"#000",$SVG$colorDict$$.hasOwnProperty($color$jscomp$7_style$jscomp$4$$)&&($color$jscomp$7_style$jscomp$4$$=$SVG$colorDict$$[$color$jscomp$7_style$jscomp$4$$]),$opacity_str$jscomp$16_styleDict$$=($stopEl$$[$i$jscomp$129$$].getAttribute("stop-opacity")||$opacity_str$jscomp$16_styleDict$$["stop-opacity"]||
"1").trim(),$opacity_str$jscomp$16_styleDict$$=/%$/.test($opacity_str$jscomp$16_styleDict$$)?parseFloat($opacity_str$jscomp$16_styleDict$$.slice(0,-1))/100:parseFloat($opacity_str$jscomp$16_styleDict$$),1!==$opacity_str$jscomp$16_styleDict$$&&(/^#[0-9a-f]{3}$/i.test($color$jscomp$7_style$jscomp$4$$)?$color$jscomp$7_style$jscomp$4$$="rgba("+$color$jscomp$7_style$jscomp$4$$.slice(1).split("").map(function($s$jscomp$26$$){return 17*parseInt($s$jscomp$26$$,16)}).map(function($x$jscomp$138$$){return $x$jscomp$138$$.toString(10)}).join(",")+
","+$opacity_str$jscomp$16_styleDict$$.toFixed(2)+")":/^#[0-9a-f]{6}$/i.test($color$jscomp$7_style$jscomp$4$$)?$color$jscomp$7_style$jscomp$4$$="rgba("+[$color$jscomp$7_style$jscomp$4$$.slice(1,3),$color$jscomp$7_style$jscomp$4$$.slice(3,5),$color$jscomp$7_style$jscomp$4$$.slice(5)].map(function($s$jscomp$27$$){return parseInt($s$jscomp$27$$,16)}).map(function($x$jscomp$139$$){return $x$jscomp$139$$.toString(10)}).join(",")+","+$opacity_str$jscomp$16_styleDict$$.toFixed(2)+")":/^rgb(\d+%?(,|\s+)\d+%?(,|\s+)\d+%?)$/i.test($color$jscomp$7_style$jscomp$4$$)?
$color$jscomp$7_style$jscomp$4$$=$color$jscomp$7_style$jscomp$4$$.slice(0,-1).replace(/\s+/g,",")+","+$opacity_str$jscomp$16_styleDict$$.toFixed(2)+")":/^hsl(\d+%?(,|\s+)\d+%?(,|\s+)\d+%?)$/i.test($color$jscomp$7_style$jscomp$4$$)&&($color$jscomp$7_style$jscomp$4$$=$color$jscomp$7_style$jscomp$4$$.slice(0,-1).replace(/\s+/g,",")+","+$opacity_str$jscomp$16_styleDict$$.toFixed(2)+")")),$stops$$.push({offset:$offset$jscomp$19$$,color:$color$jscomp$7_style$jscomp$4$$}))}}}function $fillLinearGradientProps$$($el$jscomp$4$$,
$props$jscomp$13$$){if($el$jscomp$4$$.attributes["xlink:href"]){var $href_targetEl$jscomp$1$$=$el$jscomp$4$$.getAttribute("xlink:href");"#"===$href_targetEl$jscomp$1$$[0]&&($href_targetEl$jscomp$1$$=$self$jscomp$15$$.$b$.getElementById($href_targetEl$jscomp$1$$.slice(1)))&&($props$jscomp$13$$=$fillLinearGradientProps$$($href_targetEl$jscomp$1$$,$props$jscomp$13$$))}$props$jscomp$13$$.$x1$=$el$jscomp$4$$.attributes.x1?parseFloat($el$jscomp$4$$.getAttribute("x1")):$props$jscomp$13$$.$x1$||0;$props$jscomp$13$$.$y1$=
$el$jscomp$4$$.attributes.y1?parseFloat($el$jscomp$4$$.getAttribute("y1")):$props$jscomp$13$$.$y1$||0;$props$jscomp$13$$.$x2$=$el$jscomp$4$$.attributes.x2?parseFloat($el$jscomp$4$$.getAttribute("x2")):$props$jscomp$13$$.$x2$||0;$props$jscomp$13$$.$y2$=$el$jscomp$4$$.attributes.y2?parseFloat($el$jscomp$4$$.getAttribute("y2")):$props$jscomp$13$$.$y2$||0;$props$jscomp$13$$.$gradientUnits$=$el$jscomp$4$$.attributes.gradientUnits?$el$jscomp$4$$.getAttribute("gradientUnits"):$props$jscomp$13$$.$gradientUnits$||
"objectBoundingBox";$props$jscomp$13$$.$gradientTransform$=$el$jscomp$4$$.attributes.gradientTransform?$el$jscomp$4$$.getAttribute("gradientTransform"):$props$jscomp$13$$.$gradientTransform$||"";$props$jscomp$13$$.$stops$=$props$jscomp$13$$.$stops$||[];$fillStopArray$$($props$jscomp$13$$.$stops$,$el$jscomp$4$$.getElementsByTagName("stop"));return $props$jscomp$13$$}function $fillRadialGradientProps$$($el$jscomp$5$$,$props$jscomp$14$$){if($el$jscomp$5$$.attributes["xlink:href"]){var $href$jscomp$1_targetEl$jscomp$2$$=
$el$jscomp$5$$.getAttribute("xlink:href");"#"===$href$jscomp$1_targetEl$jscomp$2$$[0]&&($href$jscomp$1_targetEl$jscomp$2$$=$self$jscomp$15$$.$b$.getElementById($href$jscomp$1_targetEl$jscomp$2$$.slice(1)))&&($props$jscomp$14$$=$fillRadialGradientProps$$($href$jscomp$1_targetEl$jscomp$2$$,$props$jscomp$14$$))}$props$jscomp$14$$.$cx$=$el$jscomp$5$$.attributes.cx?parseFloat($el$jscomp$5$$.getAttribute("cx")):$props$jscomp$14$$.$cx$||0;$props$jscomp$14$$.$cy$=$el$jscomp$5$$.attributes.cy?parseFloat($el$jscomp$5$$.getAttribute("cy")):
$props$jscomp$14$$.$cy$||0;$props$jscomp$14$$.r=$el$jscomp$5$$.attributes.r?parseFloat($el$jscomp$5$$.getAttribute("r")):$props$jscomp$14$$.r||0;$props$jscomp$14$$.$gradientUnits$=$el$jscomp$5$$.attributes.gradientUnits?$el$jscomp$5$$.getAttribute("gradientUnits"):$props$jscomp$14$$.$gradientUnits$||"objectBoundingBox";$props$jscomp$14$$.$gradientTransform$=$el$jscomp$5$$.attributes.gradientTransform?$el$jscomp$5$$.getAttribute("gradientTransform"):$props$jscomp$14$$.$gradientTransform$||"";$props$jscomp$14$$.$stops$=
$props$jscomp$14$$.$stops$||[];$fillStopArray$$($props$jscomp$14$$.$stops$,$el$jscomp$5$$.getElementsByTagName("stop"));return $props$jscomp$14$$}var $gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$=/^url\(#(.+)\)$/.exec($fill_lg_rg$$);if($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$&&$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$[1]&&($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$=$self$jscomp$15$$.$b$.getElementById($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$[1])))switch($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$.tagName){case "linearGradient":$fill_lg_rg$$=
$fillLinearGradientProps$$($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$,{});if("objectBoundingBox"===$fill_lg_rg$$.$gradientUnits$)throw"objectBoundingBox not supported";if($fill_lg_rg$$.$gradientTransform$)throw $gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$=new $SVG$Transform$$,$SVG$applyTransformTo$$($fill_lg_rg$$.$gradientTransform$,$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$),"gradientTransform not supported";var $centerTr_linearGradient_radialGradient$$=
$ctx$jscomp$65$$.createLinearGradient($fill_lg_rg$$.$x1$,$fill_lg_rg$$.$y1$,$fill_lg_rg$$.$x2$,$fill_lg_rg$$.$y2$);for($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$=0;$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$<$fill_lg_rg$$.$stops$.length;$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$++)$centerTr_linearGradient_radialGradient$$.addColorStop($fill_lg_rg$$.$stops$[$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$].offset,$fill_lg_rg$$.$stops$[$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$].color);
return $centerTr_linearGradient_radialGradient$$;case "radialGradient":$fill_lg_rg$$=$fillRadialGradientProps$$($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$,{});if("objectBoundingBox"===$fill_lg_rg$$.$gradientUnits$)throw"objectBoundingBox not supported";$fill_lg_rg$$.$gradientTransform$&&($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$=new $SVG$Transform$$,$SVG$applyTransformTo$$($fill_lg_rg$$.$gradientTransform$,$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$),
$centerTr_linearGradient_radialGradient$$=$JSCompiler_StaticMethods_applyInverse$$($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$,{x:$fill_lg_rg$$.$cx$,y:$fill_lg_rg$$.$cy$}),$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$=$fill_lg_rg$$.r/Math.sqrt(Math.abs($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$.$b$[0]*$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$.$b$[4])),$fill_lg_rg$$.$cx$=$centerTr_linearGradient_radialGradient$$.x,
$fill_lg_rg$$.$cy$=$centerTr_linearGradient_radialGradient$$.y,$fill_lg_rg$$.r=$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$);$centerTr_linearGradient_radialGradient$$=$ctx$jscomp$65$$.createRadialGradient($fill_lg_rg$$.$cx$,$fill_lg_rg$$.$cy$,0,$fill_lg_rg$$.$cx$,$fill_lg_rg$$.$cy$,$fill_lg_rg$$.r);for($gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$=0;$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$<$fill_lg_rg$$.$stops$.length;$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$++)$centerTr_linearGradient_radialGradient$$.addColorStop($fill_lg_rg$$.$stops$[$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$].offset,
$fill_lg_rg$$.$stops$[$gradientTransform_i$jscomp$128_id$jscomp$23_radiusTr_targetEl$$].color);return $centerTr_linearGradient_radialGradient$$}return $fill_lg_rg$$}function $roundedRect$$($x$jscomp$140$$,$y$jscomp$112$$,$w$jscomp$11$$,$h$jscomp$7$$,$r$jscomp$20_rx$jscomp$3$$,$ry$jscomp$3$$){0>=$r$jscomp$20_rx$jscomp$3$$||0>=$ry$jscomp$3$$?$ctx$jscomp$65$$.rect($x$jscomp$140$$,$y$jscomp$112$$,$w$jscomp$11$$,$h$jscomp$7$$):($r$jscomp$20_rx$jscomp$3$$=Math.min(($r$jscomp$20_rx$jscomp$3$$+$ry$jscomp$3$$)/
2,Math.min($w$jscomp$11$$,$h$jscomp$7$$)/2),$ctx$jscomp$65$$.moveTo($x$jscomp$140$$+$w$jscomp$11$$-$r$jscomp$20_rx$jscomp$3$$,$y$jscomp$112$$),$ctx$jscomp$65$$.arc($x$jscomp$140$$+$w$jscomp$11$$-$r$jscomp$20_rx$jscomp$3$$,$y$jscomp$112$$+$r$jscomp$20_rx$jscomp$3$$,$r$jscomp$20_rx$jscomp$3$$,1.5*Math.PI,2*Math.PI),$ctx$jscomp$65$$.lineTo($x$jscomp$140$$+$w$jscomp$11$$,$y$jscomp$112$$+$h$jscomp$7$$-$r$jscomp$20_rx$jscomp$3$$),$ctx$jscomp$65$$.arc($x$jscomp$140$$+$w$jscomp$11$$-$r$jscomp$20_rx$jscomp$3$$,
$y$jscomp$112$$+$h$jscomp$7$$-$r$jscomp$20_rx$jscomp$3$$,$r$jscomp$20_rx$jscomp$3$$,0,.5*Math.PI),$ctx$jscomp$65$$.lineTo($x$jscomp$140$$+$r$jscomp$20_rx$jscomp$3$$,$y$jscomp$112$$+$h$jscomp$7$$),$ctx$jscomp$65$$.arc($x$jscomp$140$$+$r$jscomp$20_rx$jscomp$3$$,$y$jscomp$112$$+$h$jscomp$7$$-$r$jscomp$20_rx$jscomp$3$$,$r$jscomp$20_rx$jscomp$3$$,.5*Math.PI,Math.PI),$ctx$jscomp$65$$.lineTo($x$jscomp$140$$,$y$jscomp$112$$+$r$jscomp$20_rx$jscomp$3$$),$ctx$jscomp$65$$.arc($x$jscomp$140$$+$r$jscomp$20_rx$jscomp$3$$,
$y$jscomp$112$$+$r$jscomp$20_rx$jscomp$3$$,$r$jscomp$20_rx$jscomp$3$$,Math.PI,1.5*Math.PI),$ctx$jscomp$65$$.closePath())}function $paint$$(){if($ctx$jscomp$65$$){var $styleStr$$=($baseStyle$$||"")+";"+($overriddenStyle$$||""),$style$jscomp$5$$={};$styleStr$$&&$SVG$parseStyle$$($style$jscomp$5$$,$styleStr$$);"hidden"!==$style$jscomp$5$$.visibility&&($style$jscomp$5$$.opacity&&($ctx$jscomp$65$$.globalAlpha*=parseFloat($style$jscomp$5$$.opacity)),$style$jscomp$5$$.fill&&"none"===$style$jscomp$5$$.fill||
($ctx$jscomp$65$$.fillStyle="white"===$style$jscomp$5$$.fill||"#fff"===$style$jscomp$5$$.fill||"#ffffff"===$style$jscomp$5$$.fill?"white":$decodeFillStyle$$($style$jscomp$5$$.fill)||"none",$ctx$jscomp$65$$.fill()),$style$jscomp$5$$.stroke&&"none"!==$style$jscomp$5$$.stroke&&($ctx$jscomp$65$$.lineWidth=$lengthToNum$$($style$jscomp$5$$["stroke-width"]||"1px",1,100),$ctx$jscomp$65$$.strokeStyle=$style$jscomp$5$$.stroke||"none",$ctx$jscomp$65$$.miterLimit=$style$jscomp$5$$["stroke-miterlimit"]||4,$ctx$jscomp$65$$.lineJoin=
$style$jscomp$5$$["stroke-linejoin"]||"miter",$ctx$jscomp$65$$.lineCap=$style$jscomp$5$$["stroke-linecap"]||"butt",$style$jscomp$5$$["stroke-dasharray"]&&($ctx$jscomp$65$$.setLineDash($style$jscomp$5$$["stroke-dasharray"].split(" ").map(function($s$jscomp$28$$){return parseFloat($s$jscomp$28$$)})),$ctx$jscomp$65$$.lineDashOffset=$style$jscomp$5$$["stroke-dashoffset"]?parseFloat($style$jscomp$5$$["stroke-dashoffset"]):0),$ctx$jscomp$65$$.stroke()))}}function $paintText$$($str$jscomp$17$$,$x$jscomp$141$$,
$y$jscomp$113$$){if($ctx$jscomp$65$$){var $styleStr$jscomp$1$$=($baseStyle$$||"")+";"+($overriddenStyle$$||""),$style$jscomp$6$$={};$styleStr$jscomp$1$$&&$SVG$parseStyle$$($style$jscomp$6$$,$styleStr$jscomp$1$$);"hidden"!==$style$jscomp$6$$.visibility&&($ctx$jscomp$65$$.font=($style$jscomp$6$$["font-size"]||"12px")+" "+($style$jscomp$6$$["font-family"]||"helvetica"),$style$jscomp$6$$.fill&&"none"!==$style$jscomp$6$$.fill&&($ctx$jscomp$65$$.fillStyle="white"===$style$jscomp$6$$.fill||"#fff"===$style$jscomp$6$$.fill||
"#ffffff"===$style$jscomp$6$$.fill?"white":$options$jscomp$18$$&&$options$jscomp$18$$.fill||"silver",$ctx$jscomp$65$$.fillText($str$jscomp$17$$,$x$jscomp$141$$,$y$jscomp$113$$)),$style$jscomp$6$$.stroke&&"none"!==$style$jscomp$6$$.stroke&&($ctx$jscomp$65$$.strokeStyle=$options$jscomp$18$$&&$options$jscomp$18$$.stroke||"black",$ctx$jscomp$65$$.strokeText($str$jscomp$17$$,$x$jscomp$141$$,$y$jscomp$113$$)))}}function $drawBoundingBox$$($bnds$jscomp$1_xa$jscomp$1$$,$ya$jscomp$1$$){$bnds$jscomp$1_xa$jscomp$1$$=
$SVG$calcBounds$$({x:$bnds$jscomp$1_xa$jscomp$1$$,y:$ya$jscomp$1$$});$ctx$jscomp$65$$.save();$ctx$jscomp$65$$.strokeStyle="black";$ctx$jscomp$65$$.lineWidth=1;$ctx$jscomp$65$$.strokeRect($bnds$jscomp$1_xa$jscomp$1$$.$xmin$,$bnds$jscomp$1_xa$jscomp$1$$.$ymin$,$bnds$jscomp$1_xa$jscomp$1$$.$xmax$-$bnds$jscomp$1_xa$jscomp$1$$.$xmin$,$bnds$jscomp$1_xa$jscomp$1$$.$ymax$-$bnds$jscomp$1_xa$jscomp$1$$.$ymin$);$ctx$jscomp$65$$.restore()}var $clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$=$el$jscomp$3$$.getAttribute("id"),
$displacement$jscomp$2_ptLen0$$=$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$&&$options$jscomp$18$$&&$options$jscomp$18$$.$displacement$&&$options$jscomp$18$$.$displacement$[$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$];$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$=$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$&&$options$jscomp$18$$&&$options$jscomp$18$$.$clips$&&$options$jscomp$18$$.$clips$[$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$];$ctx$jscomp$65$$&&
$ctx$jscomp$65$$.save();$transform$jscomp$3$$.save();$displacement$jscomp$2_ptLen0$$&&$ctx$jscomp$65$$&&$applyDisplacement$$($el$jscomp$3$$,$displacement$jscomp$2_ptLen0$$);$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$&&$ctx$jscomp$65$$&&$applyClip$$($el$jscomp$3$$,$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$);(function getStyle(){var $dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$=($options$jscomp$18$$&&$options$jscomp$18$$.$elementStyle$||"")+";"+($el$jscomp$3$$.getAttribute("style")||
""),$classAttr$$=$el$jscomp$3$$.getAttribute("class");$classAttr$$&&$cssDict$$.hasOwnProperty($classAttr$$)&&($dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$=$cssDict$$[$classAttr$$]+";"+$dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$);$baseStyle$$=($baseStyle$$||"")+";"+$dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$;($dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$=$el$jscomp$3$$.getAttribute("stroke-dasharray"))&&($baseStyle$$+=";stroke-dasharray:"+
$dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$.split(",").join(" "));($dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$=$el$jscomp$3$$.getAttribute("stroke-dashoffset"))&&($baseStyle$$+=";stroke-dashoffset:"+$dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$);($dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$=$el$jscomp$3$$.getAttribute("id"))&&$options$jscomp$18$$&&$options$jscomp$18$$.style&&$options$jscomp$18$$.style.hasOwnProperty($dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$)&&
($overriddenStyle$$=($overriddenStyle$$||"")+";"+$options$jscomp$18$$.style[$dashArrayAttr_dashOffsetAttr_idAttr$jscomp$3_style$jscomp$3$$])})();$displacement$jscomp$2_ptLen0$$=$xa$$.length;switch($el$jscomp$3$$.tagName){case "svg":$transform$jscomp$3$$.save();$applyTransform$$($el$jscomp$3$$.getAttribute("transform"));$drawChildren$$();$transform$jscomp$3$$.restore();break;case "g":$transform$jscomp$3$$.save();$applyTransform$$($el$jscomp$3$$.getAttribute("transform"));$drawChildren$$();$transform$jscomp$3$$.restore();
break;case "path":$ctx$jscomp$65$$&&$ctx$jscomp$65$$.save();$transform$jscomp$3$$.save();$applyTransform$$($el$jscomp$3$$.getAttribute("transform"));$path$jscomp$3$$($el$jscomp$3$$.getAttribute("d")||"");$paint$$();$ctx$jscomp$65$$&&$ctx$jscomp$65$$.restore();$transform$jscomp$3$$.restore();break;case "line":$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$=$getArg$$("x1");var $i$jscomp$125_y$jscomp$109_y4$$=$getArg$$("y1"),$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$=$getArg$$("x2"),
$diag22_height$jscomp$102_y2$jscomp$5$$=$getArg$$("y2");$ctx$jscomp$65$$&&$ctx$jscomp$65$$.save();$transform$jscomp$3$$.save();$applyTransform$$($el$jscomp$3$$.getAttribute("transform"));$ctx$jscomp$65$$&&$ctx$jscomp$65$$.beginPath();$ctx$jscomp$65$$&&$ctx$jscomp$65$$.moveTo($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$i$jscomp$125_y$jscomp$109_y4$$);$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$diag22_height$jscomp$102_y2$jscomp$5$$);$paint$$();
$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$i$jscomp$125_y$jscomp$109_y4$$);$addPoint$$($diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$diag22_height$jscomp$102_y2$jscomp$5$$);$options$jscomp$18$$&&$options$jscomp$18$$.$cb$&&$options$jscomp$18$$.$cb$.line&&$options$jscomp$18$$.$cb$.line([$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$],[$i$jscomp$125_y$jscomp$109_y4$$,$diag22_height$jscomp$102_y2$jscomp$5$$],!1);
$ctx$jscomp$65$$&&$ctx$jscomp$65$$.restore();$transform$jscomp$3$$.restore();break;case "polygon":case "polyline":$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$=$el$jscomp$3$$.getAttribute("points").trim().replace(/\s+/g," ").split(" ").map(function($s$jscomp$29$$){return parseFloat($s$jscomp$29$$)});if(4<=$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$.length){$ctx$jscomp$65$$&&$ctx$jscomp$65$$.save();$transform$jscomp$3$$.save();$applyTransform$$($el$jscomp$3$$.getAttribute("transform"));
$ctx$jscomp$65$$&&$ctx$jscomp$65$$.beginPath();$ctx$jscomp$65$$&&$ctx$jscomp$65$$.moveTo($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[0],$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[1]);$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[0],$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[1]);for($i$jscomp$125_y$jscomp$109_y4$$=2;$i$jscomp$125_y$jscomp$109_y4$$+1<$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$.length;$i$jscomp$125_y$jscomp$109_y4$$+=
2)$ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[$i$jscomp$125_y$jscomp$109_y4$$],$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[$i$jscomp$125_y$jscomp$109_y4$$+1]),$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[$i$jscomp$125_y$jscomp$109_y4$$],$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[$i$jscomp$125_y$jscomp$109_y4$$+1]);"polygon"===$el$jscomp$3$$.tagName&&$ctx$jscomp$65$$.closePath();$paint$$();$options$jscomp$18$$&&
$options$jscomp$18$$.$cb$&&$options$jscomp$18$$.$cb$.line&&$options$jscomp$18$$.$cb$.line($xa$$.slice(-$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$.length/2),$ya$$.slice(-$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$.length/2),"polygon"===$el$jscomp$3$$.tagName);$ctx$jscomp$65$$&&$ctx$jscomp$65$$.restore();$transform$jscomp$3$$.restore()}break;case "circle":$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$=$getArg$$("cx");$i$jscomp$125_y$jscomp$109_y4$$=$getArg$$("cy");
$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$=$getArg$$("r");$ctx$jscomp$65$$&&$ctx$jscomp$65$$.save();$transform$jscomp$3$$.save();$applyTransform$$($el$jscomp$3$$.getAttribute("transform"));$ctx$jscomp$65$$&&$ctx$jscomp$65$$.beginPath();$ctx$jscomp$65$$&&$ctx$jscomp$65$$.arc($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$i$jscomp$125_y$jscomp$109_y4$$,$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,0,2*Math.PI);$paint$$();$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$-
$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$i$jscomp$125_y$jscomp$109_y4$$-$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$);$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$-$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$i$jscomp$125_y$jscomp$109_y4$$+$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$);$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$+$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$i$jscomp$125_y$jscomp$109_y4$$-$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$);
$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$+$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$i$jscomp$125_y$jscomp$109_y4$$+$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$);$options$jscomp$18$$&&$options$jscomp$18$$.$cb$&&$options$jscomp$18$$.$cb$.$circle$&&($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$=$xa$$.slice(-4),$i$jscomp$125_y$jscomp$109_y4$$=$ya$$.slice(-4),$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$=($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[3]-
$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[0])*($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[3]-$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[0])+($i$jscomp$125_y$jscomp$109_y4$$[3]-$i$jscomp$125_y$jscomp$109_y4$$[0])*($i$jscomp$125_y$jscomp$109_y4$$[3]-$i$jscomp$125_y$jscomp$109_y4$$[0]),$diag22_height$jscomp$102_y2$jscomp$5$$=($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[2]-$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[1])*($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[2]-
$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[1])+($i$jscomp$125_y$jscomp$109_y4$$[2]-$i$jscomp$125_y$jscomp$109_y4$$[1])*($i$jscomp$125_y$jscomp$109_y4$$[2]-$i$jscomp$125_y$jscomp$109_y4$$[1]),.001>Math.abs($diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$-$diag22_height$jscomp$102_y2$jscomp$5$$)/($diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$+$diag22_height$jscomp$102_y2$jscomp$5$$)&&.001>(($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[3]-$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[0])*
($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[2]-$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[1])+($i$jscomp$125_y$jscomp$109_y4$$[3]-$i$jscomp$125_y$jscomp$109_y4$$[0])*($i$jscomp$125_y$jscomp$109_y4$$[2]-$i$jscomp$125_y$jscomp$109_y4$$[1]))/$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$&&$options$jscomp$18$$.$cb$.$circle$(($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[0]+$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$[2])/2,($i$jscomp$125_y$jscomp$109_y4$$[0]+
$i$jscomp$125_y$jscomp$109_y4$$[2])/2,Math.sqrt($diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$/8)));$ctx$jscomp$65$$&&$ctx$jscomp$65$$.restore();$transform$jscomp$3$$.restore();break;case "rect":$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$=$getArg$$("x");$i$jscomp$125_y$jscomp$109_y4$$=$getArg$$("y");$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$=$getArg$$("width");$diag22_height$jscomp$102_y2$jscomp$5$$=$getArg$$("height");var $rx$jscomp$2$$=$getArg$$("rx"),$ry$jscomp$2$$=$getArg$$("ry",
$rx$jscomp$2$$);$rx$jscomp$2$$=$getArg$$("rx",$ry$jscomp$2$$);$ctx$jscomp$65$$&&$ctx$jscomp$65$$.save();$transform$jscomp$3$$.save();$applyTransform$$($el$jscomp$3$$.getAttribute("transform"));$ctx$jscomp$65$$&&($ctx$jscomp$65$$.beginPath(),0<$rx$jscomp$2$$||0<$ry$jscomp$2$$?$roundedRect$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$i$jscomp$125_y$jscomp$109_y4$$,$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$diag22_height$jscomp$102_y2$jscomp$5$$,$rx$jscomp$2$$,$ry$jscomp$2$$):
$ctx$jscomp$65$$.rect($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$i$jscomp$125_y$jscomp$109_y4$$,$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$diag22_height$jscomp$102_y2$jscomp$5$$));$paint$$();$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$i$jscomp$125_y$jscomp$109_y4$$);$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$i$jscomp$125_y$jscomp$109_y4$$+$diag22_height$jscomp$102_y2$jscomp$5$$);$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$+
$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$i$jscomp$125_y$jscomp$109_y4$$);$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$+$diag12_r$jscomp$18_width$jscomp$105_x2$jscomp$4$$,$i$jscomp$125_y$jscomp$109_y4$$+$diag22_height$jscomp$102_y2$jscomp$5$$);$ctx$jscomp$65$$&&$ctx$jscomp$65$$.restore();$transform$jscomp$3$$.restore();break;case "text":$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$=$getArg$$("x"),$i$jscomp$125_y$jscomp$109_y4$$=$getArg$$("y"),$ctx$jscomp$65$$&&
$ctx$jscomp$65$$.save(),$transform$jscomp$3$$.save(),$applyTransform$$($el$jscomp$3$$.getAttribute("transform")),$paintText$$($el$jscomp$3$$.textContent,$clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$i$jscomp$125_y$jscomp$109_y4$$),$addPoint$$($clip$jscomp$1_idAttr$jscomp$2_points_x$jscomp$134_x4$$,$i$jscomp$125_y$jscomp$109_y4$$),$ctx$jscomp$65$$&&$ctx$jscomp$65$$.restore(),$transform$jscomp$3$$.restore()}$ctx$jscomp$65$$&&$ctx$jscomp$65$$.restore();$transform$jscomp$3$$.restore();$ctx$jscomp$65$$&&
$options$jscomp$18$$&&$options$jscomp$18$$.$drawBoundingBox$&&$drawBoundingBox$$($xa$$.slice($displacement$jscomp$2_ptLen0$$),$ya$$.slice($displacement$jscomp$2_ptLen0$$))}function $ellipticalArc$$($aMid_rx$jscomp$1$$,$ry$jscomp$1$$,$a$jscomp$21$$,$largeArcFlag_xc$jscomp$1$$,$sweepFlag$$,$tr$jscomp$6_x1$jscomp$5_x2p$$,$th2_y1$jscomp$6_y1p$$,$x2$jscomp$3_y2p$$,$xd$jscomp$1_y2$jscomp$4_yc$$){if(0===$aMid_rx$jscomp$1$$||0===$ry$jscomp$1$$)return $ctx$jscomp$65$$&&$ctx$jscomp$65$$.lineTo($x2$jscomp$3_y2p$$,
$xd$jscomp$1_y2$jscomp$4_yc$$),new $SVG$Transform$Point$$($x2$jscomp$3_y2p$$,$xd$jscomp$1_y2$jscomp$4_yc$$);var $ca_yd$jscomp$1$$=Math.cos($a$jscomp$21$$),$a2$jscomp$3_f$jscomp$3_sa$$=Math.sin($a$jscomp$21$$),$th1_x1p$$=($ca_yd$jscomp$1$$*$tr$jscomp$6_x1$jscomp$5_x2p$$+$a2$jscomp$3_f$jscomp$3_sa$$*$th2_y1$jscomp$6_y1p$$)/$aMid_rx$jscomp$1$$;$th2_y1$jscomp$6_y1p$$=(-$a2$jscomp$3_f$jscomp$3_sa$$*$tr$jscomp$6_x1$jscomp$5_x2p$$+$ca_yd$jscomp$1$$*$th2_y1$jscomp$6_y1p$$)/$ry$jscomp$1$$;$tr$jscomp$6_x1$jscomp$5_x2p$$=
($ca_yd$jscomp$1$$*$x2$jscomp$3_y2p$$+$a2$jscomp$3_f$jscomp$3_sa$$*$xd$jscomp$1_y2$jscomp$4_yc$$)/$aMid_rx$jscomp$1$$;$x2$jscomp$3_y2p$$=(-$a2$jscomp$3_f$jscomp$3_sa$$*$x2$jscomp$3_y2p$$+$ca_yd$jscomp$1$$*$xd$jscomp$1_y2$jscomp$4_yc$$)/$ry$jscomp$1$$;$xd$jscomp$1_y2$jscomp$4_yc$$=($tr$jscomp$6_x1$jscomp$5_x2p$$-$th1_x1p$$)/2;$ca_yd$jscomp$1$$=($x2$jscomp$3_y2p$$-$th2_y1$jscomp$6_y1p$$)/2;$a2$jscomp$3_f$jscomp$3_sa$$=$xd$jscomp$1_y2$jscomp$4_yc$$*$xd$jscomp$1_y2$jscomp$4_yc$$+$ca_yd$jscomp$1$$*$ca_yd$jscomp$1$$;
$a2$jscomp$3_f$jscomp$3_sa$$=Math.sqrt((1-$a2$jscomp$3_f$jscomp$3_sa$$)/$a2$jscomp$3_f$jscomp$3_sa$$);isNaN($a2$jscomp$3_f$jscomp$3_sa$$)?$a2$jscomp$3_f$jscomp$3_sa$$=0:$largeArcFlag_xc$jscomp$1$$===$sweepFlag$$&&($a2$jscomp$3_f$jscomp$3_sa$$=-$a2$jscomp$3_f$jscomp$3_sa$$);$largeArcFlag_xc$jscomp$1$$=($th1_x1p$$+$tr$jscomp$6_x1$jscomp$5_x2p$$)/2+$a2$jscomp$3_f$jscomp$3_sa$$*$ca_yd$jscomp$1$$;$xd$jscomp$1_y2$jscomp$4_yc$$=($th2_y1$jscomp$6_y1p$$+$x2$jscomp$3_y2p$$)/2-$a2$jscomp$3_f$jscomp$3_sa$$*$xd$jscomp$1_y2$jscomp$4_yc$$;
$th1_x1p$$=Math.atan2(($th2_y1$jscomp$6_y1p$$-$xd$jscomp$1_y2$jscomp$4_yc$$)/$aMid_rx$jscomp$1$$,($th1_x1p$$-$largeArcFlag_xc$jscomp$1$$)/$ry$jscomp$1$$);$th2_y1$jscomp$6_y1p$$=Math.atan2(($x2$jscomp$3_y2p$$-$xd$jscomp$1_y2$jscomp$4_yc$$)/$aMid_rx$jscomp$1$$,($tr$jscomp$6_x1$jscomp$5_x2p$$-$largeArcFlag_xc$jscomp$1$$)/$ry$jscomp$1$$);$ctx$jscomp$65$$&&($ctx$jscomp$65$$.rotate($a$jscomp$21$$),$ctx$jscomp$65$$.scale($aMid_rx$jscomp$1$$,$ry$jscomp$1$$),$sweepFlag$$?$ctx$jscomp$65$$.arc($largeArcFlag_xc$jscomp$1$$,
$xd$jscomp$1_y2$jscomp$4_yc$$,1,$th1_x1p$$,$th2_y1$jscomp$6_y1p$$,!0):$ctx$jscomp$65$$.arc($largeArcFlag_xc$jscomp$1$$,$xd$jscomp$1_y2$jscomp$4_yc$$,1,$th1_x1p$$,$th2_y1$jscomp$6_y1p$$),$ctx$jscomp$65$$.scale(1/$aMid_rx$jscomp$1$$,1/$ry$jscomp$1$$),$ctx$jscomp$65$$.rotate(-$a$jscomp$21$$));$tr$jscomp$6_x1$jscomp$5_x2p$$=new $SVG$Transform$$;$tr$jscomp$6_x1$jscomp$5_x2p$$.rotate($a$jscomp$21$$);$tr$jscomp$6_x1$jscomp$5_x2p$$.scale($aMid_rx$jscomp$1$$,$ry$jscomp$1$$);$aMid_rx$jscomp$1$$=$sweepFlag$$?
$th1_x1p$$<$th2_y1$jscomp$6_y1p$$?($th1_x1p$$+$th2_y1$jscomp$6_y1p$$)/2+Math.PI:($th1_x1p$$+$th2_y1$jscomp$6_y1p$$)/2:$th1_x1p$$<$th2_y1$jscomp$6_y1p$$?($th1_x1p$$+$th2_y1$jscomp$6_y1p$$)/2:($th1_x1p$$+$th2_y1$jscomp$6_y1p$$)/2+Math.PI;return $tr$jscomp$6_x1$jscomp$5_x2p$$.apply(new $SVG$Transform$Point$$($largeArcFlag_xc$jscomp$1$$+Math.cos($aMid_rx$jscomp$1$$),$xd$jscomp$1_y2$jscomp$4_yc$$+Math.sin($aMid_rx$jscomp$1$$)))}function $findCSS$$($el$$){switch($el$$.tagName){case "svg":case "defs":for(var $i$jscomp$124$$=
0;$i$jscomp$124$$<$el$$.childElementCount;$i$jscomp$124$$++)$findCSS$$($el$$.children[$i$jscomp$124$$]);break;case "style":$css$jscomp$2$$+=$el$$.textContent}}function $applyDisplacement$$($bnds_el$jscomp$1$$,$displacement$jscomp$1$$){if($displacement$jscomp$1$$.$phi$&&0!=$displacement$jscomp$1$$.$phi$){var $p$jscomp$5_x0$jscomp$14$$=$displacement$jscomp$1$$.$x0$,$y0$jscomp$14$$=$displacement$jscomp$1$$.$y0$;if(void 0==$p$jscomp$5_x0$jscomp$14$$||void 0==$y0$jscomp$14$$)$p$jscomp$5_x0$jscomp$14$$=
$self$jscomp$15$$.$draw$(null,{element:$bnds_el$jscomp$1$$}),$bnds_el$jscomp$1$$=$SVG$calcBounds$$($p$jscomp$5_x0$jscomp$14$$),$p$jscomp$5_x0$jscomp$14$$=($bnds_el$jscomp$1$$.$xmin$+$bnds_el$jscomp$1$$.$xmax$)/2,$y0$jscomp$14$$=($bnds_el$jscomp$1$$.$ymin$+$bnds_el$jscomp$1$$.$ymax$)/2;$ctx$jscomp$65$$.translate($p$jscomp$5_x0$jscomp$14$$+($displacement$jscomp$1$$.$dx$||0),$y0$jscomp$14$$+($displacement$jscomp$1$$.$dy$||0));$ctx$jscomp$65$$.rotate($displacement$jscomp$1$$.$phi$);$ctx$jscomp$65$$.translate(-$p$jscomp$5_x0$jscomp$14$$,
-$y0$jscomp$14$$)}else($displacement$jscomp$1$$.$dx$||$displacement$jscomp$1$$.$dy$)&&$ctx$jscomp$65$$.translate($displacement$jscomp$1$$.$dx$,$displacement$jscomp$1$$.$dy$)}function $applyClip$$($el$jscomp$2$$,$clip$$){$ctx$jscomp$65$$.beginPath();$ctx$jscomp$65$$.rect($clip$$.x,$clip$$.y,$clip$$.$w$,$clip$$.$h$);$ctx$jscomp$65$$.clip()}function $applyTransform$$($tr$jscomp$7$$){$SVG$applyTransform$$($tr$jscomp$7$$,function($dx$jscomp$17$$,$dy$jscomp$17$$){$ctx$jscomp$65$$&&$ctx$jscomp$65$$.translate($dx$jscomp$17$$,
$dy$jscomp$17$$);$transform$jscomp$3$$.translate($dx$jscomp$17$$,$dy$jscomp$17$$)},function($a$jscomp$22$$){$ctx$jscomp$65$$&&$ctx$jscomp$65$$.rotate($a$jscomp$22$$);$transform$jscomp$3$$.rotate($a$jscomp$22$$)},function($scx$jscomp$2$$,$scy$jscomp$2$$){$ctx$jscomp$65$$&&$ctx$jscomp$65$$.scale($scx$jscomp$2$$,$scy$jscomp$2$$);$transform$jscomp$3$$.scale($scx$jscomp$2$$,$scy$jscomp$2$$)},function($a$jscomp$23$$,$b$jscomp$13$$,$c$jscomp$8$$,$d$jscomp$5$$,$e$jscomp$16$$,$f$jscomp$4$$){$ctx$jscomp$65$$&&
$ctx$jscomp$65$$.transform($a$jscomp$23$$,$b$jscomp$13$$,$c$jscomp$8$$,$d$jscomp$5$$,$e$jscomp$16$$,$f$jscomp$4$$);$transform$jscomp$3$$.$matrix$($a$jscomp$23$$,$b$jscomp$13$$,$c$jscomp$8$$,$d$jscomp$5$$,$e$jscomp$16$$,$f$jscomp$4$$)})}var $self$jscomp$15$$=this,$css$jscomp$2$$="",$cssDict$$={},$transform$jscomp$3$$=new $SVG$Transform$Stack$$,$xa$$=[],$ya$$=[];$findCSS$$(this.$g$);(function parseCSS(){$css$jscomp$2$$.split("}").forEach(function($s$jscomp$24$$){var $s2$$=$s$jscomp$24$$.split("{");
$s2$$[0].split(",").forEach(function($cls$jscomp$1$$){$cls$jscomp$1$$=$cls$jscomp$1$$.trim();/^\.[-a-z0-9]+/i.test($cls$jscomp$1$$)&&($cls$jscomp$1$$=$cls$jscomp$1$$.slice(1),$cssDict$$[$cls$jscomp$1$$]=$cssDict$$[$cls$jscomp$1$$]?$cssDict$$[$cls$jscomp$1$$]+";"+$s2$$[1]:$s2$$[1])})})})();var $element$jscomp$8$$=this.$g$;$options$jscomp$18$$&&$options$jscomp$18$$.$elementId$?$element$jscomp$8$$=this.$b$.getElementById($options$jscomp$18$$.$elementId$):$options$jscomp$18$$&&$options$jscomp$18$$.element&&
($element$jscomp$8$$=$options$jscomp$18$$.element);if($element$jscomp$8$$){$options$jscomp$18$$&&$options$jscomp$18$$.$globalTransform$&&$options$jscomp$18$$.$globalTransform$($ctx$jscomp$65$$,this.$viewBox$);if($ctx$jscomp$65$$){for(var $ancestors$$=[],$ancestor_i$jscomp$123$$=$element$jscomp$8$$.parentElement;null!=$ancestor_i$jscomp$123$$;$ancestor_i$jscomp$123$$=$ancestor_i$jscomp$123$$.parentElement)$ancestors$$.push($ancestor_i$jscomp$123$$);for($ancestor_i$jscomp$123$$=$ancestors$$.length-
1;0<=$ancestor_i$jscomp$123$$;$ancestor_i$jscomp$123$$--){var $displacement_idAttr$jscomp$1_tr$jscomp$5$$=$ancestors$$[$ancestor_i$jscomp$123$$].getAttribute("id");($displacement_idAttr$jscomp$1_tr$jscomp$5$$=$displacement_idAttr$jscomp$1_tr$jscomp$5$$&&$options$jscomp$18$$&&$options$jscomp$18$$.$displacement$&&$options$jscomp$18$$.$displacement$[$displacement_idAttr$jscomp$1_tr$jscomp$5$$])&&$applyDisplacement$$($ancestors$$[$ancestor_i$jscomp$123$$],$displacement_idAttr$jscomp$1_tr$jscomp$5$$);
$displacement_idAttr$jscomp$1_tr$jscomp$5$$=$ancestors$$[$ancestor_i$jscomp$123$$].getAttribute("transform");$applyTransform$$($displacement_idAttr$jscomp$1_tr$jscomp$5$$)}}$drawEl$$($element$jscomp$8$$)}return{x:$xa$$,y:$ya$$}};
function $SVG$calcBounds$$($p$jscomp$7$$){if(0===$p$jscomp$7$$.x.length)return{$xmin$:0,$xmax$:0,$ymin$:0,$ymax$:0};for(var $xmin$$=$p$jscomp$7$$.x[0],$xmax$$=$p$jscomp$7$$.x[0],$ymin$$=$p$jscomp$7$$.y[0],$ymax$$=$p$jscomp$7$$.y[0],$i$jscomp$130$$=1;$i$jscomp$130$$<$p$jscomp$7$$.x.length;$i$jscomp$130$$++)$xmin$$=Math.min($xmin$$,$p$jscomp$7$$.x[$i$jscomp$130$$]),$xmax$$=Math.max($xmax$$,$p$jscomp$7$$.x[$i$jscomp$130$$]),$ymin$$=Math.min($ymin$$,$p$jscomp$7$$.y[$i$jscomp$130$$]),$ymax$$=Math.max($ymax$$,
$p$jscomp$7$$.y[$i$jscomp$130$$]);return{$xmin$:$xmin$$,$xmax$:$xmax$$,$ymin$:$ymin$$,$ymax$:$ymax$$}}
function $JSCompiler_StaticMethods_getElementBounds$$($JSCompiler_StaticMethods_getElementBounds$self$$,$elementId$$){if($JSCompiler_StaticMethods_getElementBounds$self$$.$l$[$elementId$$])return $JSCompiler_StaticMethods_getElementBounds$self$$.$l$[$elementId$$];var $bnds$jscomp$2_p$jscomp$8$$=$JSCompiler_StaticMethods_getElementBounds$self$$.$draw$(null,{$elementId$:$elementId$$});$bnds$jscomp$2_p$jscomp$8$$=$SVG$calcBounds$$($bnds$jscomp$2_p$jscomp$8$$);return $JSCompiler_StaticMethods_getElementBounds$self$$.$l$[$elementId$$]=
$bnds$jscomp$2_p$jscomp$8$$}$SVG$$.prototype.$isInside$=function $$SVG$$$$$isInside$$($bnds$jscomp$3_elementId$jscomp$1$$,$x$jscomp$142$$,$y$jscomp$114$$){$bnds$jscomp$3_elementId$jscomp$1$$=$JSCompiler_StaticMethods_getElementBounds$$(this,$bnds$jscomp$3_elementId$jscomp$1$$);return $x$jscomp$142$$>=$bnds$jscomp$3_elementId$jscomp$1$$.$xmin$&&$x$jscomp$142$$<=$bnds$jscomp$3_elementId$jscomp$1$$.$xmax$&&$y$jscomp$114$$>=$bnds$jscomp$3_elementId$jscomp$1$$.$ymin$&&$y$jscomp$114$$<=$bnds$jscomp$3_elementId$jscomp$1$$.$ymax$};
$SVG$$.prototype.$hasElement$=function $$SVG$$$$$hasElement$$($elementId$jscomp$2$$){return null!=this.$b$.getElementById($elementId$jscomp$2$$)};
$SVG$$.prototype.$hasAncestor$=function $$SVG$$$$$hasAncestor$$($element$jscomp$9_elementId$jscomp$3$$,$ancestor$jscomp$1_ancestorId$$){$element$jscomp$9_elementId$jscomp$3$$=this.$b$.getElementById($element$jscomp$9_elementId$jscomp$3$$);$ancestor$jscomp$1_ancestorId$$=this.$b$.getElementById($ancestor$jscomp$1_ancestorId$$);return null!=$ancestor$jscomp$1_ancestorId$$&&null!=$element$jscomp$9_elementId$jscomp$3$$&&$ancestor$jscomp$1_ancestorId$$.contains($element$jscomp$9_elementId$jscomp$3$$)};function $SVG$Preparsed$$($src$jscomp$7$$){$SVG$$.call(this,$src$jscomp$7$$);this.$i$={};this.$m$={};this.$j$={};$JSCompiler_StaticMethods_SVG_Preparsed_prototype$parse$$(this)}$SVG$Preparsed$$.prototype=Object.create($SVG$$.prototype);$SVG$Preparsed$$.prototype.constructor=$SVG$Preparsed$$;
function $JSCompiler_StaticMethods_SVG_Preparsed_prototype$parse$$($JSCompiler_StaticMethods_SVG_Preparsed_prototype$parse$self$$){function $findCSS$jscomp$1$$($el$jscomp$6$$){switch($el$jscomp$6$$.tagName){case "svg":case "defs":for(var $i$jscomp$131$$=0;$i$jscomp$131$$<$el$jscomp$6$$.childElementCount;$i$jscomp$131$$++)$findCSS$jscomp$1$$($el$jscomp$6$$.children[$i$jscomp$131$$]);break;case "style":$css$jscomp$3$$+=$el$jscomp$6$$.textContent}}function $parseTransform$$($tr$jscomp$8$$){return $tr$jscomp$8$$?
($tr$jscomp$8$$=$tr$jscomp$8$$.replace(/\s*\(\s*/g,"(").replace(/\s*\)\s*/g,")").replace(/ +,/g,",").replace(/, +/g,",").replace(/ +/g,","),$tr$jscomp$8$$.split(")").slice(0,-1).map(function($args$jscomp$2_t$jscomp$4$$){var $c$jscomp$10$$=$args$jscomp$2_t$jscomp$4$$.split("(")[0];$args$jscomp$2_t$jscomp$4$$=$args$jscomp$2_t$jscomp$4$$.split("(")[1].split(",").map(function($s$jscomp$31$$){return parseFloat($s$jscomp$31$$)});switch($c$jscomp$10$$){case "translate":return{$cmd$:$c$jscomp$10$$,$args$:[$args$jscomp$2_t$jscomp$4$$[0]||
0,$args$jscomp$2_t$jscomp$4$$[1]||0]};case "rotate":return{$cmd$:$c$jscomp$10$$,$args$:[($args$jscomp$2_t$jscomp$4$$[0]||0)*Math.PI/180,$args$jscomp$2_t$jscomp$4$$[1]||0,$args$jscomp$2_t$jscomp$4$$[2]||0]};case "scale":var $scx$jscomp$3$$=$args$jscomp$2_t$jscomp$4$$[0]||1;return{$cmd$:$c$jscomp$10$$,$args$:[$scx$jscomp$3$$,$args$jscomp$2_t$jscomp$4$$[1]||$scx$jscomp$3$$]};case "matrix":return{$cmd$:$c$jscomp$10$$,$args$:$args$jscomp$2_t$jscomp$4$$};default:throw"transform not implemented: "+$c$jscomp$10$$;
}})):null}function $parseEl$$($el$jscomp$7$$,$obj$jscomp$30_parent$jscomp$2$$){function $parseChildren$$($parent$jscomp$3$$){for(var $children$$=[],$i$jscomp$132$$=0;$i$jscomp$132$$<$el$jscomp$7$$.childElementCount;$i$jscomp$132$$++){var $obj$jscomp$31$$=$parseEl$$($el$jscomp$7$$.children[$i$jscomp$132$$],$parent$jscomp$3$$);$obj$jscomp$31$$&&$children$$.push($obj$jscomp$31$$)}return $children$$}function $getArg$jscomp$1$$($name$jscomp$90_val$jscomp$27$$,$def$jscomp$2$$){$name$jscomp$90_val$jscomp$27$$=
$el$jscomp$7$$.getAttribute($name$jscomp$90_val$jscomp$27$$);return null===$name$jscomp$90_val$jscomp$27$$?$def$jscomp$2$$||0:parseFloat($name$jscomp$90_val$jscomp$27$$)}function $path$jscomp$4$$($d$jscomp$7$$){$d$jscomp$7$$=$d$jscomp$7$$.replace(/\.([0-9]+)(?=\.)/g,".$1 ").replace(/([.0-9])-/g,"$1 -").replace(/\s*([a-z])\s*/gi,";$1").replace(/\s*,\s*/g,",").replace(/\s+/g,",");var $cmds$$=[],$x$jscomp$144$$=0,$y$jscomp$115$$=0,$xc1$jscomp$1$$=0,$yc1$jscomp$2$$=0;$d$jscomp$7$$.slice(1).split(";").forEach(function($args$jscomp$3_c$jscomp$11$$){var $cmd$jscomp$14_i$jscomp$133$$=
$args$jscomp$3_c$jscomp$11$$[0];$args$jscomp$3_c$jscomp$11$$=1<$args$jscomp$3_c$jscomp$11$$.length?$args$jscomp$3_c$jscomp$11$$.slice(1).split(",").map(function($s$jscomp$32$$){return parseFloat($s$jscomp$32$$)}):[];switch($cmd$jscomp$14_i$jscomp$133$$){case "M":if(2<=$args$jscomp$3_c$jscomp$11$$.length){$x$jscomp$144$$=$args$jscomp$3_c$jscomp$11$$[0];$y$jscomp$115$$=$args$jscomp$3_c$jscomp$11$$[1];$cmds$$.push({$cmd$:"M",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]});for($cmd$jscomp$14_i$jscomp$133$$=
2;$cmd$jscomp$14_i$jscomp$133$$+1<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=2)$x$jscomp$144$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$cmds$$.push({$cmd$:"L",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]});$xc1$jscomp$1$$=$x$jscomp$144$$;$yc1$jscomp$2$$=$y$jscomp$115$$}break;case "m":if(2<=$args$jscomp$3_c$jscomp$11$$.length)for($x$jscomp$144$$+=$args$jscomp$3_c$jscomp$11$$[0],$y$jscomp$115$$+=
$args$jscomp$3_c$jscomp$11$$[1],$cmds$$.push({$cmd$:"M",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]}),$cmd$jscomp$14_i$jscomp$133$$=2;$cmd$jscomp$14_i$jscomp$133$$+1<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=2)$x$jscomp$144$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$cmds$$.push({$cmd$:"L",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]});$xc1$jscomp$1$$=$x$jscomp$144$$;$yc1$jscomp$2$$=
$y$jscomp$115$$;break;case "L":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+1<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=2)$x$jscomp$144$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$cmds$$.push({$cmd$:"L",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]});$xc1$jscomp$1$$=$x$jscomp$144$$;$yc1$jscomp$2$$=$y$jscomp$115$$;break;case "l":for($cmd$jscomp$14_i$jscomp$133$$=
0;$cmd$jscomp$14_i$jscomp$133$$+1<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=2)$x$jscomp$144$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$cmds$$.push({$cmd$:"L",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]});$xc1$jscomp$1$$=$x$jscomp$144$$;$yc1$jscomp$2$$=$y$jscomp$115$$;break;case "H":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$++)$x$jscomp$144$$=
$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$cmds$$.push({$cmd$:"L",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]});$xc1$jscomp$1$$=$x$jscomp$144$$;$yc1$jscomp$2$$=$y$jscomp$115$$;break;case "h":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$++)$x$jscomp$144$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$cmds$$.push({$cmd$:"L",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]});$xc1$jscomp$1$$=$x$jscomp$144$$;
$yc1$jscomp$2$$=$y$jscomp$115$$;break;case "V":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$++)$y$jscomp$115$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$cmds$$.push({$cmd$:"L",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]});$xc1$jscomp$1$$=$x$jscomp$144$$;$yc1$jscomp$2$$=$y$jscomp$115$$;break;case "v":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$++)$y$jscomp$115$$+=
$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$cmds$$.push({$cmd$:"L",$args$:[$x$jscomp$144$$,$y$jscomp$115$$]});$xc1$jscomp$1$$=$x$jscomp$144$$;$yc1$jscomp$2$$=$y$jscomp$115$$;break;case "A":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+6<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=7){var $x1$jscomp$7$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+5],$y1$jscomp$8$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+6];
$cmds$$.push({$cmd$:"A",$args$:[$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2]*Math.PI/180,0!=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3]?1:0,0==$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+4]?1:0,$x$jscomp$144$$,$y$jscomp$115$$,$x1$jscomp$7$$,$y1$jscomp$8$$]});$x$jscomp$144$$=$x1$jscomp$7$$;$y$jscomp$115$$=$y1$jscomp$8$$}$xc1$jscomp$1$$=
$x$jscomp$144$$;$yc1$jscomp$2$$=$y$jscomp$115$$;break;case "a":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+6<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=7)$x1$jscomp$7$$=$x$jscomp$144$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+5],$y1$jscomp$8$$=$y$jscomp$115$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+6],$cmds$$.push({$cmd$:"A",$args$:[$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+
1],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2]*Math.PI/180,0!=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3],0==$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+4],$x$jscomp$144$$,$y$jscomp$115$$,$x1$jscomp$7$$,$y1$jscomp$8$$]}),$x$jscomp$144$$=$x1$jscomp$7$$,$y$jscomp$115$$=$y1$jscomp$8$$;$xc1$jscomp$1$$=$x$jscomp$144$$;$yc1$jscomp$2$$=$y$jscomp$115$$;break;case "C":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+5<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=
6)$cmds$$.push({$cmd$:"C",$args$:$args$jscomp$3_c$jscomp$11$$.slice($cmd$jscomp$14_i$jscomp$133$$,$cmd$jscomp$14_i$jscomp$133$$+6)}),$x$jscomp$144$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+4],$y$jscomp$115$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+5],$xc1$jscomp$1$$=2*$x$jscomp$144$$-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2],$yc1$jscomp$2$$=2*$y$jscomp$115$$-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3];break;case "c":for($cmd$jscomp$14_i$jscomp$133$$=
0;$cmd$jscomp$14_i$jscomp$133$$+5<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=6)$cmds$$.push({$cmd$:"C",$args$:[$x$jscomp$144$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$x$jscomp$144$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2],$y$jscomp$115$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3],$x$jscomp$144$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+
4],$y$jscomp$115$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+5]]}),$xc1$jscomp$1$$=$x$jscomp$144$$+2*$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+4]-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2],$yc1$jscomp$2$$=$y$jscomp$115$$+2*$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+5]-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3],$x$jscomp$144$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+4],$y$jscomp$115$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+
5];break;case "S":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+3<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=4)$cmds$$.push({$cmd$:"S",$args$:[$xc1$jscomp$1$$,$yc1$jscomp$2$$,$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3]]}),$x$jscomp$144$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+
2],$y$jscomp$115$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3],$xc1$jscomp$1$$=2*$x$jscomp$144$$-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$yc1$jscomp$2$$=2*$y$jscomp$115$$-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1];break;case "s":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+3<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=4)$cmds$$.push({$cmd$:"S",$args$:[$xc1$jscomp$1$$,$yc1$jscomp$2$$,$x$jscomp$144$$+
$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$x$jscomp$144$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2],$y$jscomp$115$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3]]}),$xc1$jscomp$1$$=$x$jscomp$144$$-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$yc1$jscomp$2$$=$y$jscomp$115$$-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$x$jscomp$144$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+
2],$y$jscomp$115$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3];break;case "Q":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+3<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=4)$cmds$$.push({$cmd$:"Q",$args$:[$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+
3]]}),$x$jscomp$144$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2],$y$jscomp$115$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3],$xc1$jscomp$1$$=2*$x$jscomp$144$$-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$yc1$jscomp$2$$=2*$y$jscomp$115$$-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1];break;case "q":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+3<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=
4)$cmds$$.push({$cmd$:"Q",$args$:[$x$jscomp$144$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$x$jscomp$144$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2],$y$jscomp$115$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3]]}),$xc1$jscomp$1$$=$x$jscomp$144$$+2*$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2]-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],
$yc1$jscomp$2$$=$y$jscomp$115$$+2*$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3]-$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$x$jscomp$144$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+2],$y$jscomp$115$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+3];break;case "T":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+1<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=2)$cmds$$.push({$cmd$:"Q",$args$:[$xc1$jscomp$1$$,
$yc1$jscomp$2$$,$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1]]}),$x$jscomp$144$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$xc1$jscomp$1$$=2*$x$jscomp$144$$-$xc1$jscomp$1$$,$yc1$jscomp$2$$=2*$y$jscomp$115$$-$yc1$jscomp$2$$;break;case "t":for($cmd$jscomp$14_i$jscomp$133$$=0;$cmd$jscomp$14_i$jscomp$133$$+1<$args$jscomp$3_c$jscomp$11$$.length;$cmd$jscomp$14_i$jscomp$133$$+=
2)$cmds$$.push({$cmd$:"Q",$args$:[$xc1$jscomp$1$$,$yc1$jscomp$2$$,$x$jscomp$144$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$+$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1]]}),$x$jscomp$144$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$],$y$jscomp$115$$+=$args$jscomp$3_c$jscomp$11$$[$cmd$jscomp$14_i$jscomp$133$$+1],$xc1$jscomp$1$$=2*$x$jscomp$144$$-$xc1$jscomp$1$$,$yc1$jscomp$2$$=2*$y$jscomp$115$$-$yc1$jscomp$2$$;break;case "Z":case "z":$cmds$$.push({$cmd$:"Z",
$args$:[]});break;default:throw"unimplemented path command: "+$cmd$jscomp$14_i$jscomp$133$$;}});return $cmds$$}var $idAttr$jscomp$4_rx$jscomp$4$$=$el$jscomp$7$$.getAttribute("id"),$ry$jscomp$4_style$jscomp$7$$=function getStyle$jscomp$1(){var $dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$=$el$jscomp$7$$.getAttribute("style")||"",$classAttr$jscomp$1_styleDict$jscomp$1$$=$el$jscomp$7$$.getAttribute("class");$classAttr$jscomp$1_styleDict$jscomp$1$$&&$self$jscomp$16$$.$j$.hasOwnProperty($classAttr$jscomp$1_styleDict$jscomp$1$$)&&
($dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$=$self$jscomp$16$$.$j$[$classAttr$jscomp$1_styleDict$jscomp$1$$]+";"+$dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$);$classAttr$jscomp$1_styleDict$jscomp$1$$={};$SVG$parseStyle$$($classAttr$jscomp$1_styleDict$jscomp$1$$,$dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$);($dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$=
$el$jscomp$7$$.getAttribute("stroke-dasharray"))&&($classAttr$jscomp$1_styleDict$jscomp$1$$["stroke-dasharray"]=$dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$.split(","));($dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$=$el$jscomp$7$$.getAttribute("stroke-dashoffset"))&&($classAttr$jscomp$1_styleDict$jscomp$1$$["stroke-dashoffset"]=$dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$);($dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$=
$el$jscomp$7$$.getAttribute("id"))&&($classAttr$jscomp$1_styleDict$jscomp$1$$.id=$dashArrayAttr$jscomp$1_dashOffsetAttr$jscomp$1_idAttr$jscomp$5_styleStr$jscomp$2$$);return $classAttr$jscomp$1_styleDict$jscomp$1$$}();$obj$jscomp$30_parent$jscomp$2$$={name:$el$jscomp$7$$.tagName,id:$idAttr$jscomp$4_rx$jscomp$4$$,style:$ry$jscomp$4_style$jscomp$7$$,parent:$obj$jscomp$30_parent$jscomp$2$$};switch($el$jscomp$7$$.tagName){case "svg":$obj$jscomp$30_parent$jscomp$2$$.children=$parseChildren$$($obj$jscomp$30_parent$jscomp$2$$);
break;case "g":$obj$jscomp$30_parent$jscomp$2$$.children=$parseChildren$$($obj$jscomp$30_parent$jscomp$2$$);$obj$jscomp$30_parent$jscomp$2$$.transform=$parseTransform$$($el$jscomp$7$$.getAttribute("transform"));break;case "path":$obj$jscomp$30_parent$jscomp$2$$.path=$path$jscomp$4$$($el$jscomp$7$$.getAttribute("d")||"");$obj$jscomp$30_parent$jscomp$2$$.transform=$parseTransform$$($el$jscomp$7$$.getAttribute("transform"));break;case "line":$obj$jscomp$30_parent$jscomp$2$$.$x1$=$getArg$jscomp$1$$("x1");
$obj$jscomp$30_parent$jscomp$2$$.$y1$=$getArg$jscomp$1$$("y1");$obj$jscomp$30_parent$jscomp$2$$.$x2$=$getArg$jscomp$1$$("x2");$obj$jscomp$30_parent$jscomp$2$$.$y2$=$getArg$jscomp$1$$("y2");$obj$jscomp$30_parent$jscomp$2$$.transform=$parseTransform$$($el$jscomp$7$$.getAttribute("transform"));break;case "polygon":case "polyline":$obj$jscomp$30_parent$jscomp$2$$.$points$=$el$jscomp$7$$.getAttribute("points").trim().replace(/\s+/g," ").split(" ").map(function($s$jscomp$33$$){return parseFloat($s$jscomp$33$$)});
$obj$jscomp$30_parent$jscomp$2$$.transform=$parseTransform$$($el$jscomp$7$$.getAttribute("transform"));break;case "circle":$obj$jscomp$30_parent$jscomp$2$$.x=$getArg$jscomp$1$$("cx");$obj$jscomp$30_parent$jscomp$2$$.y=$getArg$jscomp$1$$("cy");$obj$jscomp$30_parent$jscomp$2$$.r=$getArg$jscomp$1$$("r");$obj$jscomp$30_parent$jscomp$2$$.transform=$parseTransform$$($el$jscomp$7$$.getAttribute("transform"));break;case "rect":$obj$jscomp$30_parent$jscomp$2$$.x=$getArg$jscomp$1$$("x");$obj$jscomp$30_parent$jscomp$2$$.y=
$getArg$jscomp$1$$("y");$obj$jscomp$30_parent$jscomp$2$$.width=$getArg$jscomp$1$$("width");$obj$jscomp$30_parent$jscomp$2$$.height=$getArg$jscomp$1$$("height");$idAttr$jscomp$4_rx$jscomp$4$$=$getArg$jscomp$1$$("rx");$ry$jscomp$4_style$jscomp$7$$=$getArg$jscomp$1$$("ry",$idAttr$jscomp$4_rx$jscomp$4$$);$idAttr$jscomp$4_rx$jscomp$4$$=$getArg$jscomp$1$$("rx",$ry$jscomp$4_style$jscomp$7$$);$obj$jscomp$30_parent$jscomp$2$$.$rx$=$idAttr$jscomp$4_rx$jscomp$4$$;$obj$jscomp$30_parent$jscomp$2$$.$ry$=$ry$jscomp$4_style$jscomp$7$$;
$obj$jscomp$30_parent$jscomp$2$$.transform=$parseTransform$$($el$jscomp$7$$.getAttribute("transform"));break;case "text":$obj$jscomp$30_parent$jscomp$2$$.x=$getArg$jscomp$1$$("x");$obj$jscomp$30_parent$jscomp$2$$.y=$getArg$jscomp$1$$("y");$obj$jscomp$30_parent$jscomp$2$$.text=$el$jscomp$7$$.textContent;$obj$jscomp$30_parent$jscomp$2$$.transform=$parseTransform$$($el$jscomp$7$$.getAttribute("transform"));break;default:return null}return $obj$jscomp$30_parent$jscomp$2$$}var $self$jscomp$16$$=$JSCompiler_StaticMethods_SVG_Preparsed_prototype$parse$self$$,
$css$jscomp$3$$="";$findCSS$jscomp$1$$($JSCompiler_StaticMethods_SVG_Preparsed_prototype$parse$self$$.$g$);$JSCompiler_StaticMethods_SVG_Preparsed_prototype$parse$self$$.$j$=function parseCSS$jscomp$1(){var $cssDict$jscomp$1$$={};$css$jscomp$3$$.split("}").forEach(function($s$jscomp$30$$){var $s2$jscomp$1$$=$s$jscomp$30$$.split("{");$s2$jscomp$1$$[0].split(",").forEach(function($cls$jscomp$2$$){$cls$jscomp$2$$=$cls$jscomp$2$$.trim();/^\.[-a-z0-9]+/i.test($cls$jscomp$2$$)&&($cls$jscomp$2$$=$cls$jscomp$2$$.slice(1),
$cssDict$jscomp$1$$[$cls$jscomp$2$$]=$cssDict$jscomp$1$$[$cls$jscomp$2$$]?$cssDict$jscomp$1$$[$cls$jscomp$2$$]+";"+$s2$jscomp$1$$[1]:$s2$jscomp$1$$[1])})});return $cssDict$jscomp$1$$}();$JSCompiler_StaticMethods_SVG_Preparsed_prototype$parse$self$$.$g$&&($JSCompiler_StaticMethods_SVG_Preparsed_prototype$parse$self$$.$i$=$parseEl$$($JSCompiler_StaticMethods_SVG_Preparsed_prototype$parse$self$$.$g$,null))}
function $JSCompiler_StaticMethods_findById$$($JSCompiler_StaticMethods_findById$self$$,$id$jscomp$24$$){function $findById$$($el$jscomp$8$$,$id$jscomp$25$$){if($el$jscomp$8$$.id===$id$jscomp$25$$)return $el$jscomp$8$$;if($el$jscomp$8$$.children)for(var $i$jscomp$134$$=0;$i$jscomp$134$$<$el$jscomp$8$$.children.length;$i$jscomp$134$$++){var $r$jscomp$22$$=$findById$$($el$jscomp$8$$.children[$i$jscomp$134$$],$id$jscomp$25$$);if($r$jscomp$22$$)return $r$jscomp$22$$}return null}if($JSCompiler_StaticMethods_findById$self$$.$m$[$id$jscomp$24$$])return $JSCompiler_StaticMethods_findById$self$$.$m$[$id$jscomp$24$$];
var $obj$jscomp$32$$=$findById$$($JSCompiler_StaticMethods_findById$self$$.$i$,$id$jscomp$24$$);$obj$jscomp$32$$&&($JSCompiler_StaticMethods_findById$self$$.$m$[$id$jscomp$24$$]=$obj$jscomp$32$$);return $obj$jscomp$32$$}
function $SVG$Preparsed$applyTransform$$($tr$jscomp$9$$,$doTranslate$jscomp$1$$,$doRotate$jscomp$1$$,$doScale$jscomp$1$$,$doApplyMatrix$jscomp$1$$){$tr$jscomp$9$$&&$tr$jscomp$9$$.forEach(function($t$jscomp$5$$){switch($t$jscomp$5$$.$cmd$){case "translate":$doTranslate$jscomp$1$$($t$jscomp$5$$.$args$[0],$t$jscomp$5$$.$args$[1]);break;case "rotate":0!==$t$jscomp$5$$.$args$[1]||0!==$t$jscomp$5$$.$args$[2]?($doTranslate$jscomp$1$$(-$t$jscomp$5$$.$args$[1],-$t$jscomp$5$$.$args$[2]),$doRotate$jscomp$1$$($t$jscomp$5$$.$args$[0]),
$doTranslate$jscomp$1$$($t$jscomp$5$$.$args$[1],$t$jscomp$5$$.$args$[2])):$doRotate$jscomp$1$$($t$jscomp$5$$.$args$[0]);break;case "scale":$doScale$jscomp$1$$($t$jscomp$5$$.$args$[0],$t$jscomp$5$$.$args$[1]);break;case "matrix":$doApplyMatrix$jscomp$1$$($t$jscomp$5$$.$args$[0],$t$jscomp$5$$.$args$[1],$t$jscomp$5$$.$args$[2],$t$jscomp$5$$.$args$[3],$t$jscomp$5$$.$args$[4],$t$jscomp$5$$.$args$[5])}})}
$SVG$Preparsed$$.prototype.$draw$=function $$SVG$Preparsed$$$$$draw$$($ctx$jscomp$68$$,$options$jscomp$20$$){function $drawEl$jscomp$1$$($el$jscomp$10$$,$baseStyleDict$$,$overriddenStyleDict$$){function $drawChildren$jscomp$1$$(){for(var $i$jscomp$137$$=0;$i$jscomp$137$$<$el$jscomp$10$$.children.length;$i$jscomp$137$$++)$drawEl$jscomp$1$$($el$jscomp$10$$.children[$i$jscomp$137$$],$baseStyleDict$$,$overriddenStyleDict$$)}function $addPoint$jscomp$1$$($pt$jscomp$1_x$jscomp$145$$,$y$jscomp$116$$){$pt$jscomp$1_x$jscomp$145$$=
$transform$jscomp$4$$.apply(new $SVG$Transform$Point$$($pt$jscomp$1_x$jscomp$145$$,$y$jscomp$116$$));$xa$jscomp$2$$.push($pt$jscomp$1_x$jscomp$145$$.x);$ya$jscomp$2$$.push($pt$jscomp$1_x$jscomp$145$$.y)}function $lengthToNum$jscomp$2$$($length$jscomp$19_r$jscomp$23$$,$def$jscomp$4_x$jscomp$146$$,$size$jscomp$17$$){if(null==$length$jscomp$19_r$jscomp$23$$||""==$length$jscomp$19_r$jscomp$23$$)return $def$jscomp$4_x$jscomp$146$$;$length$jscomp$19_r$jscomp$23$$=/^\s*(-?[0-9.]+)\s*([a-z%]*)\s*$/i.exec($length$jscomp$19_r$jscomp$23$$);
$def$jscomp$4_x$jscomp$146$$=parseFloat($length$jscomp$19_r$jscomp$23$$[1]);switch($length$jscomp$19_r$jscomp$23$$[2]||"px"){case "pt":return 25.4*$def$jscomp$4_x$jscomp$146$$/72*3;case "pc":return 25.4*$def$jscomp$4_x$jscomp$146$$/6*3;case "in":return 25.4*$def$jscomp$4_x$jscomp$146$$*3;case "mm":return 3*$def$jscomp$4_x$jscomp$146$$;case "cm":return 30*$def$jscomp$4_x$jscomp$146$$;case "em":return 18*$def$jscomp$4_x$jscomp$146$$;case "ex":return 9*$def$jscomp$4_x$jscomp$146$$;case "%":return $def$jscomp$4_x$jscomp$146$$*
$size$jscomp$17$$/100;default:return $def$jscomp$4_x$jscomp$146$$}}function $path$jscomp$5$$($d$jscomp$9$$){var $x$jscomp$147$$=0,$y$jscomp$117$$=0,$polyX$jscomp$1$$=[],$polyY$jscomp$1$$=[],$polyDoCollect$jscomp$1$$=!0;$ctx$jscomp$68$$&&$ctx$jscomp$68$$.beginPath();$d$jscomp$9$$.forEach(function($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$){switch($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$cmd$){case "M":2<=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$.length&&
($x$jscomp$147$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[0],$y$jscomp$117$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[1],$ctx$jscomp$68$$&&$ctx$jscomp$68$$.moveTo($x$jscomp$147$$,$y$jscomp$117$$),$addPoint$jscomp$1$$($x$jscomp$147$$,$y$jscomp$117$$),$polyDoCollect$jscomp$1$$&&1<$polyX$jscomp$1$$.length&&$options$jscomp$20$$&&$options$jscomp$20$$.$cb$&&$options$jscomp$20$$.$cb$.line&&$options$jscomp$20$$.$cb$.line($polyX$jscomp$1$$,$polyY$jscomp$1$$,
!1),$polyDoCollect$jscomp$1$$=!0,$polyX$jscomp$1$$=$xa$jscomp$2$$.slice(-1),$polyY$jscomp$1$$=$ya$jscomp$2$$.slice(-1));break;case "L":$x$jscomp$147$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[0];$y$jscomp$117$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[1];$ctx$jscomp$68$$&&$ctx$jscomp$68$$.lineTo($x$jscomp$147$$,$y$jscomp$117$$);$addPoint$jscomp$1$$($x$jscomp$147$$,$y$jscomp$117$$);$polyX$jscomp$1$$.push($xa$jscomp$2$$[$xa$jscomp$2$$.length-1]);$polyY$jscomp$1$$.push($ya$jscomp$2$$[$ya$jscomp$2$$.length-
1]);break;case "A":var $x1$jscomp$9$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[5],$y1$jscomp$10$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[6];var $aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[0];var $ry$jscomp$inline_163$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[1],$a$jscomp$inline_164$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[2],
$largeArcFlag$jscomp$inline_165_xc$jscomp$inline_183$$=0!=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[3],$sweepFlag$jscomp$inline_166$$=0!=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[4],$tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[5],$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[6],
$x2$jscomp$inline_169_y2p$jscomp$inline_176$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[7],$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[8];if(0===$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$||0===$ry$jscomp$inline_163$$)$ctx$jscomp$68$$&&$ctx$jscomp$68$$.lineTo($x2$jscomp$inline_169_y2p$jscomp$inline_176$$,$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$),$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$=
new $SVG$Transform$Point$$($x2$jscomp$inline_169_y2p$jscomp$inline_176$$,$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$);else{var $ca$jscomp$inline_171_yd$jscomp$inline_180$$=Math.cos($a$jscomp$inline_164$$),$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$=Math.sin($a$jscomp$inline_164$$);$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$=($ca$jscomp$inline_171_yd$jscomp$inline_180$$*$tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$+$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$*
$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$)/$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$;$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$=(-$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$*$tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$+$ca$jscomp$inline_171_yd$jscomp$inline_180$$*$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$)/$ry$jscomp$inline_163$$;$tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$=
($ca$jscomp$inline_171_yd$jscomp$inline_180$$*$x2$jscomp$inline_169_y2p$jscomp$inline_176$$+$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$*$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$)/$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$;$x2$jscomp$inline_169_y2p$jscomp$inline_176$$=(-$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$*$x2$jscomp$inline_169_y2p$jscomp$inline_176$$+$ca$jscomp$inline_171_yd$jscomp$inline_180$$*$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$)/
$ry$jscomp$inline_163$$;$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$=($tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$-$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$)/2;$ca$jscomp$inline_171_yd$jscomp$inline_180$$=($x2$jscomp$inline_169_y2p$jscomp$inline_176$$-$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$)/2;$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$=$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$*
$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$+$ca$jscomp$inline_171_yd$jscomp$inline_180$$*$ca$jscomp$inline_171_yd$jscomp$inline_180$$;$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$=Math.sqrt((1-$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$)/$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$);isNaN($a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$)?$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$=
0:$largeArcFlag$jscomp$inline_165_xc$jscomp$inline_183$$===$sweepFlag$jscomp$inline_166$$&&($a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$=-$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$);$largeArcFlag$jscomp$inline_165_xc$jscomp$inline_183$$=($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$+$tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$)/2+$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$*$ca$jscomp$inline_171_yd$jscomp$inline_180$$;
$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$=($th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$+$x2$jscomp$inline_169_y2p$jscomp$inline_176$$)/2-$a2$jscomp$inline_181_f$jscomp$inline_182_sa$jscomp$inline_172$$*$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$;$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$=Math.atan2(($th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$-$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$)/
$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$,($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$-$largeArcFlag$jscomp$inline_165_xc$jscomp$inline_183$$)/$ry$jscomp$inline_163$$);$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$=Math.atan2(($x2$jscomp$inline_169_y2p$jscomp$inline_176$$-$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$)/$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$,($tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$-
$largeArcFlag$jscomp$inline_165_xc$jscomp$inline_183$$)/$ry$jscomp$inline_163$$);$ctx$jscomp$68$$&&($ctx$jscomp$68$$.rotate($a$jscomp$inline_164$$),$ctx$jscomp$68$$.scale($aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$,$ry$jscomp$inline_163$$),$sweepFlag$jscomp$inline_166$$?$ctx$jscomp$68$$.arc($largeArcFlag$jscomp$inline_165_xc$jscomp$inline_183$$,$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$,1,$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$,$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$,
!0):$ctx$jscomp$68$$.arc($largeArcFlag$jscomp$inline_165_xc$jscomp$inline_183$$,$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$,1,$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$,$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$),$ctx$jscomp$68$$.scale(1/$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$,1/$ry$jscomp$inline_163$$),$ctx$jscomp$68$$.rotate(-$a$jscomp$inline_164$$));$tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$=
new $SVG$Transform$$;$tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$.rotate($a$jscomp$inline_164$$);$tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$.scale($aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$,$ry$jscomp$inline_163$$);$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$=$sweepFlag$jscomp$inline_166$$?$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$<$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$?($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$+
$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$)/2+Math.PI:($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$+$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$)/2:$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$<$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$?($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$+$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$)/2:($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$+
$th2$jscomp$inline_186_y1$jscomp$inline_168_y1p$jscomp$inline_174$$)/2+Math.PI;$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$=$tr$jscomp$inline_187_x1$jscomp$inline_167_x2p$jscomp$inline_175$$.apply(new $SVG$Transform$Point$$($largeArcFlag$jscomp$inline_165_xc$jscomp$inline_183$$+Math.cos($aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$),$xd$jscomp$inline_179_y2$jscomp$inline_170_yc$jscomp$inline_184$$+Math.sin($aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$)))}$x$jscomp$147$$=
$x1$jscomp$9$$;$y$jscomp$117$$=$y1$jscomp$10$$;$addPoint$jscomp$1$$($aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$.x,$aMid$jscomp$inline_188_p$jscomp$10_rx$jscomp$inline_162$$.y);$addPoint$jscomp$1$$($x$jscomp$147$$,$y$jscomp$117$$);$polyDoCollect$jscomp$1$$=!1;break;case "C":$ctx$jscomp$68$$&&$ctx$jscomp$68$$.bezierCurveTo($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[0],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[1],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[2],
$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[3],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[4],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[5]);$x$jscomp$147$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[4];$y$jscomp$117$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[5];$addPoint$jscomp$1$$($x$jscomp$147$$,$y$jscomp$117$$);$polyDoCollect$jscomp$1$$=!1;break;case "S":$ctx$jscomp$68$$&&$ctx$jscomp$68$$.bezierCurveTo($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[0],
$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[1],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[2],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[3],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[4],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[5]);$x$jscomp$147$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[4];$y$jscomp$117$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[5];
$addPoint$jscomp$1$$($x$jscomp$147$$,$y$jscomp$117$$);$polyDoCollect$jscomp$1$$=!1;break;case "Q":$ctx$jscomp$68$$&&$ctx$jscomp$68$$.quadraticCurveTo($c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[0],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[1],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[2],$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[3]);$x$jscomp$147$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[2];
$y$jscomp$117$$=$c$jscomp$13_th1$jscomp$inline_185_x1p$jscomp$inline_173$$.$args$[3];$addPoint$jscomp$1$$($x$jscomp$147$$,$y$jscomp$117$$);$polyDoCollect$jscomp$1$$=!1;break;case "Z":$ctx$jscomp$68$$&&$ctx$jscomp$68$$.closePath(),$polyDoCollect$jscomp$1$$&&1<$polyX$jscomp$1$$.length&&$options$jscomp$20$$&&$options$jscomp$20$$.$cb$&&$options$jscomp$20$$.$cb$.line&&$options$jscomp$20$$.$cb$.line($polyX$jscomp$1$$,$polyY$jscomp$1$$,!0),$polyDoCollect$jscomp$1$$=!0,$polyX$jscomp$1$$=[],$polyY$jscomp$1$$=
[]}});$polyDoCollect$jscomp$1$$&&1<$polyX$jscomp$1$$.length&&$options$jscomp$20$$&&$options$jscomp$20$$.$cb$&&$options$jscomp$20$$.$cb$.line&&$options$jscomp$20$$.$cb$.line($polyX$jscomp$1$$,$polyY$jscomp$1$$,!1)}function $decodeFillStyle$jscomp$1$$($fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$){function $fillStopArray$jscomp$1$$($stops$jscomp$1$$,$stopEl$jscomp$3$$){if(0<$stopEl$jscomp$3$$.length){$stops$jscomp$1$$.splice(0,$stops$jscomp$1$$.length);for(var $i$jscomp$139$$=0;$i$jscomp$139$$<$stopEl$jscomp$3$$.length&&
1>$i$jscomp$139$$;$i$jscomp$139$$++){var $opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$=($stopEl$jscomp$3$$[$i$jscomp$139$$].getAttribute("offset")||"0").trim(),$offset$jscomp$20$$=/%$/.test($opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$)?parseFloat($opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$.slice(0,-1))/100:parseFloat($opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$),$color$jscomp$8_style$jscomp$8$$=$stopEl$jscomp$3$$[$i$jscomp$139$$].getAttribute("style");$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$=
{};$color$jscomp$8_style$jscomp$8$$&&$SVG$parseStyle$$($opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$,$color$jscomp$8_style$jscomp$8$$);isNaN($offset$jscomp$20$$)||($color$jscomp$8_style$jscomp$8$$=$stopEl$jscomp$3$$[$i$jscomp$139$$].getAttribute("stop-color")||$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$["stop-color"]||"#000",$SVG$colorDict$$.hasOwnProperty($color$jscomp$8_style$jscomp$8$$)&&($color$jscomp$8_style$jscomp$8$$=$SVG$colorDict$$[$color$jscomp$8_style$jscomp$8$$]),$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$=
($stopEl$jscomp$3$$[$i$jscomp$139$$].getAttribute("stop-opacity")||$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$["stop-opacity"]||"1").trim(),$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$=/%$/.test($opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$)?parseFloat($opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$.slice(0,-1))/100:parseFloat($opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$),1!==$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$&&(/^#[0-9a-f]{3}$/i.test($color$jscomp$8_style$jscomp$8$$)?
$color$jscomp$8_style$jscomp$8$$="rgba("+$color$jscomp$8_style$jscomp$8$$.slice(1).split("").map(function($s$jscomp$34$$){return 17*parseInt($s$jscomp$34$$,16)}).map(function($x$jscomp$148$$){return $x$jscomp$148$$.toString(10)}).join(",")+","+$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$.toFixed(2)+")":/^#[0-9a-f]{6}$/i.test($color$jscomp$8_style$jscomp$8$$)?$color$jscomp$8_style$jscomp$8$$="rgba("+[$color$jscomp$8_style$jscomp$8$$.slice(1,3),$color$jscomp$8_style$jscomp$8$$.slice(3,5),$color$jscomp$8_style$jscomp$8$$.slice(5)].map(function($s$jscomp$35$$){return parseInt($s$jscomp$35$$,
16)}).map(function($x$jscomp$149$$){return $x$jscomp$149$$.toString(10)}).join(",")+","+$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$.toFixed(2)+")":/^rgb(\d+%?(,|\s+)\d+%?(,|\s+)\d+%?)$/i.test($color$jscomp$8_style$jscomp$8$$)?$color$jscomp$8_style$jscomp$8$$=$color$jscomp$8_style$jscomp$8$$.slice(0,-1).replace(/\s+/g,",")+","+$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$.toFixed(2)+")":/^hsl(\d+%?(,|\s+)\d+%?(,|\s+)\d+%?)$/i.test($color$jscomp$8_style$jscomp$8$$)&&($color$jscomp$8_style$jscomp$8$$=
$color$jscomp$8_style$jscomp$8$$.slice(0,-1).replace(/\s+/g,",")+","+$opacity$jscomp$1_str$jscomp$18_styleDict$jscomp$2$$.toFixed(2)+")")),$stops$jscomp$1$$.push({offset:$offset$jscomp$20$$,color:$color$jscomp$8_style$jscomp$8$$}))}}}function $fillLinearGradientProps$jscomp$1$$($el$jscomp$11$$,$props$jscomp$15$$){if($el$jscomp$11$$.attributes["xlink:href"]){var $href$jscomp$2_targetEl$jscomp$4$$=$el$jscomp$11$$.getAttribute("xlink:href");"#"===$href$jscomp$2_targetEl$jscomp$4$$[0]&&($href$jscomp$2_targetEl$jscomp$4$$=
$self$jscomp$17$$.$b$.getElementById($href$jscomp$2_targetEl$jscomp$4$$.slice(1)))&&($props$jscomp$15$$=$fillLinearGradientProps$jscomp$1$$($href$jscomp$2_targetEl$jscomp$4$$,$props$jscomp$15$$))}$props$jscomp$15$$.$x1$=$el$jscomp$11$$.attributes.x1?parseFloat($el$jscomp$11$$.getAttribute("x1")):$props$jscomp$15$$.$x1$||0;$props$jscomp$15$$.$y1$=$el$jscomp$11$$.attributes.y1?parseFloat($el$jscomp$11$$.getAttribute("y1")):$props$jscomp$15$$.$y1$||0;$props$jscomp$15$$.$x2$=$el$jscomp$11$$.attributes.x2?
parseFloat($el$jscomp$11$$.getAttribute("x2")):$props$jscomp$15$$.$x2$||0;$props$jscomp$15$$.$y2$=$el$jscomp$11$$.attributes.y2?parseFloat($el$jscomp$11$$.getAttribute("y2")):$props$jscomp$15$$.$y2$||0;$props$jscomp$15$$.$gradientUnits$=$el$jscomp$11$$.attributes.gradientUnits?$el$jscomp$11$$.getAttribute("gradientUnits"):$props$jscomp$15$$.$gradientUnits$||"objectBoundingBox";$props$jscomp$15$$.$gradientTransform$=$el$jscomp$11$$.attributes.gradientTransform?$el$jscomp$11$$.getAttribute("gradientTransform"):
$props$jscomp$15$$.$gradientTransform$||"";$props$jscomp$15$$.$stops$=$props$jscomp$15$$.$stops$||[];$fillStopArray$jscomp$1$$($props$jscomp$15$$.$stops$,$el$jscomp$11$$.getElementsByTagName("stop"));return $props$jscomp$15$$}function $fillRadialGradientProps$jscomp$1$$($el$jscomp$12$$,$props$jscomp$16$$){if($el$jscomp$12$$.attributes["xlink:href"]){var $href$jscomp$3_targetEl$jscomp$5$$=$el$jscomp$12$$.getAttribute("xlink:href");"#"===$href$jscomp$3_targetEl$jscomp$5$$[0]&&($href$jscomp$3_targetEl$jscomp$5$$=
$self$jscomp$17$$.$b$.getElementById($href$jscomp$3_targetEl$jscomp$5$$.slice(1)))&&($props$jscomp$16$$=$fillRadialGradientProps$jscomp$1$$($href$jscomp$3_targetEl$jscomp$5$$,$props$jscomp$16$$))}$props$jscomp$16$$.$cx$=$el$jscomp$12$$.attributes.cx?parseFloat($el$jscomp$12$$.getAttribute("cx")):$props$jscomp$16$$.$cx$||0;$props$jscomp$16$$.$cy$=$el$jscomp$12$$.attributes.cy?parseFloat($el$jscomp$12$$.getAttribute("cy")):$props$jscomp$16$$.$cy$||0;$props$jscomp$16$$.r=$el$jscomp$12$$.attributes.r?
parseFloat($el$jscomp$12$$.getAttribute("r")):$props$jscomp$16$$.r||0;$props$jscomp$16$$.$gradientUnits$=$el$jscomp$12$$.attributes.gradientUnits?$el$jscomp$12$$.getAttribute("gradientUnits"):$props$jscomp$16$$.$gradientUnits$||"objectBoundingBox";$props$jscomp$16$$.$gradientTransform$=$el$jscomp$12$$.attributes.gradientTransform?$el$jscomp$12$$.getAttribute("gradientTransform"):$props$jscomp$16$$.$gradientTransform$||"";$props$jscomp$16$$.$stops$=$props$jscomp$16$$.$stops$||[];$fillStopArray$jscomp$1$$($props$jscomp$16$$.$stops$,
$el$jscomp$12$$.getElementsByTagName("stop"));return $props$jscomp$16$$}var $gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$=/^url\(#(.+)\)$/.exec($fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$);if($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$&&$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$[1]&&($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$=
$self$jscomp$17$$.$b$.getElementById($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$[1])))switch($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$.tagName){case "linearGradient":$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$=$fillLinearGradientProps$jscomp$1$$($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$,{});if("objectBoundingBox"===$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$gradientUnits$)throw"objectBoundingBox not supported";
if($fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$gradientTransform$)throw $gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$=new $SVG$Transform$$,$SVG$applyTransformTo$$($fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$gradientTransform$,$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$),"gradientTransform not supported";var $centerTr$jscomp$1_linearGradient$jscomp$1_radialGradient$jscomp$1$$=$ctx$jscomp$68$$.createLinearGradient($fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$x1$,
$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$y1$,$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$x2$,$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$y2$);for($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$=0;$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$<$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$stops$.length;$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$++)$centerTr$jscomp$1_linearGradient$jscomp$1_radialGradient$jscomp$1$$.addColorStop($fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$stops$[$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$].offset,
$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$stops$[$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$].color);return $centerTr$jscomp$1_linearGradient$jscomp$1_radialGradient$jscomp$1$$;case "radialGradient":$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$=$fillRadialGradientProps$jscomp$1$$($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$,{});if("objectBoundingBox"===$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$gradientUnits$)throw"objectBoundingBox not supported";
$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$gradientTransform$&&($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$=new $SVG$Transform$$,$SVG$applyTransformTo$$($fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$gradientTransform$,$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$),$centerTr$jscomp$1_linearGradient$jscomp$1_radialGradient$jscomp$1$$=$JSCompiler_StaticMethods_applyInverse$$($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$,
{x:$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$cx$,y:$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$cy$}),$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$=$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.r/Math.sqrt(Math.abs($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$.$b$[0]*$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$.$b$[4])),$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$cx$=$centerTr$jscomp$1_linearGradient$jscomp$1_radialGradient$jscomp$1$$.x,
$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$cy$=$centerTr$jscomp$1_linearGradient$jscomp$1_radialGradient$jscomp$1$$.y,$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.r=$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$);$centerTr$jscomp$1_linearGradient$jscomp$1_radialGradient$jscomp$1$$=$ctx$jscomp$68$$.createRadialGradient($fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$cx$,$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$cy$,0,$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$cx$,$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$cy$,
$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.r);for($gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$=0;$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$<$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$stops$.length;$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$++)$centerTr$jscomp$1_linearGradient$jscomp$1_radialGradient$jscomp$1$$.addColorStop($fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$stops$[$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$].offset,
$fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$.$stops$[$gradientTransform$jscomp$1_i$jscomp$138_id$jscomp$26_radiusTr$jscomp$1_targetEl$jscomp$3$$].color);return $centerTr$jscomp$1_linearGradient$jscomp$1_radialGradient$jscomp$1$$}return $fill$jscomp$1_lg$jscomp$1_rg$jscomp$1$$}function $roundedRect$jscomp$1$$($x$jscomp$150$$,$y$jscomp$118$$,$w$jscomp$12$$,$h$jscomp$8$$,$r$jscomp$24_rx$jscomp$6$$,$ry$jscomp$6$$){0>=$r$jscomp$24_rx$jscomp$6$$||0>=$ry$jscomp$6$$?$ctx$jscomp$68$$.rect($x$jscomp$150$$,$y$jscomp$118$$,
$w$jscomp$12$$,$h$jscomp$8$$):($r$jscomp$24_rx$jscomp$6$$=Math.min(($r$jscomp$24_rx$jscomp$6$$+$ry$jscomp$6$$)/2,Math.min($w$jscomp$12$$,$h$jscomp$8$$)/2),$ctx$jscomp$68$$.moveTo($x$jscomp$150$$+$w$jscomp$12$$-$r$jscomp$24_rx$jscomp$6$$,$y$jscomp$118$$),$ctx$jscomp$68$$.arc($x$jscomp$150$$+$w$jscomp$12$$-$r$jscomp$24_rx$jscomp$6$$,$y$jscomp$118$$+$r$jscomp$24_rx$jscomp$6$$,$r$jscomp$24_rx$jscomp$6$$,1.5*Math.PI,2*Math.PI),$ctx$jscomp$68$$.lineTo($x$jscomp$150$$+$w$jscomp$12$$,$y$jscomp$118$$+$h$jscomp$8$$-
$r$jscomp$24_rx$jscomp$6$$),$ctx$jscomp$68$$.arc($x$jscomp$150$$+$w$jscomp$12$$-$r$jscomp$24_rx$jscomp$6$$,$y$jscomp$118$$+$h$jscomp$8$$-$r$jscomp$24_rx$jscomp$6$$,$r$jscomp$24_rx$jscomp$6$$,0,.5*Math.PI),$ctx$jscomp$68$$.lineTo($x$jscomp$150$$+$r$jscomp$24_rx$jscomp$6$$,$y$jscomp$118$$+$h$jscomp$8$$),$ctx$jscomp$68$$.arc($x$jscomp$150$$+$r$jscomp$24_rx$jscomp$6$$,$y$jscomp$118$$+$h$jscomp$8$$-$r$jscomp$24_rx$jscomp$6$$,$r$jscomp$24_rx$jscomp$6$$,.5*Math.PI,Math.PI),$ctx$jscomp$68$$.lineTo($x$jscomp$150$$,
$y$jscomp$118$$+$r$jscomp$24_rx$jscomp$6$$),$ctx$jscomp$68$$.arc($x$jscomp$150$$+$r$jscomp$24_rx$jscomp$6$$,$y$jscomp$118$$+$r$jscomp$24_rx$jscomp$6$$,$r$jscomp$24_rx$jscomp$6$$,Math.PI,1.5*Math.PI),$ctx$jscomp$68$$.closePath())}function $paint$jscomp$1$$(){if($ctx$jscomp$68$$){var $style$jscomp$9$$={};$baseStyleDict$$&&$SVG$mergeStyle$$($style$jscomp$9$$,$baseStyleDict$$);$overriddenStyleDict$$&&$SVG$mergeStyle$$($style$jscomp$9$$,$overriddenStyleDict$$);"hidden"!==$style$jscomp$9$$.visibility&&
($style$jscomp$9$$.opacity&&($ctx$jscomp$68$$.globalAlpha*=parseFloat($style$jscomp$9$$.opacity)),$style$jscomp$9$$.fill&&"none"===$style$jscomp$9$$.fill||($ctx$jscomp$68$$.fillStyle="white"===$style$jscomp$9$$.fill||"#fff"===$style$jscomp$9$$.fill||"#ffffff"===$style$jscomp$9$$.fill?"white":$decodeFillStyle$jscomp$1$$($style$jscomp$9$$.fill)||"none",$ctx$jscomp$68$$.fill()),$style$jscomp$9$$.stroke&&"none"!==$style$jscomp$9$$.stroke&&($ctx$jscomp$68$$.lineWidth=$lengthToNum$jscomp$2$$($style$jscomp$9$$["stroke-width"]||
"1px",1,100),$ctx$jscomp$68$$.strokeStyle=$style$jscomp$9$$.stroke||"none",$ctx$jscomp$68$$.miterLimit=$style$jscomp$9$$["stroke-miterlimit"]||4,$ctx$jscomp$68$$.lineJoin=$style$jscomp$9$$["stroke-linejoin"]||"miter",$ctx$jscomp$68$$.lineCap=$style$jscomp$9$$["stroke-linecap"]||"butt",$style$jscomp$9$$["stroke-dasharray"]&&($ctx$jscomp$68$$.setLineDash($style$jscomp$9$$["stroke-dasharray"].split(" ").map(function($s$jscomp$36$$){return parseFloat($s$jscomp$36$$)})),$ctx$jscomp$68$$.lineDashOffset=
$style$jscomp$9$$["stroke-dashoffset"]?parseFloat($style$jscomp$9$$["stroke-dashoffset"]):0),$ctx$jscomp$68$$.stroke()))}}function $paintText$jscomp$1$$($str$jscomp$19$$,$x$jscomp$151$$,$y$jscomp$119$$){if($ctx$jscomp$68$$){var $style$jscomp$10$$={};$baseStyleDict$$&&$SVG$mergeStyle$$($style$jscomp$10$$,$baseStyleDict$$);$overriddenStyleDict$$&&$SVG$mergeStyle$$($style$jscomp$10$$,$overriddenStyleDict$$);"hidden"!==$style$jscomp$10$$.visibility&&($ctx$jscomp$68$$.font=($style$jscomp$10$$["font-size"]||
"12px")+" "+($style$jscomp$10$$["font-family"]||"helvetica"),$style$jscomp$10$$.fill&&"none"!==$style$jscomp$10$$.fill&&($ctx$jscomp$68$$.fillStyle="white"===$style$jscomp$10$$.fill||"#fff"===$style$jscomp$10$$.fill||"#ffffff"===$style$jscomp$10$$.fill?"white":$options$jscomp$20$$&&$options$jscomp$20$$.fill||"silver",$ctx$jscomp$68$$.fillText($str$jscomp$19$$,$x$jscomp$151$$,$y$jscomp$119$$)),$style$jscomp$10$$.stroke&&"none"!==$style$jscomp$10$$.stroke&&($ctx$jscomp$68$$.strokeStyle=$options$jscomp$20$$&&
$options$jscomp$20$$.stroke||"black",$ctx$jscomp$68$$.strokeText($str$jscomp$19$$,$x$jscomp$151$$,$y$jscomp$119$$)))}}function $drawBoundingBox$jscomp$1$$($bnds$jscomp$5_xa$jscomp$3$$,$ya$jscomp$3$$){$bnds$jscomp$5_xa$jscomp$3$$=$SVG$calcBounds$$({x:$bnds$jscomp$5_xa$jscomp$3$$,y:$ya$jscomp$3$$});$ctx$jscomp$68$$.save();$ctx$jscomp$68$$.strokeStyle="black";$ctx$jscomp$68$$.lineWidth=1;$ctx$jscomp$68$$.strokeRect($bnds$jscomp$5_xa$jscomp$3$$.$xmin$,$bnds$jscomp$5_xa$jscomp$3$$.$ymin$,$bnds$jscomp$5_xa$jscomp$3$$.$xmax$-
$bnds$jscomp$5_xa$jscomp$3$$.$xmin$,$bnds$jscomp$5_xa$jscomp$3$$.$ymax$-$bnds$jscomp$5_xa$jscomp$3$$.$ymin$);$ctx$jscomp$68$$.restore()}var $displacement$jscomp$5_ptLen0$jscomp$1$$=$el$jscomp$10$$.id&&$options$jscomp$20$$&&$options$jscomp$20$$.$displacement$&&$options$jscomp$20$$.$displacement$[$el$jscomp$10$$.id],$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$=$el$jscomp$10$$.id&&$options$jscomp$20$$&&$options$jscomp$20$$.$clips$&&$options$jscomp$20$$.$clips$[$el$jscomp$10$$.id];$ctx$jscomp$68$$&&$ctx$jscomp$68$$.save();
$transform$jscomp$4$$.save();$displacement$jscomp$5_ptLen0$jscomp$1$$&&$ctx$jscomp$68$$&&$applyDisplacement$jscomp$1$$($el$jscomp$10$$,$displacement$jscomp$5_ptLen0$jscomp$1$$);$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$&&$ctx$jscomp$68$$&&$applyClip$jscomp$1$$($clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$);$baseStyleDict$$=$SVG$copyStyle$$($baseStyleDict$$);$overriddenStyleDict$$=$SVG$copyStyle$$($overriddenStyleDict$$);$el$jscomp$10$$.style&&$SVG$mergeStyle$$($baseStyleDict$$,$el$jscomp$10$$.style);$options$jscomp$20$$&&
$options$jscomp$20$$.$elementStyle$&&$SVG$parseStyle$$($baseStyleDict$$,$options$jscomp$20$$.$elementStyle$);$el$jscomp$10$$.id&&$options$jscomp$20$$&&$options$jscomp$20$$.style&&$options$jscomp$20$$.style.hasOwnProperty($el$jscomp$10$$.id)&&$SVG$parseStyle$$($overriddenStyleDict$$,$options$jscomp$20$$.style[$el$jscomp$10$$.id]);$displacement$jscomp$5_ptLen0$jscomp$1$$=$xa$jscomp$2$$.length;switch($el$jscomp$10$$.name){case "svg":$transform$jscomp$4$$.save();$applyTransform$jscomp$1$$($el$jscomp$10$$.transform);
$drawChildren$jscomp$1$$();$transform$jscomp$4$$.restore();break;case "g":$transform$jscomp$4$$.save();$applyTransform$jscomp$1$$($el$jscomp$10$$.transform);$drawChildren$jscomp$1$$();$transform$jscomp$4$$.restore();break;case "path":$ctx$jscomp$68$$&&$ctx$jscomp$68$$.save();$transform$jscomp$4$$.save();$applyTransform$jscomp$1$$($el$jscomp$10$$.transform);$path$jscomp$5$$($el$jscomp$10$$.path);$paint$jscomp$1$$();$ctx$jscomp$68$$&&$ctx$jscomp$68$$.restore();$transform$jscomp$4$$.restore();break;
case "line":$ctx$jscomp$68$$&&$ctx$jscomp$68$$.save();$transform$jscomp$4$$.save();$applyTransform$jscomp$1$$($el$jscomp$10$$.transform);$ctx$jscomp$68$$&&$ctx$jscomp$68$$.beginPath();$ctx$jscomp$68$$&&$ctx$jscomp$68$$.moveTo($el$jscomp$10$$.$x1$,$el$jscomp$10$$.$y1$);$ctx$jscomp$68$$&&$ctx$jscomp$68$$.lineTo($el$jscomp$10$$.$x2$,$el$jscomp$10$$.$y2$);$paint$jscomp$1$$();$addPoint$jscomp$1$$($el$jscomp$10$$.$x1$,$el$jscomp$10$$.$y1$);$addPoint$jscomp$1$$($el$jscomp$10$$.$x2$,$el$jscomp$10$$.$y2$);
$options$jscomp$20$$&&$options$jscomp$20$$.$cb$&&$options$jscomp$20$$.$cb$.line&&$options$jscomp$20$$.$cb$.line([$el$jscomp$10$$.$x1$,$el$jscomp$10$$.$x2$],[$el$jscomp$10$$.$y1$,$el$jscomp$10$$.$y2$],!1);$ctx$jscomp$68$$&&$ctx$jscomp$68$$.restore();$transform$jscomp$4$$.restore();break;case "polygon":case "polyline":if(4<=$el$jscomp$10$$.$points$.length){$ctx$jscomp$68$$&&$ctx$jscomp$68$$.save();$transform$jscomp$4$$.save();$applyTransform$jscomp$1$$($el$jscomp$10$$.transform);$ctx$jscomp$68$$&&$ctx$jscomp$68$$.beginPath();
$ctx$jscomp$68$$&&$ctx$jscomp$68$$.moveTo($el$jscomp$10$$.$points$[0],$el$jscomp$10$$.$points$[1]);$addPoint$jscomp$1$$($el$jscomp$10$$.$points$[0],$el$jscomp$10$$.$points$[1]);for($clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$=2;$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$+1<$el$jscomp$10$$.$points$.length;$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$+=2)$ctx$jscomp$68$$&&$ctx$jscomp$68$$.lineTo($el$jscomp$10$$.$points$[$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$],$el$jscomp$10$$.$points$[$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$+
1]),$addPoint$jscomp$1$$($el$jscomp$10$$.$points$[$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$],$el$jscomp$10$$.$points$[$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$+1]);"polygon"===$el$jscomp$10$$.name&&$ctx$jscomp$68$$&&$ctx$jscomp$68$$.closePath();$paint$jscomp$1$$();$options$jscomp$20$$&&$options$jscomp$20$$.$cb$&&$options$jscomp$20$$.$cb$.line&&$options$jscomp$20$$.$cb$.line($xa$jscomp$2$$.slice(-$el$jscomp$10$$.$points$.length/2),$ya$jscomp$2$$.slice(-$el$jscomp$10$$.$points$.length/2),"polygon"===
$el$jscomp$10$$.name);$ctx$jscomp$68$$&&$ctx$jscomp$68$$.restore();$transform$jscomp$4$$.restore()}break;case "circle":$ctx$jscomp$68$$&&$ctx$jscomp$68$$.save();$transform$jscomp$4$$.save();$applyTransform$jscomp$1$$($el$jscomp$10$$.transform);$ctx$jscomp$68$$&&$ctx$jscomp$68$$.beginPath();$ctx$jscomp$68$$&&$ctx$jscomp$68$$.arc($el$jscomp$10$$.x,$el$jscomp$10$$.y,$el$jscomp$10$$.r,0,2*Math.PI);$paint$jscomp$1$$();$addPoint$jscomp$1$$($el$jscomp$10$$.x-$el$jscomp$10$$.r,$el$jscomp$10$$.y-$el$jscomp$10$$.r);
$addPoint$jscomp$1$$($el$jscomp$10$$.x-$el$jscomp$10$$.r,$el$jscomp$10$$.y+$el$jscomp$10$$.r);$addPoint$jscomp$1$$($el$jscomp$10$$.x+$el$jscomp$10$$.r,$el$jscomp$10$$.y-$el$jscomp$10$$.r);$addPoint$jscomp$1$$($el$jscomp$10$$.x+$el$jscomp$10$$.r,$el$jscomp$10$$.y+$el$jscomp$10$$.r);if($options$jscomp$20$$&&$options$jscomp$20$$.$cb$&&$options$jscomp$20$$.$cb$.$circle$){$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$=$xa$jscomp$2$$.slice(-4);var $y4$jscomp$1$$=$ya$jscomp$2$$.slice(-4),$diag12$jscomp$1$$=($clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[3]-
$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[0])*($clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[3]-$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[0])+($y4$jscomp$1$$[3]-$y4$jscomp$1$$[0])*($y4$jscomp$1$$[3]-$y4$jscomp$1$$[0]),$diag22$jscomp$1$$=($clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[2]-$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[1])*($clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[2]-$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[1])+($y4$jscomp$1$$[2]-$y4$jscomp$1$$[1])*($y4$jscomp$1$$[2]-$y4$jscomp$1$$[1]);.001>Math.abs($diag12$jscomp$1$$-
$diag22$jscomp$1$$)/($diag12$jscomp$1$$+$diag22$jscomp$1$$)&&.001>(($clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[3]-$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[0])*($clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[2]-$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[1])+($y4$jscomp$1$$[3]-$y4$jscomp$1$$[0])*($y4$jscomp$1$$[2]-$y4$jscomp$1$$[1]))/$diag12$jscomp$1$$&&$options$jscomp$20$$.$cb$.$circle$(($clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[0]+$clip$jscomp$3_i$jscomp$136_x4$jscomp$1$$[2])/2,($y4$jscomp$1$$[0]+$y4$jscomp$1$$[2])/
2,Math.sqrt($diag12$jscomp$1$$/8))}$ctx$jscomp$68$$&&$ctx$jscomp$68$$.restore();$transform$jscomp$4$$.restore();break;case "rect":$ctx$jscomp$68$$&&$ctx$jscomp$68$$.save();$transform$jscomp$4$$.save();$applyTransform$jscomp$1$$($el$jscomp$10$$.transform);$ctx$jscomp$68$$&&($ctx$jscomp$68$$.beginPath(),0<$el$jscomp$10$$.$rx$||0<$el$jscomp$10$$.$ry$?$roundedRect$jscomp$1$$($el$jscomp$10$$.x,$el$jscomp$10$$.y,$el$jscomp$10$$.width,$el$jscomp$10$$.height,$el$jscomp$10$$.$rx$,$el$jscomp$10$$.$ry$):$ctx$jscomp$68$$.rect($el$jscomp$10$$.x,
$el$jscomp$10$$.y,$el$jscomp$10$$.width,$el$jscomp$10$$.height));$paint$jscomp$1$$();$addPoint$jscomp$1$$($el$jscomp$10$$.x,$el$jscomp$10$$.y);$addPoint$jscomp$1$$($el$jscomp$10$$.x,$el$jscomp$10$$.y+$el$jscomp$10$$.height);$addPoint$jscomp$1$$($el$jscomp$10$$.x+$el$jscomp$10$$.width,$el$jscomp$10$$.y);$addPoint$jscomp$1$$($el$jscomp$10$$.x+$el$jscomp$10$$.width,$el$jscomp$10$$.y+$el$jscomp$10$$.height);$ctx$jscomp$68$$&&$ctx$jscomp$68$$.restore();$transform$jscomp$4$$.restore();break;case "text":$ctx$jscomp$68$$&&
$ctx$jscomp$68$$.save(),$transform$jscomp$4$$.save(),$applyTransform$jscomp$1$$($el$jscomp$10$$.transform),$paintText$jscomp$1$$($el$jscomp$10$$.text,$el$jscomp$10$$.x,$el$jscomp$10$$.y),$addPoint$jscomp$1$$($el$jscomp$10$$.x,$el$jscomp$10$$.y),$ctx$jscomp$68$$&&$ctx$jscomp$68$$.restore(),$transform$jscomp$4$$.restore()}$ctx$jscomp$68$$&&$ctx$jscomp$68$$.restore();$transform$jscomp$4$$.restore();$ctx$jscomp$68$$&&$options$jscomp$20$$&&$options$jscomp$20$$.$drawBoundingBox$&&$drawBoundingBox$jscomp$1$$($xa$jscomp$2$$.slice($displacement$jscomp$5_ptLen0$jscomp$1$$),
$ya$jscomp$2$$.slice($displacement$jscomp$5_ptLen0$jscomp$1$$))}function $applyDisplacement$jscomp$1$$($bnds$jscomp$4_el$jscomp$9$$,$displacement$jscomp$4$$){if($displacement$jscomp$4$$.$phi$&&0!=$displacement$jscomp$4$$.$phi$){var $p$jscomp$9_x0$jscomp$16$$=$displacement$jscomp$4$$.$x0$,$y0$jscomp$16$$=$displacement$jscomp$4$$.$y0$;if(void 0==$p$jscomp$9_x0$jscomp$16$$||void 0==$y0$jscomp$16$$)$p$jscomp$9_x0$jscomp$16$$=$self$jscomp$17$$.$draw$(null,{$obj$:$bnds$jscomp$4_el$jscomp$9$$}),$bnds$jscomp$4_el$jscomp$9$$=
$SVG$calcBounds$$($p$jscomp$9_x0$jscomp$16$$),$p$jscomp$9_x0$jscomp$16$$=($bnds$jscomp$4_el$jscomp$9$$.$xmin$+$bnds$jscomp$4_el$jscomp$9$$.$xmax$)/2,$y0$jscomp$16$$=($bnds$jscomp$4_el$jscomp$9$$.$ymin$+$bnds$jscomp$4_el$jscomp$9$$.$ymax$)/2;$ctx$jscomp$68$$.translate($p$jscomp$9_x0$jscomp$16$$+($displacement$jscomp$4$$.$dx$||0),$y0$jscomp$16$$+($displacement$jscomp$4$$.$dy$||0));$ctx$jscomp$68$$.rotate($displacement$jscomp$4$$.$phi$);$ctx$jscomp$68$$.translate(-$p$jscomp$9_x0$jscomp$16$$,-$y0$jscomp$16$$)}else($displacement$jscomp$4$$.$dx$||
$displacement$jscomp$4$$.$dy$)&&$ctx$jscomp$68$$.translate($displacement$jscomp$4$$.$dx$,$displacement$jscomp$4$$.$dy$)}function $applyClip$jscomp$1$$($clip$jscomp$2$$){$ctx$jscomp$68$$.beginPath();$ctx$jscomp$68$$.rect($clip$jscomp$2$$.x,$clip$jscomp$2$$.y,$clip$jscomp$2$$.$w$,$clip$jscomp$2$$.$h$);$ctx$jscomp$68$$.clip()}function $applyTransform$jscomp$1$$($tr$jscomp$12$$){$SVG$Preparsed$applyTransform$$($tr$jscomp$12$$,function($dx$jscomp$18$$,$dy$jscomp$18$$){$ctx$jscomp$68$$&&$ctx$jscomp$68$$.translate($dx$jscomp$18$$,
$dy$jscomp$18$$);$transform$jscomp$4$$.translate($dx$jscomp$18$$,$dy$jscomp$18$$)},function($a$jscomp$26$$){$ctx$jscomp$68$$&&$ctx$jscomp$68$$.rotate($a$jscomp$26$$);$transform$jscomp$4$$.rotate($a$jscomp$26$$)},function($scx$jscomp$4$$,$scy$jscomp$4$$){$ctx$jscomp$68$$&&$ctx$jscomp$68$$.scale($scx$jscomp$4$$,$scy$jscomp$4$$);$transform$jscomp$4$$.scale($scx$jscomp$4$$,$scy$jscomp$4$$)},function($a$jscomp$27$$,$b$jscomp$14$$,$c$jscomp$12$$,$d$jscomp$8$$,$e$jscomp$17$$,$f$jscomp$6$$){$ctx$jscomp$68$$&&
$ctx$jscomp$68$$.transform($a$jscomp$27$$,$b$jscomp$14$$,$c$jscomp$12$$,$d$jscomp$8$$,$e$jscomp$17$$,$f$jscomp$6$$);$transform$jscomp$4$$.$matrix$($a$jscomp$27$$,$b$jscomp$14$$,$c$jscomp$12$$,$d$jscomp$8$$,$e$jscomp$17$$,$f$jscomp$6$$)})}var $self$jscomp$17$$=this,$transform$jscomp$4$$=new $SVG$Transform$Stack$$,$xa$jscomp$2$$=[],$ya$jscomp$2$$=[],$element$jscomp$10$$=this.$i$;$options$jscomp$20$$&&$options$jscomp$20$$.$elementId$?$element$jscomp$10$$=$JSCompiler_StaticMethods_findById$$(this,$options$jscomp$20$$.$elementId$):
$options$jscomp$20$$&&$options$jscomp$20$$.$obj$&&($element$jscomp$10$$=$options$jscomp$20$$.$obj$);if($element$jscomp$10$$){$options$jscomp$20$$&&$options$jscomp$20$$.$globalTransform$&&$options$jscomp$20$$.$globalTransform$($ctx$jscomp$68$$,this.$viewBox$);if($ctx$jscomp$68$$){for(var $ancestors$jscomp$1$$=[],$ancestor$jscomp$2_i$jscomp$135$$=$element$jscomp$10$$.parentElement;null!=$ancestor$jscomp$2_i$jscomp$135$$;$ancestor$jscomp$2_i$jscomp$135$$=$ancestor$jscomp$2_i$jscomp$135$$.parentElement)$ancestors$jscomp$1$$.push($ancestor$jscomp$2_i$jscomp$135$$);
for($ancestor$jscomp$2_i$jscomp$135$$=$ancestors$jscomp$1$$.length-1;0<=$ancestor$jscomp$2_i$jscomp$135$$;$ancestor$jscomp$2_i$jscomp$135$$--){var $displacement$jscomp$3_idAttr$jscomp$6$$=$ancestors$jscomp$1$$[$ancestor$jscomp$2_i$jscomp$135$$].id;($displacement$jscomp$3_idAttr$jscomp$6$$=$displacement$jscomp$3_idAttr$jscomp$6$$&&$options$jscomp$20$$&&$options$jscomp$20$$.$displacement$&&$options$jscomp$20$$.$displacement$[$displacement$jscomp$3_idAttr$jscomp$6$$])&&$applyDisplacement$jscomp$1$$($ancestors$jscomp$1$$[$ancestor$jscomp$2_i$jscomp$135$$],
$displacement$jscomp$3_idAttr$jscomp$6$$);$applyTransform$jscomp$1$$($ancestors$jscomp$1$$[$ancestor$jscomp$2_i$jscomp$135$$].transform)}}$drawEl$jscomp$1$$($element$jscomp$10$$,{},{})}return{x:$xa$jscomp$2$$,y:$ya$jscomp$2$$}};
function $SVG$Preparsed$findDescendentElement$$($root$jscomp$3$$,$elementId$jscomp$4$$){if($root$jscomp$3$$.id===$elementId$jscomp$4$$)return $root$jscomp$3$$;if($root$jscomp$3$$.children)for(var $i$jscomp$140$$=0;$i$jscomp$140$$<$root$jscomp$3$$.children.length;$i$jscomp$140$$++){var $el$jscomp$13$$=$SVG$Preparsed$findDescendentElement$$($root$jscomp$3$$.children[$i$jscomp$140$$],$elementId$jscomp$4$$);if($el$jscomp$13$$)return $el$jscomp$13$$}return null}
$SVG$Preparsed$$.prototype.$hasElement$=function $$SVG$Preparsed$$$$$hasElement$$($elementId$jscomp$5$$){return null!=$SVG$Preparsed$findDescendentElement$$(this.$i$,$elementId$jscomp$5$$)};$SVG$Preparsed$$.prototype.$hasAncestor$=function $$SVG$Preparsed$$$$$hasAncestor$$($elementId$jscomp$6$$,$ancestorId$jscomp$1$$){return null!=$SVG$Preparsed$findDescendentElement$$($SVG$Preparsed$findDescendentElement$$(this.$i$,$ancestorId$jscomp$1$$),$elementId$jscomp$6$$)};function $SVG$Transform$$($mat$$){this.$b$=$mat$$||[1,0,0,0,1,0]}$JSCompiler_prototypeAlias$$=$SVG$Transform$$.prototype;$JSCompiler_prototypeAlias$$.$copy$=function $$JSCompiler_prototypeAlias$$$$copy$$(){return new $SVG$Transform$$(this.$b$)};
$JSCompiler_prototypeAlias$$.apply=function $$JSCompiler_prototypeAlias$$$apply$($pt$jscomp$2$$){return new $SVG$Transform$Point$$(this.$b$[0]*$pt$jscomp$2$$.x+this.$b$[1]*$pt$jscomp$2$$.y+this.$b$[2],this.$b$[3]*$pt$jscomp$2$$.x+this.$b$[4]*$pt$jscomp$2$$.y+this.$b$[5])};
function $JSCompiler_StaticMethods_applyInverse$$($JSCompiler_StaticMethods_applyInverse$self$$,$pt$jscomp$4$$){var $det$jscomp$1$$=$JSCompiler_StaticMethods_applyInverse$self$$.$b$[0]*$JSCompiler_StaticMethods_applyInverse$self$$.$b$[4]-$JSCompiler_StaticMethods_applyInverse$self$$.$b$[3]*$JSCompiler_StaticMethods_applyInverse$self$$.$b$[1];return new $SVG$Transform$Point$$(($JSCompiler_StaticMethods_applyInverse$self$$.$b$[4]*$pt$jscomp$4$$.x-$JSCompiler_StaticMethods_applyInverse$self$$.$b$[1]*
$pt$jscomp$4$$.y+$JSCompiler_StaticMethods_applyInverse$self$$.$b$[1]*$JSCompiler_StaticMethods_applyInverse$self$$.$b$[5]-$JSCompiler_StaticMethods_applyInverse$self$$.$b$[4]*$JSCompiler_StaticMethods_applyInverse$self$$.$b$[2])/$det$jscomp$1$$,(-$JSCompiler_StaticMethods_applyInverse$self$$.$b$[3]*$pt$jscomp$4$$.x+$JSCompiler_StaticMethods_applyInverse$self$$.$b$[0]*$pt$jscomp$4$$.y+$JSCompiler_StaticMethods_applyInverse$self$$.$b$[3]*$JSCompiler_StaticMethods_applyInverse$self$$.$b$[2]-$JSCompiler_StaticMethods_applyInverse$self$$.$b$[0]*
$JSCompiler_StaticMethods_applyInverse$self$$.$b$[5])/$det$jscomp$1$$)}$JSCompiler_prototypeAlias$$.translate=function $$JSCompiler_prototypeAlias$$$translate$($dx$jscomp$19$$,$dy$jscomp$19$$){this.$b$=[this.$b$[0],this.$b$[1],this.$b$[0]*$dx$jscomp$19$$+this.$b$[1]*$dy$jscomp$19$$+this.$b$[2],this.$b$[3],this.$b$[4],this.$b$[3]*$dx$jscomp$19$$+this.$b$[4]*$dy$jscomp$19$$+this.$b$[5]]};
$JSCompiler_prototypeAlias$$.scale=function $$JSCompiler_prototypeAlias$$$scale$($sx$jscomp$1$$,$sy$jscomp$1$$){this.$b$=[this.$b$[0]*$sx$jscomp$1$$,this.$b$[1]*$sy$jscomp$1$$,this.$b$[2],this.$b$[3]*$sx$jscomp$1$$,this.$b$[4]*$sy$jscomp$1$$,this.$b$[5]]};
$JSCompiler_prototypeAlias$$.rotate=function $$JSCompiler_prototypeAlias$$$rotate$($angle$jscomp$8_s$jscomp$37$$){var $c$jscomp$14$$=Math.cos($angle$jscomp$8_s$jscomp$37$$);$angle$jscomp$8_s$jscomp$37$$=Math.sin($angle$jscomp$8_s$jscomp$37$$);this.$b$=[$c$jscomp$14$$*this.$b$[0]+$angle$jscomp$8_s$jscomp$37$$*this.$b$[1],-$angle$jscomp$8_s$jscomp$37$$*this.$b$[0]+$c$jscomp$14$$*this.$b$[1],this.$b$[2],$c$jscomp$14$$*this.$b$[3]+$angle$jscomp$8_s$jscomp$37$$*this.$b$[4],-$angle$jscomp$8_s$jscomp$37$$*
this.$b$[3]+$c$jscomp$14$$*this.$b$[4],this.$b$[5]]};
$JSCompiler_prototypeAlias$$.$matrix$=function $$JSCompiler_prototypeAlias$$$$matrix$$($a$jscomp$28$$,$b$jscomp$15$$,$c$jscomp$15$$,$d$jscomp$10$$,$e$jscomp$18$$,$f$jscomp$7$$){this.$b$=[$a$jscomp$28$$*this.$b$[0]+$c$jscomp$15$$*this.$b$[1],$b$jscomp$15$$*this.$b$[0]+$d$jscomp$10$$*this.$b$[1],$a$jscomp$28$$*this.$b$[2]+$c$jscomp$15$$*this.$b$[3],$b$jscomp$15$$*this.$b$[2]+$d$jscomp$10$$*this.$b$[3],$a$jscomp$28$$*this.$b$[4]+$c$jscomp$15$$*this.$b$[5]+$e$jscomp$18$$,$b$jscomp$15$$*this.$b$[4]+$d$jscomp$10$$*
this.$b$[5]+$f$jscomp$7$$]};function $SVG$Transform$Point$$($x$jscomp$152$$,$y$jscomp$120$$){this.x=$x$jscomp$152$$||0;this.y=$y$jscomp$120$$||0}function $SVG$Transform$Stack$$(){this.stack=[new $SVG$Transform$$]}$JSCompiler_prototypeAlias$$=$SVG$Transform$Stack$$.prototype;$JSCompiler_prototypeAlias$$.apply=function $$JSCompiler_prototypeAlias$$$apply$($pt$jscomp$6$$){return this.stack[this.stack.length-1].apply($pt$jscomp$6$$)};
$JSCompiler_prototypeAlias$$.save=function $$JSCompiler_prototypeAlias$$$save$(){this.stack.push(this.stack[this.stack.length-1].$copy$())};$JSCompiler_prototypeAlias$$.restore=function $$JSCompiler_prototypeAlias$$$restore$(){if(2>this.stack.length)throw"restore doesn't match save";this.stack.pop()};$JSCompiler_prototypeAlias$$.translate=function $$JSCompiler_prototypeAlias$$$translate$($dx$jscomp$20$$,$dy$jscomp$20$$){this.stack[this.stack.length-1].translate($dx$jscomp$20$$,$dy$jscomp$20$$)};
$JSCompiler_prototypeAlias$$.scale=function $$JSCompiler_prototypeAlias$$$scale$($sx$jscomp$2$$,$sy$jscomp$2$$){this.stack[this.stack.length-1].scale($sx$jscomp$2$$,$sy$jscomp$2$$)};$JSCompiler_prototypeAlias$$.rotate=function $$JSCompiler_prototypeAlias$$$rotate$($angle$jscomp$9$$){this.stack[this.stack.length-1].rotate($angle$jscomp$9$$)};
$JSCompiler_prototypeAlias$$.$matrix$=function $$JSCompiler_prototypeAlias$$$$matrix$$($a$jscomp$29$$,$b$jscomp$16$$,$c$jscomp$16$$,$d$jscomp$11$$,$e$jscomp$19$$,$f$jscomp$8$$){this.stack[this.stack.length-1].$matrix$($a$jscomp$29$$,$b$jscomp$16$$,$c$jscomp$16$$,$d$jscomp$11$$,$e$jscomp$19$$,$f$jscomp$8$$)};function $A3a$vpl$Canvas$decodeURI$$($a$jscomp$30_uri$jscomp$12$$){$a$jscomp$30_uri$jscomp$12$$=$a$jscomp$30_uri$jscomp$12$$.split("#");return{$f$:$a$jscomp$30_uri$jscomp$12$$[0],id:$a$jscomp$30_uri$jscomp$12$$[1]}}
function $JSCompiler_StaticMethods_drawSVG$$($JSCompiler_StaticMethods_drawSVG$self$$,$svg$jscomp$2$$,$options$jscomp$21$$){$JSCompiler_StaticMethods_drawSVG$self$$.$ctx$.save();$options$jscomp$21$$.$globalTransform$=function($ctx$jscomp$69$$,$viewBox$$){this.clientData.$blockViewBox$=$viewBox$$;$ctx$jscomp$69$$.translate(-$viewBox$$[0],-$viewBox$$[1]);$ctx$jscomp$69$$.scale(this.$dims$.$blockSize$/($viewBox$$[2]-$viewBox$$[0]),this.$dims$.$blockSize$/($viewBox$$[3]-$viewBox$$[1]))}.bind($JSCompiler_StaticMethods_drawSVG$self$$);
$svg$jscomp$2$$.$draw$($JSCompiler_StaticMethods_drawSVG$self$$.$ctx$,$options$jscomp$21$$);$JSCompiler_StaticMethods_drawSVG$self$$.$ctx$.restore()}
function $JSCompiler_StaticMethods_canvasToSVGCoord$$($JSCompiler_StaticMethods_canvasToSVGCoord$self$$,$clickX$$,$clickY$$,$width$jscomp$106$$,$height$jscomp$103$$){return{x:($JSCompiler_StaticMethods_canvasToSVGCoord$self$$.clientData.$blockViewBox$[2]-$JSCompiler_StaticMethods_canvasToSVGCoord$self$$.clientData.$blockViewBox$[0])/$width$jscomp$106$$*($clickX$$+$JSCompiler_StaticMethods_canvasToSVGCoord$self$$.clientData.$blockViewBox$[0]),y:($JSCompiler_StaticMethods_canvasToSVGCoord$self$$.clientData.$blockViewBox$[3]-
$JSCompiler_StaticMethods_canvasToSVGCoord$self$$.clientData.$blockViewBox$[1])/$height$jscomp$103$$*($clickY$$+$JSCompiler_StaticMethods_canvasToSVGCoord$self$$.clientData.$blockViewBox$[1])}}
function $JSCompiler_StaticMethods_getDisplacements$$($aux$jscomp$1$$,$svg$jscomp$6$$,$param$jscomp$6$$){var $displacements$$={},$ix0$$=($aux$jscomp$1$$.buttons?$aux$jscomp$1$$.buttons.length:0)+($aux$jscomp$1$$.radiobuttons?1:0);if(void 0!=$aux$jscomp$1$$.sliders){for(var $i$jscomp$145$$=0;$i$jscomp$145$$<$aux$jscomp$1$$.sliders.length;$i$jscomp$145$$++){var $rotatingAux_sliderAux$$=$aux$jscomp$1$$.sliders[$i$jscomp$145$$],$bnds$jscomp$6_bndsCenter$$=$JSCompiler_StaticMethods_getElementBounds$$($svg$jscomp$6$$,
$rotatingAux_sliderAux$$.id),$bndsThumb_f$jscomp$9$$=$JSCompiler_StaticMethods_getElementBounds$$($svg$jscomp$6$$,$rotatingAux_sliderAux$$.thumbId),$x0Thumb$$=($bndsThumb_f$jscomp$9$$.$xmin$+$bndsThumb_f$jscomp$9$$.$xmax$)/2,$y0Thumb$$=($bndsThumb_f$jscomp$9$$.$ymin$+$bndsThumb_f$jscomp$9$$.$ymax$)/2;$bnds$jscomp$6_bndsCenter$$.$xmax$-$bnds$jscomp$6_bndsCenter$$.$xmin$<$bnds$jscomp$6_bndsCenter$$.$ymax$-$bnds$jscomp$6_bndsCenter$$.$ymin$?($bnds$jscomp$6_bndsCenter$$.$xmin$=$bnds$jscomp$6_bndsCenter$$.$xmax$=
($bnds$jscomp$6_bndsCenter$$.$xmin$+$bnds$jscomp$6_bndsCenter$$.$xmax$)/2,$x0Thumb$$=$bnds$jscomp$6_bndsCenter$$.$xmin$):($bnds$jscomp$6_bndsCenter$$.$ymin$=$bnds$jscomp$6_bndsCenter$$.$ymax$=($bnds$jscomp$6_bndsCenter$$.$ymin$+$bnds$jscomp$6_bndsCenter$$.$ymax$)/2,$y0Thumb$$=$bnds$jscomp$6_bndsCenter$$.$ymin$);$bndsThumb_f$jscomp$9$$=($param$jscomp$6$$[$ix0$$+$i$jscomp$145$$]-$rotatingAux_sliderAux$$.min)/($rotatingAux_sliderAux$$.max-$rotatingAux_sliderAux$$.min);$displacements$$[$rotatingAux_sliderAux$$.thumbId]=
{$dx$:$bndsThumb_f$jscomp$9$$*($bnds$jscomp$6_bndsCenter$$.$xmax$-$bnds$jscomp$6_bndsCenter$$.$xmin$)-($x0Thumb$$-$bnds$jscomp$6_bndsCenter$$.$xmin$),$dy$:$bndsThumb_f$jscomp$9$$*($bnds$jscomp$6_bndsCenter$$.$ymin$-$bnds$jscomp$6_bndsCenter$$.$ymax$)-($y0Thumb$$-$bnds$jscomp$6_bndsCenter$$.$ymax$)}}$ix0$$+=$aux$jscomp$1$$.sliders.length}if(void 0!=$aux$jscomp$1$$.rotating)for($i$jscomp$145$$=0;$i$jscomp$145$$<$aux$jscomp$1$$.rotating.length;$i$jscomp$145$$++)$rotatingAux_sliderAux$$=$aux$jscomp$1$$.rotating[$i$jscomp$145$$],
$bndsThumb_f$jscomp$9$$=$rotatingAux_sliderAux$$.numSteps?2*Math.PI/$rotatingAux_sliderAux$$.numSteps:1,$bnds$jscomp$6_bndsCenter$$=$JSCompiler_StaticMethods_getElementBounds$$($svg$jscomp$6$$,$rotatingAux_sliderAux$$.centerId),$displacements$$[$rotatingAux_sliderAux$$.id]={$phi$:$param$jscomp$6$$[$ix0$$+$i$jscomp$145$$]*$bndsThumb_f$jscomp$9$$,$x0$:($bnds$jscomp$6_bndsCenter$$.$xmin$+$bnds$jscomp$6_bndsCenter$$.$xmax$)/2,$y0$:($bnds$jscomp$6_bndsCenter$$.$ymin$+$bnds$jscomp$6_bndsCenter$$.$ymax$)/
2};return $displacements$$}function $JSCompiler_StaticMethods_dragSVGSlider$$($min$jscomp$1$$,$max$jscomp$3$$,$pos$jscomp$3$$){return Math.min(Math.max(($pos$jscomp$3$$-$min$jscomp$1$$)/($max$jscomp$3$$-$min$jscomp$1$$),0),1)}
function $JSCompiler_StaticMethods_mousedragSVGSlider$$($JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$,$block$jscomp$183$$,$dragIndex$jscomp$19$$,$aux$jscomp$3$$,$discrete_pt$jscomp$12_width$jscomp$111$$,$height$jscomp$108$$,$left$jscomp$79$$,$top$jscomp$77$$,$ev$jscomp$72$$){$discrete_pt$jscomp$12_width$jscomp$111$$=$JSCompiler_StaticMethods_canvasToSVGCoord$$($JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$,$ev$jscomp$72$$.x-$left$jscomp$79$$,$ev$jscomp$72$$.y-
$top$jscomp$77$$,$discrete_pt$jscomp$12_width$jscomp$111$$,$height$jscomp$108$$);var $val$jscomp$29$$=$JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.$sliderAux$.min+($JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.$sliderAux$.max-$JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.$sliderAux$.min)*$JSCompiler_StaticMethods_dragSVGSlider$$($JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.min,
$JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.max,$JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.$vert$?$discrete_pt$jscomp$12_width$jscomp$111$$.y:$discrete_pt$jscomp$12_width$jscomp$111$$.x),$min$jscomp$2$$=$JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.$sliderAux$.min,$max$jscomp$4$$=$JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.$sliderAux$.max;($discrete_pt$jscomp$12_width$jscomp$111$$=
$JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.$sliderAux$.discrete)&&0<$discrete_pt$jscomp$12_width$jscomp$111$$.length?$val$jscomp$29$$=$discrete_pt$jscomp$12_width$jscomp$111$$.reduce(function($acc$jscomp$3$$,$cur$jscomp$2$$){return Math.abs($val$jscomp$29$$-$cur$jscomp$2$$)<Math.abs($val$jscomp$29$$-$acc$jscomp$3$$)?$cur$jscomp$2$$:$acc$jscomp$3$$},$discrete_pt$jscomp$12_width$jscomp$111$$[0]):($JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$=$JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.clientData.$sliderAux$.snap)&&
$JSCompiler_StaticMethods_mousedragSVGSlider$self_snap$jscomp$1$$.forEach(function($s$jscomp$38$$,$i$jscomp$148$$){"string"===typeof $s$jscomp$38$$&&/^`.+`$/.test($s$jscomp$38$$)&&($s$jscomp$38$$=$A3a$vpl$BlockTemplate$substInline$$($s$jscomp$38$$,$block$jscomp$183$$,$i$jscomp$148$$,!0));Math.abs($val$jscomp$29$$-$s$jscomp$38$$)<Math.abs($max$jscomp$4$$-$min$jscomp$2$$)/10&&($val$jscomp$29$$=$s$jscomp$38$$)});$block$jscomp$183$$.$param$[($aux$jscomp$3$$.buttons?$aux$jscomp$3$$.buttons.length:0)+($aux$jscomp$3$$.radiobuttons?
1:0)+$dragIndex$jscomp$19$$]=Math.max(Math.min($min$jscomp$2$$,$max$jscomp$4$$),Math.min(Math.max($min$jscomp$2$$,$max$jscomp$4$$),$val$jscomp$29$$))}
function $JSCompiler_StaticMethods_drawBlockSVG$$($JSCompiler_StaticMethods_drawBlockSVG$self$$,$uiConfig$jscomp$3$$,$aux$jscomp$6$$,$block$jscomp$187$$){if(0!==$aux$jscomp$6$$.draw.length){for(var $f$jscomp$13$$=null,$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$=0;$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$<$aux$jscomp$6$$.draw.length;$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$++)if($aux$jscomp$6$$.draw[$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$].uri){$f$jscomp$13$$=$A3a$vpl$Canvas$decodeURI$$($aux$jscomp$6$$.draw[$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$].uri).$f$;
break}var $displacements$jscomp$1$$=$f$jscomp$13$$?$JSCompiler_StaticMethods_getDisplacements$$($aux$jscomp$6$$,$uiConfig$jscomp$3$$.$svg$[$f$jscomp$13$$],$block$jscomp$187$$.$param$):{};$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$=null;if($aux$jscomp$6$$.diffwheelmotion&&$aux$jscomp$6$$.diffwheelmotion.id){$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$=$aux$jscomp$6$$.diffwheelmotion;var $ixNotes$jscomp$1_robotId$$=$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.id,
$dx$jscomp$21_tr$jscomp$13$$=$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.dx||0,$dy$jscomp$21_sc$jscomp$4$$=$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.dy||0,$adjSc$$=$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.adjscale||1,$color$jscomp$9_numHeights$jscomp$3$$=$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.color||"black",$linewidth$jscomp$2_viewBox$jscomp$2$$=void 0===$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.linewidth?
1:$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.linewidth;$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$=$JSCompiler_StaticMethods_getElementBounds$$($uiConfig$jscomp$3$$.$svg$[$f$jscomp$13$$],$ixNotes$jscomp$1_robotId$$);var $dright$jscomp$3_ixSlider$$=($aux$jscomp$6$$.buttons?$aux$jscomp$6$$.buttons.length:0)+($aux$jscomp$6$$.radiobuttons?1:0),$dleft$jscomp$3$$=2.4*$block$jscomp$187$$.$param$[$dright$jscomp$3_ixSlider$$];$dright$jscomp$3_ixSlider$$=2.4*$block$jscomp$187$$.$param$[$dright$jscomp$3_ixSlider$$+
1];var $s$jscomp$39$$=$JSCompiler_StaticMethods_drawBlockSVG$self$$.$dims$.$blockSize$;$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$=(.5+$dx$jscomp$21_tr$jscomp$13$$)*($bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$xmax$-$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$xmin$)*$adjSc$$/$s$jscomp$39$$;$dx$jscomp$21_tr$jscomp$13$$=$JSCompiler_StaticMethods_traces$$($JSCompiler_StaticMethods_drawBlockSVG$self$$,$dleft$jscomp$3$$,$dright$jscomp$3_ixSlider$$,
$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$,{color:$color$jscomp$9_numHeights$jscomp$3$$,$linewidth$:$linewidth$jscomp$2_viewBox$jscomp$2$$});$displacements$jscomp$1$$[$ixNotes$jscomp$1_robotId$$]={$dx$:-($dx$jscomp$21_tr$jscomp$13$$.x*$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$*$s$jscomp$39$$+$dy$jscomp$21_sc$jscomp$4$$*$s$jscomp$39$$*Math.sin($dx$jscomp$21_tr$jscomp$13$$.$phi$)),$dy$:-($dx$jscomp$21_tr$jscomp$13$$.y*$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$*
$s$jscomp$39$$+$dy$jscomp$21_sc$jscomp$4$$*$s$jscomp$39$$*Math.cos($dx$jscomp$21_tr$jscomp$13$$.$phi$)),$phi$:-$dx$jscomp$21_tr$jscomp$13$$.$phi$};$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$={$dleft$:$dleft$jscomp$3$$,$dright$:$dright$jscomp$3_ixSlider$$,$rw$:$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$,color:$color$jscomp$9_numHeights$jscomp$3$$,$linewidth$:$linewidth$jscomp$2_viewBox$jscomp$2$$}}$aux$jscomp$6$$.draw.forEach(function($el$jscomp$14_fun$jscomp$4$$){if($el$jscomp$14_fun$jscomp$4$$.uri){var $JSCompiler_temp_const$jscomp$13_d$jscomp$12$$=
$A3a$vpl$Canvas$decodeURI$$($el$jscomp$14_fun$jscomp$4$$.uri),$JSCompiler_temp_const$jscomp$14$$=$uiConfig$jscomp$3$$.$svg$[$JSCompiler_temp_const$jscomp$13_d$jscomp$12$$.$f$];$JSCompiler_temp_const$jscomp$13_d$jscomp$12$$=$JSCompiler_temp_const$jscomp$13_d$jscomp$12$$.id;for(var $styles$jscomp$inline_194$$={},$nButtons$jscomp$inline_195_svg$jscomp$inline_205$$=$aux$jscomp$6$$.buttons?$aux$jscomp$6$$.buttons.length:0,$nRadioButtons$jscomp$inline_196_param$jscomp$inline_206$$=$aux$jscomp$6$$.radiobuttons?
$aux$jscomp$6$$.radiobuttons.length:0,$clips$jscomp$inline_207_nStyles$jscomp$inline_197$$=$aux$jscomp$6$$.styles?$aux$jscomp$6$$.styles.length:0,$i$jscomp$inline_198_i$jscomp$inline_208$$=0;$i$jscomp$inline_198_i$jscomp$inline_208$$<$nButtons$jscomp$inline_195_svg$jscomp$inline_205$$;$i$jscomp$inline_198_i$jscomp$inline_208$$++){var $bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$=$aux$jscomp$6$$.buttons[$i$jscomp$inline_198_i$jscomp$inline_208$$].val,$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$=
$aux$jscomp$6$$.buttons[$i$jscomp$inline_198_i$jscomp$inline_208$$].st;$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$=$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$.indexOf($block$jscomp$187$$.$param$[$i$jscomp$inline_198_i$jscomp$inline_208$$]);0<=$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$&&($styles$jscomp$inline_194$$[$aux$jscomp$6$$.buttons[$i$jscomp$inline_198_i$jscomp$inline_208$$].id]=$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$[$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$])}for($i$jscomp$inline_198_i$jscomp$inline_208$$=
0;$i$jscomp$inline_198_i$jscomp$inline_208$$<$nRadioButtons$jscomp$inline_196_param$jscomp$inline_206$$;$i$jscomp$inline_198_i$jscomp$inline_208$$++)$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$=$aux$jscomp$6$$.radiobuttons[$i$jscomp$inline_198_i$jscomp$inline_208$$].val,$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$=$aux$jscomp$6$$.radiobuttons[$i$jscomp$inline_198_i$jscomp$inline_208$$].st,$styles$jscomp$inline_194$$[$aux$jscomp$6$$.radiobuttons[$i$jscomp$inline_198_i$jscomp$inline_208$$].id]=
$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$[$block$jscomp$187$$.$param$[$nButtons$jscomp$inline_195_svg$jscomp$inline_205$$]===$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$?1:0];for($i$jscomp$inline_198_i$jscomp$inline_208$$=0;$i$jscomp$inline_198_i$jscomp$inline_208$$<$clips$jscomp$inline_207_nStyles$jscomp$inline_197$$;$i$jscomp$inline_198_i$jscomp$inline_208$$++)$styles$jscomp$inline_194$$[$aux$jscomp$6$$.styles[$i$jscomp$inline_198_i$jscomp$inline_208$$].id]=$A3a$vpl$BlockTemplate$substInline$$($aux$jscomp$6$$.styles[$i$jscomp$inline_198_i$jscomp$inline_208$$].st,
$block$jscomp$187$$);$nButtons$jscomp$inline_195_svg$jscomp$inline_205$$=$uiConfig$jscomp$3$$.$svg$[$f$jscomp$13$$];$nRadioButtons$jscomp$inline_196_param$jscomp$inline_206$$=$block$jscomp$187$$.$param$;$clips$jscomp$inline_207_nStyles$jscomp$inline_197$$={};if(void 0!=$aux$jscomp$6$$.sliders)for($i$jscomp$inline_198_i$jscomp$inline_208$$=0;$i$jscomp$inline_198_i$jscomp$inline_208$$<$aux$jscomp$6$$.sliders.length;$i$jscomp$inline_198_i$jscomp$inline_208$$++){$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$=
$aux$jscomp$6$$.sliders[$i$jscomp$inline_198_i$jscomp$inline_208$$];$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$=$JSCompiler_StaticMethods_getElementBounds$$($nButtons$jscomp$inline_195_svg$jscomp$inline_205$$,$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$.id);var $bndsHalf$jscomp$inline_211$$=$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$.lowerPartId&&$JSCompiler_StaticMethods_getElementBounds$$($nButtons$jscomp$inline_195_svg$jscomp$inline_205$$,$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$.lowerPartId);
if($bndsHalf$jscomp$inline_211$$){var $f$jscomp$inline_212$$=($nRadioButtons$jscomp$inline_196_param$jscomp$inline_206$$[$i$jscomp$inline_198_i$jscomp$inline_208$$]-$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$.min)/($sliderAux$jscomp$inline_209_st$jscomp$inline_200$$.max-$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$.min),$w$jscomp$inline_213$$=$bndsHalf$jscomp$inline_211$$.$xmax$-$bndsHalf$jscomp$inline_211$$.$xmin$,$h$jscomp$inline_214$$=$bndsHalf$jscomp$inline_211$$.$ymax$-$bndsHalf$jscomp$inline_211$$.$ymin$;
$clips$jscomp$inline_207_nStyles$jscomp$inline_197$$[$sliderAux$jscomp$inline_209_st$jscomp$inline_200$$.lowerPartId]=$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$.$xmax$-$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$.$xmin$<$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$.$ymax$-$bnds$jscomp$inline_210_ix$jscomp$inline_201_val$jscomp$inline_199$$.$ymin$?{x:$bndsHalf$jscomp$inline_211$$.$xmin$-$h$jscomp$inline_214$$,y:$bndsHalf$jscomp$inline_211$$.$ymin$,
$w$:$w$jscomp$inline_213$$+2*$h$jscomp$inline_214$$,$h$:$h$jscomp$inline_214$$*$f$jscomp$inline_212$$}:{x:$bndsHalf$jscomp$inline_211$$.$xmin$,y:$bndsHalf$jscomp$inline_211$$.$ymin$-$h$jscomp$inline_214$$,$w$:$w$jscomp$inline_213$$*$f$jscomp$inline_212$$,$h$:$h$jscomp$inline_214$$+2*$w$jscomp$inline_213$$}}}$JSCompiler_StaticMethods_drawSVG$$(this,$JSCompiler_temp_const$jscomp$14$$,{$elementId$:$JSCompiler_temp_const$jscomp$13_d$jscomp$12$$,style:$styles$jscomp$inline_194$$,$displacement$:$displacements$jscomp$1$$,
$clips$:$clips$jscomp$inline_207_nStyles$jscomp$inline_197$$,$drawBoundingBox$:!1})}$el$jscomp$14_fun$jscomp$4$$.js&&($el$jscomp$14_fun$jscomp$4$$=new Function("ctx","$",$el$jscomp$14_fun$jscomp$4$$.js),this.$ctx$.save(),this.$ctx$.scale(this.$dims$.$blockSize$/1E3,this.$dims$.$blockSize$/1E3),this.$ctx$.beginPath(),$el$jscomp$14_fun$jscomp$4$$(this.$ctx$,$block$jscomp$187$$.$param$),this.$ctx$.restore())},$JSCompiler_StaticMethods_drawBlockSVG$self$$);$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$&&
$JSCompiler_StaticMethods_traces$$($JSCompiler_StaticMethods_drawBlockSVG$self$$,$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$dleft$,$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$dright$,$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$rw$,{color:$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.color,$linewidth$:$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$linewidth$});$aux$jscomp$6$$.score&&$aux$jscomp$6$$.score.id&&
($ixNotes$jscomp$1_robotId$$=($aux$jscomp$6$$.buttons?$aux$jscomp$6$$.buttons.length:0)+($aux$jscomp$6$$.radiobuttons?1:0)+($aux$jscomp$6$$.sliders?$aux$jscomp$6$$.sliders.length:0),$dy$jscomp$21_sc$jscomp$4$$=$aux$jscomp$6$$.score,$color$jscomp$9_numHeights$jscomp$3$$=$dy$jscomp$21_sc$jscomp$4$$.numHeights||5,$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$=$JSCompiler_StaticMethods_getElementBounds$$($uiConfig$jscomp$3$$.$svg$[$f$jscomp$13$$],$dy$jscomp$21_sc$jscomp$4$$.id),$linewidth$jscomp$2_viewBox$jscomp$2$$=
$uiConfig$jscomp$3$$.$svg$[$f$jscomp$13$$].$viewBox$,$JSCompiler_StaticMethods_notesLL$$($JSCompiler_StaticMethods_drawBlockSVG$self$$,$block$jscomp$187$$.$param$.slice($ixNotes$jscomp$1_robotId$$),($bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$xmin$-$linewidth$jscomp$2_viewBox$jscomp$2$$[0])/($linewidth$jscomp$2_viewBox$jscomp$2$$[2]-$linewidth$jscomp$2_viewBox$jscomp$2$$[0]),($bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$xmax$-$linewidth$jscomp$2_viewBox$jscomp$2$$[0])/
($linewidth$jscomp$2_viewBox$jscomp$2$$[2]-$linewidth$jscomp$2_viewBox$jscomp$2$$[0]),($bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$ymax$-$linewidth$jscomp$2_viewBox$jscomp$2$$[1])/($linewidth$jscomp$2_viewBox$jscomp$2$$[3]-$linewidth$jscomp$2_viewBox$jscomp$2$$[1]),($bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$ymin$-$linewidth$jscomp$2_viewBox$jscomp$2$$[1])/($linewidth$jscomp$2_viewBox$jscomp$2$$[3]-$linewidth$jscomp$2_viewBox$jscomp$2$$[1]),$color$jscomp$9_numHeights$jscomp$3$$,
($bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$ymax$-$bnds$jscomp$11_diffWheelMotion_dw_i$jscomp$150_rw$jscomp$3$$.$ymin$)/($linewidth$jscomp$2_viewBox$jscomp$2$$[3]-$linewidth$jscomp$2_viewBox$jscomp$2$$[1])/$color$jscomp$9_numHeights$jscomp$3$$*($dy$jscomp$21_sc$jscomp$4$$.noteSize||1),void 0===$dy$jscomp$21_sc$jscomp$4$$.linewidth?1:$dy$jscomp$21_sc$jscomp$4$$.linewidth))}}
function $A3a$vpl$loadBlockOverlay$$($uiConfig$jscomp$6$$,$blocks$jscomp$2$$,$lib$$){function $findBlock$$($name$jscomp$91$$){for(var $i$jscomp$151$$=0;$i$jscomp$151$$<$lib$$.length;$i$jscomp$151$$++)if($lib$$[$i$jscomp$151$$].name===$name$jscomp$91$$)return $i$jscomp$151$$;return-1}function $str$jscomp$20$$($s$jscomp$40$$){return $s$jscomp$40$$ instanceof Array?$s$jscomp$40$$.join(""):$s$jscomp$40$$}function $substInlineA$$($fmtArray$$,$block$jscomp$190$$){return $fmtArray$$.map(function($fmt$jscomp$1$$){return $A3a$vpl$BlockTemplate$substInline$$($fmt$jscomp$1$$,
$block$jscomp$190$$)})}$blocks$jscomp$2$$.forEach(function($b$jscomp$17$$){var $name$jscomp$92_p$jscomp$12$$=$b$jscomp$17$$.name;if(!$name$jscomp$92_p$jscomp$12$$)throw"Missing block name";var $blockIndex$$=$findBlock$$($name$jscomp$92_p$jscomp$12$$),$blockTemplate0$$=0<=$blockIndex$$?$lib$$[$blockIndex$$]:null,$type$jscomp$137$$=$blockTemplate0$$?$blockTemplate0$$.type:"?";if($b$jscomp$17$$.type||!$blockTemplate0$$)switch($b$jscomp$17$$.type){case "event":$type$jscomp$137$$="e";break;case "action":$type$jscomp$137$$=
"a";break;case "state":$type$jscomp$137$$="s";break;case "comment":$type$jscomp$137$$="c";break;case "hidden":$type$jscomp$137$$="h";break;default:throw"Unknown block type "+$b$jscomp$17$$.type+" for block "+$name$jscomp$92_p$jscomp$12$$;}var $modes$$=$blockTemplate0$$?$blockTemplate0$$.$modes$:[];$b$jscomp$17$$.modes&&!$blockTemplate0$$&&$b$jscomp$17$$.modes.forEach(function($m$$){switch($m$$){case "basic":$modes$$.push("b");break;case "advanced":$modes$$.push("a");break;default:throw"Unknown block mode "+
$m$$;}});var $validate$$=$blockTemplate0$$?$blockTemplate0$$.$validate$:null,$validation$$=$b$jscomp$17$$.validation;$validation$$&&($validate$$=function $$validate$$$($b$jscomp$18_w$jscomp$14$$){for(var $i$jscomp$152$$=0;$i$jscomp$152$$<$validation$$.length;$i$jscomp$152$$++){var $assert$$=$validation$$[$i$jscomp$152$$].assert;if("string"===typeof $assert$$&&/^`.+`$/.test($assert$$)?!$A3a$vpl$BlockTemplate$substInline$$($assert$$,$b$jscomp$18_w$jscomp$14$$,void 0,!0):!$assert$$)return($b$jscomp$18_w$jscomp$14$$=
$validation$$[$i$jscomp$152$$].warning)?new $A3a$vpl$Error$$($b$jscomp$18_w$jscomp$14$$,!0):new $A3a$vpl$Error$$($validation$$[$i$jscomp$152$$].error||"Error")}});var $draw$jscomp$4$$=$blockTemplate0$$?$blockTemplate0$$.$draw$:function($canvas$jscomp$124$$,$block$jscomp$191$$){$JSCompiler_StaticMethods_drawBlockSVG$$($canvas$jscomp$124$$,$uiConfig$jscomp$6$$,$b$jscomp$17$$,$block$jscomp$191$$)},$mousedown$jscomp$1$$=$blockTemplate0$$?$blockTemplate0$$.$mousedown$:function($canvas$jscomp$125_ixNotes$jscomp$inline_497$$,
$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$,$note$jscomp$inline_502_width$jscomp$117$$,$height$jscomp$114$$,$left$jscomp$85$$,$top$jscomp$83$$,$ev$jscomp$78$$){a:{var $filename$jscomp$inline_225_numNotes$jscomp$inline_498$$=$A3a$vpl$Canvas$decodeURI$$($b$jscomp$17$$.draw[0].uri).$f$,$ix0$jscomp$inline_226$$=0,$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=
$b$jscomp$17$$.buttons;if($JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$){var $JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$;b:{var $ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$=
$uiConfig$jscomp$6$$.$svg$[$filename$jscomp$inline_225_numNotes$jscomp$inline_498$$],$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$=$JSCompiler_StaticMethods_canvasToSVGCoord$$($canvas$jscomp$125_ixNotes$jscomp$inline_497$$,$ev$jscomp$78$$.x-$left$jscomp$85$$,$ev$jscomp$78$$.y-$top$jscomp$83$$,$note$jscomp$inline_502_width$jscomp$117$$,$height$jscomp$114$$);for($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=
0;$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$<$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$.length;$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$++)if($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$.$isInside$($JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$].id,
$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$.x,$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$.y)){$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$=$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$].val.indexOf($JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$[$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$]);
0<=$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$&&($JSCompiler_StaticMethods_prepareChange$$($JSCompiler_inline_result$jscomp$19_block$jscomp$192$$),$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$[$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$]=
$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$].val[($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$+
1)%$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$].val.length]);break b}$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=
null}if(null!==$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$){$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$=$ix0$jscomp$inline_226$$+$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$;break a}$ix0$jscomp$inline_226$$+=
$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$.length}if($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=$b$jscomp$17$$.radiobuttons){b:{$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$=
$uiConfig$jscomp$6$$.$svg$[$filename$jscomp$inline_225_numNotes$jscomp$inline_498$$];$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$||
0;$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$=$JSCompiler_StaticMethods_canvasToSVGCoord$$($canvas$jscomp$125_ixNotes$jscomp$inline_497$$,$ev$jscomp$78$$.x-$left$jscomp$85$$,$ev$jscomp$78$$.y-$top$jscomp$83$$,$note$jscomp$inline_502_width$jscomp$117$$,$height$jscomp$114$$);for(var $i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$=0;$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$<$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$.length;$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$++)if($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$.$isInside$($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$].id,
$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$.x,$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$.y)){$JSCompiler_StaticMethods_prepareChange$$($JSCompiler_inline_result$jscomp$19_block$jscomp$192$$);$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$[$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$]=
$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$].val;$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=0;break b}$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=
null}if(null!==$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$){$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$=$ix0$jscomp$inline_226$$+$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$;break a}$ix0$jscomp$inline_226$$++}if($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=
$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=$b$jscomp$17$$.pushbuttons){b:{$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=$uiConfig$jscomp$6$$.$svg$[$filename$jscomp$inline_225_numNotes$jscomp$inline_498$$];
$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$=$JSCompiler_StaticMethods_canvasToSVGCoord$$($canvas$jscomp$125_ixNotes$jscomp$inline_497$$,$ev$jscomp$78$$.x-$left$jscomp$85$$,$ev$jscomp$78$$.y-$top$jscomp$83$$,$note$jscomp$inline_502_width$jscomp$117$$,$height$jscomp$114$$);for($i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$=
0;$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$<$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$.length;$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$++)if($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$.$isInside$($JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$].id,
$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$.x,$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$.y)){$JSCompiler_StaticMethods_prepareChange$$($JSCompiler_inline_result$jscomp$19_block$jscomp$192$$);$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=
$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$].newParameters;"string"===typeof $JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$&&
/^`.+`$/.test($JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$)&&($JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=$A3a$vpl$BlockTemplate$substInline$$($JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$,
$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$,void 0,!0));$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$=$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$;$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=
!0;break b}$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=null}$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=null!==$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$}if($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$)$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$=
-1;else{if($JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=$b$jscomp$17$$.sliders){b:{$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=$uiConfig$jscomp$6$$.$svg$[$filename$jscomp$inline_225_numNotes$jscomp$inline_498$$];
$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$=$JSCompiler_StaticMethods_canvasToSVGCoord$$($canvas$jscomp$125_ixNotes$jscomp$inline_497$$,$ev$jscomp$78$$.x-$left$jscomp$85$$,$ev$jscomp$78$$.y-$top$jscomp$83$$,$note$jscomp$inline_502_width$jscomp$117$$,$height$jscomp$114$$);for($i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$=
0;$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$<$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$.length;$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$++){$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$sliderAux$=
$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$];var $bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$=$JSCompiler_StaticMethods_getElementBounds$$($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$,
$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$sliderAux$.id);$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$vert$=$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$xmax$-$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$xmin$<$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$ymax$-$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$ymin$;
$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.min=$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$vert$?$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$ymax$:$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$xmin$;$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.max=$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$vert$?$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$ymin$:
$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$xmax$;$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$=($bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$xmin$+$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$xmax$)/2;$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$=($bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$ymin$+
$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$ymax$)/2;var $JSCompiler_object_inline_x_0$jscomp$inline_485_thumbBnds$jscomp$inline_468$$=$JSCompiler_StaticMethods_getElementBounds$$($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$,$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$sliderAux$.thumbId);if(Math.abs(($canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$vert$?
$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$.x:$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$.y)-($canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$vert$?$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$:$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$))<
($canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$vert$?$JSCompiler_object_inline_x_0$jscomp$inline_485_thumbBnds$jscomp$inline_468$$.$xmax$-$JSCompiler_object_inline_x_0$jscomp$inline_485_thumbBnds$jscomp$inline_468$$.$xmin$:$JSCompiler_object_inline_x_0$jscomp$inline_485_thumbBnds$jscomp$inline_468$$.$ymax$-$JSCompiler_object_inline_x_0$jscomp$inline_485_thumbBnds$jscomp$inline_468$$.$ymin$)){$JSCompiler_StaticMethods_prepareChange$$($JSCompiler_inline_result$jscomp$19_block$jscomp$192$$);
$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$;break b}}$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=null}if(null!==
$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$){$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$=$ix0$jscomp$inline_226$$+$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$;break a}$ix0$jscomp$inline_226$$+=$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$.length}if($JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=
$b$jscomp$17$$.rotating){b:{$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=$uiConfig$jscomp$6$$.$svg$[$filename$jscomp$inline_225_numNotes$jscomp$inline_498$$];$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$=$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$.slice($ix0$jscomp$inline_226$$,
$ix0$jscomp$inline_226$$+$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$.length);$i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$=$JSCompiler_StaticMethods_canvasToSVGCoord$$($canvas$jscomp$125_ixNotes$jscomp$inline_497$$,$ev$jscomp$78$$.x-$left$jscomp$85$$,$ev$jscomp$78$$.y-
$top$jscomp$83$$,$note$jscomp$inline_502_width$jscomp$117$$,$height$jscomp$114$$);for($i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$=0;$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$<$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$.length;$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$++){$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$=
$JSCompiler_StaticMethods_getElementBounds$$($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$,$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$].centerId);
$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$={x:($bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$xmin$+$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$xmax$)/2,y:($bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$ymin$+$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.$ymax$)/2};var $JSCompiler_object_inline_y_1$jscomp$inline_486_f$jscomp$inline_484$$=
$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$].numSteps?2*Math.PI/$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$].numSteps:
1;$JSCompiler_object_inline_x_0$jscomp$inline_485_thumbBnds$jscomp$inline_468$$=$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.x+($i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$.x-$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.x)*Math.cos($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$]*
$JSCompiler_object_inline_y_1$jscomp$inline_486_f$jscomp$inline_484$$)+($i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$.y-$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.y)*Math.sin($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$]*
$JSCompiler_object_inline_y_1$jscomp$inline_486_f$jscomp$inline_484$$);$JSCompiler_object_inline_y_1$jscomp$inline_486_f$jscomp$inline_484$$=$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.y-($i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$.x-$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.x)*Math.sin($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$]*
$JSCompiler_object_inline_y_1$jscomp$inline_486_f$jscomp$inline_484$$)+($i$jscomp$inline_451_i$jscomp$inline_464_pt$jscomp$inline_424_pt$jscomp$inline_438_pt$jscomp$inline_480$$.y-$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.y)*Math.cos($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$]*
$JSCompiler_object_inline_y_1$jscomp$inline_486_f$jscomp$inline_484$$);if($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$.$isInside$($JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$].thumbId,
$JSCompiler_object_inline_x_0$jscomp$inline_485_thumbBnds$jscomp$inline_468$$,$JSCompiler_object_inline_y_1$jscomp$inline_486_f$jscomp$inline_484$$)){$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$rotatingAux$=$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$[$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$];
$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$c$=$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$;$canvas$jscomp$125_ixNotes$jscomp$inline_497$$.clientData.$phi0$=Math.atan2($JSCompiler_object_inline_y_1$jscomp$inline_486_f$jscomp$inline_484$$-$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.y,$JSCompiler_object_inline_x_0$jscomp$inline_485_thumbBnds$jscomp$inline_468$$-$bnds$jscomp$inline_465_bnds$jscomp$inline_482_c$jscomp$inline_483_y0$jscomp$inline_467$$.x);
$JSCompiler_StaticMethods_prepareChange$$($JSCompiler_inline_result$jscomp$19_block$jscomp$192$$);$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=$i$jscomp$inline_439_i$jscomp$inline_481_x0$jscomp$inline_466$$;break b}}$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=
null}if(null!==$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$){$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$=$ix0$jscomp$inline_226$$+$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$;break a}$ix0$jscomp$inline_226$$+=
$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$.length}if($b$jscomp$17$$.score&&($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$=$uiConfig$jscomp$6$$.$svg$[$filename$jscomp$inline_225_numNotes$jscomp$inline_498$$],
$canvas$jscomp$125_ixNotes$jscomp$inline_497$$=($b$jscomp$17$$.buttons?$b$jscomp$17$$.buttons.length:0)+($b$jscomp$17$$.radiobuttons?1:0)+($b$jscomp$17$$.sliders?$b$jscomp$17$$.sliders.length:0),$filename$jscomp$inline_225_numNotes$jscomp$inline_498$$=$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$.slice($canvas$jscomp$125_ixNotes$jscomp$inline_497$$).length/2,$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$=
$b$jscomp$17$$.score.numHeights||5,$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=$JSCompiler_StaticMethods_getElementBounds$$($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$,$b$jscomp$17$$.score.id),$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$=
$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$.$viewBox$,($note$jscomp$inline_502_width$jscomp$117$$=$JSCompiler_StaticMethods_noteClickLL$$(($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$.$xmin$-$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[0])/
($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[2]-$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[0]),($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$.$xmax$-
$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[0])/($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[2]-$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[0]),
($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$.$ymax$-$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[1])/($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[3]-
$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[1]),($JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$.$ymin$-$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[1])/
($ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[3]-$ix$jscomp$inline_426_param$jscomp$inline_479_pt$jscomp$inline_450_pt$jscomp$inline_463_svg$jscomp$inline_422_svg$jscomp$inline_435_svg$jscomp$inline_495_viewBox$jscomp$inline_501$$[1]),$filename$jscomp$inline_225_numNotes$jscomp$inline_498$$,$JSCompiler_inline_result$jscomp$402_buttons$jscomp$inline_227_nButtons$jscomp$inline_437_numHeights$jscomp$inline_499_p$jscomp$inline_452_pushbuttons$jscomp$inline_230_rotating$jscomp$inline_232_sliders$jscomp$inline_231$$,
$note$jscomp$inline_502_width$jscomp$117$$,$height$jscomp$114$$,$left$jscomp$85$$,$top$jscomp$83$$,$ev$jscomp$78$$))?($JSCompiler_StaticMethods_prepareChange$$($JSCompiler_inline_result$jscomp$19_block$jscomp$192$$),$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$[$canvas$jscomp$125_ixNotes$jscomp$inline_497$$+2*$note$jscomp$inline_502_width$jscomp$117$$.index]===$note$jscomp$inline_502_width$jscomp$117$$.tone?$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$[$canvas$jscomp$125_ixNotes$jscomp$inline_497$$+
2*$note$jscomp$inline_502_width$jscomp$117$$.index+1]=($JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$[$canvas$jscomp$125_ixNotes$jscomp$inline_497$$+2*$note$jscomp$inline_502_width$jscomp$117$$.index+1]+1)%3:($JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$[$canvas$jscomp$125_ixNotes$jscomp$inline_497$$+2*$note$jscomp$inline_502_width$jscomp$117$$.index]=$note$jscomp$inline_502_width$jscomp$117$$.tone,$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$.$param$[$canvas$jscomp$125_ixNotes$jscomp$inline_497$$+
2*$note$jscomp$inline_502_width$jscomp$117$$.index+1]=1),$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=0):$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$=null,null!==$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$)){$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$=
$ix0$jscomp$inline_226$$+$JSCompiler_temp$jscomp$401_bnds$jscomp$inline_500_i$jscomp$inline_425_ix$jscomp$inline_228_radiobuttons$jscomp$inline_229_svg$jscomp$inline_448_svg$jscomp$inline_461_svg$jscomp$inline_477$$;break a}$JSCompiler_inline_result$jscomp$19_block$jscomp$192$$=null}}return $JSCompiler_inline_result$jscomp$19_block$jscomp$192$$},$mousedrag$$=$blockTemplate0$$?$blockTemplate0$$.$mousedrag$:function($canvas$jscomp$126$$,$block$jscomp$193$$,$dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$,
$pt$jscomp$inline_513_width$jscomp$118$$,$height$jscomp$115$$,$left$jscomp$86$$,$top$jscomp$84$$,$ev$jscomp$79$$){var $ix0$jscomp$inline_243$$=($b$jscomp$17$$.buttons?$b$jscomp$17$$.buttons.length:0)+($b$jscomp$17$$.radiobuttons?1:0),$n$jscomp$inline_244$$=$b$jscomp$17$$.sliders?$b$jscomp$17$$.sliders.length:0;$dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$>=$ix0$jscomp$inline_243$$&&$dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$<$ix0$jscomp$inline_243$$+$n$jscomp$inline_244$$?$JSCompiler_StaticMethods_mousedragSVGSlider$$($canvas$jscomp$126$$,
$block$jscomp$193$$,$dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$-$ix0$jscomp$inline_243$$,$b$jscomp$17$$,$pt$jscomp$inline_513_width$jscomp$118$$,$height$jscomp$115$$,$left$jscomp$86$$,$top$jscomp$84$$,$ev$jscomp$79$$):($ix0$jscomp$inline_243$$+=$n$jscomp$inline_244$$,$n$jscomp$inline_244$$=$b$jscomp$17$$.rotating?$b$jscomp$17$$.rotating.length:0,$dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$>=$ix0$jscomp$inline_243$$&&$dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$<$ix0$jscomp$inline_243$$+
$n$jscomp$inline_244$$&&($dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$-=$ix0$jscomp$inline_243$$,$pt$jscomp$inline_513_width$jscomp$118$$=$JSCompiler_StaticMethods_canvasToSVGCoord$$($canvas$jscomp$126$$,$ev$jscomp$79$$.x-$left$jscomp$86$$,$ev$jscomp$79$$.y-$top$jscomp$84$$,$pt$jscomp$inline_513_width$jscomp$118$$,$height$jscomp$115$$),$block$jscomp$193$$.$param$[($b$jscomp$17$$.buttons?$b$jscomp$17$$.buttons.length:0)+($b$jscomp$17$$.radiobuttons?1:0)+($b$jscomp$17$$.sliders?$b$jscomp$17$$.sliders.length:
0)+$dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$]=Math.round(((Math.atan2($pt$jscomp$inline_513_width$jscomp$118$$.y-$canvas$jscomp$126$$.clientData.$c$.y,$pt$jscomp$inline_513_width$jscomp$118$$.x-$canvas$jscomp$126$$.clientData.$c$.x)-$canvas$jscomp$126$$.clientData.$phi0$+Math.PI)%(2*Math.PI)-Math.PI)/($b$jscomp$17$$.rotating[$dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$].numSteps?2*Math.PI/$b$jscomp$17$$.rotating[$dragIndex$jscomp$22_dragIndex$jscomp$inline_506$$].numSteps:1))))},$genCode$$=
$blockTemplate0$$?$blockTemplate0$$.$genCode$:{};["aseba","l2","js","python"].forEach(function($lang$$){$b$jscomp$17$$[$lang$$]&&($genCode$$[$lang$$]=function $$genCode$$$$lang$$$($block$jscomp$194$$){var $c$jscomp$18$$={};$b$jscomp$17$$[$lang$$].initVarDecl&&($c$jscomp$18$$.$initVarDecl$=$substInlineA$$($b$jscomp$17$$[$lang$$].initVarDecl.map($str$jscomp$20$$),$block$jscomp$194$$));$b$jscomp$17$$[$lang$$].initCodeDecl&&($c$jscomp$18$$.$initCodeDecl$=$substInlineA$$($b$jscomp$17$$[$lang$$].initCodeDecl.map($str$jscomp$20$$),
$block$jscomp$194$$));$b$jscomp$17$$[$lang$$].initCodeExec&&($c$jscomp$18$$.$initCodeExec$=$substInlineA$$($b$jscomp$17$$[$lang$$].initCodeExec.map($str$jscomp$20$$),$block$jscomp$194$$));$b$jscomp$17$$[$lang$$].sectionBegin&&($c$jscomp$18$$.$sectionBegin$=$A3a$vpl$BlockTemplate$substInline$$($str$jscomp$20$$($b$jscomp$17$$[$lang$$].sectionBegin),$block$jscomp$194$$));$b$jscomp$17$$[$lang$$].sectionEnd&&($c$jscomp$18$$.$sectionEnd$=$A3a$vpl$BlockTemplate$substInline$$($str$jscomp$20$$($b$jscomp$17$$[$lang$$].sectionEnd),
$block$jscomp$194$$));$b$jscomp$17$$[$lang$$].sectionPreamble&&($c$jscomp$18$$.$sectionPreamble$=$A3a$vpl$BlockTemplate$substInline$$($str$jscomp$20$$($b$jscomp$17$$[$lang$$].sectionPreamble),$block$jscomp$194$$));$b$jscomp$17$$[$lang$$].clauseInit&&($c$jscomp$18$$.$clauseInit$=$A3a$vpl$BlockTemplate$substInline$$($str$jscomp$20$$($b$jscomp$17$$[$lang$$].clauseInit),$block$jscomp$194$$));if($b$jscomp$17$$[$lang$$].clauseAnd){var $clause$jscomp$1$$="";$block$jscomp$194$$.$param$.forEach(function($cl$jscomp$3_p$jscomp$13$$,
$i$jscomp$153$$){($cl$jscomp$3_p$jscomp$13$$=$A3a$vpl$BlockTemplate$substInline$$($str$jscomp$20$$($b$jscomp$17$$[$lang$$].clauseAnd),$block$jscomp$194$$,$i$jscomp$153$$))&&($clause$jscomp$1$$+=(0<$clause$jscomp$1$$.length?" "+$A3a$vpl$Program$codeGenerator$$[$lang$$].$j$+" ":"")+$cl$jscomp$3_p$jscomp$13$$)});$c$jscomp$18$$.$clause$=$clause$jscomp$1$$||$A3a$vpl$Program$codeGenerator$$[$lang$$].$l$}else $b$jscomp$17$$[$lang$$].clause&&($c$jscomp$18$$.$clause$=$A3a$vpl$BlockTemplate$substInline$$($str$jscomp$20$$($b$jscomp$17$$[$lang$$].clause),
$block$jscomp$194$$));$c$jscomp$18$$.$clauseOptional$=$b$jscomp$17$$[$lang$$].clauseOptional||!1;$b$jscomp$17$$[$lang$$].statement1?$c$jscomp$18$$.$statement$=$block$jscomp$194$$.$param$.map(function($p$jscomp$14$$,$i$jscomp$154$$){return $A3a$vpl$BlockTemplate$substInline$$($str$jscomp$20$$($b$jscomp$17$$[$lang$$].statement1),$block$jscomp$194$$,$i$jscomp$154$$)}).join(""):$b$jscomp$17$$[$lang$$].statement&&($c$jscomp$18$$.$statement$=$A3a$vpl$BlockTemplate$substInline$$($str$jscomp$20$$($b$jscomp$17$$[$lang$$].statement),
$block$jscomp$194$$));$b$jscomp$17$$[$lang$$].error&&($c$jscomp$18$$.$clause$=$A3a$vpl$BlockTemplate$substInline$$($str$jscomp$20$$($b$jscomp$17$$.error.error),$block$jscomp$194$$));return $c$jscomp$18$$})});$name$jscomp$92_p$jscomp$12$$={name:$name$jscomp$92_p$jscomp$12$$,type:$type$jscomp$137$$,$modes$:$modes$$,$defaultParam$:$blockTemplate0$$?$blockTemplate0$$.$defaultParam$:function(){return $b$jscomp$17$$.defaultParameters||[]},$typicalParam$:$blockTemplate0$$?$blockTemplate0$$.$typicalParam$:
function(){return $b$jscomp$17$$.typicalParameters||$b$jscomp$17$$.defaultParameters||[]},$draw$:$draw$jscomp$4$$,$mousedown$:$mousedown$jscomp$1$$,$mousedrag$:$mousedrag$$,$genCode$:$genCode$$,$validate$:$validate$$};0<=$blockIndex$$?$lib$$[$blockIndex$$]=new $A3a$vpl$BlockTemplate$$($name$jscomp$92_p$jscomp$12$$):$lib$$.push(new $A3a$vpl$BlockTemplate$$($name$jscomp$92_p$jscomp$12$$))})}
function $A3a$vpl$patchBlocksSVG$$($uiConfig$jscomp$7$$){$A3a$vpl$Canvas$calcDims$$=function $$A3a$vpl$Canvas$calcDims$$$($blockSize$jscomp$3$$,$controlSize$jscomp$2$$){return{$blockSize$:$blockSize$jscomp$3$$,$minInteractiveBlockSize$:void 0===$uiConfig$jscomp$7$$.styles.minInteractiveBlockSize?60:$uiConfig$jscomp$7$$.styles.minInteractiveBlockSize,$eventRightAlign$:void 0===$uiConfig$jscomp$7$$.styles.eventRightAlign?!1:$uiConfig$jscomp$7$$.styles.eventRightAlign,$blockLineWidth$:void 0===$uiConfig$jscomp$7$$.styles.blockLineWidth?
Math.max(1,Math.min(3,$blockSize$jscomp$3$$/40)):$uiConfig$jscomp$7$$.styles.blockLineWidth,$blockFont$:Math.round($blockSize$jscomp$3$$/4).toString(10)+"px sans-serif",$controlSize$:$controlSize$jscomp$2$$,$controlLineWidth$:void 0===$uiConfig$jscomp$7$$.styles.controlLineWidth?Math.max(1,Math.min(3,$blockSize$jscomp$3$$/40)):$uiConfig$jscomp$7$$.styles.controlLineWidth,$controlFont$:"bold 15px sans-serif",$errorColor$:$uiConfig$jscomp$7$$.styles.errorColor||"#f88",$warningColor$:$uiConfig$jscomp$7$$.styles.warningColor||
"#f88",background:$uiConfig$jscomp$7$$.styles.background||"white",$ruleMarks$:$uiConfig$jscomp$7$$.styles.ruleMarks||"#bbb",$scrollbarThumbColor$:$uiConfig$jscomp$7$$.styles.scrollbarThumbColor||"navy",$scrollbarBackgroundColor$:$uiConfig$jscomp$7$$.styles.scrollbarBackgroundColor||"#ccc",$scrollbarWidth$:$uiConfig$jscomp$7$$.styles.scrollbarWidth||5}};var $lib$jscomp$1$$=[];$A3a$vpl$loadBlockOverlay$$($uiConfig$jscomp$7$$,$uiConfig$jscomp$7$$.blocks||[],$lib$jscomp$1$$);$A3a$vpl$BlockTemplate$lib$$=
$lib$jscomp$1$$};function $A3a$vpl$patchL2Blocks$$(){(function(){var $libPatchLang2$$={"!stop":function(){return{$statement$:"motor.left.target = 0;\nmotor.right.target = 0;\nsound.system(-1);\nleds.circle(32,32,32,32,32,32,32,32);\ntimer.period[0] = 100;\nonevent timer0 {\nleds.circle(0,0,0,0,0,0,0,0);\n}\n"}},"button 1":function($block$jscomp$196$$){return{$sectionBegin$:"onevent buttons {\n",$sectionEnd$:"}\n",$clause$:"button."+["center","forward","backward","right","left"][$block$jscomp$196$$.$param$[0]]}},"horiz prox":function($block$jscomp$197$$){for(var $cond$jscomp$10$$=
"",$i$jscomp$155$$=0;7>$i$jscomp$155$$;$i$jscomp$155$$++)$block$jscomp$197$$.$param$[$i$jscomp$155$$]&&($cond$jscomp$10$$+=(0===$cond$jscomp$10$$.length?"":" && ")+"prox.horizontal["+[2,1,3,0,4,5,6][$i$jscomp$155$$]+"] "+(0<$block$jscomp$197$$.$param$[$i$jscomp$155$$]?">= 2":"<= 1")+"000");if(""===$cond$jscomp$10$$){for($i$jscomp$155$$=0;7>$i$jscomp$155$$;$i$jscomp$155$$++)$cond$jscomp$10$$+=" || prox.horizontal["+[2,1,3,0,4,5,6][$i$jscomp$155$$]+"] >= 2000";$cond$jscomp$10$$=$cond$jscomp$10$$.slice(4)}return{$sectionBegin$:"onevent prox {\n",
$sectionEnd$:"}\n",$clause$:$cond$jscomp$10$$}},"horiz prox adv":function($block$jscomp$198$$){for(var $cond$jscomp$11$$="",$i$jscomp$156$$=0;7>$i$jscomp$156$$;$i$jscomp$156$$++)$block$jscomp$198$$.$param$[$i$jscomp$156$$]&&($cond$jscomp$11$$+=(0===$cond$jscomp$11$$.length?"":" && ")+"prox.horizontal["+[2,1,3,0,4,5,6][$i$jscomp$156$$]+"] "+(0<$block$jscomp$198$$.$param$[$i$jscomp$156$$]?">= "+Math.round(7+33*$block$jscomp$198$$.$param$[7]):"<= "+Math.round(7+33*$block$jscomp$198$$.$param$[8]))+"00");
if(""===$cond$jscomp$11$$){for($i$jscomp$156$$=0;7>$i$jscomp$156$$;$i$jscomp$156$$++)$cond$jscomp$11$$+=" || prox.horizontal["+[2,1,3,0,4,5,6][$i$jscomp$156$$]+"] >= 2000";$cond$jscomp$11$$=$cond$jscomp$11$$.slice(4)}return{$sectionBegin$:"onevent prox {\n",$sectionEnd$:"}\n",$clause$:$cond$jscomp$11$$}},"horiz prox 1":function($block$jscomp$199$$){for(var $cond$jscomp$12$$="",$i$jscomp$157$$=0;7>$i$jscomp$157$$;$i$jscomp$157$$++)$block$jscomp$199$$.$param$[$i$jscomp$157$$]&&($cond$jscomp$12$$+=(0===
$cond$jscomp$12$$.length?"":" && ")+"prox.horizontal["+[2,1,3,0,4,5,6][$i$jscomp$157$$]+"] "+(0<$block$jscomp$199$$.$param$[$i$jscomp$157$$]?">= ":"< ")+Math.round(7+33*$block$jscomp$199$$.$param$[7])+"00");if(""===$cond$jscomp$12$$){for($i$jscomp$157$$=0;7>$i$jscomp$157$$;$i$jscomp$157$$++)$cond$jscomp$12$$+=" || prox.horizontal["+[2,1,3,0,4,5,6][$i$jscomp$157$$]+"] >= 2000";$cond$jscomp$12$$=$cond$jscomp$12$$.slice(4)}return{$sectionBegin$:"onevent prox {\n",$sectionEnd$:"}\n",$clause$:$cond$jscomp$12$$}},
ground:function($block$jscomp$200$$){for(var $cond$jscomp$13$$="",$i$jscomp$158$$=0;2>$i$jscomp$158$$;$i$jscomp$158$$++)$block$jscomp$200$$.$param$[$i$jscomp$158$$]&&($cond$jscomp$13$$+=(0===$cond$jscomp$13$$.length?"":" && ")+"prox.ground.delta["+$i$jscomp$158$$+"] "+(0<$block$jscomp$200$$.$param$[$i$jscomp$158$$]?">= 450":"<= 400"));if(""===$cond$jscomp$13$$){for($i$jscomp$158$$=0;2>$i$jscomp$158$$;$i$jscomp$158$$++)$cond$jscomp$13$$+=" || prox.ground.delta["+$i$jscomp$158$$+"] >= 450";$cond$jscomp$13$$=
$cond$jscomp$13$$.slice(4)}return{$sectionBegin$:"onevent prox {\n",$sectionEnd$:"}\n",$clause$:$cond$jscomp$13$$}},"ground adv":function($block$jscomp$201$$){for(var $cond$jscomp$14$$="",$i$jscomp$159$$=0;2>$i$jscomp$159$$;$i$jscomp$159$$++)$block$jscomp$201$$.$param$[$i$jscomp$159$$]&&($cond$jscomp$14$$+=(0===$cond$jscomp$14$$.length?"":" && ")+"prox.ground.delta["+$i$jscomp$159$$+"] "+(0<$block$jscomp$201$$.$param$[$i$jscomp$159$$]?">= "+25*Math.round(40*$block$jscomp$201$$.$param$[2]):"<= "+25*
Math.round(40*$block$jscomp$201$$.$param$[3])));if(""===$cond$jscomp$14$$){for($i$jscomp$159$$=0;2>$i$jscomp$159$$;$i$jscomp$159$$++)$cond$jscomp$14$$+=" || prox.ground.delta["+$i$jscomp$159$$+"] >= 450";$cond$jscomp$14$$=$cond$jscomp$14$$.slice(4)}return{$sectionBegin$:"onevent prox {\n",$sectionEnd$:"}\n",$clause$:$cond$jscomp$14$$}},"ground 1":function($block$jscomp$202$$){for(var $cond$jscomp$15$$="",$i$jscomp$160$$=0;2>$i$jscomp$160$$;$i$jscomp$160$$++)$block$jscomp$202$$.$param$[$i$jscomp$160$$]&&
($cond$jscomp$15$$+=(0===$cond$jscomp$15$$.length?"":" && ")+"prox.ground.delta["+$i$jscomp$160$$+"] "+(0<$block$jscomp$202$$.$param$[$i$jscomp$160$$]?">= ":"< ")+25*Math.round(40*$block$jscomp$202$$.$param$[2]));if(""===$cond$jscomp$15$$){for($i$jscomp$160$$=0;2>$i$jscomp$160$$;$i$jscomp$160$$++)$cond$jscomp$15$$+=" || prox.ground.delta["+$i$jscomp$160$$+"] >= 450";$cond$jscomp$15$$=$cond$jscomp$15$$.slice(4)}return{$sectionBegin$:"onevent prox {\n",$sectionEnd$:"}\n",$clause$:$cond$jscomp$15$$}},
tap:function(){return{$initVarDecl$:["bool tapped;\n"],$initCodeExec$:["tapped = false;\n"],$sectionBegin$:"onevent tap {\n",$sectionEnd$:"}\n",$sectionPreamble$:"tapped = true;\n",$clause$:"tapped"}},accelerometer:function($a$jscomp$31_block$jscomp$204$$){var $dir$jscomp$2$$=$a$jscomp$31_block$jscomp$204$$.$param$[0];if(0===$dir$jscomp$2$$)return{$initVarDecl$:["bool tapped;\n"],$initCodeExec$:["tapped = false;\n"],$sectionBegin$:"onevent tap {\n",$sectionEnd$:"}\n",$sectionPreamble$:"tapped = true;\n",
$clause$:"tapped"};$a$jscomp$31_block$jscomp$204$$=(2===$dir$jscomp$2$$?-1:1)*$a$jscomp$31_block$jscomp$204$$.$param$[1];var $name$jscomp$94$$=1===$dir$jscomp$2$$?"roll":"pitch";return{$sectionBegin$:"onevent acc {\n",$sectionEnd$:"}\n",$clauseInit$:2===$dir$jscomp$2$$?"fixed pitchAngle = atan2(acc[1], acc[2]);\n":"fixed rollAngle = atan2(acc[0], acc[2]);\n",$clause$:-6>=$a$jscomp$31_block$jscomp$204$$?$name$jscomp$94$$+"Angle < "+(Math.PI/12*($a$jscomp$31_block$jscomp$204$$+.5)).toFixed(2):6<=$a$jscomp$31_block$jscomp$204$$?
$name$jscomp$94$$+"Angle >= "+(Math.PI/12*($a$jscomp$31_block$jscomp$204$$-.5)).toFixed(2):$name$jscomp$94$$+"Angle >= "+(Math.PI/12*($a$jscomp$31_block$jscomp$204$$-.5)).toFixed(2)+" && "+$name$jscomp$94$$+"Angle < "+(Math.PI/12*($a$jscomp$31_block$jscomp$204$$+.5)).toFixed(2)}},roll:function($a$jscomp$32_block$jscomp$205$$){$a$jscomp$32_block$jscomp$205$$=$a$jscomp$32_block$jscomp$205$$.$param$[0];return{$sectionBegin$:"onevent acc {\n",$sectionEnd$:"}\n",$clauseInit$:"fixed rollAngle = atan2(acc[0], acc[2]);\n",
$clause$:"rollAngle >= "+(Math.PI/12*($a$jscomp$32_block$jscomp$205$$-.5)).toFixed(2)+" && rollAngle < "+(Math.PI/12*($a$jscomp$32_block$jscomp$205$$+.5)).toFixed(2)}},pitch:function($a$jscomp$33_block$jscomp$206$$){$a$jscomp$33_block$jscomp$206$$=-$a$jscomp$33_block$jscomp$206$$.$param$[0];return{$sectionBegin$:"onevent acc {\n",$sectionEnd$:"}\n",$clauseInit$:"fixed pitchAngle = atan2(acc[1], acc[2]);\n",$clause$:"pitchAngle >= "+(Math.PI/12*($a$jscomp$33_block$jscomp$206$$-.5)).toFixed(2)+" && pitchAngle < "+
(Math.PI/12*($a$jscomp$33_block$jscomp$206$$+.5)).toFixed(2)}},yaw:function($a$jscomp$34_block$jscomp$207$$){$a$jscomp$34_block$jscomp$207$$=$a$jscomp$34_block$jscomp$207$$.$param$[0];return{$sectionBegin$:"onevent acc {\n",$sectionEnd$:"}\n",$clauseInit$:"fixed yawAngle = atan2(acc[0], acc[1]);\n",$clause$:"yawAngle >= "+(Math.PI/12*($a$jscomp$34_block$jscomp$207$$-.5)).toFixed(2)+" && yawAngle < "+(Math.PI/12*($a$jscomp$34_block$jscomp$207$$+.5)).toFixed(2)}},clap:function(){return{$initCodeExec$:["// setup threshold for detecting claps\nmic.threshold = 250\n"],
$sectionBegin$:"onevent mic {\n",$sectionEnd$:"}\n",$clause$:"mic.intensity > mic.threshold",$clauseOptional$:!0}},init:function(){return{$sectionBegin$:"// initialization\n"}},timer:function(){return{$initVarDecl$:["bool timerElapsed;\n"],$initCodeExec$:["// stop timer 0\ntimer.period[0] = 0;\n","timerElapsed = false;\n"],$sectionBegin$:"onevent timer0 {\n",$sectionEnd$:"}\n",$sectionPreamble$:"timerElapsed = true;\ntimer.period[0] = 0;\n",$clause$:"timerElapsed"}},state:function($block$jscomp$211$$){for(var $cond$jscomp$17$$=
"",$i$jscomp$161$$=0;4>$i$jscomp$161$$;$i$jscomp$161$$++)$block$jscomp$211$$.$param$[$i$jscomp$161$$]&&($cond$jscomp$17$$+=(0===$cond$jscomp$17$$.length?"":" && ")+(0<$block$jscomp$211$$.$param$[$i$jscomp$161$$]?"":"!")+"state["+$i$jscomp$161$$+"]");return{$initVarDecl$:["// variables for state\nbool state[4];\n"],$initCodeExec$:["state = [false, false, false, false];\n"],$clause$:$cond$jscomp$17$$}},"state 8":function($block$jscomp$212$$){return{$initVarDecl$:["// variables for exclusive state\nint state8;\n"],
$initCodeExec$:["state8 = 0;\n"],$clause$:"state8 == "+$block$jscomp$212$$.$param$[0].toString(10)}},"counter comparison":function($block$jscomp$213$$){return{$initVarDecl$:["int counter;\n"],$initCodeExec$:["counter = 0;\n"],$clause$:"counter "+(0===$block$jscomp$213$$.$param$[0]?"==":0<$block$jscomp$213$$.$param$[0]?">=":"<=")+" "+$block$jscomp$213$$.$param$[1]}},"color state":function($block$jscomp$214$$){return{$initVarDecl$:["int topColor[3];\n"],$initCodeExec$:["topColor = [0, 0, 0];\n"],$clause$:$block$jscomp$214$$.$param$.map(function($p$jscomp$15$$,
$i$jscomp$162$$){return"topColor["+$i$jscomp$162$$+"] / 11 == "+Math.floor(2.99*$p$jscomp$15$$)}).join(" && ")}},"color 8 state":function($block$jscomp$215$$){return{$initVarDecl$:["int topColor[3];\n"],$initCodeExec$:["topColor = [0, 0, 0];\n"],$clause$:"topColor[0] "+($block$jscomp$215$$.$param$[0]%2?">=":"<")+" 16 && topColor[1] "+(2<=$block$jscomp$215$$.$param$[0]%4?">=":"<")+" 16 && topColor[2] "+(4<=$block$jscomp$215$$.$param$[0]?">=":"<")+" 16"}},"motor state":function($block$jscomp$216$$){function $clause1$jscomp$1$$($side$jscomp$1$$,
$x$jscomp$153$$){return 0<$x$jscomp$153$$?"motor."+$side$jscomp$1$$+".target > 250":0>$x$jscomp$153$$?"motor."+$side$jscomp$1$$+".target < -250":"abs(motor."+$side$jscomp$1$$+".target) < 250"}return{$clause$:$clause1$jscomp$1$$("left",$block$jscomp$216$$.$param$[0])+" && "+$clause1$jscomp$1$$("right",$block$jscomp$216$$.$param$[1])}},motor:function($block$jscomp$217$$){return{$initCodeExec$:["// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],
$statement$:"motor.left.target = "+Math.round(500*$block$jscomp$217$$.$param$[0])+";\nmotor.right.target = "+Math.round(500*$block$jscomp$217$$.$param$[1])+";\n"}},move:function($block$jscomp$218$$){return{$initCodeExec$:["// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],$statement$:"motor.left.target = "+[0,100,-100,85,115,-100,100][$block$jscomp$218$$.$param$[0]]+";\nmotor.right.target = "+[0,100,-100,115,85,
100,-100][$block$jscomp$218$$.$param$[0]]+";\n"}},"top color":function($block$jscomp$219$$){return{$initVarDecl$:["int topColor[3];\n"],$initCodeExec$:["topColor = [0, 0, 0];\n","// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],$statement$:"leds.top("+$block$jscomp$219$$.$param$.map(function($x$jscomp$154$$){return Math.round(32*$x$jscomp$154$$)}).join(", ")+");\ntopColor = ["+$block$jscomp$219$$.$param$.map(function($x$jscomp$155$$){return Math.round(32*
$x$jscomp$155$$)}).join(", ")+"];\n"}},"top color 8":function($block$jscomp$220_rgbStr$jscomp$4$$){$block$jscomp$220_rgbStr$jscomp$4$$=[32*($block$jscomp$220_rgbStr$jscomp$4$$.$param$&1),16*($block$jscomp$220_rgbStr$jscomp$4$$.$param$&2),8*($block$jscomp$220_rgbStr$jscomp$4$$.$param$&4)].join(", ");return{$initVarDecl$:["int topColor[3];\n"],$initCodeExec$:["topColor = [0, 0, 0];\n","// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],
$statement$:"leds.top("+$block$jscomp$220_rgbStr$jscomp$4$$+");\ntopColor = ["+$block$jscomp$220_rgbStr$jscomp$4$$+"];\n"}},"bottom color":function($block$jscomp$221$$){return{$initCodeExec$:["// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],$statement$:"leds.bottom.left("+$block$jscomp$221$$.$param$.map(function($x$jscomp$156$$){return Math.round(32*$x$jscomp$156$$)}).join(", ")+");\nleds.bottom.right("+$block$jscomp$221$$.$param$.map(function($x$jscomp$157$$){return Math.round(32*
$x$jscomp$157$$)}).join(", ")+");\n"}},"bottom-left color":function($block$jscomp$222$$){return{$initCodeExec$:["// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],$statement$:"leds.bottom.left("+$block$jscomp$222$$.$param$.map(function($x$jscomp$158$$){return Math.round(32*$x$jscomp$158$$)}).join(", ")+");\n"}},"bottom-right color":function($block$jscomp$223$$){return{$initCodeExec$:["// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],
$statement$:"leds.bottom.right("+$block$jscomp$223$$.$param$.map(function($x$jscomp$159$$){return Math.round(32*$x$jscomp$159$$)}).join(", ")+");\n"}},"bottom color 8":function($block$jscomp$224_rgbStr$jscomp$5$$){$block$jscomp$224_rgbStr$jscomp$5$$=[32*($block$jscomp$224_rgbStr$jscomp$5$$.$param$&1),16*($block$jscomp$224_rgbStr$jscomp$5$$.$param$&2),8*($block$jscomp$224_rgbStr$jscomp$5$$.$param$&4)].join(", ");return{$initCodeExec$:["// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],
$statement$:"leds.bottom.left("+$block$jscomp$224_rgbStr$jscomp$5$$+");\nleds.bottom.right("+$block$jscomp$224_rgbStr$jscomp$5$$+");\n"}},"bottom-left color 8":function($block$jscomp$225$$){return{$initCodeExec$:["// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],$statement$:"leds.bottom.left("+[32*($block$jscomp$225$$.$param$&1),16*($block$jscomp$225$$.$param$&2),8*($block$jscomp$225$$.$param$&4)].join(", ")+");\n"}},
"bottom-right color 8":function($block$jscomp$226$$){return{$initCodeExec$:["// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],$statement$:"leds.bottom.right("+[32*($block$jscomp$226$$.$param$&1),16*($block$jscomp$226$$.$param$&2),8*($block$jscomp$226$$.$param$&4)].join(", ")+");\n"}},notes:function($block$jscomp$227$$){for(var $notes$jscomp$3$$=[],$durations$jscomp$1$$=[],$i$jscomp$163$$=0;6>$i$jscomp$163$$;$i$jscomp$163$$++)0<
$block$jscomp$227$$.$param$[2*$i$jscomp$163$$+1]?($notes$jscomp$3$$.push([262,311,370,440,524,370][$block$jscomp$227$$.$param$[2*$i$jscomp$163$$]]),$durations$jscomp$1$$.push(7*$block$jscomp$227$$.$param$[2*$i$jscomp$163$$+1])):($notes$jscomp$3$$.push(0),$durations$jscomp$1$$.push(28));return{$initVarDecl$:["const pi = 3.14;\n","// variables for notes\nint notes[6];\nint durations[6];\nint note_index;\nint wave[142];\n"],$initCodeExec$:["// init notes\nfor (int i = 0; i < size(wave); i++) {\nwave[i] = 128 * sin(fixed(i) / size(wave) * 2 * pi);\n}\nsound.wave(wave);\nnote_index = 6;\nsound.system(-1);\n",
"// reset outputs\nleds.top(0, 0, 0);\nleds.bottom.left(0, 0, 0);\nleds.bottom.right(0, 0, 0);\nleds.circle(0, 0, 0, 0, 0, 0, 0, 0);\n"],$initCodeDecl$:["// when a note is finished, play the next one\nonevent sound.finished {\nif (note_index < size(notes)) {\nsound.freq(notes[note_index], durations[note_index]);\nnote_index++;\n}\n}\n"],$statement$:"notes = ["+$notes$jscomp$3$$.join(", ")+"];\ndurations = ["+$durations$jscomp$1$$.join(", ")+"];\nsound.freq(notes[0], durations[0]);\nnote_index = 1;\n"}},
"set state":function($block$jscomp$228$$){for(var $code$jscomp$19$$="",$i$jscomp$164$$=0;4>$i$jscomp$164$$;$i$jscomp$164$$++)$block$jscomp$228$$.$param$[$i$jscomp$164$$]&&($code$jscomp$19$$+="state["+$i$jscomp$164$$+"] = "+(0<$block$jscomp$228$$.$param$[$i$jscomp$164$$]?"true":"false")+";\n");return{$initVarDecl$:["// variables for state\nbool state[4];\n"],$initCodeExec$:["state = [false, false, false, false];\n"],$initCodeDecl$:["// display the current state\nvoid display_state() {\nleds.circle(0,state[1]?32:0,0,state[3]?32:0,0,state[2]?32:0,0,state[0]?32:0);\n}\n"],
$statement$:0<$code$jscomp$19$$.length?$code$jscomp$19$$+"display_state();\n":""}},"toggle state":function($block$jscomp$229$$){for(var $code$jscomp$20$$="",$i$jscomp$165$$=0;4>$i$jscomp$165$$;$i$jscomp$165$$++)$block$jscomp$229$$.$param$[$i$jscomp$165$$]&&($code$jscomp$20$$+="state["+$i$jscomp$165$$+"] = !state["+$i$jscomp$165$$+"];\n");return{$initVarDecl$:["// variables for state\nbool state[4];\n"],$initCodeExec$:["state = [false, false, false, false];\n"],$initCodeDecl$:["// display the current state\nvoid display_state() {\nleds.circle(0,state[1]?32:0,0,state[3]?32:0,0,state[2]?32:0,0,state[0]?32:0);\n}\n"],
$statement$:0<$code$jscomp$20$$.length?$code$jscomp$20$$+"display_state();\n":""}},"set state 8":function($block$jscomp$230$$){var $code$jscomp$21$$="state8 = "+$block$jscomp$230$$.$param$[0].toString(10)+";\n";return{$initVarDecl$:["// variables for exclusive state\nint state8;\n"],$initCodeExec$:["state8 = 0;\n"],$initCodeDecl$:["// display the current exclusive state\nvoid display_state8() {\nleds.circle(state8==0?32:0, state8==1?32:0, state8==2?32:0, state8==3?32:0, state8==4?32:0, state8==5?32:0, state8==6?32:0, state8==7?32:0);\n}\n"],
$statement$:0<$code$jscomp$21$$.length?$code$jscomp$21$$+"display_state8();\n":"",$statementWithoutInit$:"leds.circle("+(0===$block$jscomp$230$$.$param$[0]?"32":"0")+","+(1===$block$jscomp$230$$.$param$[0]?"32":"0")+","+(2===$block$jscomp$230$$.$param$[0]?"32":"0")+","+(3===$block$jscomp$230$$.$param$[0]?"32":"0")+","+(4===$block$jscomp$230$$.$param$[0]?"32":"0")+","+(5===$block$jscomp$230$$.$param$[0]?"32":"0")+","+(6===$block$jscomp$230$$.$param$[0]?"32":"0")+","+(7===$block$jscomp$230$$.$param$[0]?
"32":"0")+");\n"}},"change state 8":function($block$jscomp$231$$){return{$initVarDecl$:["// variables for exclusive state\nint state8;\n"],$initCodeExec$:["state8 = 0;\n"],$initCodeDecl$:["// display the current exclusive state\nvoid display_state8() {\nleds.circle(state8==0?32:0, state8==1?32:0, state8==2?32:0, state8==3?32:0, state8==4?32:0, state8==5?32:0, state8==6?32:0, state8==7?32:0);\n}\n"],$statement$:"state8 = (state8 + "+(0<$block$jscomp$231$$.$param$[0]?"1":"7")+") % 8;\ndisplay_state8();\n",
$statementWithoutInit$:"call leds.circle("+(0===$block$jscomp$231$$.$param$[0]?"32":"0")+","+(1===$block$jscomp$231$$.$param$[0]?"32":"0")+","+(2===$block$jscomp$231$$.$param$[0]?"32":"0")+","+(3===$block$jscomp$231$$.$param$[0]?"32":"0")+","+(4===$block$jscomp$231$$.$param$[0]?"32":"0")+","+(5===$block$jscomp$231$$.$param$[0]?"32":"0")+","+(6===$block$jscomp$231$$.$param$[0]?"32":"0")+","+(7===$block$jscomp$231$$.$param$[0]?"32":"0")+")\n"}},"set counter":function($block$jscomp$232$$){return{$initVarDecl$:["int counter;\n"],
$initCodeExec$:["counter = 0;\n"],$initCodeDecl$:["// display the current counter\nvoid display_counter(int c) {\nleds.circle((c&1)<<5,(c&2)<<4,(c&4)<<3,(c&8)<<2,\n(c&16)<<1,c&32,(c&64)>>1,(c&128)>>2);\n}\n"],$statement$:(0===$block$jscomp$232$$.$param$[0]?"counter = 0;":0<$block$jscomp$232$$.$param$[0]?"if (counter < 255) {\ncounter++;\n}":"if (counter > 0) {\ncounter--;\n}")+"\ndisplay_counter(counter);\n"}},"set timer":function($block$jscomp$233$$){return{$initCodeExec$:["// stop timer 0\ntimer.period[0] = 0;\n"],
$statement$:"timer.period[0] = "+Math.round(1E3*$block$jscomp$233$$.$param$[0])+";\n"}},"set timer log":function($block$jscomp$234$$){return{$initCodeExec$:["// stop timer 0\ntimer.period[0] = 0;\n"],$statement$:"timer.period[0] = "+Math.round(1E3*$block$jscomp$234$$.$param$[0])+";\n"}},"picture comment":function(){return{}}},$name$jscomp$93$$;for($name$jscomp$93$$ in $libPatchLang2$$)if($libPatchLang2$$.hasOwnProperty($name$jscomp$93$$)){var $blockTemplate$jscomp$11$$=$A3a$vpl$BlockTemplate$findByName$$($name$jscomp$93$$);
$blockTemplate$jscomp$11$$&&($blockTemplate$jscomp$11$$.$genCode$.l2=$libPatchLang2$$[$name$jscomp$93$$])}})()};function $A3a$vpl$patchJSBlocks$$(){(function(){function $toFixed2$$($x$jscomp$160$$){return parseFloat($x$jscomp$160$$.toFixed(2)).toString()}var $libPatchJS$$={"!stop":function(){return{$statement$:'this.set("motor.left", 0);\nthis.set("motor.right", 0);\n'}},"button 1":function($block$jscomp$237$$){return{$sectionBegin$:'this.addEventListener("buttons", function (name, param) {\n',$sectionEnd$:"});\n",$clause$:'this.get("button.'+["center","forward","backward","right","left"][$block$jscomp$237$$.$param$[0]]+
'")'}},"horiz prox":function($block$jscomp$238$$){for(var $cond$jscomp$21$$="",$i$jscomp$166$$=0;7>$i$jscomp$166$$;$i$jscomp$166$$++)$block$jscomp$238$$.$param$[$i$jscomp$166$$]&&($cond$jscomp$21$$+=(0===$cond$jscomp$21$$.length?"":" && ")+'this.get("prox.horizontal")['+[2,1,3,0,4,5,6][$i$jscomp$166$$]+"] "+(0<$block$jscomp$238$$.$param$[$i$jscomp$166$$]?">= 0.6":"<= 0.4"));if(""===$cond$jscomp$21$$){for($i$jscomp$166$$=0;7>$i$jscomp$166$$;$i$jscomp$166$$++)$cond$jscomp$21$$+=' || this.get("prox.horizontal")['+
[2,1,3,0,4,5,6][$i$jscomp$166$$]+"] >= 0.5";$cond$jscomp$21$$=$cond$jscomp$21$$.slice(4)}return{$sectionBegin$:'this.addEventListener("prox", function (name, param) {\n',$sectionEnd$:"});\n",$clause$:$cond$jscomp$21$$}},"horiz prox adv":function($block$jscomp$239$$){for(var $cond$jscomp$22$$="",$i$jscomp$167$$=0;7>$i$jscomp$167$$;$i$jscomp$167$$++)$block$jscomp$239$$.$param$[$i$jscomp$167$$]&&($cond$jscomp$22$$+=(0===$cond$jscomp$22$$.length?"":" && ")+'this.get("prox.horizontal")['+[2,1,3,0,4,5,
6][$i$jscomp$167$$]+"] "+(0<$block$jscomp$239$$.$param$[$i$jscomp$167$$]?">= "+$toFixed2$$($block$jscomp$239$$.$param$[7]):"<= "+$toFixed2$$($block$jscomp$239$$.$param$[8])));if(""===$cond$jscomp$22$$){for($i$jscomp$167$$=0;7>$i$jscomp$167$$;$i$jscomp$167$$++)$cond$jscomp$22$$+=' || this.get("prox.horizontal")['+[2,1,3,0,4,5,6][$i$jscomp$167$$]+"] >= 0.5";$cond$jscomp$22$$=$cond$jscomp$22$$.slice(4)}return{$sectionBegin$:'this.addEventListener("prox", function (name, param) {\n',$sectionEnd$:"});\n",
$clause$:$cond$jscomp$22$$}},"horiz prox 1":function($block$jscomp$240$$){for(var $cond$jscomp$23$$="",$i$jscomp$168$$=0;7>$i$jscomp$168$$;$i$jscomp$168$$++)$block$jscomp$240$$.$param$[$i$jscomp$168$$]&&($cond$jscomp$23$$+=(0===$cond$jscomp$23$$.length?"":" && ")+'this.get("prox.horizontal")['+[2,1,3,0,4,5,6][$i$jscomp$168$$]+"] "+(0<$block$jscomp$240$$.$param$[$i$jscomp$168$$]?">= ":"< ")+$toFixed2$$($block$jscomp$240$$.$param$[7]));if(""===$cond$jscomp$23$$){for($i$jscomp$168$$=0;7>$i$jscomp$168$$;$i$jscomp$168$$++)$cond$jscomp$23$$+=
' || this.get("prox.horizontal")['+[2,1,3,0,4,5,6][$i$jscomp$168$$]+"] >= 0.5";$cond$jscomp$23$$=$cond$jscomp$23$$.slice(4)}return{$sectionBegin$:'this.addEventListener("prox", function (name, param) {\n',$sectionEnd$:"});\n",$clause$:$cond$jscomp$23$$}},ground:function($block$jscomp$241$$){for(var $cond$jscomp$24$$="",$i$jscomp$169$$=0;2>$i$jscomp$169$$;$i$jscomp$169$$++)$block$jscomp$241$$.$param$[$i$jscomp$169$$]&&($cond$jscomp$24$$+=(0===$cond$jscomp$24$$.length?"":" && ")+'this.get("prox.ground.delta")['+
$i$jscomp$169$$+"] "+(0<$block$jscomp$241$$.$param$[$i$jscomp$169$$]?">= 0.6":"<= 0.4"));if(""===$cond$jscomp$24$$){for($i$jscomp$169$$=0;2>$i$jscomp$169$$;$i$jscomp$169$$++)$cond$jscomp$24$$+=' || this.get("prox.ground.delta")['+$i$jscomp$169$$+"] >= 0.5";$cond$jscomp$24$$=$cond$jscomp$24$$.slice(4)}return{$sectionBegin$:'this.addEventListener("prox", function (name, param) {\n',$sectionEnd$:"});\n",$clause$:$cond$jscomp$24$$}},"ground adv":function($block$jscomp$242$$){for(var $cond$jscomp$25$$=
"",$i$jscomp$170$$=0;2>$i$jscomp$170$$;$i$jscomp$170$$++)$block$jscomp$242$$.$param$[$i$jscomp$170$$]&&($cond$jscomp$25$$+=(0===$cond$jscomp$25$$.length?"":" && ")+'this.get("prox.ground.delta")['+$i$jscomp$170$$+"] "+(0<$block$jscomp$242$$.$param$[$i$jscomp$170$$]?">= "+$toFixed2$$($block$jscomp$242$$.$param$[2]):"<= "+$toFixed2$$($block$jscomp$242$$.$param$[3])));if(""===$cond$jscomp$25$$){for($i$jscomp$170$$=0;2>$i$jscomp$170$$;$i$jscomp$170$$++)$cond$jscomp$25$$+=' || this.get("prox.ground.delta")['+
$i$jscomp$170$$+"] >= 0.5";$cond$jscomp$25$$=$cond$jscomp$25$$.slice(4)}return{$sectionBegin$:'this.addEventListener("prox", function (name, param) {\n',$sectionEnd$:"});\n",$clause$:$cond$jscomp$25$$}},"ground 1":function($block$jscomp$243$$){for(var $cond$jscomp$26$$="",$i$jscomp$171$$=0;2>$i$jscomp$171$$;$i$jscomp$171$$++)$block$jscomp$243$$.$param$[$i$jscomp$171$$]&&($cond$jscomp$26$$+=(0===$cond$jscomp$26$$.length?"":" && ")+'this.get("prox.ground.delta")['+$i$jscomp$171$$+"] "+(0<$block$jscomp$243$$.$param$[$i$jscomp$171$$]?
">= ":"< ")+$toFixed2$$($block$jscomp$243$$.$param$[2]));if(""===$cond$jscomp$26$$){for($i$jscomp$171$$=0;2>$i$jscomp$171$$;$i$jscomp$171$$++)$cond$jscomp$26$$+=' || this.get("prox.ground.delta")['+$i$jscomp$171$$+"] >= 0.5";$cond$jscomp$26$$=$cond$jscomp$26$$.slice(4)}return{$sectionBegin$:'this.addEventListener("prox", function (name, param) {\n',$sectionEnd$:"});\n",$clause$:$cond$jscomp$26$$}},tap:function(){return{$sectionBegin$:'this.addEventListener("tap", function (name, param) {\n',$sectionEnd$:"});\n"}},
accelerometer:function($a$jscomp$35_block$jscomp$245$$){var $dir$jscomp$3$$=$a$jscomp$35_block$jscomp$245$$.$param$[0];if(0===$dir$jscomp$3$$)return{$sectionBegin$:'this.addEventListener("tap", function (name, param) {\n',$sectionEnd$:"});\n"};$a$jscomp$35_block$jscomp$245$$=(2===$dir$jscomp$3$$?-1:1)*$a$jscomp$35_block$jscomp$245$$.$param$[1];var $name$jscomp$96$$=1===$dir$jscomp$3$$?"roll":"pitch";return{$sectionBegin$:'this.addEventListener("acc", function (name, param) {\n',$sectionEnd$:"});\n",
$clauseInit$:2===$dir$jscomp$3$$?"var pitchAngle = Math.atan2(acc[1], acc[2]);\n":"var rollAngle = Math.atan2(acc[0], acc[2]);\n",$clause$:-6>=$a$jscomp$35_block$jscomp$245$$?$name$jscomp$96$$+"Angle < "+$toFixed2$$(Math.PI/12*($a$jscomp$35_block$jscomp$245$$+.5)):6<=$a$jscomp$35_block$jscomp$245$$?$name$jscomp$96$$+"Angle >= "+$toFixed2$$(Math.PI/12*($a$jscomp$35_block$jscomp$245$$-.5)):$name$jscomp$96$$+"Angle >= "+$toFixed2$$(Math.PI/12*($a$jscomp$35_block$jscomp$245$$-.5))+" && "+$name$jscomp$96$$+
"Angle < "+$toFixed2$$(Math.PI/12*($a$jscomp$35_block$jscomp$245$$+.5))}},roll:function($a$jscomp$36_block$jscomp$246$$){$a$jscomp$36_block$jscomp$246$$=$a$jscomp$36_block$jscomp$246$$.$param$[0];return{$sectionBegin$:'this.addEventListener("acc", function (name, param) {\n',$sectionEnd$:"});\n",$clauseInit$:"var rollAngle = Math.atan2(acc[0], acc[2]);\n",$clause$:"rollAngle >= "+$toFixed2$$(Math.PI/12*($a$jscomp$36_block$jscomp$246$$-.5))+" && rollAngle < "+$toFixed2$$(Math.PI/12*($a$jscomp$36_block$jscomp$246$$+
.5))}},pitch:function($a$jscomp$37_block$jscomp$247$$){$a$jscomp$37_block$jscomp$247$$=-$a$jscomp$37_block$jscomp$247$$.$param$[0];return{$sectionBegin$:'this.addEventListener("acc", function (name, param) {\n',$sectionEnd$:"});\n",$clauseInit$:"var pitchAngle = Math.atan2(acc[1], acc[2]);\n",$clause$:"pitchAngle >= "+$toFixed2$$(Math.PI/12*($a$jscomp$37_block$jscomp$247$$-.5))+" && pitchAngle < "+$toFixed2$$(Math.PI/12*($a$jscomp$37_block$jscomp$247$$+.5))}},yaw:function($a$jscomp$38_block$jscomp$248$$){$a$jscomp$38_block$jscomp$248$$=
$a$jscomp$38_block$jscomp$248$$.$param$[0];return{$sectionBegin$:'this.addEventListener("acc", function (name, param) {\n',$sectionEnd$:"});\n",$clauseInit$:"var yawAngle = Math.atan2(acc[0], acc[1]);\n",$clause$:"yawAngle >= "+$toFixed2$$(Math.PI/12*($a$jscomp$38_block$jscomp$248$$-.5))+" && yawAngle < "+$toFixed2$$(Math.PI/12*($a$jscomp$38_block$jscomp$248$$+.5))}},clap:function(){return{$sectionBegin$:'this.addEventListener("mic", function (name, param) {\n',$sectionEnd$:"});\n"}},init:function(){return{$sectionBegin$:"// init block\n"}},
timer:function(){return{$initCodeExec$:["// stop timer 0\nthis.setTimer(0, -1);\n"],$sectionBegin$:'this.addEventListener("timer0", function (name, param) {\n',$sectionEnd$:"});\n"}},state:function($block$jscomp$252$$){for(var $cond$jscomp$28$$="",$i$jscomp$172$$=0;4>$i$jscomp$172$$;$i$jscomp$172$$++)$block$jscomp$252$$.$param$[$i$jscomp$172$$]&&($cond$jscomp$28$$+=(0===$cond$jscomp$28$$.length?"":" && ")+(0<$block$jscomp$252$$.$param$[$i$jscomp$172$$]?"":"!")+"state0["+$i$jscomp$172$$+"]");return{$initVarDecl$:['// variables for state\nthis.setClientState("state", []);\n'],
$initCodeExec$:['this.setClientState("state", [false, false, false, false]);\n'],$clauseInit$:'var state0 = this.getClientState("state");\n',$clause$:$cond$jscomp$28$$}},"state 8":function($block$jscomp$253$$){return{$initVarDecl$:['// variable for exclusive state\nthis.setClientState("state8", 0);\n'],$initCodeExec$:['this.setClientState("state8", 0);\n'],$clauseInit$:'var state80 = this.getClientState("state8");\n',$clause$:"state80 == "+$block$jscomp$253$$.$param$[0].toString(10)}},"counter comparison":function($block$jscomp$254$$){return{$initVarDecl$:['// variable for counter\nthis.setClientState("counter", 0);\n'],
$initCodeExec$:['this.setClientState("counter", 0);\n'],$clauseInit$:'var counter0 = this.getClientState("counter");\n',$clause$:"counter0 "+(0===$block$jscomp$254$$.$param$[0]?"==":0<$block$jscomp$254$$.$param$[0]?">=":"<=")+" "+$block$jscomp$254$$.$param$[1]}},"color state":function($block$jscomp$255$$){return{$clause$:$block$jscomp$255$$.$param$.map(function($p$jscomp$16$$,$i$jscomp$173$$){return"topColor["+$i$jscomp$173$$+"] / 11 == "+Math.floor(2.99*$p$jscomp$16$$)}).join(" && ")}},"color 8 state":function($block$jscomp$256$$){return{$clause$:$block$jscomp$256$$.$param$.map(function($p$jscomp$17$$,
$i$jscomp$174$$){return"topColor["+$i$jscomp$174$$+"] / 11 == "+Math.floor(2.99*$p$jscomp$17$$)}).join(" && ")}},"motor state":function($block$jscomp$257$$){function $clause1$jscomp$2$$($side$jscomp$2$$,$x$jscomp$161$$){return 0<$x$jscomp$161$$?'this.get("motor.'+$side$jscomp$2$$+'") > 0.1':0>$x$jscomp$161$$?'this.get("motor.'+$side$jscomp$2$$+'") > 0.1':'Math.abs(this.get("motor.'+$side$jscomp$2$$+'")) < 0.1'}return{$clause$:$clause1$jscomp$2$$("left",$block$jscomp$257$$.$param$[0])+" && "+$clause1$jscomp$2$$("right",
$block$jscomp$257$$.$param$[1])}},motor:function($block$jscomp$258$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("motor.left", '+$toFixed2$$($block$jscomp$258$$.$param$[0])+');\nthis.set("motor.right", '+$toFixed2$$($block$jscomp$258$$.$param$[1])+");\n"}},move:function($block$jscomp$259$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("motor.left", '+$toFixed2$$([0,.2,-.2,.2-.05,.25,-.2,.2][$block$jscomp$259$$.$param$[0]])+
');\nthis.set("motor.right", '+$toFixed2$$([0,.2,-.2,.25,.2-.05,.2,-.2][$block$jscomp$259$$.$param$[0]])+");\n"}},"top color":function($block$jscomp$260$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("leds.top", ['+$block$jscomp$260$$.$param$.map($toFixed2$$).join(", ")+"]);\n"}},"top color 8":function($block$jscomp$261$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("leds.top", ['+"0,0,0 1,0,0 0,1,0 1,1,0 0,0,1 1,0,1 0,1,1 1,1,1".split(" ")[$block$jscomp$261$$.$param$[0]]+
"]);\n"}},"bottom color":function($block$jscomp$262$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("leds.bottom.left", ['+$block$jscomp$262$$.$param$.map($toFixed2$$).join(", ")+']);\nthis.set("leds.bottom.right", ['+$block$jscomp$262$$.$param$.map($toFixed2$$).join(", ")+"]);\n"}},"bottom-left color":function($block$jscomp$263$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("leds.bottom.left", ['+$block$jscomp$263$$.$param$.map($toFixed2$$).join(", ")+
"]);\n"}},"bottom-right color":function($block$jscomp$264$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("leds.bottom.right", ['+$block$jscomp$264$$.$param$.map($toFixed2$$).join(", ")+"]);\n"}},"bottom color 8":function($block$jscomp$265$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("leds.bottom.left", ['+"0,0,0 1,0,0 0,1,0 1,1,0 0,0,1 1,0,1 0,1,1 1,1,1".split(" ")[$block$jscomp$265$$.$param$[0]]+']);\nthis.set("leds.bottom.right", ['+
"0,0,0 1,0,0 0,1,0 1,1,0 0,0,1 1,0,1 0,1,1 1,1,1".split(" ")[$block$jscomp$265$$.$param$[0]]+"]);\n"}},"bottom-left color 8":function($block$jscomp$266$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("leds.bottom.left", ['+"0,0,0 1,0,0 0,1,0 1,1,0 0,0,1 1,0,1 0,1,1 1,1,1".split(" ")[$block$jscomp$266$$.$param$[0]]+"]);\n"}},"bottom-right color 8":function($block$jscomp$267$$){return{$initCodeExec$:['this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("leds.bottom.right", ['+
"0,0,0 1,0,0 0,1,0 1,1,0 0,0,1 1,0,1 0,1,1 1,1,1".split(" ")[$block$jscomp$267$$.$param$[0]]+"]);\n"}},notes:function($block$jscomp$268$$){for(var $notes$jscomp$4$$=[],$durations$jscomp$2$$=[],$i$jscomp$175$$=0;6>$i$jscomp$175$$;$i$jscomp$175$$++)0<$block$jscomp$268$$.$param$[2*$i$jscomp$175$$+1]?($notes$jscomp$4$$.push([262,311,370,440,524,370][$block$jscomp$268$$.$param$[2*$i$jscomp$175$$]]),$durations$jscomp$2$$.push(7*$block$jscomp$268$$.$param$[2*$i$jscomp$175$$+1])):($notes$jscomp$4$$.push(0),
$durations$jscomp$2$$.push(28));return{$initCodeExec$:['// init notes\nthis.set("sound", {});\n','this.set("leds.top", [0, 0, 0]);\n'],$statement$:'this.set("sound", {"f": ['+$notes$jscomp$4$$.join(", ")+'], "d": ['+$durations$jscomp$2$$.join(", ")+"]});\n"}},"set state":function($block$jscomp$269$$){for(var $code$jscomp$22$$="",$i$jscomp$176$$=0;4>$i$jscomp$176$$;$i$jscomp$176$$++)$block$jscomp$269$$.$param$[$i$jscomp$176$$]&&($code$jscomp$22$$+="state["+$i$jscomp$176$$+"] = "+(0<$block$jscomp$269$$.$param$[$i$jscomp$176$$]?
"true":"false")+";\n");return{$initVarDecl$:['// variables for state\nthis.setClientState("state", []);\n'],$initCodeExec$:['this.setClientState("state", [false, false, false, false]);\n'],$statement$:0<$code$jscomp$22$$.length?'var state = this.getClientState("state");\n'+$code$jscomp$22$$+'this.setClientState("state", state);\nthis.set("leds.circle", [0,state[1]?1:0,0,state[3]?1:0,0,state[2]?1:0,0,state[0]?1:0]);\n':""}},"toggle state":function($block$jscomp$270$$){for(var $code$jscomp$23$$="",
$i$jscomp$177$$=0;4>$i$jscomp$177$$;$i$jscomp$177$$++)$block$jscomp$270$$.$param$[$i$jscomp$177$$]&&($code$jscomp$23$$+="state["+$i$jscomp$177$$+"] = !state["+$i$jscomp$177$$+"];\n");return{$initVarDecl$:['// variables for state\nthis.setClientState("state", []);\n'],$initCodeExec$:['this.setClientState("state", [false, false, false, false]);\n'],$statement$:0<$code$jscomp$23$$.length?'var state = this.getClientState("state");\n'+$code$jscomp$23$$+'this.setClientState("state", state);\nthis.set("leds.circle", [0,state[1]?1:0,0,state[3]?1:0,0,state[2]?1:0,0,state[0]?1:0]);\n':
""}},"set state 8":function($block$jscomp$271_v$$){$block$jscomp$271_v$$=$block$jscomp$271_v$$.$param$[0];for(var $a$jscomp$39$$=[],$i$jscomp$178$$=0;8>$i$jscomp$178$$;$i$jscomp$178$$++)$a$jscomp$39$$.push($block$jscomp$271_v$$===$i$jscomp$178$$);return{$initVarDecl$:['// variable for exclusive state\nthis.setClientState("state8", 0);\n'],$initCodeExec$:['this.setClientState("state8", 0);\n'],$statement$:'this.setClientState("state8", '+$block$jscomp$271_v$$.toString(10)+');\nthis.set("leds.circle", ['+
$a$jscomp$39$$.join(", ")+"]);\n",$statementWithoutInit$:'this.set("leds.circle", ['+$a$jscomp$39$$.join(", ")+"]);\n"}},"change state 8":function($block$jscomp$272$$){return{$initVarDecl$:['// variable for exclusive state\nthis.setClientState("state8", 0);\n'],$initCodeExec$:['this.setClientState("state8", 0);\n'],$statement$:'var state8 = (this.getClientState("state8") + '+(0<$block$jscomp$272$$.$param$[0]?"1":"7")+') % 8;\nthis.setClientState("state8", state8);\nthis.set("leds.circle", [state8==0?1:0, state8==1?1:0, state8==2?1:0, state8==3?1:0, state8==4?1:0, state8==5?1:0, state8==6?1:0, state8==7?1:0]);\n',
$statementWithoutInit$:'this.set("leds.circle", ['+(0===$block$jscomp$272$$.$param$[0]?"1":"0")+","+(1===$block$jscomp$272$$.$param$[0]?"1":"0")+","+(2===$block$jscomp$272$$.$param$[0]?"1":"0")+","+(3===$block$jscomp$272$$.$param$[0]?"1":"0")+","+(4===$block$jscomp$272$$.$param$[0]?"1":"0")+","+(5===$block$jscomp$272$$.$param$[0]?"1":"0")+","+(6===$block$jscomp$272$$.$param$[0]?"1":"0")+","+(7===$block$jscomp$272$$.$param$[0]?"1":"0")+"]);\n"}},"set counter":function($block$jscomp$273$$){return{$initVarDecl$:['// variable for counter\nthis.setClientState("counter", 0);\n'],
$initCodeExec$:['this.setClientState("counter", 0);\n'],$statement$:"var counter = "+(0===$block$jscomp$273$$.$param$[0]?"0":0<$block$jscomp$273$$.$param$[0]?'Math.min(this.getClientState("counter") + 1, 255)':'Math.max(this.getClientState("counter") - 1, 0)')+';\nthis.setClientState("counter", counter);\nthis.set("leds.circle", [counter&1?1:0,counter&2?1:0,counter&4?1:0,counter&8?1:0,\ncounter&16?1:0,counter&32?1:0,counter&64?1:0,counter&128?1:0]);\n'}},"set timer":function($block$jscomp$274$$){return{$initCodeExec$:["// stop timer 0\nthis.setTimer(0, -1);\n"],
$statement$:"this.setTimer(0, "+$block$jscomp$274$$.$param$[0].toFixed(3)+");\n"}},"set timer log":function($block$jscomp$275$$){return{$initCodeExec$:["// stop timer 0\nthis.setTimer(0, -1);\n"],$statement$:"this.setTimer(0, "+$block$jscomp$275$$.$param$[0].toFixed(3)+");\n"}},"picture comment":function(){return{}}},$name$jscomp$95$$;for($name$jscomp$95$$ in $libPatchJS$$)if($libPatchJS$$.hasOwnProperty($name$jscomp$95$$)){var $blockTemplate$jscomp$12$$=$A3a$vpl$BlockTemplate$findByName$$($name$jscomp$95$$);
$blockTemplate$jscomp$12$$&&($blockTemplate$jscomp$12$$.$genCode$.js=$libPatchJS$$[$name$jscomp$95$$])}})()};function $A3a$vpl$patchPythonBlocks$$(){(function(){function $toFixed2$jscomp$1$$($x$jscomp$162$$){return parseFloat($x$jscomp$162$$.toFixed(2)).toString()}var $libPatchPython$$={"!stop":function(){return{$statement$:'self.set("motor.left", 0)\nself.set("motor.right", 0)\n'}},"button 1":function($block$jscomp$278$$){return{$sectionBegin$:"def event_buttons(self):\n",$sectionEnd$:"<\n",$sectionPriority$:30,$clause$:'self.get("button.'+["center","forward","backward","right","left"][$block$jscomp$278$$.$param$[0]]+
'")'}},"horiz prox":function($block$jscomp$279$$){for(var $cond$jscomp$33$$="",$i$jscomp$179$$=0;7>$i$jscomp$179$$;$i$jscomp$179$$++)$block$jscomp$279$$.$param$[$i$jscomp$179$$]&&($cond$jscomp$33$$+=(0===$cond$jscomp$33$$.length?"":" and ")+'self.get("prox.horizontal")['+[2,1,3,0,4,5,6][$i$jscomp$179$$]+"] "+(0<$block$jscomp$279$$.$param$[$i$jscomp$179$$]?">= 0.6":"<= 0.4"));if(""===$cond$jscomp$33$$){for($i$jscomp$179$$=0;7>$i$jscomp$179$$;$i$jscomp$179$$++)$cond$jscomp$33$$+=' || self.get("prox.horizontal")['+
[2,1,3,0,4,5,6][$i$jscomp$179$$]+"] >= 0.5";$cond$jscomp$33$$=$cond$jscomp$33$$.slice(5)}return{$sectionBegin$:"def event_prox(self):\n",$sectionEnd$:"<\n",$sectionPriority$:20,$clause$:$cond$jscomp$33$$}},"horiz prox adv":function($block$jscomp$280$$){for(var $cond$jscomp$34$$="",$i$jscomp$180$$=0;7>$i$jscomp$180$$;$i$jscomp$180$$++)$block$jscomp$280$$.$param$[$i$jscomp$180$$]&&($cond$jscomp$34$$+=(0===$cond$jscomp$34$$.length?"":" and ")+'self.get("prox.horizontal")['+[2,1,3,0,4,5,6][$i$jscomp$180$$]+
"] "+(0<$block$jscomp$280$$.$param$[$i$jscomp$180$$]?">= "+$toFixed2$jscomp$1$$($block$jscomp$280$$.$param$[7]):"<= "+$toFixed2$jscomp$1$$($block$jscomp$280$$.$param$[8])));if(""===$cond$jscomp$34$$){for($i$jscomp$180$$=0;7>$i$jscomp$180$$;$i$jscomp$180$$++)$cond$jscomp$34$$+=' || self.get("prox.horizontal")['+[2,1,3,0,4,5,6][$i$jscomp$180$$]+"] >= 0.5";$cond$jscomp$34$$=$cond$jscomp$34$$.slice(4)}return{$sectionBegin$:"def event_prox(self):\n",$sectionEnd$:"<\n",$sectionPriority$:20,$clause$:$cond$jscomp$34$$}},
"horiz prox 1":function($block$jscomp$281$$){for(var $cond$jscomp$35$$="",$i$jscomp$181$$=0;7>$i$jscomp$181$$;$i$jscomp$181$$++)$block$jscomp$281$$.$param$[$i$jscomp$181$$]&&($cond$jscomp$35$$+=(0===$cond$jscomp$35$$.length?"":" and ")+'self.get("prox.horizontal")['+[2,1,3,0,4,5,6][$i$jscomp$181$$]+"] "+(0<$block$jscomp$281$$.$param$[$i$jscomp$181$$]?">= ":"< ")+$toFixed2$jscomp$1$$($block$jscomp$281$$.$param$[7]));if(""===$cond$jscomp$35$$){for($i$jscomp$181$$=0;7>$i$jscomp$181$$;$i$jscomp$181$$++)$cond$jscomp$35$$+=
' or self.get("prox.horizontal")['+[2,1,3,0,4,5,6][$i$jscomp$181$$]+"] >= 0.5";$cond$jscomp$35$$=$cond$jscomp$35$$.slice(4)}return{$sectionBegin$:"def event_prox(self):\n",$sectionEnd$:"<\n",$sectionPriority$:20,$clause$:$cond$jscomp$35$$}},ground:function($block$jscomp$282$$){for(var $cond$jscomp$36$$="",$i$jscomp$182$$=0;2>$i$jscomp$182$$;$i$jscomp$182$$++)$block$jscomp$282$$.$param$[$i$jscomp$182$$]&&($cond$jscomp$36$$+=(0===$cond$jscomp$36$$.length?"":" and ")+'self.get("prox.ground.delta")['+
$i$jscomp$182$$+"] "+(0<$block$jscomp$282$$.$param$[$i$jscomp$182$$]?">= 0.6":"<= 0.4"));if(""===$cond$jscomp$36$$){for($i$jscomp$182$$=0;2>$i$jscomp$182$$;$i$jscomp$182$$++)$cond$jscomp$36$$+=' or self.get("prox.ground.delta")['+$i$jscomp$182$$+"] >= 0.5";$cond$jscomp$36$$=$cond$jscomp$36$$.slice(4)}return{$sectionBegin$:"def event_prox(self):\n",$sectionEnd$:"<\n",$sectionPriority$:10,$clause$:$cond$jscomp$36$$}},"ground adv":function($block$jscomp$283$$){for(var $cond$jscomp$37$$="",$i$jscomp$183$$=
0;2>$i$jscomp$183$$;$i$jscomp$183$$++)$block$jscomp$283$$.$param$[$i$jscomp$183$$]&&($cond$jscomp$37$$+=(0===$cond$jscomp$37$$.length?"":" and ")+'self.get("prox.ground.delta")['+$i$jscomp$183$$+"] "+(0<$block$jscomp$283$$.$param$[$i$jscomp$183$$]?">= "+$toFixed2$jscomp$1$$($block$jscomp$283$$.$param$[2]):"<= "+$toFixed2$jscomp$1$$($block$jscomp$283$$.$param$[3])));if(""===$cond$jscomp$37$$){for($i$jscomp$183$$=0;2>$i$jscomp$183$$;$i$jscomp$183$$++)$cond$jscomp$37$$+=' or self.get("prox.ground.delta")['+
$i$jscomp$183$$+"] >= 0.5";$cond$jscomp$37$$=$cond$jscomp$37$$.slice(4)}return{$sectionBegin$:"def event_prox(self):\n",$sectionEnd$:"<\n",$sectionPriority$:10,$clause$:$cond$jscomp$37$$}},"ground 1":function($block$jscomp$284$$){for(var $cond$jscomp$38$$="",$i$jscomp$184$$=0;2>$i$jscomp$184$$;$i$jscomp$184$$++)$block$jscomp$284$$.$param$[$i$jscomp$184$$]&&($cond$jscomp$38$$+=(0===$cond$jscomp$38$$.length?"":" and ")+'self.get("prox.ground.delta")['+$i$jscomp$184$$+"] "+(0<$block$jscomp$284$$.$param$[$i$jscomp$184$$]?
">= ":"< ")+$toFixed2$jscomp$1$$($block$jscomp$284$$.$param$[2]));if(""===$cond$jscomp$38$$){for($i$jscomp$184$$=0;2>$i$jscomp$184$$;$i$jscomp$184$$++)$cond$jscomp$38$$+=' or self.get("prox.ground.delta")['+$i$jscomp$184$$+"] >= 0.5";$cond$jscomp$38$$=$cond$jscomp$38$$.slice(4)}return{$sectionBegin$:"def event_prox(self):\n",$sectionEnd$:"<\n",$sectionPriority$:10,$clause$:$cond$jscomp$38$$}},tap:function(){return{$sectionBegin$:"def event_tap(self):\n",$sectionEnd$:"<\n",$sectionPriority$:50}},accelerometer:function($a$jscomp$40_block$jscomp$286$$){var $dir$jscomp$4$$=
$a$jscomp$40_block$jscomp$286$$.$param$[0];if(0===$dir$jscomp$4$$)return{$sectionBegin$:"def event_tap(self):\n",$sectionEnd$:"<\n",$sectionPriority$:50};$a$jscomp$40_block$jscomp$286$$=(2===$dir$jscomp$4$$?-1:1)*$a$jscomp$40_block$jscomp$286$$.$param$[1];var $name$jscomp$98$$=1===$dir$jscomp$4$$?"roll":"pitch";return{$sectionBegin$:"def event_acc(self):\n",$sectionEnd$:"<\n",$sectionPriority$:40,$clauseInit$:2===$dir$jscomp$4$$?"pitchAngle = math.atan2(acc[1], acc[2])\n":"rollAngle = math.atan2(acc[0], acc[2])\n",
$clause$:-6>=$a$jscomp$40_block$jscomp$286$$?$name$jscomp$98$$+"Angle < "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$40_block$jscomp$286$$+.5)):6<=$a$jscomp$40_block$jscomp$286$$?$name$jscomp$98$$+"Angle >= "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$40_block$jscomp$286$$-.5)):$name$jscomp$98$$+"Angle >= "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$40_block$jscomp$286$$-.5))+" and "+$name$jscomp$98$$+"Angle < "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$40_block$jscomp$286$$+.5))}},roll:function($a$jscomp$41_block$jscomp$287$$){$a$jscomp$41_block$jscomp$287$$=
$a$jscomp$41_block$jscomp$287$$.$param$[0];return{$sectionBegin$:"def event_acc(self):\n",$sectionEnd$:"<\n",$sectionPriority$:40,$clauseInit$:"rollAngle = math.atan2(acc[0], acc[2])\n",$clause$:"rollAngle >= "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$41_block$jscomp$287$$-.5))+" and rollAngle < "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$41_block$jscomp$287$$+.5))}},pitch:function($a$jscomp$42_block$jscomp$288$$){$a$jscomp$42_block$jscomp$288$$=-$a$jscomp$42_block$jscomp$288$$.$param$[0];return{$sectionBegin$:"def event_acc(self):\n",
$sectionEnd$:"<\n",$sectionPriority$:40,$clauseInit$:"pitchAngle = math.atan2(acc[1], acc[2])\n",$clause$:"pitchAngle >= "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$42_block$jscomp$288$$-.5))+" and pitchAngle < "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$42_block$jscomp$288$$+.5))}},yaw:function($a$jscomp$43_block$jscomp$289$$){$a$jscomp$43_block$jscomp$289$$=$a$jscomp$43_block$jscomp$289$$.$param$[0];return{$sectionBegin$:"def event_acc(self):\n",$sectionEnd$:"<\n",$sectionPriority$:40,$clauseInit$:"yawAngle = math.atan2(acc[0], acc[1])\n",
$clause$:"yawAngle >= "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$43_block$jscomp$289$$-.5))+" and yawAngle < "+$toFixed2$jscomp$1$$(Math.PI/12*($a$jscomp$43_block$jscomp$289$$+.5))}},clap:function(){return{$sectionBegin$:"def event_mic(self):\n",$sectionEnd$:"<\n",$sectionPriority$:50}},init:function(){return{$sectionBegin$:"# init block\n",$sectionPriority$:300}},timer:function(){return{$initCodeExec$:["# stop timer 0\nself.setTimer(0, -1)\n"],$sectionBegin$:"def event_timer0(self):\n",$sectionEnd$:"<\n",
$sectionPriority$:200}},state:function($block$jscomp$293$$){for(var $cond$jscomp$40$$="",$i$jscomp$185$$=0;4>$i$jscomp$185$$;$i$jscomp$185$$++)$block$jscomp$293$$.$param$[$i$jscomp$185$$]&&($cond$jscomp$40$$+=(0===$cond$jscomp$40$$.length?"":" and ")+(0<$block$jscomp$293$$.$param$[$i$jscomp$185$$]?"":"!")+"state0["+$i$jscomp$185$$+"]");return{$initVarDecl$:['# variables for state\nself.setClientState("state", [])\n'],$initCodeExec$:['self.setClientState("state", [False, False, False, False])\n'],
$clauseInit$:'state0 = self.getClientState("state")\n',$clause$:$cond$jscomp$40$$}},"state 8":function($block$jscomp$294$$){return{$initVarDecl$:['# variable for exclusive state\nself.setClientState("state8", 0)\n'],$initCodeExec$:['self.setClientState("state8", 0)\n'],$clauseInit$:'state80 = self.getClientState("state8")\n',$clause$:"state80 == "+$block$jscomp$294$$.$param$[0].toString(10)}},"counter comparison":function($block$jscomp$295$$){return{$initVarDecl$:['# variable for counter\nself.setClientState("counter", 0)\n'],
$initCodeExec$:['self.setClientState("counter", 0)\n'],$clauseInit$:'counter0 = self.getClientState("counter")\n',$clause$:"counter0 "+(0===$block$jscomp$295$$.$param$[0]?"==":0<$block$jscomp$295$$.$param$[0]?">=":"<=")+" "+$block$jscomp$295$$.$param$[1]}},"color state":function($block$jscomp$296$$){return{$clause$:$block$jscomp$296$$.$param$.map(function($p$jscomp$18$$,$i$jscomp$186$$){return"topColor["+$i$jscomp$186$$+"] / 11 == "+Math.floor(2.99*$p$jscomp$18$$)}).join(" and ")}},"color state 8":function($block$jscomp$297$$){return{$clause$:$block$jscomp$297$$.$param$.map(function($p$jscomp$19$$,
$i$jscomp$187$$){return"topColor["+$i$jscomp$187$$+"] / 11 == "+Math.floor(2.99*$p$jscomp$19$$)}).join(" and ")}},"motor state":function($block$jscomp$298$$){function $clause1$jscomp$3$$($side$jscomp$3$$,$x$jscomp$163$$){return 0<$x$jscomp$163$$?'self.get("motor.'+$side$jscomp$3$$+'") > 0.1':0>$x$jscomp$163$$?'self.get("motor.'+$side$jscomp$3$$+'") > 0.1':'abs(self.get("motor.'+$side$jscomp$3$$+'")) < 0.1'}return{$clause$:$clause1$jscomp$3$$("left",$block$jscomp$298$$.$param$[0])+" and "+$clause1$jscomp$3$$("right",
$block$jscomp$298$$.$param$[1])}},motor:function($block$jscomp$299$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("motor.left", '+$toFixed2$jscomp$1$$($block$jscomp$299$$.$param$[0])+')\nself.set("motor.right", '+$toFixed2$jscomp$1$$($block$jscomp$299$$.$param$[1])+")\n"}},move:function($block$jscomp$300$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("motor.left", '+$toFixed2$jscomp$1$$([0,.2,-.2,.2-.05,.25,-.2,.2][$block$jscomp$300$$.$param$[0]])+
')\nself.set("motor.right", '+$toFixed2$jscomp$1$$([0,.2,-.2,.25,.2-.05,.2,-.2][$block$jscomp$300$$.$param$[0]])+")\n"}},"top color":function($block$jscomp$301$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("leds.top", ['+$block$jscomp$301$$.$param$.map($toFixed2$jscomp$1$$).join(", ")+"])\n"}},"top color 8":function($block$jscomp$302$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("leds.top", ['+$block$jscomp$302$$.$param$.map(function($x$jscomp$164$$){return $x$jscomp$164$$.toString(10)}).join(", ")+
"])\n"}},"bottom color":function($block$jscomp$303$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("leds.bottom.left", ['+$block$jscomp$303$$.$param$.map($toFixed2$jscomp$1$$).join(", ")+'])\nself.set("leds.bottom.right", ['+$block$jscomp$303$$.$param$.map($toFixed2$jscomp$1$$).join(", ")+"])\n"}},"bottom-left color":function($block$jscomp$304$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("leds.bottom.left", ['+$block$jscomp$304$$.$param$.map($toFixed2$jscomp$1$$).join(", ")+
"])\n"}},"bottom-right color":function($block$jscomp$305$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("leds.bottom.right", ['+$block$jscomp$305$$.$param$.map($toFixed2$jscomp$1$$).join(", ")+"])\n"}},"bottom color 8":function($block$jscomp$306$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("leds.bottom.left", ['+$block$jscomp$306$$.$param$.map(function($x$jscomp$165$$){return $x$jscomp$165$$.toString(10)}).join(", ")+'])\nself.set("leds.bottom.right", ['+
$block$jscomp$306$$.$param$.map(function($x$jscomp$166$$){return $x$jscomp$166$$.toString(10)}).join(", ")+"])\n"}},"bottom-left color 8":function($block$jscomp$307$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("leds.bottom.left", ['+$block$jscomp$307$$.$param$.map(function($x$jscomp$167$$){return $x$jscomp$167$$.toString(10)}).join(", ")+"])\n"}},"bottom-right color 8":function($block$jscomp$308$$){return{$initCodeExec$:['self.set("leds.top", [0, 0, 0])\n'],
$statement$:'self.set("leds.bottom.right", ['+$block$jscomp$308$$.$param$.map(function($x$jscomp$168$$){return $x$jscomp$168$$.toString(10)}).join(", ")+"])\n"}},notes:function($block$jscomp$309$$){for(var $notes$jscomp$5$$=[],$durations$jscomp$3$$=[],$i$jscomp$188$$=0;6>$i$jscomp$188$$;$i$jscomp$188$$++)0<$block$jscomp$309$$.$param$[2*$i$jscomp$188$$+1]?($notes$jscomp$5$$.push([262,311,370,440,524,370][$block$jscomp$309$$.$param$[2*$i$jscomp$188$$]]),$durations$jscomp$3$$.push(7*$block$jscomp$309$$.$param$[2*
$i$jscomp$188$$+1])):($notes$jscomp$5$$.push(0),$durations$jscomp$3$$.push(28));return{$initCodeExec$:['# init notes\nself.set("sound", {})\n','self.set("leds.top", [0, 0, 0])\n'],$statement$:'self.set("sound", {"f": ['+$notes$jscomp$5$$.join(", ")+'], "d": ['+$durations$jscomp$3$$.join(", ")+"]})\n"}},"set state":function($block$jscomp$310$$){for(var $code$jscomp$24$$="",$i$jscomp$189$$=0;4>$i$jscomp$189$$;$i$jscomp$189$$++)$block$jscomp$310$$.$param$[$i$jscomp$189$$]&&($code$jscomp$24$$+="state["+
$i$jscomp$189$$+"] = "+(0<$block$jscomp$310$$.$param$[$i$jscomp$189$$]?"true":"false")+"\n");return{$initVarDecl$:['# variables for state\nself.setClientState("state", [])\n'],$initCodeExec$:['self.setClientState("state", [False, False, False, False])\n'],$statement$:0<$code$jscomp$24$$.length?'state = self.getClientState("state")\n'+$code$jscomp$24$$+'self.setClientState("state", state)\nself.set("leds.circle", [0, 1 if state[1] else 0, 0, 1 if state[3] else 0, 0, 1 if state[2] else 0, 0, 1 if state[0] else 0])\n':
""}},"toggle state":function($block$jscomp$311$$){for(var $code$jscomp$25$$="",$i$jscomp$190$$=0;4>$i$jscomp$190$$;$i$jscomp$190$$++)$block$jscomp$311$$.$param$[$i$jscomp$190$$]&&($code$jscomp$25$$+="state["+$i$jscomp$190$$+"] = !state["+$i$jscomp$190$$+"]\n");return{$initVarDecl$:['# variables for state\nself.setClientState("state", [])\n'],$initCodeExec$:['self.setClientState("state", [False, False, False, False])\n'],$statement$:0<$code$jscomp$25$$.length?'state = self.getClientState("state")\n'+
$code$jscomp$25$$+'self.setClientState("state", state)\nself.set("leds.circle", [0, 1 if state[1] else 0, 0, 1 if state[3] else 0, 0, 1 if state[2] else 0, 0, 1 if state[0] else 0])\n':""}},"set state 8":function($block$jscomp$312_v$jscomp$1$$){$block$jscomp$312_v$jscomp$1$$=$block$jscomp$312_v$jscomp$1$$.$param$[0];for(var $a$jscomp$44$$=[],$i$jscomp$191$$=0;8>$i$jscomp$191$$;$i$jscomp$191$$++)$a$jscomp$44$$.push($block$jscomp$312_v$jscomp$1$$===$i$jscomp$191$$);return{$initVarDecl$:['# variable for exclusive state\nself.setClientState("state8", 0)\n'],
$initCodeExec$:['self.setClientState("state8", 0)\n'],$statement$:'self.setClientState("state8", '+$block$jscomp$312_v$jscomp$1$$.toString(10)+')\nself.set("leds.circle", ['+$a$jscomp$44$$.join(", ")+"])\n",$statementWithoutInit$:'self.set("leds.circle", ['+$a$jscomp$44$$.join(", ")+"])\n"}},"change state 8":function($block$jscomp$313$$){return{$initVarDecl$:['# variable for exclusive state\nself.setClientState("state8", 0)\n'],$initCodeExec$:['self.setClientState("state8", 0)\n'],$statement$:'state8 = (self.getClientState("state8") + '+
(0<$block$jscomp$313$$.$param$[0]?"1":"7")+') % 8\nself.setClientState("state8", state8)\nself.set("leds.circle", [1 if state8 == 0 else 0, 1 if state8 == 1 else 0, 1 if state8 == 2 else 0, 1 if state8 == 3 else 0, 1 if state8 == 4 else 0, 1 if state8 == 5 else 0, 1 if state8 == 6 else 0, 1 if state8 == 7 else 0])\n',$statementWithoutInit$:'self.set("leds.circle", ['+(0===$block$jscomp$313$$.$param$[0]?"1":"0")+","+(1===$block$jscomp$313$$.$param$[0]?"1":"0")+","+(2===$block$jscomp$313$$.$param$[0]?
"1":"0")+","+(3===$block$jscomp$313$$.$param$[0]?"1":"0")+","+(4===$block$jscomp$313$$.$param$[0]?"1":"0")+","+(5===$block$jscomp$313$$.$param$[0]?"1":"0")+","+(6===$block$jscomp$313$$.$param$[0]?"1":"0")+","+(7===$block$jscomp$313$$.$param$[0]?"1":"0")+"])\n"}},"set counter":function($block$jscomp$314$$){return{$initVarDecl$:['# variable for counter\nself.setClientState("counter", 0)\n'],$initCodeExec$:['self.setClientState("counter", 0)\n'],$statement$:"counter = "+(0===$block$jscomp$314$$.$param$[0]?
"0":0<$block$jscomp$314$$.$param$[0]?'min(self.getClientState("counter") + 1, 255)':'max(self.getClientState("counter") - 1, 0)')+'\nself.setClientState("counter", counter)\nself.set("leds.circle", [1 if counter & 1 else 0, 1 if counter & 2 else 0, 1 if counter & 4 else 0, 1 if counter & 8 else 0, 1 if counter & 16 else 0, 1 if counter & 32 else 0, 1 if counter & 64 else 0, 1 if counter & 128 else 0])\n'}},"set timer":function($block$jscomp$315$$){return{$initCodeExec$:["# stop timer 0\nself.setTimer(0, -1)\n"],
$statement$:"self.setTimer(0, "+$block$jscomp$315$$.$param$[0].toFixed(3)+")\n"}},"set timer log":function($block$jscomp$316$$){return{$initCodeExec$:["# stop timer 0\nself.setTimer(0, -1)\n"],$statement$:"self.setTimer(0, "+$block$jscomp$316$$.$param$[0].toFixed(3)+")\n"}},"picture comment":function(){return{}}},$name$jscomp$97$$;for($name$jscomp$97$$ in $libPatchPython$$)if($libPatchPython$$.hasOwnProperty($name$jscomp$97$$)){var $blockTemplate$jscomp$13$$=$A3a$vpl$BlockTemplate$findByName$$($name$jscomp$97$$);
$blockTemplate$jscomp$13$$&&($blockTemplate$jscomp$13$$.$genCode$.python=$libPatchPython$$[$name$jscomp$97$$])}})()};function $A3a$vpl$Error$$($msg$jscomp$1$$,$isWarning$jscomp$2$$){this.$l$=$msg$jscomp$1$$;this.$isWarning$=$isWarning$jscomp$2$$||!1;this.$g$=!1;this.$i$=[];this.$b$=[];this.$j$=null}function $JSCompiler_StaticMethods_addEventError$$($JSCompiler_StaticMethods_addEventError$self$$,$eventIndices$$){$JSCompiler_StaticMethods_addEventError$self$$.$g$=!0;$JSCompiler_StaticMethods_addEventError$self$$.$i$=$eventIndices$$}
function $JSCompiler_StaticMethods_addEventConflictError$$($JSCompiler_StaticMethods_addEventConflictError$self$$,$conflictEventHandler$$){$JSCompiler_StaticMethods_addEventConflictError$self$$.$g$=!0;$JSCompiler_StaticMethods_addEventConflictError$self$$.$j$=$conflictEventHandler$$};function $A3a$vpl$Undo$$(){this.$undoStack$=[];this.$redoStack$=[]}function $A3a$vpl$Undo$MarkedState$$($state$jscomp$7$$,$mark$jscomp$2$$){this.state=$state$jscomp$7$$;this.$b$=$mark$jscomp$2$$||!1}
function $JSCompiler_StaticMethods_clearMark$$($JSCompiler_StaticMethods_clearMark$self$$){$JSCompiler_StaticMethods_clearMark$self$$.$undoStack$.forEach(function($markedState$jscomp$2$$){$markedState$jscomp$2$$.$b$=!1});$JSCompiler_StaticMethods_clearMark$self$$.$redoStack$.forEach(function($markedState$jscomp$3$$){$markedState$jscomp$3$$.$b$=!1})}
$A3a$vpl$Undo$$.prototype.$saveStateBeforeChange$=function $$A3a$vpl$Undo$$$$$saveStateBeforeChange$$($state$jscomp$8$$,$mark$jscomp$3$$){$mark$jscomp$3$$&&$JSCompiler_StaticMethods_clearMark$$(this);this.$undoStack$.push(new $A3a$vpl$Undo$MarkedState$$($state$jscomp$8$$,$mark$jscomp$3$$));20<this.$undoStack$.length&&(this.$undoStack$=this.$undoStack$.slice(-20));this.$redoStack$=[]};
$A3a$vpl$Undo$$.prototype.$undo$=function $$A3a$vpl$Undo$$$$$undo$$($state$jscomp$9$$,$mark$jscomp$4$$){$mark$jscomp$4$$&&$JSCompiler_StaticMethods_clearMark$$(this);return 0<this.$undoStack$.length?(this.$redoStack$.push(new $A3a$vpl$Undo$MarkedState$$($state$jscomp$9$$,$mark$jscomp$4$$)),this.$undoStack$.pop()):new $A3a$vpl$Undo$MarkedState$$($state$jscomp$9$$,$mark$jscomp$4$$)};
$A3a$vpl$Undo$$.prototype.$redo$=function $$A3a$vpl$Undo$$$$$redo$$($state$jscomp$10$$,$mark$jscomp$5$$){$mark$jscomp$5$$&&$JSCompiler_StaticMethods_clearMark$$(this);return 0<this.$redoStack$.length?(this.$undoStack$.push(new $A3a$vpl$Undo$MarkedState$$($state$jscomp$10$$,$mark$jscomp$5$$)),this.$redoStack$.pop()):new $A3a$vpl$Undo$MarkedState$$($state$jscomp$10$$,$mark$jscomp$5$$)};$A3a$vpl$Block$$.prototype.toDataURL=function $$A3a$vpl$Block$$$$toDataURL$($css$jscomp$4$$,$dims$jscomp$25$$,$scale$jscomp$6$$){var $self$jscomp$18$$=this;switch(this.$blockTemplate$.type){case "e":var $box$jscomp$29$$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$4$$,{tag:"block",$clas$:["event","html"]});break;case "a":$box$jscomp$29$$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$4$$,{tag:"block",$clas$:["action","html"]});break;case "s":$box$jscomp$29$$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$4$$,
{tag:"block",$clas$:["state","html"]});break;case "c":$box$jscomp$29$$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$4$$,{tag:"block",$clas$:["comment","html"]});break;default:throw"internal";}$box$jscomp$29$$.width=$dims$jscomp$25$$.$blockSize$;$box$jscomp$29$$.height=$dims$jscomp$25$$.$blockSize$;return(new $A3a$vpl$CanvasItem$$(this,$JSCompiler_StaticMethods_totalWidth$$($box$jscomp$29$$),$box$jscomp$29$$.$totalHeight$(),0,0,function($canvas$jscomp$127$$,$block$jscomp$inline_248_item$jscomp$20$$,
$dx$jscomp$22_x$jscomp$169$$,$dy$jscomp$22_y$jscomp$121$$){$dx$jscomp$22_x$jscomp$169$$=$block$jscomp$inline_248_item$jscomp$20$$.x+$box$jscomp$29$$.offsetLeft()+$dx$jscomp$22_x$jscomp$169$$;$dy$jscomp$22_y$jscomp$121$$=$block$jscomp$inline_248_item$jscomp$20$$.y+$box$jscomp$29$$.offsetTop()+$dy$jscomp$22_y$jscomp$121$$;$JSCompiler_StaticMethods_drawAt$$($box$jscomp$29$$,$canvas$jscomp$127$$.$ctx$,$dx$jscomp$22_x$jscomp$169$$,$dy$jscomp$22_y$jscomp$121$$);var $JSCompiler_StaticMethods_renderToCanvas$self$jscomp$inline_246$$=
$self$jscomp$18$$.$blockTemplate$;$block$jscomp$inline_248_item$jscomp$20$$=$block$jscomp$inline_248_item$jscomp$20$$.data;var $box$jscomp$inline_249$$=$box$jscomp$29$$;$canvas$jscomp$127$$.$ctx$.save();$canvas$jscomp$127$$.$ctx$.translate($dx$jscomp$22_x$jscomp$169$$,$dy$jscomp$22_y$jscomp$121$$);$JSCompiler_StaticMethods_renderToCanvas$self$jscomp$inline_246$$.$draw$($canvas$jscomp$127$$,$block$jscomp$inline_248_item$jscomp$20$$,$box$jscomp$inline_249$$);$canvas$jscomp$127$$.$ctx$.restore()})).toDataURL($dims$jscomp$25$$,
$scale$jscomp$6$$||1)};function $JSCompiler_StaticMethods_toImgElement$$($JSCompiler_StaticMethods_toImgElement$self$$,$css$jscomp$5$$,$dims$jscomp$26$$){return"<img width='"+$dims$jscomp$26$$.$blockSize$.toString(10)+"' height='"+$dims$jscomp$26$$.$blockSize$.toString(10)+"' src='"+$JSCompiler_StaticMethods_toImgElement$self$$.toDataURL($css$jscomp$5$$,$dims$jscomp$26$$,5)+"'>"}
function $JSCompiler_StaticMethods_widgetToDataURL$$($JSCompiler_StaticMethods_widgetToDataURL$self$$,$css$jscomp$6$$,$dims$jscomp$27$$){var $box$jscomp$30$$=$JSCompiler_StaticMethods_getBox$$($css$jscomp$6$$,{tag:"widget",id:"widget-"+"vpl:then".replace(/^.*:/g,"")}),$width$jscomp$119$$=$JSCompiler_StaticMethods_totalWidth$$($box$jscomp$30$$),$height$jscomp$116$$=$box$jscomp$30$$.$totalHeight$();return{url:(new $A3a$vpl$CanvasItem$$(null,$width$jscomp$119$$,$height$jscomp$116$$,0,0,function($canvas$jscomp$128$$,
$item$jscomp$22$$,$dx$jscomp$23$$,$dy$jscomp$23$$){$canvas$jscomp$128$$.$v$=$JSCompiler_StaticMethods_widgetToDataURL$self$$.$v$;$JSCompiler_StaticMethods_drawWidget$$($canvas$jscomp$128$$,"vpl:then",$width$jscomp$119$$/2+$dx$jscomp$23$$,$height$jscomp$116$$/2+$dy$jscomp$23$$,$box$jscomp$30$$)})).toDataURL($dims$jscomp$27$$,5),width:$width$jscomp$119$$,height:$height$jscomp$116$$}}
function $JSCompiler_StaticMethods_widgetToImgElement$$($JSCompiler_StaticMethods_widgetToImgElement$self_data$jscomp$70$$,$css$jscomp$7$$,$dims$jscomp$28$$){$JSCompiler_StaticMethods_widgetToImgElement$self_data$jscomp$70$$=$JSCompiler_StaticMethods_widgetToDataURL$$($JSCompiler_StaticMethods_widgetToImgElement$self_data$jscomp$70$$,$css$jscomp$7$$,$dims$jscomp$28$$);return"<img width='"+$JSCompiler_StaticMethods_widgetToImgElement$self_data$jscomp$70$$.width.toString(10)+"' height='"+$JSCompiler_StaticMethods_widgetToImgElement$self_data$jscomp$70$$.height.toString(10)+
"' src='"+$JSCompiler_StaticMethods_widgetToImgElement$self_data$jscomp$70$$.url+"'>"}
function $JSCompiler_StaticMethods_toHTMLDocument$$($JSCompiler_StaticMethods_toHTMLDocument$self$$,$css$jscomp$8$$){var $dims$jscomp$29$$=$A3a$vpl$Canvas$calcDims$$(100,100),$thenWidgetImg$$=$JSCompiler_StaticMethods_widgetToImgElement$$($JSCompiler_StaticMethods_toHTMLDocument$self$$.$vplCanvas$,$css$jscomp$8$$,$dims$jscomp$29$$);return"<!DOCTYPE html>\n<html>\n"+($JSCompiler_StaticMethods_toHTMLDocument$self$$.$i$?"<head>\n<style>\n"+$JSCompiler_StaticMethods_toHTMLDocument$self$$.$i$+"</style>\n</head>\n":
"")+"<body>\n<table class='program'>\n"+$JSCompiler_StaticMethods_toHTMLDocument$self$$.$program$.$program$.map(function($rule$jscomp$22$$){return $rule$jscomp$22$$.$isEmpty$()?"":"<tr class='rule'>\n<td class='events'>\n<table class='events'>\n<tr class='events'>\n"+$rule$jscomp$22$$.$events$.map(function($event$jscomp$13$$,$i$jscomp$193$$){var $classes$$="block";switch($event$jscomp$13$$.$blockTemplate$.type){case "e":$classes$$=$classes$$+" event"+(0===$i$jscomp$193$$?" event-main":" event-aux");
break;case "s":$classes$$+=" state";break;case "c":$classes$$+=" comment"}return"<td class='"+$classes$$+"'>"+$JSCompiler_StaticMethods_toImgElement$$($event$jscomp$13$$,$css$jscomp$8$$,$dims$jscomp$29$$)+"</td>\n"}).join("")+"</tr>\n</table>\n</td>\n<td class='then'>"+$thenWidgetImg$$+"</td>\n<td class='actions'>\n<table class='actions'>\n<tr class='actions'>\n"+$rule$jscomp$22$$.actions.map(function($action$jscomp$8$$){var $classes$jscomp$1$$="block";switch($action$jscomp$8$$.$blockTemplate$.type){case "a":$classes$jscomp$1$$+=
" action";break;case "c":$classes$jscomp$1$$+=" comment"}return"<td class='"+$classes$jscomp$1$$+"'>"+$JSCompiler_StaticMethods_toImgElement$$($action$jscomp$8$$,$css$jscomp$8$$,$dims$jscomp$29$$)+"</td>\n"}).join("")+"</tr>\n</table>\n</td>\n</tr>\n"}).join("")+"</table>\n</body>\n</html>\n"};function $JSCompiler_StaticMethods_importFromAESLFile$$($JSCompiler_StaticMethods_importFromAESLFile$self$$,$el$jscomp$15_xml$jscomp$1$$){$el$jscomp$15_xml$jscomp$1$$=(new DOMParser).parseFromString($el$jscomp$15_xml$jscomp$1$$,"text/xml").getElementsByTagName("node");if(1>$el$jscomp$15_xml$jscomp$1$$.length)throw"empty";$el$jscomp$15_xml$jscomp$1$$=$el$jscomp$15_xml$jscomp$1$$[0].getElementsByTagName("program");if(1!==$el$jscomp$15_xml$jscomp$1$$.length)throw"program";var $advanced$jscomp$1$$="0"!==
$el$jscomp$15_xml$jscomp$1$$[0].getAttribute("advanced_mode");$el$jscomp$15_xml$jscomp$1$$=$el$jscomp$15_xml$jscomp$1$$[0].getElementsByTagName("set");$JSCompiler_StaticMethods_new$$($JSCompiler_StaticMethods_importFromAESLFile$self$$);$JSCompiler_StaticMethods_importFromAESLFile$self$$.mode=$advanced$jscomp$1$$?"a":"b";for(var $i$jscomp$194$$=0;$i$jscomp$194$$<$el$jscomp$15_xml$jscomp$1$$.length;$i$jscomp$194$$++){var $rule$jscomp$24$$=$A3a$vpl$Rule$parseFromAESLSetElement$$($el$jscomp$15_xml$jscomp$1$$[$i$jscomp$194$$],
$advanced$jscomp$1$$,function(){$JSCompiler_StaticMethods_importFromAESLFile$self$$.$saveStateBeforeChange$()});$JSCompiler_StaticMethods_importFromAESLFile$self$$.$program$.push($rule$jscomp$24$$)}}
function $A3a$vpl$Rule$parseFromAESLSetElement$$($blocks$jscomp$3_setElement$$,$advanced$jscomp$2$$,$onPrepareChange$jscomp$2$$){$blocks$jscomp$3_setElement$$=$blocks$jscomp$3_setElement$$.getElementsByTagName("block");for(var $rule$jscomp$25$$=new $A3a$vpl$Rule$$,$i$jscomp$195$$=0;$i$jscomp$195$$<$blocks$jscomp$3_setElement$$.length;$i$jscomp$195$$++){var $blockElement$jscomp$inline_253_blockTemplate$jscomp$inline_261$$=$blocks$jscomp$3_setElement$$[$i$jscomp$195$$],$advanced$jscomp$inline_254_block$jscomp$inline_262$$=
$advanced$jscomp$2$$;$blockElement$jscomp$inline_253_blockTemplate$jscomp$inline_261$$.getAttribute("type");var $aeslName$jscomp$inline_255_val$jscomp$inline_258$$=$blockElement$jscomp$inline_253_blockTemplate$jscomp$inline_261$$.getAttribute("name"),$vplName$jscomp$inline_256$$=$A3a$vpl$Rule$aesl2vpl$$[$aeslName$jscomp$inline_255_val$jscomp$inline_258$$],$descr$jscomp$inline_257_param$jscomp$inline_263$$=$A3a$vpl$Rule$vpl2aesl$$[$vplName$jscomp$inline_256$$];if(void 0===$descr$jscomp$inline_257_param$jscomp$inline_263$$)throw"unknown AESL block "+
$aeslName$jscomp$inline_255_val$jscomp$inline_258$$;$aeslName$jscomp$inline_255_val$jscomp$inline_258$$=[];for(var $i$jscomp$inline_259$$=0;1E3>$i$jscomp$inline_259$$;$i$jscomp$inline_259$$++){var $v$jscomp$inline_260$$=$blockElement$jscomp$inline_253_blockTemplate$jscomp$inline_261$$.getAttribute("value"+$i$jscomp$inline_259$$);if(null===$v$jscomp$inline_260$$)break;$aeslName$jscomp$inline_255_val$jscomp$inline_258$$.push($descr$jscomp$inline_257_param$jscomp$inline_263$$.$stringParam$?$v$jscomp$inline_260$$:
parseInt($v$jscomp$inline_260$$,10))}$advanced$jscomp$inline_254_block$jscomp$inline_262$$&&$descr$jscomp$inline_257_param$jscomp$inline_263$$.$adv$&&($vplName$jscomp$inline_256$$=$descr$jscomp$inline_257_param$jscomp$inline_263$$.$adv$,$descr$jscomp$inline_257_param$jscomp$inline_263$$=$A3a$vpl$Rule$vpl2aesl$$[$vplName$jscomp$inline_256$$]);$blockElement$jscomp$inline_253_blockTemplate$jscomp$inline_261$$=$A3a$vpl$BlockTemplate$findByName$$($vplName$jscomp$inline_256$$);$advanced$jscomp$inline_254_block$jscomp$inline_262$$=
new $A3a$vpl$Block$$($blockElement$jscomp$inline_253_blockTemplate$jscomp$inline_261$$,null,null);$descr$jscomp$inline_257_param$jscomp$inline_263$$=$descr$jscomp$inline_257_param$jscomp$inline_263$$.$valuesToParam$?$descr$jscomp$inline_257_param$jscomp$inline_263$$.$valuesToParam$($aeslName$jscomp$inline_255_val$jscomp$inline_258$$):$aeslName$jscomp$inline_255_val$jscomp$inline_258$$;$blockElement$jscomp$inline_253_blockTemplate$jscomp$inline_261$$.$importParam$?$blockElement$jscomp$inline_253_blockTemplate$jscomp$inline_261$$.$importParam$($advanced$jscomp$inline_254_block$jscomp$inline_262$$,
$descr$jscomp$inline_257_param$jscomp$inline_263$$):$advanced$jscomp$inline_254_block$jscomp$inline_262$$.$param$=$descr$jscomp$inline_257_param$jscomp$inline_263$$;$JSCompiler_StaticMethods_setBlock$$($rule$jscomp$25$$,$advanced$jscomp$inline_254_block$jscomp$inline_262$$,null,$onPrepareChange$jscomp$2$$,!0)}return $rule$jscomp$25$$}
var $A3a$vpl$Program$downloadText$$=function(){var $anchor$jscomp$1$$=null;return function($blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$,$filename$jscomp$3$$,$mimetype$jscomp$2_mimetype$jscomp$inline_268$$){null===$anchor$jscomp$1$$&&($anchor$jscomp$1$$=document.createElement("a"),document.body.appendChild($anchor$jscomp$1$$),$anchor$jscomp$1$$.style.display="none");$mimetype$jscomp$2_mimetype$jscomp$inline_268$$=$mimetype$jscomp$2_mimetype$jscomp$inline_268$$||"application/xml";
if("function"===typeof window.Blob&&window.URL){var $blob$jscomp$8_url$jscomp$28$$=new window.Blob([$blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$],{type:$mimetype$jscomp$2_mimetype$jscomp$inline_268$$});$blob$jscomp$8_url$jscomp$28$$=window.URL.createObjectURL($blob$jscomp$8_url$jscomp$28$$)}else $blob$jscomp$8_url$jscomp$28$$="data:"+$mimetype$jscomp$2_mimetype$jscomp$inline_268$$+";base64,"+window.btoa($blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$);var $anchor$jscomp$inline_265$$=
$anchor$jscomp$1$$;$mimetype$jscomp$2_mimetype$jscomp$inline_268$$=$mimetype$jscomp$2_mimetype$jscomp$inline_268$$||"application/xml";"function"===typeof window.Blob&&window.URL?($blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$=new window.Blob([$blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$],{type:$mimetype$jscomp$2_mimetype$jscomp$inline_268$$}),$blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$=window.URL.createObjectURL($blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$)):
$blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$="data:"+$mimetype$jscomp$2_mimetype$jscomp$inline_268$$+";base64,"+window.btoa($blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$);$anchor$jscomp$inline_265$$.href=$blob$jscomp$inline_270_text$jscomp$13_url$jscomp$inline_269$$;$anchor$jscomp$inline_265$$.download=$filename$jscomp$3$$||"untitled.xml";$anchor$jscomp$1$$.click();"string"!==typeof $blob$jscomp$8_url$jscomp$28$$&&window.URL.revokeObjectURL($blob$jscomp$8_url$jscomp$28$$)}}();
function $A3a$vpl$Rule$functionEmpty$$(){return[]}
var $A3a$vpl$Rule$vpl2aesl$$={accelerometer:{name:"acc",$paramToValues$:function($param$jscomp$10$$){return[[0,2,1][$param$jscomp$10$$[0]],-$param$jscomp$10$$[1]]},$valuesToParam$:function($values$jscomp$10$$){return[[0,2,1][$values$jscomp$10$$[0]],-$values$jscomp$10$$[1]]}},"bottom color":{name:"colorbottom",$paramToValues$:function($param$jscomp$11$$){return $param$jscomp$11$$.map(function($p$jscomp$20$$){return Math.round(32*$p$jscomp$20$$)})},$valuesToParam$:function($values$jscomp$11$$){return $values$jscomp$11$$.map(function($v$jscomp$4$$){return $v$jscomp$4$$/
32})}},button:{name:"button",$paramToValues$:function($param$jscomp$12$$){return[1,4,2,3,0].map(function($i$jscomp$197$$){return $param$jscomp$12$$[$i$jscomp$197$$]?1:0}).concat(0,0)},$valuesToParam$:function($values$jscomp$12$$){return[4,0,2,3,1].map(function($i$jscomp$198$$){return 0!==$values$jscomp$12$$[$i$jscomp$198$$]})}},clap:{name:"clap",$paramToValues$:$A3a$vpl$Rule$functionEmpty$$,$valuesToParam$:$A3a$vpl$Rule$functionEmpty$$},"color state":{name:"colorstate",$incompatible$:!0,$paramToValues$:function($param$jscomp$13$$){return $param$jscomp$13$$.map(function($p$jscomp$21$$){return Math.floor(2.99*
$p$jscomp$21$$)})},$valuesToParam$:function($values$jscomp$13$$){return $values$jscomp$13$$.map(function($v$jscomp$5$$){return $v$jscomp$5$$/2})}},"counter comparison":{name:"countercmp",$incompatible$:!0,$paramToValues$:function($param$jscomp$14$$){return $param$jscomp$14$$},$valuesToParam$:function($values$jscomp$14$$){return $values$jscomp$14$$}},ground:{name:"proxground",$adv$:"ground adv",$paramToValues$:function($param$jscomp$15$$){return $param$jscomp$15$$.map(function($p$jscomp$22$$){return 0<
$p$jscomp$22$$?1:0>$p$jscomp$22$$?2:0}).concat(400,450)},$valuesToParam$:function($values$jscomp$15$$){return $values$jscomp$15$$.slice(0,2).map(function($v$jscomp$6$$){return 2===$v$jscomp$6$$?-1:$v$jscomp$6$$})}},"ground adv":{name:"proxground",$paramToValues$:function($param$jscomp$16$$){return $param$jscomp$16$$.slice(0,2).map(function($p$jscomp$23$$){return 0<$p$jscomp$23$$?1:0>$p$jscomp$23$$?2:0}).concat($param$jscomp$16$$.slice(2).map(function($p$jscomp$24$$){return Math.round(1E3*$p$jscomp$24$$)}))},
$valuesToParam$:function($values$jscomp$16$$){return $values$jscomp$16$$.slice(0,2).map(function($v$jscomp$7$$){return 2===$v$jscomp$7$$?-1:$v$jscomp$7$$}).concat($values$jscomp$16$$.slice(2).map(function($v$jscomp$8$$){return Math.max(0,Math.min(1,$v$jscomp$8$$/1E3))}))}},"horiz prox":{name:"prox",$adv$:"horiz prox adv",$paramToValues$:function($param$jscomp$17$$){return $param$jscomp$17$$.map(function($p$jscomp$25$$){return 0<$p$jscomp$25$$?1:0>$p$jscomp$25$$?2:0}).concat(1E3,2E3)},$valuesToParam$:function($values$jscomp$17$$){return $values$jscomp$17$$.slice(0,
7).map(function($v$jscomp$9$$){return 2===$v$jscomp$9$$?-1:$v$jscomp$9$$})}},"horiz prox adv":{name:"prox",$paramToValues$:function($param$jscomp$18$$){return $param$jscomp$18$$.slice(0,7).map(function($p$jscomp$26$$){return 0<$p$jscomp$26$$?1:0>$p$jscomp$26$$?2:0}).concat($param$jscomp$18$$.slice(7).map(function($p$jscomp$27$$){return Math.round(700+3300*$p$jscomp$27$$)}))},$valuesToParam$:function($values$jscomp$18$$){return $values$jscomp$18$$.slice(0,7).map(function($v$jscomp$10$$){return 2===
$v$jscomp$10$$?-1:$v$jscomp$10$$}).concat($values$jscomp$18$$.slice(7).map(function($v$jscomp$11$$){return Math.max(0,Math.min(1,($v$jscomp$11$$-700)/3300))}))}},init:{name:"init",$incompatible$:!0,$paramToValues$:$A3a$vpl$Rule$functionEmpty$$,$valuesToParam$:$A3a$vpl$Rule$functionEmpty$$},motor:{name:"move",$paramToValues$:function($param$jscomp$19$$){return $param$jscomp$19$$.map(function($p$jscomp$28$$){return Math.round(500*$p$jscomp$28$$)})},$valuesToParam$:function($values$jscomp$19$$){return $values$jscomp$19$$.map(function($v$jscomp$12$$){return $v$jscomp$12$$/
500})}},move:{name:"move2"},notes:{name:"sound",$paramToValues$:function($param$jscomp$20$$){for(var $v$jscomp$13$$=[],$i$jscomp$199$$=0;6>$i$jscomp$199$$;$i$jscomp$199$$++)$v$jscomp$13$$.push(0===$param$jscomp$20$$[2*$i$jscomp$199$$+1]?517:$param$jscomp$20$$[2*$i$jscomp$199$$]+256*$param$jscomp$20$$[2*$i$jscomp$199$$+1]);return $v$jscomp$13$$},$valuesToParam$:function($values$jscomp$20$$){for(var $p$jscomp$29$$=[],$i$jscomp$200$$=0;6>$i$jscomp$200$$;$i$jscomp$200$$++)$p$jscomp$29$$.push($values$jscomp$20$$[$i$jscomp$200$$]%
256),$p$jscomp$29$$.push(517<=$values$jscomp$20$$[$i$jscomp$200$$]?0:Math.floor($values$jscomp$20$$[$i$jscomp$200$$]/256));return $p$jscomp$29$$}},"set counter":{name:"setcounter",$incompatible$:!0,$paramToValues$:function($param$jscomp$21$$){return $param$jscomp$21$$},$valuesToParam$:function($values$jscomp$21$$){return $values$jscomp$21$$}},"set state":{name:"setstate",$paramToValues$:function($param$jscomp$22$$){return $param$jscomp$22$$.map(function($p$jscomp$30$$){return 0<$p$jscomp$30$$?1:0>
$p$jscomp$30$$?2:0})},$valuesToParam$:function($values$jscomp$22$$){return $values$jscomp$22$$.map(function($v$jscomp$14$$){return 2===$v$jscomp$14$$?-1:$v$jscomp$14$$})}},"set timer":{name:"timer",$paramToValues$:function($param$jscomp$23$$){return[Math.round(1E3*$param$jscomp$23$$[0])]},$valuesToParam$:function($values$jscomp$23$$){return[$values$jscomp$23$$[0]/1E3]}},"set timer log":{name:"timerlog",$incompatible$:!0,$paramToValues$:function($param$jscomp$24$$){return[Math.round(1E3*$param$jscomp$24$$[0])]},
$valuesToParam$:function($values$jscomp$24$$){return[$values$jscomp$24$$[0]/1E3]}},state:{name:"statefilter",$paramToValues$:function($param$jscomp$25$$){return $param$jscomp$25$$.map(function($p$jscomp$31$$){return 0<$p$jscomp$31$$?1:0>$p$jscomp$31$$?2:0})},$valuesToParam$:function($values$jscomp$25$$){return $values$jscomp$25$$.map(function($v$jscomp$15$$){return 2===$v$jscomp$15$$?-1:$v$jscomp$15$$})}},"top color":{name:"colortop",$paramToValues$:function($param$jscomp$26$$){return $param$jscomp$26$$.map(function($p$jscomp$32$$){return Math.round(32*
$p$jscomp$32$$)})},$valuesToParam$:function($values$jscomp$26$$){return $values$jscomp$26$$.map(function($v$jscomp$16$$){return $v$jscomp$16$$/32})}},tap:{name:"acc",$adv$:"accelerometer",$paramToValues$:function(){return[0,0]},$valuesToParam$:$A3a$vpl$Rule$functionEmpty$$},timer:{name:"timeout",$paramToValues$:$A3a$vpl$Rule$functionEmpty$$,$valuesToParam$:$A3a$vpl$Rule$functionEmpty$$},"picture comment":{name:"commentpict",$incompatible$:!0,$stringParam$:!0,$paramToValues$:function($param$jscomp$27$$){return[$param$jscomp$27$$[1]]},
$valuesToParam$:function($values$jscomp$27$$){return[!1,$values$jscomp$27$$[0]]}}},$dict$jscomp$inline_272$$={},$entry$jscomp$inline_273$$;
for($entry$jscomp$inline_273$$ in $A3a$vpl$Rule$vpl2aesl$$)if($A3a$vpl$Rule$vpl2aesl$$.hasOwnProperty($entry$jscomp$inline_273$$)){var $aeslName$jscomp$inline_274$$=$A3a$vpl$Rule$vpl2aesl$$[$entry$jscomp$inline_273$$].name;$dict$jscomp$inline_272$$[$aeslName$jscomp$inline_274$$]&&$A3a$vpl$Rule$vpl2aesl$$[$dict$jscomp$inline_272$$[$aeslName$jscomp$inline_274$$]].$adv$||($dict$jscomp$inline_272$$[$aeslName$jscomp$inline_274$$]=$entry$jscomp$inline_273$$)}var $A3a$vpl$Rule$aesl2vpl$$=$dict$jscomp$inline_272$$;function $A3a$vpl$TextEditor$$(){this.$textarea$=document.getElementById("editor");this.$textarea$.value="";this.$b$=this.$textarea$.parentElement;var $width$jscomp$120$$=window.innerWidth,$taStyle$$=window.getComputedStyle(this.$textarea$);this.$textarea$.style.width=$width$jscomp$120$$-10-parseInt($taStyle$$.paddingLeft,10)-parseInt($taStyle$$.paddingRight,10)+"px";this.$textarea$.style.border="0px";this.$textarea$.style.outline="none";this.$textarea$.style.resize="none";this.$textarea$.style.whiteSpace=
"pre";this.$textarea$.setAttribute("wrap","off");this.$g$=null}$A3a$vpl$TextEditor$$.prototype.$selectRange$=function $$A3a$vpl$TextEditor$$$$$selectRange$$($begin$jscomp$4$$,$end$jscomp$5$$){this.$textarea$.setSelectionRange($begin$jscomp$4$$,$end$jscomp$5$$)};
$A3a$vpl$TextEditor$$.prototype.resize=function $$A3a$vpl$TextEditor$$$$resize$(){var $width$jscomp$121$$=this.$b$.getBoundingClientRect().width,$taStyle$jscomp$1$$=window.getComputedStyle(this.$textarea$);this.$textarea$.style.width=$width$jscomp$121$$-10-parseInt($taStyle$jscomp$1$$.paddingLeft,10)-parseInt($taStyle$jscomp$1$$.paddingRight,10)+"px"};
function $JSCompiler_StaticMethods_setContent$$($JSCompiler_StaticMethods_setContent$self$$,$text$jscomp$14$$){$JSCompiler_StaticMethods_setContent$self$$.$textarea$.value=$text$jscomp$14$$;window.getComputedStyle($JSCompiler_StaticMethods_setContent$self$$.$textarea$)};function $A3a$vpl$VPLSourceEditor$$($app$jscomp$109$$,$noVPL$$,$language$jscomp$7$$){this.$noVPL$=$noVPL$$;this.language=$language$jscomp$7$$||"aseba";this.$b$="";this.$isLockedWithVPL$=!0;this.$srcForAsm$=this.$disass$=this.$updateCodeLanguage$=null;this.$teacherRole$=!1;this.$uiConfig$=$app$jscomp$109$$.$uiConfig$||new $A3a$vpl$UIConfig$$;this.$textEditor$=new $A3a$vpl$TextEditor$$;this.$textEditor$.$textarea$.readOnly=this.$isLockedWithVPL$;this.$textEditor$.$g$=function $this$$textEditor$$$g$$($bp$$){window.vplBreakpointsFunction&&
window.vplBreakpointsFunction($bp$$)};var $self$jscomp$24$$=this;this.$tbCanvas$=new $A3a$vpl$Canvas$$($app$jscomp$109$$.$j$,{$css$:$app$jscomp$109$$.$css$});document.getElementById("editor").addEventListener("input",function(){$JSCompiler_StaticMethods_renderSourceEditorToolbar$$($app$jscomp$109$$);$JSCompiler_StaticMethods_doesMatchVPL$$($self$jscomp$24$$)===$app$jscomp$109$$.$program$.$noVPL$&&($app$jscomp$109$$.$program$.$noVPL$=!$app$jscomp$109$$.$program$.$noVPL$,$JSCompiler_StaticMethods_renderProgramToCanvas$$($app$jscomp$109$$))},
!1);var $textarea$$=document.getElementById("editor");$textarea$$&&document.getElementById("editor").addEventListener("keydown",function($e$jscomp$23_text$jscomp$15$$){if(9===$e$jscomp$23_text$jscomp$15$$.keyCode){$e$jscomp$23_text$jscomp$15$$.preventDefault();$e$jscomp$23_text$jscomp$15$$.$b$=!0;$e$jscomp$23_text$jscomp$15$$=$textarea$$.value;var $start$jscomp$10$$=this.selectionStart;$e$jscomp$23_text$jscomp$15$$=$e$jscomp$23_text$jscomp$15$$.slice(0,$start$jscomp$10$$)+"\t"+$e$jscomp$23_text$jscomp$15$$.slice(this.selectionEnd);
$JSCompiler_StaticMethods_setContent$$($self$jscomp$24$$.$textEditor$,$e$jscomp$23_text$jscomp$15$$);this.selectionStart=this.selectionEnd=$start$jscomp$10$$+1;return!1}return!0},!1)}function $JSCompiler_StaticMethods_setUpdateCodeLanguageFunction$$($JSCompiler_StaticMethods_setUpdateCodeLanguageFunction$self$$,$f$jscomp$14$$){$JSCompiler_StaticMethods_setUpdateCodeLanguageFunction$self$$.$updateCodeLanguage$=$f$jscomp$14$$}$JSCompiler_prototypeAlias$$=$A3a$vpl$VPLSourceEditor$$.prototype;
$JSCompiler_prototypeAlias$$.$resetUI$=function $$JSCompiler_prototypeAlias$$$$resetUI$$(){this.$uiConfig$.$b$=[]};function $JSCompiler_StaticMethods_A3a_vpl_VPLSourceEditor_prototype$setTeacherRole$$($JSCompiler_StaticMethods_A3a_vpl_VPLSourceEditor_prototype$setTeacherRole$self$$){var $b$jscomp$19$$="teacher"===$vplGetQueryOption$$("role");$JSCompiler_StaticMethods_A3a_vpl_VPLSourceEditor_prototype$setTeacherRole$self$$.$teacherRole$=$b$jscomp$19$$}
function $JSCompiler_StaticMethods_setCode$$($JSCompiler_StaticMethods_setCode$self$$,$code$jscomp$27$$,$isAsm$$){null===$code$jscomp$27$$?$JSCompiler_StaticMethods_setContent$$($JSCompiler_StaticMethods_setCode$self$$.$textEditor$,$JSCompiler_StaticMethods_setCode$self$$.$b$):($JSCompiler_StaticMethods_setCode$self$$.$b$=$code$jscomp$27$$,$JSCompiler_StaticMethods_setContent$$($JSCompiler_StaticMethods_setCode$self$$.$textEditor$,$code$jscomp$27$$));$isAsm$$||($JSCompiler_StaticMethods_setCode$self$$.$srcForAsm$=
null)}$JSCompiler_prototypeAlias$$.$getCode$=function $$JSCompiler_prototypeAlias$$$$getCode$$(){return document.getElementById("editor").value.trim()};function $JSCompiler_StaticMethods_doesMatchVPL$$($JSCompiler_StaticMethods_doesMatchVPL$self$$){return $JSCompiler_StaticMethods_doesMatchVPL$self$$.$getCode$()===$JSCompiler_StaticMethods_doesMatchVPL$self$$.$b$.trim()}
$JSCompiler_prototypeAlias$$.$selectRange$=function $$JSCompiler_prototypeAlias$$$$selectRange$$($begin$jscomp$5$$,$end$jscomp$7$$){this.$textEditor$.$selectRange$($begin$jscomp$5$$,$end$jscomp$7$$)};
function $JSCompiler_StaticMethods_toolbarHeight$$($JSCompiler_StaticMethods_toolbarHeight$self_toolbarBox$jscomp$2$$){var $buttonBox$jscomp$1$$=$JSCompiler_StaticMethods_getBox$$($JSCompiler_StaticMethods_toolbarHeight$self_toolbarBox$jscomp$2$$.$tbCanvas$.$css$,{tag:"button",$clas$:["src","top"]});$buttonBox$jscomp$1$$.height=$JSCompiler_StaticMethods_toolbarHeight$self_toolbarBox$jscomp$2$$.$tbCanvas$.$dims$.$controlSize$;$JSCompiler_StaticMethods_toolbarHeight$self_toolbarBox$jscomp$2$$=$JSCompiler_StaticMethods_getBox$$($JSCompiler_StaticMethods_toolbarHeight$self_toolbarBox$jscomp$2$$.$tbCanvas$.$css$,
{tag:"toolbar",$clas$:["src","top"]});$JSCompiler_StaticMethods_toolbarHeight$self_toolbarBox$jscomp$2$$.height=$buttonBox$jscomp$1$$.$totalHeight$();return{height:$JSCompiler_StaticMethods_toolbarHeight$self_toolbarBox$jscomp$2$$.height,$totalHeight$:$JSCompiler_StaticMethods_toolbarHeight$self_toolbarBox$jscomp$2$$.$totalHeight$()}}
function $JSCompiler_StaticMethods_renderSourceEditorToolbar$$($JSCompiler_StaticMethods_renderSourceEditorToolbar$self$$){var $editor$$=$JSCompiler_StaticMethods_renderSourceEditorToolbar$self$$.$editor$;$editor$$.$tbCanvas$.$A3a_vpl_Canvas$items$=[];var $toolbarConfig$jscomp$1$$=$editor$$.$toolbarConfig$||"src:close !space src:new src:save !space src:language src:disass !stretch src:run src:stop !stretch src:sim src:vpl !space src:locked !stretch src:teacher-reset src:teacher".split(" "),$toolbarItemBoxes$jscomp$1$$=
$A3a$vpl$ControlBar$buttonBoxes$$($JSCompiler_StaticMethods_renderSourceEditorToolbar$self$$,$toolbarConfig$jscomp$1$$,["src","top"]),$controlBar$jscomp$1_toolbarItemHeight$jscomp$1$$=$JSCompiler_StaticMethods_toolbarHeight$$($editor$$).height,$canvasSize$jscomp$5$$=$JSCompiler_StaticMethods_getSize$$($editor$$.$tbCanvas$);$JSCompiler_StaticMethods_recalcSize$$($editor$$.$tbCanvas$);var $viewBox$jscomp$4$$=$JSCompiler_StaticMethods_getBox$$($editor$$.$tbCanvas$.$css$,{tag:"view",$clas$:["src"]});
$JSCompiler_StaticMethods_getBox$$($editor$$.$tbCanvas$.$css$,{tag:"button",$clas$:["src","top"]});var $separatorBox$jscomp$1$$=$JSCompiler_StaticMethods_getBox$$($editor$$.$tbCanvas$.$css$,{tag:"separator",$clas$:["src","top"]}),$toolbarBox$jscomp$3$$=$JSCompiler_StaticMethods_getBox$$($editor$$.$tbCanvas$.$css$,{tag:"toolbar",$clas$:["src","top"]});$viewBox$jscomp$4$$.$setTotalWidth$($canvasSize$jscomp$5$$.width);$viewBox$jscomp$4$$.$setTotalHeight$($canvasSize$jscomp$5$$.height);$viewBox$jscomp$4$$.setPosition(0,
0);$toolbarBox$jscomp$3$$.$setTotalWidth$($viewBox$jscomp$4$$.width);$toolbarBox$jscomp$3$$.height=$controlBar$jscomp$1_toolbarItemHeight$jscomp$1$$;$toolbarBox$jscomp$3$$.setPosition($viewBox$jscomp$4$$.x,$viewBox$jscomp$4$$.y);$JSCompiler_StaticMethods_addDecoration$$($editor$$.$tbCanvas$,function($ctx$jscomp$70$$){$viewBox$jscomp$4$$.$draw$($ctx$jscomp$70$$)});$controlBar$jscomp$1_toolbarItemHeight$jscomp$1$$=new $A3a$vpl$ControlBar$$($editor$$.$tbCanvas$);$JSCompiler_StaticMethods_setButtons$$($controlBar$jscomp$1_toolbarItemHeight$jscomp$1$$,
$JSCompiler_StaticMethods_renderSourceEditorToolbar$self$$,$toolbarConfig$jscomp$1$$,["src","top"],$editor$$.$toolbarDrawButton$||$A3a$vpl$Commands$drawButtonJS$$,$editor$$.$toolbarGetButtonBounds$||$A3a$vpl$Commands$getButtonBoundsJS$$);$JSCompiler_StaticMethods_calcLayout$$($controlBar$jscomp$1_toolbarItemHeight$jscomp$1$$,$toolbarBox$jscomp$3$$,$toolbarItemBoxes$jscomp$1$$,$separatorBox$jscomp$1$$);$JSCompiler_StaticMethods_addToCanvas$$($controlBar$jscomp$1_toolbarItemHeight$jscomp$1$$,$toolbarBox$jscomp$3$$,
$toolbarItemBoxes$jscomp$1$$);$JSCompiler_StaticMethods_redraw$$($editor$$.$tbCanvas$)}
function $JSCompiler_StaticMethods_lockWithVPL$$($JSCompiler_StaticMethods_lockWithVPL$self$$,$b$jscomp$20$$){($JSCompiler_StaticMethods_lockWithVPL$self$$.$isLockedWithVPL$=$b$jscomp$20$$)&&$JSCompiler_StaticMethods_setContent$$($JSCompiler_StaticMethods_lockWithVPL$self$$.$textEditor$,$JSCompiler_StaticMethods_lockWithVPL$self$$.$b$);$JSCompiler_StaticMethods_lockWithVPL$self$$.$textEditor$.$textarea$.readOnly=$b$jscomp$20$$;$JSCompiler_StaticMethods_renderSourceEditorToolbar$$(window.vplApp)}
$JSCompiler_prototypeAlias$$.resize=function $$JSCompiler_prototypeAlias$$$resize$($canvasBndRect$jscomp$4_width$jscomp$122$$,$editorDiv_height$jscomp$120$$){this.$tbCanvas$.resize($canvasBndRect$jscomp$4_width$jscomp$122$$,$editorDiv_height$jscomp$120$$);$canvasBndRect$jscomp$4_width$jscomp$122$$=this.$tbCanvas$.$b$.getBoundingClientRect();$editorDiv_height$jscomp$120$$=document.getElementById("src-editor");var $JSCompiler_object_inline_left_394_canvasSize$jscomp$inline_284$$=$JSCompiler_StaticMethods_getSize$$(this.$tbCanvas$);
var $JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$=$JSCompiler_StaticMethods_getBox$$(this.$tbCanvas$.$css$,{tag:"view",$clas$:["src"]});$JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$.$setTotalWidth$($JSCompiler_object_inline_left_394_canvasSize$jscomp$inline_284$$.width);$JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$.$setTotalHeight$($JSCompiler_object_inline_left_394_canvasSize$jscomp$inline_284$$.height);$JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$.setPosition(0,
0);var $toolbarHeight$jscomp$inline_286$$=$JSCompiler_StaticMethods_toolbarHeight$$(this);$JSCompiler_object_inline_left_394_canvasSize$jscomp$inline_284$$=$JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$.x;var $JSCompiler_object_inline_top_395$$=$JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$.y+$toolbarHeight$jscomp$inline_286$$.$totalHeight$;var $JSCompiler_object_inline_width_396$$=$JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$.width;$JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$=
$JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$.height-$toolbarHeight$jscomp$inline_286$$.$totalHeight$;$editorDiv_height$jscomp$120$$.style.left=$canvasBndRect$jscomp$4_width$jscomp$122$$.left+$canvasBndRect$jscomp$4_width$jscomp$122$$.width*this.$tbCanvas$.$relativeArea$.$xmin$+$JSCompiler_object_inline_left_394_canvasSize$jscomp$inline_284$$+"px";$editorDiv_height$jscomp$120$$.style.width=$JSCompiler_object_inline_width_396$$+"px";$editorDiv_height$jscomp$120$$.style.top=$canvasBndRect$jscomp$4_width$jscomp$122$$.top+
$canvasBndRect$jscomp$4_width$jscomp$122$$.height*this.$tbCanvas$.$relativeArea$.$ymin$+$JSCompiler_object_inline_top_395$$+"px";$editorDiv_height$jscomp$120$$.style.height=$JSCompiler_object_inline_height_397_viewBox$jscomp$inline_285$$+"px";this.$textEditor$.resize();$JSCompiler_StaticMethods_renderSourceEditorToolbar$$(window.vplApp)};$JSCompiler_prototypeAlias$$.focus=function $$JSCompiler_prototypeAlias$$$focus$(){document.getElementById("editor").focus();$JSCompiler_StaticMethods_redraw$$(this.$tbCanvas$)};function $JSCompiler_StaticMethods_addSrcCommands$$($JSCompiler_StaticMethods_addSrcCommands$self$$){$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:close",{action:function($app$jscomp$110$$){$JSCompiler_StaticMethods_setView$$($app$jscomp$110$$,["src"],{$closeView$:!0})},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$isAvailable$:function($app$jscomp$111$$){return 1<$app$jscomp$111$$.$views$.length&&0<=$app$jscomp$111$$.$views$.indexOf("src")}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:new",
{action:function($app$jscomp$112$$){$JSCompiler_StaticMethods_setContent$$($app$jscomp$112$$.$editor$.$textEditor$,"");$JSCompiler_StaticMethods_redraw$$($app$jscomp$112$$.$editor$.$tbCanvas$)},isEnabled:function($app$jscomp$113$$){return!$app$jscomp$113$$.$editor$.$isLockedWithVPL$&&0<$app$jscomp$113$$.$editor$.$getCode$().length},object:$JSCompiler_StaticMethods_addSrcCommands$self$$});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:save",{action:function($app$jscomp$114$$){var $json$jscomp$12$$=
$JSCompiler_StaticMethods_exportToJSON$$($app$jscomp$114$$.$program$,{$lib$:!1,$prog$:!0});$A3a$vpl$Program$downloadText$$($json$jscomp$12$$,$app$jscomp$114$$.$program$.filename||"vpl.json","application/json")},isEnabled:function($app$jscomp$115$$){return 0<$app$jscomp$115$$.$editor$.$getCode$().length},object:$JSCompiler_StaticMethods_addSrcCommands$self$$});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:vpl",{action:function($app$jscomp$116$$){$app$jscomp$116$$.$multipleViews$?$JSCompiler_StaticMethods_setView$$($app$jscomp$116$$,
["vpl"],{$openView$:!0}):$JSCompiler_StaticMethods_setView$$($app$jscomp$116$$,["vpl"],{$fromView$:"src"})},isEnabled:function($app$jscomp$117$$){return $JSCompiler_StaticMethods_doesMatchVPL$$($app$jscomp$117$$.$editor$)},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$isAvailable$:function($app$jscomp$118$$){return!$app$jscomp$118$$.$editor$.$noVPL$&&0>$app$jscomp$118$$.$views$.indexOf("vpl")}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:locked",{action:function($app$jscomp$119$$){$JSCompiler_StaticMethods_lockWithVPL$$($app$jscomp$119$$.$editor$,
!$app$jscomp$119$$.$editor$.$isLockedWithVPL$);$JSCompiler_StaticMethods_redraw$$($app$jscomp$119$$.$editor$.$tbCanvas$);$app$jscomp$119$$.$editor$.$isLockedWithVPL$&&($app$jscomp$119$$.$program$.$noVPL$=!1,$JSCompiler_StaticMethods_renderProgramToCanvas$$($app$jscomp$119$$))},isEnabled:function($app$jscomp$120$$){return null===$app$jscomp$120$$.$editor$.$srcForAsm$},$isSelected$:function($app$jscomp$121$$){return $app$jscomp$121$$.$editor$.$isLockedWithVPL$},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,
$isAvailable$:function($app$jscomp$122$$){return!$app$jscomp$122$$.$editor$.$noVPL$}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:language",{action:function($app$jscomp$123$$){var $r$jscomp$27$$=$app$jscomp$123$$.$editor$.$updateCodeLanguage$();$app$jscomp$123$$.$editor$.language=$r$jscomp$27$$.language;$app$jscomp$123$$.$editor$.$isLockedWithVPL$&&$JSCompiler_StaticMethods_setCode$$($app$jscomp$123$$.$editor$,$r$jscomp$27$$.code)},isEnabled:function($app$jscomp$124$$){return null===
$app$jscomp$124$$.$editor$.$srcForAsm$},getState:function($app$jscomp$125$$){return $app$jscomp$125$$.$editor$.language},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$isAvailable$:function($app$jscomp$126$$){return null!=$app$jscomp$126$$.$editor$.$updateCodeLanguage$}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:disass",{action:function($app$jscomp$127$$){if(null!==$app$jscomp$127$$.$editor$.$srcForAsm$)$JSCompiler_StaticMethods_setCode$$($app$jscomp$127$$.$editor$,$app$jscomp$127$$.$editor$.$srcForAsm$),
$app$jscomp$127$$.$editor$.$textEditor$.$textarea$.readOnly=$app$jscomp$127$$.$editor$.$isLockedWithVPL$;else{var $src$jscomp$8$$=$app$jscomp$127$$.$editor$.$getCode$(),$dis$jscomp$1$$=$app$jscomp$127$$.$editor$.$disass$($app$jscomp$127$$.$editor$.language,$src$jscomp$8$$);null!==$dis$jscomp$1$$&&($JSCompiler_StaticMethods_setCode$$($app$jscomp$127$$.$editor$,$dis$jscomp$1$$,!0),$app$jscomp$127$$.$editor$.$textEditor$.$textarea$.readOnly=!0,$app$jscomp$127$$.$editor$.$srcForAsm$=$src$jscomp$8$$)}$JSCompiler_StaticMethods_renderSourceEditorToolbar$$($app$jscomp$127$$)},
isEnabled:function($app$jscomp$128$$){return null!=$app$jscomp$128$$.$editor$.$disass$&&null!==$app$jscomp$128$$.$editor$.$disass$($app$jscomp$128$$.$editor$.language,"")},$isSelected$:function($app$jscomp$129$$){return null!==$app$jscomp$129$$.$editor$.$srcForAsm$},getState:function($app$jscomp$130$$){return $app$jscomp$130$$.$editor$.language},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$isAvailable$:function($app$jscomp$131$$){return null!==$app$jscomp$131$$.$editor$.$disass$}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:run",
{action:function($app$jscomp$132$$){var $code$jscomp$29$$=$app$jscomp$132$$.$editor$.$getCode$();$app$jscomp$132$$.$robots$[$app$jscomp$132$$.$currentRobotIndex$].$runGlue$.$run$($code$jscomp$29$$,$app$jscomp$132$$.$editor$.language)},getState:function($app$jscomp$133$$){return 0===$app$jscomp$133$$.$editor$.$getCode$().length?"empty":"canLoad"},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$isAvailable$:function($app$jscomp$134$$){return 0<=$app$jscomp$134$$.$currentRobotIndex$}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:stop",
{action:function($app$jscomp$135$$){$JSCompiler_StaticMethods_stopRobot$$($app$jscomp$135$$)},isEnabled:function($app$jscomp$136$$){return $JSCompiler_StaticMethods_canStopRobot$$($app$jscomp$136$$)},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$isAvailable$:function($app$jscomp$137$$){return 0<=$app$jscomp$137$$.$currentRobotIndex$}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:connected",{isEnabled:function($app$jscomp$138$$){return!$app$jscomp$138$$.$program$.$noVPL$&&
0<=$app$jscomp$138$$.$currentRobotIndex$&&$app$jscomp$138$$.$robots$[$app$jscomp$138$$.$currentRobotIndex$].$runGlue$.isConnected()},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$isAvailable$:function($app$jscomp$139$$){return 0<$app$jscomp$139$$.$robots$.length}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:sim",{action:function($app$jscomp$140$$){$app$jscomp$140$$.$multipleViews$?$JSCompiler_StaticMethods_setView$$($app$jscomp$140$$,["sim"],{$openView$:!0}):$JSCompiler_StaticMethods_setView$$($app$jscomp$140$$,
["sim"],{$fromView$:"src"})},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$isAvailable$:function($app$jscomp$141$$){return null!=$app$jscomp$141$$.$robots$.find(function($r$jscomp$28$$){return"sim"===$r$jscomp$28$$.name})&&null!=$app$jscomp$141$$.$sim2d$&&0>$app$jscomp$141$$.$views$.indexOf("sim")}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:teacher-reset",{action:function($app$jscomp$142$$){$app$jscomp$142$$.$editor$.$resetUI$();$JSCompiler_StaticMethods_renderSourceEditorToolbar$$($app$jscomp$142$$)},
object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$keep$:!0,$isAvailable$:function($app$jscomp$143$$){return $app$jscomp$143$$.$editor$.$teacherRole$&&$app$jscomp$143$$.$editor$.$uiConfig$.$customizationMode$}});$JSCompiler_StaticMethods_addSrcCommands$self$$.$b$.add("src:teacher",{action:function($app$jscomp$144$$){$app$jscomp$144$$.$editor$.$uiConfig$.$customizationMode$=!$app$jscomp$144$$.$editor$.$uiConfig$.$customizationMode$;$JSCompiler_StaticMethods_renderSourceEditorToolbar$$($app$jscomp$144$$)},
$isSelected$:function($app$jscomp$145$$){return $app$jscomp$145$$.$editor$.$uiConfig$.$customizationMode$},object:$JSCompiler_StaticMethods_addSrcCommands$self$$,$keep$:!0,$isAvailable$:function($app$jscomp$146$$){return $app$jscomp$146$$.$editor$.$teacherRole$}})};function $A3a$vpl$drawButtonSVGFunction$$($gui$$){var $defaultToJS$$=["vpl:message-error","vpl:message-warning"];return function($id$jscomp$32$$,$ctx$jscomp$71$$,$dims$jscomp$30$$,$css$jscomp$9$$,$cssClasses$jscomp$4$$,$isEnabled$jscomp$1$$,$isSelected$jscomp$1$$,$isPressed$jscomp$3$$,$state$jscomp$11$$){function $checkState$$($prop$jscomp$2$$){if(void 0==$prop$jscomp$2$$)return!0;for(var $i$jscomp$205$$=0;$i$jscomp$205$$<$prop$jscomp$2$$.length;$i$jscomp$205$$++)switch($prop$jscomp$2$$[$i$jscomp$205$$]){case "pressed":if(!$isPressed$jscomp$3$$||
!$isEnabled$jscomp$1$$)return!1;break;case "unpressed":if($isPressed$jscomp$3$$&&$isEnabled$jscomp$1$$)return!1;break;case "selected":if(!$isSelected$jscomp$1$$)return!1;break;case "unselected":if($isSelected$jscomp$1$$)return!1;break;case "disabled":if($isEnabled$jscomp$1$$)return!1;break;case "enabled":if(!$isEnabled$jscomp$1$$)return!1;break;default:if("="===$prop$jscomp$2$$[$i$jscomp$205$$][0]&&$state$jscomp$11$$.toString()!==$prop$jscomp$2$$[$i$jscomp$205$$].slice(1))return!1}return!0}var $box$jscomp$31$$=
$JSCompiler_StaticMethods_getBox$$($css$jscomp$9$$,{tag:"button",$clas$:$cssClasses$jscomp$4$$,id:$id$jscomp$32$$.replace(/:/g,"-")});if($gui$$.buttons)for(var $i$jscomp$204$$=0;$i$jscomp$204$$<$gui$$.buttons.length;$i$jscomp$204$$++)if($gui$$.buttons[$i$jscomp$204$$].name===$id$jscomp$32$$&&$checkState$$($gui$$.buttons[$i$jscomp$204$$].state)){$gui$$.buttons[$i$jscomp$204$$].draw.forEach(function($el$jscomp$17_fun$jscomp$5$$){if($el$jscomp$17_fun$jscomp$5$$.uri){var $d$jscomp$13$$=$A3a$vpl$Canvas$decodeURI$$($el$jscomp$17_fun$jscomp$5$$.uri);
$ctx$jscomp$71$$.save();$el$jscomp$17_fun$jscomp$5$$.alpha&&($ctx$jscomp$71$$.globalAlpha=$el$jscomp$17_fun$jscomp$5$$.alpha);$gui$$.$svg$[$d$jscomp$13$$.$f$].$draw$($ctx$jscomp$71$$,{$elementId$:$d$jscomp$13$$.id});$el$jscomp$17_fun$jscomp$5$$.debug&&($ctx$jscomp$71$$.fillStyle="black",$ctx$jscomp$71$$.textAlign="center",$ctx$jscomp$71$$.textBaseline="middle",$ctx$jscomp$71$$.fillText($el$jscomp$17_fun$jscomp$5$$.debug,$box$jscomp$31$$.width/2,$box$jscomp$31$$.height/2));$ctx$jscomp$71$$.restore()}$el$jscomp$17_fun$jscomp$5$$.js&&
($el$jscomp$17_fun$jscomp$5$$=new Function("ctx",$el$jscomp$17_fun$jscomp$5$$.js),$ctx$jscomp$71$$.save(),$ctx$jscomp$71$$.scale($box$jscomp$31$$.width,$box$jscomp$31$$.height),$ctx$jscomp$71$$.beginPath(),$el$jscomp$17_fun$jscomp$5$$($ctx$jscomp$71$$),$ctx$jscomp$71$$.restore())});return}0<=$defaultToJS$$.indexOf($id$jscomp$32$$)?$A3a$vpl$Commands$drawButtonJS$$($id$jscomp$32$$,$ctx$jscomp$71$$,$dims$jscomp$30$$,$css$jscomp$9$$,$cssClasses$jscomp$4$$,$isEnabled$jscomp$1$$,$isSelected$jscomp$1$$,
$isPressed$jscomp$3$$,$state$jscomp$11$$):($ctx$jscomp$71$$.fillStyle="brown",$ctx$jscomp$71$$.fillRect(0,0,$box$jscomp$31$$.width,$box$jscomp$31$$.height),$ctx$jscomp$71$$.fillStyle="white",$ctx$jscomp$71$$.textAlign="left",$ctx$jscomp$71$$.textBaseline="top",$ctx$jscomp$71$$.font=Math.round($box$jscomp$31$$.height/6).toString(10)+"px sans-serif",$ctx$jscomp$71$$.fillText($id$jscomp$32$$,.02*$box$jscomp$31$$.width,.02*$box$jscomp$31$$.height),$ctx$jscomp$71$$.fillText(($isPressed$jscomp$3$$?"pr ":
"")+($isSelected$jscomp$1$$?"sel ":"")+($isEnabled$jscomp$1$$?"":"dis"),.02*$box$jscomp$31$$.width,.22*$box$jscomp$31$$.height),$state$jscomp$11$$&&$ctx$jscomp$71$$.fillText("="+$state$jscomp$11$$,.02*$box$jscomp$31$$.width,.42*$box$jscomp$31$$.height))}}
function $A3a$vpl$getButtonBoundsSVGFunction$$($gui$jscomp$1$$){return function($d$jscomp$14_id$jscomp$33$$,$dims$jscomp$31$$){if($gui$jscomp$1$$.buttons)for(var $i$jscomp$206$$=0;$i$jscomp$206$$<$gui$jscomp$1$$.buttons.length;$i$jscomp$206$$++){var $b$jscomp$21$$=$gui$jscomp$1$$.buttons[$i$jscomp$206$$];if($b$jscomp$21$$.name===$d$jscomp$14_id$jscomp$33$$&&(void 0==$b$jscomp$21$$.state||0>$b$jscomp$21$$.state.indexOf("pressed")&&0>$b$jscomp$21$$.state.indexOf("selected")&&0>$b$jscomp$21$$.state.indexOf("disabled")))return $d$jscomp$14_id$jscomp$33$$=
$A3a$vpl$Canvas$decodeURI$$($b$jscomp$21$$.draw[0].uri),$JSCompiler_StaticMethods_getElementBounds$$($gui$jscomp$1$$.$svg$[$d$jscomp$14_id$jscomp$33$$.$f$],$d$jscomp$14_id$jscomp$33$$.id)}return{$xmin$:0,$xmax$:$dims$jscomp$31$$.$controlSize$,$ymin$:0,$ymax$:$dims$jscomp$31$$.$controlSize$}}}
function $A3a$vpl$makeSVGWidgets$$($gui$jscomp$2$$){function $find$$($id$jscomp$34$$){for(var $i$jscomp$207$$=0;$i$jscomp$207$$<$gui$jscomp$2$$.widgets.length;$i$jscomp$207$$++)if($gui$jscomp$2$$.widgets[$i$jscomp$207$$].name===$id$jscomp$34$$)return $gui$jscomp$2$$.widgets[$i$jscomp$207$$];return null}if(void 0==$gui$jscomp$2$$.widgets)return{};var $widgets$$={};["vpl:then","vpl:error","vpl:warning","vpl:moreHigh","vpl:moreLow"].forEach(function($id$jscomp$35$$){var $widget$$=$find$$($id$jscomp$35$$);
if($widget$$){var $d$jscomp$15$$=$A3a$vpl$Canvas$decodeURI$$($widget$$.draw[0].uri),$elBounds$$=$JSCompiler_StaticMethods_getElementBounds$$($gui$jscomp$2$$.$svg$[$d$jscomp$15$$.$f$],$d$jscomp$15$$.id);$widgets$$[$id$jscomp$35$$]=function $$widgets$$$$id$jscomp$35$$$($ctx$jscomp$72$$,$id$jscomp$36$$,$dims$jscomp$32$$,$box$jscomp$32$$){$widget$$.draw.forEach(function($el$jscomp$19_fun$jscomp$6$$){if($el$jscomp$19_fun$jscomp$6$$.uri){var $d$jscomp$16$$=$A3a$vpl$Canvas$decodeURI$$($el$jscomp$19_fun$jscomp$6$$.uri);
$el$jscomp$19_fun$jscomp$6$$.alpha&&($ctx$jscomp$72$$.globalAlpha=$el$jscomp$19_fun$jscomp$6$$.alpha);$ctx$jscomp$72$$.save();var $sc$jscomp$5$$=Math.min($box$jscomp$32$$.width/($elBounds$$.$xmax$-$elBounds$$.$xmin$),$box$jscomp$32$$.height/($elBounds$$.$ymax$-$elBounds$$.$ymin$));$ctx$jscomp$72$$.scale($sc$jscomp$5$$,$sc$jscomp$5$$);$ctx$jscomp$72$$.translate(-($elBounds$$.$xmin$+$elBounds$$.$xmax$)/2,-($elBounds$$.$ymin$+$elBounds$$.$ymax$)/2);$gui$jscomp$2$$.$svg$[$d$jscomp$16$$.$f$].$draw$($ctx$jscomp$72$$,
{$elementId$:$d$jscomp$16$$.id});$ctx$jscomp$72$$.restore();$el$jscomp$19_fun$jscomp$6$$.debug&&($ctx$jscomp$72$$.fillStyle="black",$ctx$jscomp$72$$.textAlign="center",$ctx$jscomp$72$$.textBaseline="middle",$ctx$jscomp$72$$.fillText($el$jscomp$19_fun$jscomp$6$$.debug,0,0))}$el$jscomp$19_fun$jscomp$6$$.js&&($el$jscomp$19_fun$jscomp$6$$=new Function("ctx",$el$jscomp$19_fun$jscomp$6$$.js),$ctx$jscomp$72$$.save(),$ctx$jscomp$72$$.scale($box$jscomp$32$$.width,$box$jscomp$32$$.height),$ctx$jscomp$72$$.beginPath(),
$el$jscomp$19_fun$jscomp$6$$($ctx$jscomp$72$$),$ctx$jscomp$72$$.restore())})}}});return $widgets$$};function $A3a$vpl$RunGlue$$($options$jscomp$22$$){this.$j$=$options$jscomp$22$$&&$options$jscomp$22$$.$run$?$options$jscomp$22$$.$run$:null;this.$g$=$options$jscomp$22$$&&$options$jscomp$22$$.$init$?$options$jscomp$22$$.$init$:null;this.$i$=$options$jscomp$22$$&&$options$jscomp$22$$.isConnected?$options$jscomp$22$$.isConnected:null;this.$b$=$options$jscomp$22$$&&$options$jscomp$22$$.isEnabled?$options$jscomp$22$$.isEnabled:null;this.$preferredLanguage$=$options$jscomp$22$$&&$options$jscomp$22$$.$preferredLanguage$?
$options$jscomp$22$$.$preferredLanguage$:"aseba";this.languages=$options$jscomp$22$$&&$options$jscomp$22$$.languages?$options$jscomp$22$$.languages:[this.$preferredLanguage$];this.state=$options$jscomp$22$$&&$options$jscomp$22$$.state?$options$jscomp$22$$.state:null}$A3a$vpl$RunGlue$$.prototype.isConnected=function $$A3a$vpl$RunGlue$$$$isConnected$(){return null==this.$i$||this.$i$()};
$A3a$vpl$RunGlue$$.prototype.isEnabled=function $$A3a$vpl$RunGlue$$$$isEnabled$($language$jscomp$9$$){return null!=this.$j$&&0<=this.languages.indexOf($language$jscomp$9$$)&&(null==this.$b$||this.$b$($language$jscomp$9$$))};$A3a$vpl$RunGlue$$.prototype.$init$=function $$A3a$vpl$RunGlue$$$$$init$$($language$jscomp$10$$){this.$g$&&this.$g$($language$jscomp$10$$)};
$A3a$vpl$RunGlue$$.prototype.$run$=function $$A3a$vpl$RunGlue$$$$$run$$($code$jscomp$31$$,$language$jscomp$11$$){this.isEnabled($language$jscomp$11$$)&&this.$j$($language$jscomp$11$$,$code$jscomp$31$$)};function $A3a$vpl$HTMLPanel$$($html$jscomp$5$$,$noCloseWidget$$){this.$j$=$html$jscomp$5$$;this.$i$=document.createElement("div");this.$i$.style.width="100%";this.$i$.style.height="100%";this.$i$.style.position="fixed";this.$i$.style.top="0";this.$i$.style.left="0";this.$i$.style.zIndex="1000";this.$i$.style.backgroundColor="rgba(1,1,1,0.5)";this.$i$.style.display="none";this.$g$=document.createElement("div");this.$g$.style.width="80%";this.$g$.style.height="80%";this.$g$.style.position="fixed";this.$g$.style.top=
"50%";this.$g$.style.left="50%";this.$g$.style.backgroundColor="white";this.$g$.style.padding="2em";this.$i$.appendChild(this.$g$);document.body.appendChild(this.$i$);this.$b$=null;if(!$noCloseWidget$$){this.$b$=document.createElement("div");this.$b$.style.position="absolute";this.$b$.style.width="32px";this.$b$.style.height="32px";this.$b$.style.top="0";this.$b$.style.left="0";this.$b$.textContent="\u00d7";this.$b$.style.font="bold 30px sans-serif";this.$b$.style.textAlign="left";this.$b$.style.padding=
"5px";this.$b$.style.paddingLeft="10px";var $self$jscomp$25$$=this;this.$b$.addEventListener("click",function(){$self$jscomp$25$$.$hide$()},!1)}}$A3a$vpl$HTMLPanel$$.prototype.show=function $$A3a$vpl$HTMLPanel$$$$show$(){this.$g$.innerHTML=this.$j$;this.$b$&&this.$g$.appendChild(this.$b$);this.$i$.style.display="block";$JSCompiler_StaticMethods_center$$(this)};$A3a$vpl$HTMLPanel$$.prototype.$hide$=function $$A3a$vpl$HTMLPanel$$$$$hide$$(){this.$i$.style.display="none"};
function $JSCompiler_StaticMethods_center$$($JSCompiler_StaticMethods_center$self$$){var $boundingBox$$=$JSCompiler_StaticMethods_center$self$$.$g$.getBoundingClientRect();$JSCompiler_StaticMethods_center$self$$.$g$.style.marginLeft=-$boundingBox$$.width/2+"px";$JSCompiler_StaticMethods_center$self$$.$g$.style.marginTop=-$boundingBox$$.height/2+"px"};function $JSCompiler_StaticMethods_loadProgramJSON$$($JSCompiler_StaticMethods_loadProgramJSON$self$$,$json$jscomp$13$$){try{$JSCompiler_StaticMethods_importFromJSON$$($JSCompiler_StaticMethods_loadProgramJSON$self$$.$program$,$json$jscomp$13$$,function($view$jscomp$8$$){if(0>this.$views$.indexOf($view$jscomp$8$$))if(1===this.$views$.length)$JSCompiler_StaticMethods_setView$$(this,[$view$jscomp$8$$]);else{var $views$jscomp$1$$=this.$views$.slice();$views$jscomp$1$$[0<=$views$jscomp$1$$.indexOf("vpl")?
$views$jscomp$1$$.indexOf("vpl"):0<=$views$jscomp$1$$.indexOf("src")?$views$jscomp$1$$.indexOf("src"):0]=$view$jscomp$8$$;$JSCompiler_StaticMethods_setView$$(this,$views$jscomp$1$$)}0<=this.$views$.indexOf("vpl")&&this.$vplCanvas$.$onUpdate$()})}catch($e$jscomp$24$$){}}
function $JSCompiler_StaticMethods_loadProgramFile$$($JSCompiler_StaticMethods_loadProgramFile$self$$,$file$$){var $ext_r$jscomp$29$$=/^[^.]+\.(.*)$/.exec($file$$.name);$ext_r$jscomp$29$$=$ext_r$jscomp$29$$?$ext_r$jscomp$29$$[1]:"";var $reader$$=new window.FileReader;switch($ext_r$jscomp$29$$.toLowerCase()){case "aesl":case "json":return $reader$$.onload=function $$reader$$$onload$($data$jscomp$71_event$jscomp$15$$){$data$jscomp$71_event$jscomp$15$$=$data$jscomp$71_event$jscomp$15$$.target.result;
var $filename$jscomp$4$$=$file$$.name;try{$JSCompiler_StaticMethods_importFromAESLFile$$($JSCompiler_StaticMethods_loadProgramFile$self$$.$program$,$data$jscomp$71_event$jscomp$15$$)}catch($e$jscomp$25$$){$JSCompiler_StaticMethods_loadProgramJSON$$($JSCompiler_StaticMethods_loadProgramFile$self$$,$data$jscomp$71_event$jscomp$15$$)}$JSCompiler_StaticMethods_loadProgramFile$self$$.$program$.filename=$filename$jscomp$4$$;$JSCompiler_StaticMethods_loadProgramFile$self$$.$vplCanvas$.$onUpdate$()},$reader$$.readAsText($file$$),
!0}return!1}
function $JSCompiler_StaticMethods_loadImageFile$$($JSCompiler_StaticMethods_loadImageFile$self$$,$file$jscomp$1$$){var $ext$jscomp$1_r$jscomp$30$$=/^[^.]+\.(.*)$/.exec($file$jscomp$1$$.name);$ext$jscomp$1_r$jscomp$30$$=$ext$jscomp$1_r$jscomp$30$$?$ext$jscomp$1_r$jscomp$30$$[1]:"";var $reader$jscomp$1$$=new window.FileReader;switch($ext$jscomp$1_r$jscomp$30$$.toLowerCase()){case "svg":case "png":case "jpg":case "gif":$JSCompiler_StaticMethods_loadImageFile$self$$.$sim2d$&&("obstacle"===$JSCompiler_StaticMethods_loadImageFile$self$$.$sim2d$.$currentMap$?
($reader$jscomp$1$$.onload=function $$reader$jscomp$1$$$onload$($event$jscomp$16$$){$JSCompiler_StaticMethods_setSVG$$($JSCompiler_StaticMethods_loadImageFile$self$$,$event$jscomp$16$$.target.result)},$reader$jscomp$1$$.readAsText($file$jscomp$1$$)):($reader$jscomp$1$$.onload=function $$reader$jscomp$1$$$onload$($data$jscomp$73_event$jscomp$17$$){$data$jscomp$73_event$jscomp$17$$=$data$jscomp$73_event$jscomp$17$$.target.result;var $img$jscomp$3$$=new Image;$img$jscomp$3$$.addEventListener("load",
function(){$JSCompiler_StaticMethods_setImage$$($JSCompiler_StaticMethods_loadImageFile$self$$,$img$jscomp$3$$)});$img$jscomp$3$$.src=$data$jscomp$73_event$jscomp$17$$},$reader$jscomp$1$$.readAsDataURL($file$jscomp$1$$)))}};function $A3a$vpl$Load$$($app$jscomp$149$$){var $self$jscomp$26$$=this;this.$b$=document.createElement("div");this.$b$.style.width="100%";this.$b$.style.height="100%";this.$b$.style.position="fixed";this.$b$.style.top="0";this.$b$.style.left="0";this.$b$.style.zIndex="1000";this.$b$.style.backgroundColor="rgba(1,1,1,0.5)";this.$b$.style.display="none";this.$g$=document.createElement("div");this.$g$.style.width="40em";this.$g$.style.position="fixed";this.$g$.style.top="50%";this.$g$.style.left="50%";
this.$g$.style.backgroundColor="white";this.$g$.style.padding="2em";this.$b$.appendChild(this.$g$);document.body.appendChild(this.$b$);var $el$jscomp$20$$=document.createElement("p");$el$jscomp$20$$.textContent="Open program file";this.$g$.appendChild($el$jscomp$20$$);$el$jscomp$20$$=document.createElement("table");$el$jscomp$20$$.style.width="100%";this.$g$.appendChild($el$jscomp$20$$);var $button$jscomp$1_tr$jscomp$14$$=document.createElement("tr");$el$jscomp$20$$.appendChild($button$jscomp$1_tr$jscomp$14$$);
var $closebox_td$$=document.createElement("td");$button$jscomp$1_tr$jscomp$14$$.appendChild($closebox_td$$);this.input=document.createElement("input");this.input.setAttribute("type","file");this.input.setAttribute("accept",".aesl,.json");this.input.style.width="35em";$closebox_td$$.appendChild(this.input);$closebox_td$$=document.createElement("td");$closebox_td$$.align="right";$button$jscomp$1_tr$jscomp$14$$.appendChild($closebox_td$$);$button$jscomp$1_tr$jscomp$14$$=document.createElement("input");
$button$jscomp$1_tr$jscomp$14$$.setAttribute("type","button");$button$jscomp$1_tr$jscomp$14$$.setAttribute("value","OK");$button$jscomp$1_tr$jscomp$14$$.addEventListener("click",function(){var $file$jscomp$2$$=$self$jscomp$26$$.input.files[0];$file$jscomp$2$$&&$JSCompiler_StaticMethods_loadProgramFile$$($app$jscomp$149$$,$file$jscomp$2$$);$self$jscomp$26$$.$hide$()},!1);$closebox_td$$.appendChild($button$jscomp$1_tr$jscomp$14$$);$closebox_td$$.appendChild(document.createTextNode("\u00a0\u00a0"));
$button$jscomp$1_tr$jscomp$14$$=document.createElement("input");$button$jscomp$1_tr$jscomp$14$$.setAttribute("type","button");$button$jscomp$1_tr$jscomp$14$$.setAttribute("value","Cancel");$button$jscomp$1_tr$jscomp$14$$.addEventListener("click",function(){$self$jscomp$26$$.$hide$()},!1);$closebox_td$$.appendChild($button$jscomp$1_tr$jscomp$14$$);$closebox_td$$=document.createElement("div");$closebox_td$$.style.position="absolute";$closebox_td$$.style.width="32px";$closebox_td$$.style.height="32px";
$closebox_td$$.style.top="0";$closebox_td$$.style.left="0";$closebox_td$$.textContent="\u00d7";$closebox_td$$.style.font="bold 30px sans-serif";$closebox_td$$.style.textAlign="left";$closebox_td$$.style.padding="5px";$closebox_td$$.style.paddingLeft="10px";$closebox_td$$.addEventListener("click",function(){$self$jscomp$26$$.$hide$()},!1);$el$jscomp$20$$.appendChild($closebox_td$$)}
$A3a$vpl$Load$$.prototype.show=function $$A3a$vpl$Load$$$$show$(){this.$b$.style.display="block";var $boundingBox$jscomp$1$$=this.$g$.getBoundingClientRect();this.$g$.style.marginLeft=-$boundingBox$jscomp$1$$.width/2+"px";this.$g$.style.marginTop=-$boundingBox$jscomp$1$$.height/2+"px"};$A3a$vpl$Load$$.prototype.$hide$=function $$A3a$vpl$Load$$$$$hide$$(){this.$b$.style.display="none"};function $A3a$vpl$Com$$($app$jscomp$150$$,$wsURL$$,$sessionId$jscomp$1$$){this.$b$=$app$jscomp$150$$;this.$j$=$wsURL$$;this.$g$=null;this.$i$=$sessionId$jscomp$1$$}
$A3a$vpl$Com$$.prototype.connect=function $$A3a$vpl$Com$$$$connect$(){var $self$jscomp$27$$=this;this.$g$=new WebSocket(this.$j$);this.$g$.addEventListener("open",function(){$self$jscomp$27$$.$g$.send(JSON.stringify({sender:{type:"vpl",sessionid:$self$jscomp$27$$.$i$,role:$self$jscomp$27$$.$b$.$program$.$teacherRole$?"teacher":"student"},type:"hello"}));window.addEventListener("unload",function(){$self$jscomp$27$$.$g$.send(JSON.stringify({sender:{type:"vpl",sessionid:$self$jscomp$27$$.$i$,role:$self$jscomp$27$$.$b$.$program$.$teacherRole$?
"teacher":"student"},type:"bye"}))})});this.$g$.addEventListener("message",function($event$jscomp$18$$){try{var $msg$jscomp$2$$=JSON.parse($event$jscomp$18$$.data);switch($msg$jscomp$2$$.type){case "cmd":var $name$jscomp$inline_289$$=$msg$jscomp$2$$.data.cmd,$selected$jscomp$inline_290$$=$msg$jscomp$2$$.data.selected,$state$jscomp$inline_291$$=$msg$jscomp$2$$.data.state,$commands$jscomp$inline_292$$=$self$jscomp$27$$.$b$.$b$;if($commands$jscomp$inline_292$$.$isAvailable$($name$jscomp$inline_289$$)&&
$JSCompiler_StaticMethods_hasAction$$($commands$jscomp$inline_292$$,$name$jscomp$inline_289$$)&&$commands$jscomp$inline_292$$.isEnabled($name$jscomp$inline_289$$))if(void 0!==$selected$jscomp$inline_290$$){var $cmd$jscomp$inline_530$$=$commands$jscomp$inline_292$$.find($name$jscomp$inline_289$$),$JSCompiler_temp$jscomp$546$$;if($JSCompiler_temp$jscomp$546$$=$cmd$jscomp$inline_530$$)$cmd$jscomp$inline_530$$.$g$?$selected$jscomp$inline_290$$===$cmd$jscomp$inline_530$$.$isSelected$()?$JSCompiler_temp$jscomp$546$$=
!0:($JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$$($cmd$jscomp$inline_530$$,void 0),$JSCompiler_temp$jscomp$546$$=$selected$jscomp$inline_290$$===$cmd$jscomp$inline_530$$.$isSelected$()):$JSCompiler_temp$jscomp$546$$=!1;$JSCompiler_temp$jscomp$546$$&&$JSCompiler_StaticMethods_logExecCommand$$($commands$jscomp$inline_292$$,$name$jscomp$inline_289$$)}else if(void 0!==$state$jscomp$inline_291$$){var $cmd$jscomp$inline_535$$=$commands$jscomp$inline_292$$.find($name$jscomp$inline_289$$);
$cmd$jscomp$inline_535$$&&$JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$executeForState$$($cmd$jscomp$inline_535$$,$state$jscomp$inline_291$$)&&$JSCompiler_StaticMethods_logExecCommand$$($commands$jscomp$inline_292$$,$name$jscomp$inline_289$$)}else{var $cmd$jscomp$inline_540$$=$commands$jscomp$inline_292$$.find($name$jscomp$inline_289$$);$cmd$jscomp$inline_540$$&&($JSCompiler_StaticMethods_A3a_vpl_Commands_Command_prototype$execute$$($cmd$jscomp$inline_540$$,void 0),$JSCompiler_StaticMethods_logExecCommand$$($commands$jscomp$inline_292$$,
$name$jscomp$inline_289$$))}$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$$($self$jscomp$27$$.$b$.$vplCanvas$);break;case "file":var $content$$=$msg$jscomp$2$$.data.content;switch($msg$jscomp$2$$.data.kind){case "vpl":/^[\s]*{/.test($content$$)?$JSCompiler_StaticMethods_loadProgramJSON$$($self$jscomp$27$$.$b$,$content$$):($JSCompiler_StaticMethods_importFromAESLFile$$($self$jscomp$27$$.$b$.$program$,$content$$),$self$jscomp$27$$.$b$.$vplCanvas$.$onUpdate$());$self$jscomp$27$$.$b$.$program$.filename=
$msg$jscomp$2$$.data.name||null;$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$$($self$jscomp$27$$.$b$.$vplCanvas$);break;case "about":$JSCompiler_StaticMethods_setAboutBoxContent$$($self$jscomp$27$$.$b$,$content$$);break;case "help":$JSCompiler_StaticMethods_setHelpContent$$($self$jscomp$27$$.$b$,$content$$);break;case "suspend":var $JSCompiler_StaticMethods_setSuspendBoxContent$self$jscomp$inline_294$$=$self$jscomp$27$$.$b$,$suspended$jscomp$inline_296$$=$JSCompiler_StaticMethods_setSuspendBoxContent$self$jscomp$inline_294$$.$suspended$;
$suspended$jscomp$inline_296$$&&$JSCompiler_StaticMethods_setSuspendBoxContent$self$jscomp$inline_294$$.$suspendBox$&&$JSCompiler_StaticMethods_setSuspendBoxContent$self$jscomp$inline_294$$.$suspendBox$.$hide$();$JSCompiler_StaticMethods_setSuspendBoxContent$self$jscomp$inline_294$$.$suspendBox$=$content$$?new $A3a$vpl$HTMLPanel$$($content$$,!0):null;$content$$&&$suspended$jscomp$inline_296$$&&$JSCompiler_StaticMethods_setSuspendBoxContent$self$jscomp$inline_294$$.$suspendBox$.show()}}}catch($e$jscomp$26$$){console.info($e$jscomp$26$$)}});
$JSCompiler_StaticMethods_addLogger$$(this.$b$,function($data$jscomp$74$$){$self$jscomp$27$$.log($data$jscomp$74$$)})};
$A3a$vpl$Com$$.prototype.log=function $$A3a$vpl$Com$$$$log$($data$jscomp$75$$){if("cmd"===$data$jscomp$75$$.type&&$data$jscomp$75$$.data&&0<=["vpl:run"].indexOf($data$jscomp$75$$.data.cmd)){var $json$jscomp$14$$=$JSCompiler_StaticMethods_exportToJSON$$(this.$b$.$program$,{$lib$:!1,$prog$:!0});this.$g$.send(JSON.stringify({sender:{type:"vpl",sessionid:this.$i$},type:"file",data:{name:this.$b$.$program$.filename,content:$json$jscomp$14$$}}))}this.$g$.send(JSON.stringify({sender:{type:"vpl",sessionid:this.$i$},
type:"log",data:$data$jscomp$75$$||null}))};var $A3a$vpl$dragFun$$=null;document.addEventListener("mousemove",function($e$jscomp$27$$){null!==$A3a$vpl$dragFun$$&&($A3a$vpl$dragFun$$($e$jscomp$27$$,!1),$e$jscomp$27$$.preventDefault())},!1);document.addEventListener("mouseup",function($e$jscomp$28$$){null!==$A3a$vpl$dragFun$$&&($A3a$vpl$dragFun$$($e$jscomp$28$$,!0),$A3a$vpl$dragFun$$=null,$e$jscomp$28$$.preventDefault())},!1);var $A3a$vpl$lastTouch$$=null;
document.addEventListener("touchmove",function($e$jscomp$29$$){$e$jscomp$29$$.preventDefault();null!==$A3a$vpl$dragFun$$&&($A3a$vpl$lastTouch$$=$e$jscomp$29$$.targetTouches[0],$A3a$vpl$dragFun$$($A3a$vpl$lastTouch$$,!1));return!1},{capture:!1,passive:!1});document.addEventListener("touchend",function($e$jscomp$30$$){null!==$A3a$vpl$dragFun$$&&($A3a$vpl$dragFun$$($A3a$vpl$lastTouch$$,!0),$A3a$vpl$dragFun$$=null,$e$jscomp$30$$.preventDefault());return!1},!1);
function $vplLoadResourcesWithXHR$$($rootFilename$$,$getAuxiliaryFilenames$$,$onLoad$$,$onError$$){var $path$jscomp$6$$=0<=$rootFilename$$.indexOf("/")?$rootFilename$$.replace(/\/[^/]*$/,"/"):"",$rsrc$$={},$xhr$jscomp$2$$=new XMLHttpRequest;$xhr$jscomp$2$$.addEventListener("load",function(){if(200===$xhr$jscomp$2$$.status){$rsrc$$[$rootFilename$$]=$xhr$jscomp$2$$.responseText;var $gui$jscomp$3$$=JSON.parse($xhr$jscomp$2$$.responseText),$auxFiles$$=$getAuxiliaryFilenames$$($gui$jscomp$3$$),$nRemaining$$=
$auxFiles$$.length,$error$jscomp$4$$=!1;$auxFiles$$.forEach(function($f$jscomp$15$$){var $xhr$jscomp$3$$=new XMLHttpRequest;$xhr$jscomp$3$$.addEventListener("load",function(){200===$xhr$jscomp$3$$.status?($rsrc$$[$f$jscomp$15$$]=$xhr$jscomp$3$$.responseText,$nRemaining$$--,$error$jscomp$4$$||0!==$nRemaining$$||$onLoad$$($gui$jscomp$3$$,$rsrc$$)):$error$jscomp$4$$||($error$jscomp$4$$=!0,$onError$$("HTTP error "+$xhr$jscomp$3$$.status))});$xhr$jscomp$3$$.addEventListener("error",function(){$error$jscomp$4$$||
($error$jscomp$4$$=!0,$onError$$("XMLHttpRequest error for "+$rootFilename$$))});$xhr$jscomp$3$$.open("GET",$path$jscomp$6$$+$f$jscomp$15$$);$xhr$jscomp$3$$.send()})}else $onError$$("HTTP error "+$xhr$jscomp$2$$.status)});$xhr$jscomp$2$$.addEventListener("error",$onError$$);$xhr$jscomp$2$$.open("GET",$rootFilename$$);$xhr$jscomp$2$$.send()}
function $vplLoadResourcesInScripts$$($rootFilename$jscomp$1$$,$getAuxiliaryFilenames$jscomp$1$$,$onLoad$jscomp$1$$,$onError$jscomp$1$$){try{var $txt$jscomp$2$$=document.getElementById($rootFilename$jscomp$1$$).textContent,$gui$jscomp$4$$=JSON.parse($txt$jscomp$2$$),$rsrc$jscomp$1$$={};$gui$jscomp$4$$.svgFilenames&&$gui$jscomp$4$$.svgFilenames.forEach(function($filename$jscomp$5$$){$txt$jscomp$2$$=document.getElementById($filename$jscomp$5$$).textContent;$rsrc$jscomp$1$$[$filename$jscomp$5$$]=$txt$jscomp$2$$});
$gui$jscomp$4$$.overlays&&$gui$jscomp$4$$.overlays.forEach(function($filename$jscomp$6$$){$txt$jscomp$2$$=document.getElementById($filename$jscomp$6$$).textContent;$rsrc$jscomp$1$$[$filename$jscomp$6$$]=$txt$jscomp$2$$});$gui$jscomp$4$$.css&&$gui$jscomp$4$$.css.forEach(function($filename$jscomp$7$$){$txt$jscomp$2$$=document.getElementById($filename$jscomp$7$$).textContent.trim();$rsrc$jscomp$1$$[$filename$jscomp$7$$]=$txt$jscomp$2$$});$onLoad$jscomp$1$$($gui$jscomp$4$$,$rsrc$jscomp$1$$)}catch($e$jscomp$31$$){$onError$jscomp$1$$($e$jscomp$31$$)}}
function $vplGetQueryOption$$($key$jscomp$49$$){var $pairs_query$jscomp$12_r$jscomp$31$$=/^[^?]*\?([^#]*)/.exec(document.location.href);if($pairs_query$jscomp$12_r$jscomp$31$$=$pairs_query$jscomp$12_r$jscomp$31$$&&$pairs_query$jscomp$12_r$jscomp$31$$[1]){$pairs_query$jscomp$12_r$jscomp$31$$=$pairs_query$jscomp$12_r$jscomp$31$$.split("&").map(function($p$jscomp$33$$){return $p$jscomp$33$$.split("=").map(function($s$jscomp$41$$){return decodeURIComponent($s$jscomp$41$$)})});for(var $i$jscomp$208$$=
0;$i$jscomp$208$$<$pairs_query$jscomp$12_r$jscomp$31$$.length;$i$jscomp$208$$++)if($pairs_query$jscomp$12_r$jscomp$31$$[$i$jscomp$208$$][0]===$key$jscomp$49$$)return $pairs_query$jscomp$12_r$jscomp$31$$[$i$jscomp$208$$][1]}return""}
function $vplGetHashOption$$($key$jscomp$50$$){return(document.location.hash||"#").slice(1).split("&").map(function($p$jscomp$34$$){return $p$jscomp$34$$.split("=")}).reduce(function($acc$jscomp$4$$,$p$jscomp$35$$){$acc$jscomp$4$$[$p$jscomp$35$$[0]]=$p$jscomp$35$$[1];return $acc$jscomp$4$$},{})[$key$jscomp$50$$]||null}
function $vplSetup$$($gui$jscomp$5$$){$gui$jscomp$5$$&&$gui$jscomp$5$$.overlays&&($gui$jscomp$5$$.blocks=$gui$jscomp$5$$.blocks||[],$gui$jscomp$5$$.buttons=$gui$jscomp$5$$.buttons||[],$gui$jscomp$5$$.widgets=$gui$jscomp$5$$.widgets||[],$gui$jscomp$5$$.overlays.forEach(function($filename$jscomp$8_overlay$jscomp$1$$){$filename$jscomp$8_overlay$jscomp$1$$=JSON.parse($gui$jscomp$5$$.$rsrc$[$filename$jscomp$8_overlay$jscomp$1$$]);for(var $key$jscomp$51$$ in $filename$jscomp$8_overlay$jscomp$1$$)if($filename$jscomp$8_overlay$jscomp$1$$.hasOwnProperty($key$jscomp$51$$))switch($key$jscomp$51$$){case "blocks":case "buttons":case "widgets":$gui$jscomp$5$$[$key$jscomp$51$$]=
$gui$jscomp$5$$[$key$jscomp$51$$].concat($filename$jscomp$8_overlay$jscomp$1$$[$key$jscomp$51$$]);break;case "toolbars":for(var $key2$$ in $filename$jscomp$8_overlay$jscomp$1$$[$key$jscomp$51$$])$filename$jscomp$8_overlay$jscomp$1$$[$key$jscomp$51$$].hasOwnProperty($key2$$)&&($gui$jscomp$5$$[$key$jscomp$51$$]=$gui$jscomp$5$$[$key$jscomp$51$$]||{},$gui$jscomp$5$$[$key$jscomp$51$$][$key2$$]=$filename$jscomp$8_overlay$jscomp$1$$[$key$jscomp$51$$][$key2$$])}}));var $app$jscomp$151$$=new $A3a$vpl$Application$$;
window.vplApp=$app$jscomp$151$$;$app$jscomp$151$$.username=$vplGetQueryOption$$("user")||window.vplUsername||$app$jscomp$151$$.username;$gui$jscomp$5$$&&$A3a$vpl$validateUI$$&&($app$jscomp$151$$.$program$.message=$A3a$vpl$validateUI$$($gui$jscomp$5$$),$app$jscomp$151$$.$program$.message&&window.console.info($app$jscomp$151$$.$program$.message));$gui$jscomp$5$$&&$gui$jscomp$5$$.css&&($gui$jscomp$5$$.css.forEach(function($filename$jscomp$9$$){$JSCompiler_StaticMethods_CSSParser_prototype$parse$$($app$jscomp$151$$.$css$,
$filename$jscomp$9$$,$gui$jscomp$5$$.$rsrc$[$filename$jscomp$9$$])}),$app$jscomp$151$$.$css$.defineProperties());$app$jscomp$151$$.$loadBox$=new $A3a$vpl$Load$$($app$jscomp$151$$);var $allowedViews_isClassic$$=void 0==$gui$jscomp$5$$||"classic"===$vplGetQueryOption$$("appearance");$app$jscomp$151$$.$useLocalStorage$="local"===$vplGetQueryOption$$("storage");$app$jscomp$151$$.$multipleViews$="false"!==$vplGetQueryOption$$("multiview");var $language$jscomp$12$$=$vplGetQueryOption$$("language");$CSSParser$VPL$debug$$=
"true"===$vplGetQueryOption$$("cssdebug");var $drawButton$jscomp$2_i$jscomp$209$$=$A3a$vpl$Commands$drawButtonJS$$,$getButtonBounds$jscomp$1_j$jscomp$15$$=$A3a$vpl$Commands$getButtonBoundsJS$$,$widgets$jscomp$1$$=$A3a$vpl$widgetsJS$$;$A3a$vpl$patchL2Blocks$$&&$A3a$vpl$patchL2Blocks$$();$A3a$vpl$patchJSBlocks$$&&$A3a$vpl$patchJSBlocks$$();$A3a$vpl$patchPythonBlocks$$&&$A3a$vpl$patchPythonBlocks$$();if($gui$jscomp$5$$&&!$allowedViews_isClassic$$&&(null!==$gui$jscomp$5$$.buttons&&($drawButton$jscomp$2_i$jscomp$209$$=
$A3a$vpl$drawButtonSVGFunction$$($gui$jscomp$5$$),$getButtonBounds$jscomp$1_j$jscomp$15$$=$A3a$vpl$getButtonBoundsSVGFunction$$($gui$jscomp$5$$)),null!==$gui$jscomp$5$$.widgets&&($widgets$jscomp$1$$=$A3a$vpl$makeSVGWidgets$$($gui$jscomp$5$$)),null!==$gui$jscomp$5$$.blocks))try{$A3a$vpl$patchBlocksSVG$$($gui$jscomp$5$$)}catch($e$jscomp$32$$){window.console&&window.console.error($e$jscomp$32$$)}$gui$jscomp$5$$.miscSettings&&void 0!=$gui$jscomp$5$$.miscSettings.basicMultiEvent&&($A3a$vpl$Program$basicMultiEvent$$=
1==$gui$jscomp$5$$.miscSettings.basicMultiEvent);if($gui$jscomp$5$$.miscSettings&&$gui$jscomp$5$$.miscSettings.viewRelativeSizes){var $commandServer_vrs$$=$gui$jscomp$5$$.miscSettings.viewRelativeSizes;$app$jscomp$151$$.$o$={vpl:$commandServer_vrs$$.vpl||1,src:$commandServer_vrs$$.src||1,sim:$commandServer_vrs$$.sim||1}}$commandServer_vrs$$=$vplGetQueryOption$$("server");var $commandSession$$=$vplGetQueryOption$$("session"),$advancedFeatures$$="true"===$vplGetQueryOption$$("adv"),$experimentalFeatures$$=
"true"===$vplGetQueryOption$$("exp"),$filterBlur_scale$jscomp$11_view$jscomp$9$$=0,$filterGrayscale_robot_rotation$jscomp$3$$=0,$filter$jscomp$4$$="",$mirror_opt$jscomp$13_views$jscomp$2$$=$vplGetQueryOption$$("blur").trim()||"";/^\d+$/.test($mirror_opt$jscomp$13_views$jscomp$2$$)&&($filterBlur_scale$jscomp$11_view$jscomp$9$$=parseInt($mirror_opt$jscomp$13_views$jscomp$2$$,10)/10);$mirror_opt$jscomp$13_views$jscomp$2$$=$vplGetQueryOption$$("grayscale")||"";/^\d+$/.test($mirror_opt$jscomp$13_views$jscomp$2$$)&&
($filterGrayscale_robot_rotation$jscomp$3$$=parseInt($mirror_opt$jscomp$13_views$jscomp$2$$,10)/100);if(0<$filterBlur_scale$jscomp$11_view$jscomp$9$$||0<$filterGrayscale_robot_rotation$jscomp$3$$)$filter$jscomp$4$$="blur("+$filterBlur_scale$jscomp$11_view$jscomp$9$$.toFixed(1)+"px) grayscale("+$filterGrayscale_robot_rotation$jscomp$3$$.toFixed(2)+")";$filterBlur_scale$jscomp$11_view$jscomp$9$$=1;$filterGrayscale_robot_rotation$jscomp$3$$=0;$mirror_opt$jscomp$13_views$jscomp$2$$=!1;var $transform$jscomp$5$$=
null;$mirror_opt$jscomp$13_views$jscomp$2$$=$vplGetQueryOption$$("scale").trim()||"";/^\d+(\.\d*)?$/.test($mirror_opt$jscomp$13_views$jscomp$2$$)&&($filterBlur_scale$jscomp$11_view$jscomp$9$$=parseFloat($mirror_opt$jscomp$13_views$jscomp$2$$));$mirror_opt$jscomp$13_views$jscomp$2$$=$vplGetQueryOption$$("rotation").trim()||"";/^-?\d+(\.\d*)?$/.test($mirror_opt$jscomp$13_views$jscomp$2$$)&&($filterGrayscale_robot_rotation$jscomp$3$$=parseFloat($mirror_opt$jscomp$13_views$jscomp$2$$)*Math.PI/180);$mirror_opt$jscomp$13_views$jscomp$2$$=
$vplGetQueryOption$$("mirror").trim()||"";$mirror_opt$jscomp$13_views$jscomp$2$$="true"===$mirror_opt$jscomp$13_views$jscomp$2$$;if(1!==$filterBlur_scale$jscomp$11_view$jscomp$9$$||0!==$filterGrayscale_robot_rotation$jscomp$3$$||$mirror_opt$jscomp$13_views$jscomp$2$$)$transform$jscomp$5$$=[$filterBlur_scale$jscomp$11_view$jscomp$9$$*Math.cos($filterGrayscale_robot_rotation$jscomp$3$$)*($mirror_opt$jscomp$13_views$jscomp$2$$?-1:1),$filterBlur_scale$jscomp$11_view$jscomp$9$$*Math.sin($filterGrayscale_robot_rotation$jscomp$3$$)*
($mirror_opt$jscomp$13_views$jscomp$2$$?-1:1),-$filterBlur_scale$jscomp$11_view$jscomp$9$$*Math.sin($filterGrayscale_robot_rotation$jscomp$3$$),$filterBlur_scale$jscomp$11_view$jscomp$9$$*Math.cos($filterGrayscale_robot_rotation$jscomp$3$$),0,0];$language$jscomp$12$$||($language$jscomp$12$$=0<=$app$jscomp$151$$.$currentRobotIndex$?$app$jscomp$151$$.$robots$[$app$jscomp$151$$.$currentRobotIndex$].$runGlue$.$preferredLanguage$:"aseba");$A3a$vpl$Program$resetBlockLib$$();$JSCompiler_StaticMethods_new$$($app$jscomp$151$$.$program$);
$app$jscomp$151$$.$program$.$resetUI$();$filterBlur_scale$jscomp$11_view$jscomp$9$$=$vplGetQueryOption$$("view");$mirror_opt$jscomp$13_views$jscomp$2$$=0===$filterBlur_scale$jscomp$11_view$jscomp$9$$.length?["vpl"]:$filterBlur_scale$jscomp$11_view$jscomp$9$$.split("+");$filterGrayscale_robot_rotation$jscomp$3$$=$vplGetQueryOption$$("robot");if(0<=$mirror_opt$jscomp$13_views$jscomp$2$$.indexOf("sim")||"sim"===$filterGrayscale_robot_rotation$jscomp$3$$)$filterGrayscale_robot_rotation$jscomp$3$$="sim";
$filterGrayscale_robot_rotation$jscomp$3$$.replace(/[+;]/g,",").split(",").forEach(function($robotName$$){var $runGlue$$=null;switch($robotName$$){case "thymio":$runGlue$$=$JSCompiler_StaticMethods_installThymio$$($app$jscomp$151$$);$runGlue$$.$init$($language$jscomp$12$$);break;case "thymio-tdm":$runGlue$$=$JSCompiler_StaticMethods_installThymioTDM$$($app$jscomp$151$$);$runGlue$$.$init$($language$jscomp$12$$);break;case "sim":$runGlue$$=$JSCompiler_StaticMethods_installRobotSimulator$$($app$jscomp$151$$,
{$canvasFilter$:$filter$jscomp$4$$,$canvasTransform$:$transform$jscomp$5$$}),$runGlue$$.$init$($language$jscomp$12$$)}$runGlue$$&&$app$jscomp$151$$.$robots$.push({name:$robotName$$,$runGlue$:$runGlue$$})});$app$jscomp$151$$.$currentRobotIndex$=0<$app$jscomp$151$$.$robots$.length?0:-1;if(!$A3a$vpl$Program$codeGenerator$$[$language$jscomp$12$$])throw"Unsupported language "+$language$jscomp$12$$;$JSCompiler_StaticMethods_setDisabledFeatures$$($app$jscomp$151$$.$uiConfig$,$advancedFeatures$$?[]:["src:language"]);
$app$jscomp$151$$.$program$.$currentLanguage$=$language$jscomp$12$$;$app$jscomp$151$$.$vplCanvas$.state.$vpl$=new $A3a$vpl$Program$CanvasRenderingState$$;$app$jscomp$151$$.$vplCanvas$.$v$=$widgets$jscomp$1$$;$app$jscomp$151$$.$program$.$program$.push(new $A3a$vpl$Rule$$);null!=$app$jscomp$151$$.$g$&&($app$jscomp$151$$.$g$.$v$=$widgets$jscomp$1$$);$JSCompiler_StaticMethods_addVPLCommands$$($app$jscomp$151$$);!$allowedViews_isClassic$$&&$gui$jscomp$5$$&&$gui$jscomp$5$$.toolbars&&($gui$jscomp$5$$.toolbars.vpl&&
($app$jscomp$151$$.$program$.$toolbarConfig$=$gui$jscomp$5$$.toolbars.vpl),$gui$jscomp$5$$.toolbars.vpl2&&($app$jscomp$151$$.$program$.$m$=$gui$jscomp$5$$.toolbars.vpl2));$app$jscomp$151$$.$program$.$toolbarDrawButton$=$drawButton$jscomp$2_i$jscomp$209$$;$app$jscomp$151$$.$program$.$toolbarGetButtonBounds$=$getButtonBounds$jscomp$1_j$jscomp$15$$;$A3a$vpl$VPLSourceEditor$$&&document.getElementById("editor")&&($app$jscomp$151$$.$editor$=new $A3a$vpl$VPLSourceEditor$$($app$jscomp$151$$,$app$jscomp$151$$.$program$.$noVPL$,
$language$jscomp$12$$),$JSCompiler_StaticMethods_setFilter$$($app$jscomp$151$$.$editor$.$tbCanvas$,$filter$jscomp$4$$),$app$jscomp$151$$.$program$.$i$=function $$app$jscomp$151$$$$program$$$i$$(){return $JSCompiler_StaticMethods_doesMatchVPL$$($app$jscomp$151$$.$editor$)?null:$app$jscomp$151$$.$editor$.$getCode$()},$app$jscomp$151$$.$program$.$j$=function $$app$jscomp$151$$$$program$$$j$$($code$jscomp$32$$){$JSCompiler_StaticMethods_setCode$$($app$jscomp$151$$.$editor$,$code$jscomp$32$$)},$app$jscomp$151$$.$editor$.$tbCanvas$.$v$=
$widgets$jscomp$1$$,$JSCompiler_StaticMethods_addSrcCommands$$($app$jscomp$151$$),!$allowedViews_isClassic$$&&$gui$jscomp$5$$&&$gui$jscomp$5$$.toolbars&&$gui$jscomp$5$$.toolbars.editor&&($app$jscomp$151$$.$editor$.$toolbarConfig$=$gui$jscomp$5$$.toolbars.editor),$app$jscomp$151$$.$editor$.$toolbarDrawButton$=$drawButton$jscomp$2_i$jscomp$209$$,$app$jscomp$151$$.$editor$.$toolbarGetButtonBounds$=$getButtonBounds$jscomp$1_j$jscomp$15$$,$JSCompiler_StaticMethods_A3a_vpl_VPLSourceEditor_prototype$setTeacherRole$$($app$jscomp$151$$.$editor$));
null!=$app$jscomp$151$$.$sim2d$&&($JSCompiler_StaticMethods_addSim2DCommands$$($app$jscomp$151$$),!$allowedViews_isClassic$$&&$gui$jscomp$5$$&&$gui$jscomp$5$$.toolbars&&$gui$jscomp$5$$.toolbars.simulator&&($app$jscomp$151$$.$sim2d$.$toolbarConfig$=$gui$jscomp$5$$.toolbars.simulator),$app$jscomp$151$$.$sim2d$.$toolbarDrawButton$=$drawButton$jscomp$2_i$jscomp$209$$,$app$jscomp$151$$.$sim2d$.$toolbarGetButtonBounds$=$getButtonBounds$jscomp$1_j$jscomp$15$$);$filter$jscomp$4$$&&$JSCompiler_StaticMethods_setFilter$$($app$jscomp$151$$.$vplCanvas$,
$filter$jscomp$4$$);$JSCompiler_StaticMethods_initTransform$$($app$jscomp$151$$.$vplCanvas$,$transform$jscomp$5$$);document.getElementsByTagName("body")[0].addEventListener("dragover",function($e$jscomp$33$$){$e$jscomp$33$$.stopPropagation();$e$jscomp$33$$.preventDefault();$e$jscomp$33$$.dataTransfer.dropEffect="copy"},!1);document.getElementsByTagName("body")[0].addEventListener("drop",function($e$jscomp$34_file$jscomp$3_files$$){$e$jscomp$34_file$jscomp$3_files$$.stopPropagation();$e$jscomp$34_file$jscomp$3_files$$.preventDefault();
$e$jscomp$34_file$jscomp$3_files$$=$e$jscomp$34_file$jscomp$3_files$$.dataTransfer.files;1===$e$jscomp$34_file$jscomp$3_files$$.length&&($e$jscomp$34_file$jscomp$3_files$$=$e$jscomp$34_file$jscomp$3_files$$[0],$JSCompiler_StaticMethods_loadProgramFile$$($app$jscomp$151$$,$e$jscomp$34_file$jscomp$3_files$$)||$JSCompiler_StaticMethods_loadImageFile$$($app$jscomp$151$$,$e$jscomp$34_file$jscomp$3_files$$))},!1);if($app$jscomp$151$$.$sim2d$){$app$jscomp$151$$.$sim2d$.$uiConfig$=$app$jscomp$151$$.$uiConfig$;
var $defaultGroundImg$$=new Image;$defaultGroundImg$$.addEventListener("load",function(){$app$jscomp$151$$.$sim2d$.$disabledGroundImage$=$defaultGroundImg$$});$defaultGroundImg$$.src="data:image/svg+xml;base64,"+btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="297mm" height="210mm" viewBox="0 0 1052 744" version="1.1"><defs><linearGradient id="gradient" x1="-1000" y1="0" x2="-800" y2="0" gradientUnits="userSpaceOnUse"><stop style="stop-color:#000;stop-opacity:1;" offset="0" /><stop style="stop-color:#000;stop-opacity:0;" offset="1" /></linearGradient></defs><g transform="translate(0,-308)"><rect style="fill:url(#gradient);stroke:none" width="319" height="687" x="-1027" y="336" transform="scale(-1,1)" /><path style="fill:none;stroke:#000;stroke-width:30;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none" d="M 114,592 C 102,417 750,306 778,532 806,757 674,675 559,622 444,568 259,567 278,664 296,762 726,730 778,808 829,887 725,955 616,936 507,917 144,1083 129,837 Z" /></g></svg>');
var $defaultHeightImg$$=new Image;$defaultHeightImg$$.addEventListener("load",function(){$app$jscomp$151$$.$sim2d$.$disabledHeightImage$=$defaultHeightImg$$});$defaultHeightImg$$.src="data:image/svg+xml;base64,"+btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" width="297mm" height="210mm" viewBox="0 0 1052 744" version="1.1"><defs><radialGradient id="gradient" cx="400" cy="650" fx="400" fy="650" r="230" gradientTransform="matrix(1.6,0,0,1.16,-113,-75)" gradientUnits="userSpaceOnUse"><stop style="stop-color:#000;stop-opacity:1;" offset="0" /><stop style="stop-color:#000;stop-opacity:0;" offset="1" /></radialGradient></defs><g transform="translate(0,-308)"><rect style="fill:url(#gradient);fill-opacity:1;stroke:none" width="939" height="650" x="54" y="357" /></g></svg>');
$app$jscomp$151$$.$sim2d$.$disabledObstacleSVG$='<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" width="297mm" height="210mm" viewBox="0 0 1052 744" version="1.1"><g transform="translate(0,-308)"><path style="fill:none;stroke:#000;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter" d="M 172,928 137,420 763,371 905,688 708,981 Z" /><path style="fill:none;stroke:#949494;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter" d="m 402,754 168,91 101,-142" /><circle style="fill:none;stroke:#000;stroke-width:6" cx="531" cy="550" r="59" /></g></svg>'}if(window.vplStorageGetFunction)window.vplStorageGetFunction("vpl.json",
function($data$jscomp$76$$,$options$jscomp$23$$){try{$data$jscomp$76$$&&($JSCompiler_StaticMethods_importFromJSON$$($app$jscomp$151$$.$program$,$data$jscomp$76$$,function(){$JSCompiler_StaticMethods_renderProgramToCanvas$$($app$jscomp$151$$)}),$app$jscomp$151$$.$program$.filename=$options$jscomp$23$$&&$options$jscomp$23$$.filename||"vpl.json",$app$jscomp$151$$.$program$.readOnly=void 0!=$options$jscomp$23$$&&1==$options$jscomp$23$$.readOnly)}catch($e$jscomp$35$$){}});else if($app$jscomp$151$$.$useLocalStorage$)try{var $vplJson$$=
window.localStorage.getItem("vpl.json");$vplJson$$&&$JSCompiler_StaticMethods_importFromJSON$$($app$jscomp$151$$.$program$,$vplJson$$,function(){$JSCompiler_StaticMethods_renderProgramToCanvas$$($app$jscomp$151$$)})}catch($e$jscomp$36$$){}"text"===$vplGetQueryOption$$("view")?$JSCompiler_StaticMethods_setView$$($app$jscomp$151$$,["src"],{$noVPL$:!0}):($JSCompiler_StaticMethods_setView$$($app$jscomp$151$$,["vpl"]),$app$jscomp$151$$.$program$.$experimentalFeatures$=$experimentalFeatures$$,$JSCompiler_StaticMethods_A3a_vpl_Program_prototype$setTeacherRole$$($app$jscomp$151$$.$program$),
$JSCompiler_StaticMethods_renderProgramToCanvas$$($app$jscomp$151$$),$app$jscomp$151$$.$editor$&&(document.getElementById("editor").textContent=$app$jscomp$151$$.$program$.$getCode$($app$jscomp$151$$.$program$.$currentLanguage$)));var $languageList$$=["aseba","l2","js","python"];$app$jscomp$151$$.$editor$&&0<=$languageList$$.indexOf($language$jscomp$12$$)&&$JSCompiler_StaticMethods_setUpdateCodeLanguageFunction$$($app$jscomp$151$$.$editor$,function(){$language$jscomp$12$$=$languageList$$[($languageList$$.indexOf($language$jscomp$12$$)+
1)%$languageList$$.length];$app$jscomp$151$$.$program$.$currentLanguage$=$language$jscomp$12$$;var $code$jscomp$33$$=$app$jscomp$151$$.$program$.$getCode$($language$jscomp$12$$);return{language:$language$jscomp$12$$,code:$code$jscomp$33$$}});if($advancedFeatures$$&&$app$jscomp$151$$.$editor$){var $asebaNode$$=new $A3a$A3aNode$$;$app$jscomp$151$$.$editor$.$disass$=function $$app$jscomp$151$$$$editor$$$disass$$($language$jscomp$13$$,$src$jscomp$9$$){try{switch($language$jscomp$13$$){case "aseba":var $c$jscomp$19$$=
new $A3a$Compiler$$($asebaNode$$,$src$jscomp$9$$);$c$jscomp$19$$.$C$=$A3a$A3aNode$stdMacros$$;break;case "l2":$c$jscomp$19$$=new $A3a$Compiler$L2$$($asebaNode$$,$src$jscomp$9$$);$c$jscomp$19$$.$C$=$A3a$A3aNode$stdMacrosL2$$;break;default:return null}var $bytecode$$=$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$$($c$jscomp$19$$);return $A3a$vm$disToListing$$($bytecode$$)}catch($e$jscomp$37$$){return"; "+$e$jscomp$37$$}}}$gui$jscomp$5$$&&$gui$jscomp$5$$.fragments&&$gui$jscomp$5$$.fragments["about.html"]&&
$JSCompiler_StaticMethods_setAboutBoxContent$$($app$jscomp$151$$,$gui$jscomp$5$$.fragments["about.html"]);$gui$jscomp$5$$&&$gui$jscomp$5$$.fragments&&$gui$jscomp$5$$.fragments["help.html"]&&$JSCompiler_StaticMethods_setHelpContent$$($app$jscomp$151$$,$gui$jscomp$5$$.fragments["help.html"]);$gui$jscomp$5$$&&$gui$jscomp$5$$.fragments&&$gui$jscomp$5$$.fragments["vpl-export-html.css"]&&($app$jscomp$151$$.$i$=$gui$jscomp$5$$.fragments["vpl-export-html.css"]);$JSCompiler_StaticMethods_vplResize$$($app$jscomp$151$$);
$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$$($app$jscomp$151$$.$vplCanvas$);window.addEventListener("resize",function(){$JSCompiler_StaticMethods_vplResize$$($app$jscomp$151$$)},!1);$app$jscomp$151$$.$sim2d$&&$JSCompiler_StaticMethods_A3a_vpl_VPLSim2DViewer_prototype$setTeacherRole$$($app$jscomp$151$$.$sim2d$);if("text"===$filterBlur_scale$jscomp$11_view$jscomp$9$$)$JSCompiler_StaticMethods_setView$$($app$jscomp$151$$,["src"],{$noVPL$:!0});else{$allowedViews_isClassic$$=["vpl","src",
"sim"];if(1>$mirror_opt$jscomp$13_views$jscomp$2$$.length||3<$mirror_opt$jscomp$13_views$jscomp$2$$.length||""===$filterBlur_scale$jscomp$11_view$jscomp$9$$)$filterBlur_scale$jscomp$11_view$jscomp$9$$="vpl";else for($drawButton$jscomp$2_i$jscomp$209$$=0;$drawButton$jscomp$2_i$jscomp$209$$<$mirror_opt$jscomp$13_views$jscomp$2$$.length;$drawButton$jscomp$2_i$jscomp$209$$++){if(0>!$allowedViews_isClassic$$.indexOf($mirror_opt$jscomp$13_views$jscomp$2$$[$drawButton$jscomp$2_i$jscomp$209$$])){$filterBlur_scale$jscomp$11_view$jscomp$9$$=
"vpl";break}for($getButtonBounds$jscomp$1_j$jscomp$15$$=0;$getButtonBounds$jscomp$1_j$jscomp$15$$<$drawButton$jscomp$2_i$jscomp$209$$;$getButtonBounds$jscomp$1_j$jscomp$15$$++)if($mirror_opt$jscomp$13_views$jscomp$2$$[$drawButton$jscomp$2_i$jscomp$209$$]===$mirror_opt$jscomp$13_views$jscomp$2$$[$getButtonBounds$jscomp$1_j$jscomp$15$$]){$filterBlur_scale$jscomp$11_view$jscomp$9$$="vpl";break}}$JSCompiler_StaticMethods_setView$$($app$jscomp$151$$,$mirror_opt$jscomp$13_views$jscomp$2$$)}$JSCompiler_StaticMethods_vplResize$$($app$jscomp$151$$);
$commandServer_vrs$$&&(window.vplCommandServer=new $A3a$vpl$Com$$($app$jscomp$151$$,$commandServer_vrs$$,$commandSession$$),window.vplCommandServer.connect())}
window.addEventListener("load",function(){(/^https?:\/\//.test(document.location.href)?$vplLoadResourcesWithXHR$$:$vplLoadResourcesInScripts$$)($vplGetQueryOption$$("ui")||"ui.json",function($obj$jscomp$33$$){return($obj$jscomp$33$$.svgFilenames||[]).concat($obj$jscomp$33$$.overlays||[]).concat($obj$jscomp$33$$.css||[])},function($gui$jscomp$6$$,$rsrc$jscomp$2$$){$gui$jscomp$6$$.$rsrc$={};$gui$jscomp$6$$.$svg$={};$gui$jscomp$6$$.svgFilenames&&$gui$jscomp$6$$.svgFilenames.forEach(function($filename$jscomp$10$$){$gui$jscomp$6$$.$rsrc$[$filename$jscomp$10$$]=
$rsrc$jscomp$2$$[$filename$jscomp$10$$];$gui$jscomp$6$$.$svg$[$filename$jscomp$10$$]=new $SVG$Preparsed$$($rsrc$jscomp$2$$[$filename$jscomp$10$$])});$gui$jscomp$6$$.overlays&&$gui$jscomp$6$$.overlays.forEach(function($filename$jscomp$11$$){$gui$jscomp$6$$.$rsrc$[$filename$jscomp$11$$]=$rsrc$jscomp$2$$[$filename$jscomp$11$$]});$gui$jscomp$6$$.css&&$gui$jscomp$6$$.css.forEach(function($filename$jscomp$12$$){$gui$jscomp$6$$.$rsrc$[$filename$jscomp$12$$]=$rsrc$jscomp$2$$[$filename$jscomp$12$$]});$vplSetup$$($gui$jscomp$6$$)},
function($e$jscomp$38$$){window.console&&window.console.error($e$jscomp$38$$);$vplSetup$$()})},!1);window.vplIsProgramChanged=function $window$vplIsProgramChanged$(){return 0<window.vplApp.$program$.$undoState$.$undoStack$.length};window.vplGetProgramAsJSON=function $window$vplGetProgramAsJSON$(){return $JSCompiler_StaticMethods_exportToJSON$$(window.vplApp.$program$)};
window.addEventListener("unload",function(){var $json$jscomp$15$$=$JSCompiler_StaticMethods_exportToJSON$$(window.vplApp.$program$);try{window.vplStorageSetFunction?window.vplStorageSetFunction("vpl.json",$json$jscomp$15$$):window.vplApp.$useLocalStorage$&&window.localStorage.setItem("vpl.json",$json$jscomp$15$$)}catch($e$jscomp$39$$){}},!1);function $A3a$vpl$Robot$$(){this.$speedupFactor$=1}$A3a$vpl$Robot$$.prototype.reset=function $$A3a$vpl$Robot$$$$reset$(){};$A3a$vpl$Robot$$.prototype.resetEventListeners=function $$A3a$vpl$Robot$$$$resetEventListeners$(){};$A3a$vpl$Robot$$.prototype.set=function $$A3a$vpl$Robot$$$$set$(){};$A3a$vpl$Robot$$.prototype.get=function $$A3a$vpl$Robot$$$$get$(){return null};$A3a$vpl$Robot$$.prototype.setClientState=function $$A3a$vpl$Robot$$$$setClientState$(){};
$A3a$vpl$Robot$$.prototype.getClientState=function $$A3a$vpl$Robot$$$$getClientState$(){return null};$A3a$vpl$Robot$$.prototype.addEventListener=function $$A3a$vpl$Robot$$$$addEventListener$(){};$A3a$vpl$Robot$$.prototype.sendEvent=function $$A3a$vpl$Robot$$$$sendEvent$(){};$A3a$vpl$Robot$$.prototype.start=function $$A3a$vpl$Robot$$$$start$(){this.sendEvent("init",null)};$A3a$vpl$Robot$$.prototype.setTimer=function $$A3a$vpl$Robot$$$$setTimer$(){};$A3a$vpl$Robot$$.prototype.getTimer=function $$A3a$vpl$Robot$$$$getTimer$(){return-1};
$A3a$vpl$Robot$$.prototype.loadCode=function $$A3a$vpl$Robot$$$$loadCode$(){};$A3a$vpl$Robot$$.prototype.shouldRunContinuously=function $$A3a$vpl$Robot$$$$shouldRunContinuously$(){return!1};$A3a$vpl$Robot$$.prototype.run=function $$A3a$vpl$Robot$$$$run$(){};$A3a$vpl$Robot$$.prototype.suspend=function $$A3a$vpl$Robot$$$$suspend$(){};$A3a$vpl$Robot$$.prototype.resume=function $$A3a$vpl$Robot$$$$resume$(){};function $A3a$vpl$VirtualThymio$$(){this.$speedupFactor$=1;this.$A$={$xmin$:-Infinity,$xmax$:Infinity,$ymin$:-Infinity,$ymax$:Infinity};this.$l$=this.$m$=0;this.r=70;this.$b$=[0,0];this.$g$=0;this.$hasNoise$=!1;this.$C$=120;this.$F$=80;this.$I$=20;this.state={};this.$u$={};this.$B$=null;this.$H$={};this.$j$=[];this.$v$={};this.$G$=!1;this.$o$=null;$A3a$vpl$VirtualThymio$$.prototype.reset.call(this,0);$A3a$vpl$VirtualThymio$$.prototype.resetEventListeners.call(this)}
$A3a$vpl$VirtualThymio$$.prototype=Object.create($A3a$vpl$Robot$$.prototype);$A3a$vpl$VirtualThymio$$.prototype.constructor=$A3a$vpl$VirtualThymio$$;$A3a$vpl$VirtualThymio$$.prototype.setPositionLimits=function $$A3a$vpl$VirtualThymio$$$$setPositionLimits$($xmin$jscomp$1$$,$xmax$jscomp$1$$,$ymin$jscomp$1$$,$ymax$jscomp$1$$){this.$A$={$xmin$:$xmin$jscomp$1$$,$xmax$:$xmax$jscomp$1$$,$ymin$:$ymin$jscomp$1$$,$ymax$:$ymax$jscomp$1$$}};
$A3a$vpl$VirtualThymio$$.prototype.reset=function $$A3a$vpl$VirtualThymio$$$$reset$($t0$jscomp$1$$){this.$l$=this.$m$=$t0$jscomp$1$$;this.$b$=[0,0];this.$g$=0;this.state={"button.center":!1,"button.left":!1,"button.right":!1,"button.forward":!1,"button.backward":!1,"prox.ground.delta":[1,1],"prox.horizontal":[0,0,0,0,0,0,0],acc:[0,0,1],"motor.left":0,"motor.right":0,"leds.top":[0,0,0],"leds.bottom.left":[0,0,0],"leds.bottom.right":[0,0,0],"leds.circle":[0,0,0,0,0,0,0,0],sound:{}};this.$G$=!1;var $self$jscomp$28$$=
this;this.$u$={"leds.circle":function $this$$u$$__62$(){$self$jscomp$28$$.$G$=!0},sound:function $this$$u$$sound$($name$jscomp$107$$,$val$jscomp$36$$){function $playNote$$(){if(!($i$jscomp$210$$>=$val$jscomp$36$$.f.length)){$self$jscomp$28$$.$o$||($self$jscomp$28$$.$o$=new (window.AudioContext||window.webkitAudioContext));var $oscNode$$=$self$jscomp$28$$.$o$.createOscillator();$oscNode$$.type="sawtooth";$oscNode$$.frequency.value=$val$jscomp$36$$.f[$i$jscomp$210$$];var $gainNode$$=$self$jscomp$28$$.$o$.createGain();
$gainNode$$.connect($self$jscomp$28$$.$o$.destination);$oscNode$$.connect($gainNode$$);$oscNode$$.start(0);var $d$jscomp$17$$=$val$jscomp$36$$.d[$i$jscomp$210$$]/50;$gainNode$$.gain.exponentialRampToValueAtTime(.01,$self$jscomp$28$$.$o$.currentTime+$d$jscomp$17$$);$oscNode$$.stop($self$jscomp$28$$.$o$.currentTime+$d$jscomp$17$$);$oscNode$$.addEventListener("ended",$playNote$$);$i$jscomp$210$$++}}if($val$jscomp$36$$.f){var $i$jscomp$210$$=0;$playNote$$()}}};this.$j$=[];this.$suspended$=!1};
$A3a$vpl$VirtualThymio$$.prototype.resetEventListeners=function $$A3a$vpl$VirtualThymio$$$$resetEventListeners$(){this.$v$={}};$A3a$vpl$VirtualThymio$$.prototype.enforcePositionLimits=function $$A3a$vpl$VirtualThymio$$$$enforcePositionLimits$(){this.$b$=[Math.max(this.$A$.$xmin$,Math.min(this.$A$.$xmax$,this.$b$[0])),Math.max(this.$A$.$ymin$,Math.min(this.$A$.$ymax$,this.$b$[1]))]};
$A3a$vpl$VirtualThymio$$.prototype.setPosition=function $$A3a$vpl$VirtualThymio$$$$setPosition$($pos$jscomp$4$$,$theta$$){this.$b$=$pos$jscomp$4$$;this.$g$=$theta$$;this.enforcePositionLimits();this.$B$&&this.$B$.call(this)};$A3a$vpl$VirtualThymio$$.prototype.set=function $$A3a$vpl$VirtualThymio$$$$set$($name$jscomp$108$$,$val$jscomp$37$$){this.state[$name$jscomp$108$$]=$val$jscomp$37$$;this.$u$[$name$jscomp$108$$]&&this.$u$[$name$jscomp$108$$]($name$jscomp$108$$,$val$jscomp$37$$)};
$A3a$vpl$VirtualThymio$$.prototype.get=function $$A3a$vpl$VirtualThymio$$$$get$($name$jscomp$109$$){return this.state[$name$jscomp$109$$]};$A3a$vpl$VirtualThymio$$.prototype.setClientState=function $$A3a$vpl$VirtualThymio$$$$setClientState$($name$jscomp$110$$,$val$jscomp$38$$){this.$H$[$name$jscomp$110$$]=$val$jscomp$38$$};
$A3a$vpl$VirtualThymio$$.prototype.getClientState=function $$A3a$vpl$VirtualThymio$$$$getClientState$($name$jscomp$111_val$jscomp$39$$){$name$jscomp$111_val$jscomp$39$$=this.$H$[$name$jscomp$111_val$jscomp$39$$];$name$jscomp$111_val$jscomp$39$$ instanceof Array&&($name$jscomp$111_val$jscomp$39$$=$name$jscomp$111_val$jscomp$39$$.slice());return $name$jscomp$111_val$jscomp$39$$};
$A3a$vpl$VirtualThymio$$.prototype.addEventListener=function $$A3a$vpl$VirtualThymio$$$$addEventListener$($name$jscomp$112$$,$fun$jscomp$8$$){this.$v$[$name$jscomp$112$$]=$fun$jscomp$8$$};
$A3a$vpl$VirtualThymio$$.prototype.sendEvent=function $$A3a$vpl$VirtualThymio$$$$sendEvent$($name$jscomp$113$$,$val$jscomp$40$$){this.$v$[$name$jscomp$113$$]&&this.$v$[$name$jscomp$113$$].call(this,$name$jscomp$113$$,$val$jscomp$40$$);for(var $key$jscomp$52$$ in this.$v$)if(0===$key$jscomp$52$$.indexOf($name$jscomp$113$$+"."))this.$v$[$key$jscomp$52$$]($name$jscomp$113$$,$val$jscomp$40$$)};
$A3a$vpl$VirtualThymio$$.prototype.setTimer=function $$A3a$vpl$VirtualThymio$$$$setTimer$($id$jscomp$39$$,$period$jscomp$1$$,$isPeriodic$jscomp$1$$){this.$j$[$id$jscomp$39$$]={next:this.$l$-this.$m$+$period$jscomp$1$$,$period$:$isPeriodic$jscomp$1$$?$period$jscomp$1$$:-1}};$A3a$vpl$VirtualThymio$$.prototype.getTimer=function $$A3a$vpl$VirtualThymio$$$$getTimer$($id$jscomp$40$$){return void 0===this.$j$[$id$jscomp$40$$]||0>this.$j$[$id$jscomp$40$$].next?-1:this.$m$+this.$j$[$id$jscomp$40$$]-this.$l$};
$A3a$vpl$VirtualThymio$$.prototype.loadCode=function $$A3a$vpl$VirtualThymio$$$$loadCode$($language$jscomp$15$$,$code$jscomp$35$$){if("js"!==$language$jscomp$15$$)throw"unsupported language "+$language$jscomp$15$$;(new Function($code$jscomp$35$$)).call(this)};
$A3a$vpl$VirtualThymio$$.prototype.shouldRunContinuously=function $$A3a$vpl$VirtualThymio$$$$shouldRunContinuously$(){if(this.$suspended$)return!1;if(0!==this.get("motor.left")||0!==this.get("motor.right"))return!0;for(var $i$jscomp$211$$=0;$i$jscomp$211$$<this.$j$.length;$i$jscomp$211$$++)if(this.$j$[$i$jscomp$211$$]&&0<this.$j$[$i$jscomp$211$$].next)return!0;return!1};
function $JSCompiler_StaticMethods_noise$$($JSCompiler_StaticMethods_noise$self$$,$s$jscomp$42$$){return $JSCompiler_StaticMethods_noise$self$$.$hasNoise$?$s$jscomp$42$$*Math.sqrt(-2*Math.log(Math.random()))*Math.sin(2*Math.PI*Math.random()):0}
$A3a$vpl$VirtualThymio$$.prototype.run=function $$A3a$vpl$VirtualThymio$$$$run$($tStop$jscomp$1$$,$traceFun$jscomp$1$$){0===this.$m$&&this.reset($tStop$jscomp$1$$);1!==this.$speedupFactor$&&(this.$m$-=(this.$speedupFactor$-1)*($tStop$jscomp$1$$-this.$l$),this.$l$=this.$speedupFactor$*(this.$l$-$tStop$jscomp$1$$)+$tStop$jscomp$1$$);for(var $dt$$=Math.max(.01,($tStop$jscomp$1$$-this.$l$)/10),$posPrev$$=this.$b$;!this.$suspended$&&this.$l$<$tStop$jscomp$1$$;){$dt$$=Math.min($dt$$,$tStop$jscomp$1$$-this.$l$);
var $dLeft_dTheta$$=(100*this.get("motor.left")+$JSCompiler_StaticMethods_noise$$(this,1))*$dt$$,$dRight$$=(100*this.get("motor.right")+$JSCompiler_StaticMethods_noise$$(this,1))*$dt$$;if(0!==$dLeft_dTheta$$||0!=$dRight$$){if(1E-6>Math.abs($dLeft_dTheta$$-$dRight$$)||Math.abs($dLeft_dTheta$$-$dRight$$)<1E-4*(Math.abs($dLeft_dTheta$$)+Math.abs($dRight$$)))this.$b$=[this.$b$[0]+.5*($dLeft_dTheta$$+$dRight$$)*Math.cos(this.$g$),this.$b$[1]+.5*($dLeft_dTheta$$+$dRight$$)*Math.sin(this.$g$)];else{var $R$jscomp$1_i$jscomp$212$$=
($dLeft_dTheta$$+$dRight$$)*this.r/($dLeft_dTheta$$-$dRight$$);$dLeft_dTheta$$=($dRight$$-$dLeft_dTheta$$)/(2*this.r);this.$b$=[this.$b$[0]+$R$jscomp$1_i$jscomp$212$$*(Math.sin(this.$g$)-Math.sin(this.$g$+$dLeft_dTheta$$)),this.$b$[1]-$R$jscomp$1_i$jscomp$212$$*(Math.cos(this.$g$)-Math.cos(this.$g$+$dLeft_dTheta$$))];this.$g$+=$dLeft_dTheta$$}this.enforcePositionLimits();this.$B$&&this.$B$.call(this)}this.$l$+=$dt$$;this.sendEvent("prox",null);for($R$jscomp$1_i$jscomp$212$$=0;$R$jscomp$1_i$jscomp$212$$<
this.$j$.length;$R$jscomp$1_i$jscomp$212$$++)this.$j$[$R$jscomp$1_i$jscomp$212$$]&&0<this.$j$[$R$jscomp$1_i$jscomp$212$$].next&&this.$l$>=this.$m$+this.$j$[$R$jscomp$1_i$jscomp$212$$].next+$JSCompiler_StaticMethods_noise$$(this,.01)&&(this.$j$[$R$jscomp$1_i$jscomp$212$$].next=0<=this.$j$[$R$jscomp$1_i$jscomp$212$$].$period$?this.$j$[$R$jscomp$1_i$jscomp$212$$].next+this.$j$[$R$jscomp$1_i$jscomp$212$$].$period$:-1,this.sendEvent("timer"+$R$jscomp$1_i$jscomp$212$$.toString(10),null))}$traceFun$jscomp$1$$&&
$traceFun$jscomp$1$$("l",$posPrev$$.concat(this.$b$))};$A3a$vpl$VirtualThymio$$.prototype.suspend=function $$A3a$vpl$VirtualThymio$$$$suspend$(){this.$suspended$=!0};$A3a$vpl$VirtualThymio$$.prototype.resume=function $$A3a$vpl$VirtualThymio$$$$resume$($t$jscomp$8$$){this.$suspended$&&(this.$m$+=$t$jscomp$8$$-this.$l$,this.$l$=$t$jscomp$8$$,this.$suspended$=!1)};var $A3a$vm$condName$$="shift left;shift right;add;sub;mult;div;mod;bitor;bitxor;bitand;eq;ne;gt;ge;lt;le;or;and".split(";");function $A3a$vm$dis$$($bytecode$jscomp$1$$){function $s16$$($u16$$){return 32784<=$u16$$?$u16$$-65536:$u16$$}function $s12$$($u12$$){return 2048<=$u12$$?$u12$$-4096:$u12$$}var $code$jscomp$36$$=[],$eventVectorSize_instr$$=$bytecode$jscomp$1$$[0];$code$jscomp$36$$.push({$addr$:0,$op$:$bytecode$jscomp$1$$.slice(0,1),$instr$:-1,$str$:"dc "+$bytecode$jscomp$1$$[0]});for(var $eventVectorTable$$=[],$i$jscomp$213$$=1;$i$jscomp$213$$<$eventVectorSize_instr$$;$i$jscomp$213$$+=2)$eventVectorTable$$.push({id:$bytecode$jscomp$1$$[$i$jscomp$213$$],
$addr$:$bytecode$jscomp$1$$[$i$jscomp$213$$+1]}),$code$jscomp$36$$.push({$addr$:$i$jscomp$213$$,$op$:$bytecode$jscomp$1$$.slice($i$jscomp$213$$,$i$jscomp$213$$+2),$instr$:-1,$str$:"dc 0x"+$bytecode$jscomp$1$$[$i$jscomp$213$$].toString(16)+", "+$bytecode$jscomp$1$$[$i$jscomp$213$$+1]});for($i$jscomp$213$$=$eventVectorSize_instr$$;$i$jscomp$213$$<$bytecode$jscomp$1$$.length;$i$jscomp$213$$++){$eventVectorSize_instr$$={$addr$:$i$jscomp$213$$,$op$:$bytecode$jscomp$1$$.slice($i$jscomp$213$$,$i$jscomp$213$$+
1),$instr$:$bytecode$jscomp$1$$[$i$jscomp$213$$]>>>12};for(var $j$jscomp$16_op$$=0;$j$jscomp$16_op$$<$eventVectorTable$$.length;$j$jscomp$16_op$$++)if($eventVectorTable$$[$j$jscomp$16_op$$].$addr$===$i$jscomp$213$$){$eventVectorSize_instr$$.id="@onevent_"+$eventVectorTable$$[$j$jscomp$16_op$$].id.toString(16);break}$j$jscomp$16_op$$=$bytecode$jscomp$1$$[$i$jscomp$213$$];switch($j$jscomp$16_op$$>>>12){case 0:$eventVectorSize_instr$$.$str$="stop";break;case 1:$eventVectorSize_instr$$.$str$="push.s "+
(($j$jscomp$16_op$$&4095)-($j$jscomp$16_op$$&2048?4096:0));break;case 2:$eventVectorSize_instr$$.$op$=$bytecode$jscomp$1$$.slice($i$jscomp$213$$,$i$jscomp$213$$+2);$eventVectorSize_instr$$.$str$="push "+$s16$$($bytecode$jscomp$1$$[++$i$jscomp$213$$]);break;case 3:$eventVectorSize_instr$$.$str$="load "+($j$jscomp$16_op$$&4095);break;case 4:$eventVectorSize_instr$$.$str$="store "+($j$jscomp$16_op$$&4095);break;case 5:$eventVectorSize_instr$$.$op$=$bytecode$jscomp$1$$.slice($i$jscomp$213$$,$i$jscomp$213$$+
2);$eventVectorSize_instr$$.$str$="load "+($j$jscomp$16_op$$&4095)+"+ind size="+$bytecode$jscomp$1$$[++$i$jscomp$213$$];break;case 6:$eventVectorSize_instr$$.$op$=$bytecode$jscomp$1$$.slice($i$jscomp$213$$,$i$jscomp$213$$+2);$eventVectorSize_instr$$.$str$="store "+($j$jscomp$16_op$$&4095)+"+ind size="+$bytecode$jscomp$1$$[++$i$jscomp$213$$];break;case 7:case 8:switch($j$jscomp$16_op$$){case 28672:$eventVectorSize_instr$$.$str$="neg";break;case 28673:$eventVectorSize_instr$$.$str$="abs";break;case 28674:$eventVectorSize_instr$$.$str$=
"bitnot";break;case 28675:$eventVectorSize_instr$$.$str$="not ; not implemented";break;case 32768:$eventVectorSize_instr$$.$str$="sl";break;case 32769:$eventVectorSize_instr$$.$str$="asr";break;case 32770:$eventVectorSize_instr$$.$str$="add";break;case 32771:$eventVectorSize_instr$$.$str$="sub";break;case 32772:$eventVectorSize_instr$$.$str$="mult";break;case 32773:$eventVectorSize_instr$$.$str$="div";break;case 32774:$eventVectorSize_instr$$.$str$="mod";break;case 32775:$eventVectorSize_instr$$.$str$=
"bitor";break;case 32776:$eventVectorSize_instr$$.$str$="bitxor";break;case 32777:$eventVectorSize_instr$$.$str$="bitand";break;case 32778:$eventVectorSize_instr$$.$str$="eq";break;case 32779:$eventVectorSize_instr$$.$str$="ne";break;case 32780:$eventVectorSize_instr$$.$str$="gt";break;case 32781:$eventVectorSize_instr$$.$str$="ge";break;case 32782:$eventVectorSize_instr$$.$str$="lt";break;case 32783:$eventVectorSize_instr$$.$str$="le";break;case 32784:$eventVectorSize_instr$$.$str$="or";break;case 32785:$eventVectorSize_instr$$.$str$=
"and";break;default:throw"Unknown instruction "+$j$jscomp$16_op$$.toString(16);}break;case 9:$eventVectorSize_instr$$.$str$="jump "+($i$jscomp$213$$+$s12$$($j$jscomp$16_op$$&4095));break;case 10:$eventVectorSize_instr$$.$op$=$bytecode$jscomp$1$$.slice($i$jscomp$213$$,$i$jscomp$213$$+2);$eventVectorSize_instr$$.$str$="jump "+($j$jscomp$16_op$$&256?"when":"if")+" not "+$A3a$vm$condName$$[$j$jscomp$16_op$$&31]+" "+($i$jscomp$213$$+$s16$$($bytecode$jscomp$1$$[$i$jscomp$213$$+1]))+($j$jscomp$16_op$$&256?
$j$jscomp$16_op$$&512?" (prev=true)":" (prev=false)":"");$i$jscomp$213$$++;break;case 11:$eventVectorSize_instr$$.$str$="emit id="+($j$jscomp$16_op$$&4095)+" data="+$s16$$($bytecode$jscomp$1$$[$i$jscomp$213$$+1])+" count="+$s16$$($bytecode$jscomp$1$$[$i$jscomp$213$$+2]);break;case 12:$eventVectorSize_instr$$.$str$="callnat "+($j$jscomp$16_op$$&4095);break;case 13:$eventVectorSize_instr$$.$str$="callsub "+($j$jscomp$16_op$$&4095);break;case 14:$eventVectorSize_instr$$.$str$="ret";break;default:throw"Unknown instruction "+
$j$jscomp$16_op$$.toString(16);}$code$jscomp$36$$.push($eventVectorSize_instr$$)}return $code$jscomp$36$$}
function $A3a$vm$disToListing$$($bytecode$jscomp$2$$){return $A3a$vm$dis$$($bytecode$jscomp$2$$).map(function($instr$jscomp$1$$){var $addr$$=$instr$jscomp$1$$.$addr$.toString(10);$addr$$="    ".slice($addr$$.length-1)+$addr$$;var $op$jscomp$1$$=$instr$jscomp$1$$.$op$.map(function($op1_str$jscomp$22$$){$op1_str$jscomp$22$$=$op1_str$jscomp$22$$.toString(16);return"000".slice($op1_str$jscomp$22$$.length-1)+$op1_str$jscomp$22$$}).join(" ");$op$jscomp$1$$+="     ".slice($op$jscomp$1$$.length-4);return($instr$jscomp$1$$.id?
$instr$jscomp$1$$.id+":\n":"")+$addr$$+"  "+$op$jscomp$1$$+"  "+$instr$jscomp$1$$.$str$+($instr$jscomp$1$$.$addr$===$bytecode$jscomp$2$$[0]-2||0===$instr$jscomp$1$$.$instr$||14===$instr$jscomp$1$$.$instr$?"\n":"")}).join("\n")};function $A3a$A3aNode$$(){var $descr$jscomp$1$$=$A3a$thymioDescr$$;this.name=$descr$jscomp$1$$.name;this.$b$=$descr$jscomp$1$$.maxVarSize;this.$variables$=[];for(var $i$jscomp$214$$=this.$varSize$=0;$i$jscomp$214$$<$descr$jscomp$1$$.variables.length;$i$jscomp$214$$++)this.$variables$.push(new $A3a$Compiler$VariableDescr$$($descr$jscomp$1$$.variables[$i$jscomp$214$$].name,$descr$jscomp$1$$.variables[$i$jscomp$214$$].size,[1],this.$varSize$,$A3a$Compiler$resultType$number$$)),this.$varSize$+=$descr$jscomp$1$$.variables[$i$jscomp$214$$].size;
this.$nativeFunctions$=$descr$jscomp$1$$.nativeFunctions.map(function($f$jscomp$17$$,$i$jscomp$215$$){return{id:$i$jscomp$215$$,name:$f$jscomp$17$$.name,$args$:$f$jscomp$17$$.args}});this.$localEvents$=$descr$jscomp$1$$.localEvents.map(function($e$jscomp$40$$){return{name:$e$jscomp$40$$.name}})}
function $JSCompiler_StaticMethods_findNativeFunction$$($JSCompiler_StaticMethods_findNativeFunction$self$$,$name$jscomp$114$$){for(var $i$jscomp$216$$=0;$i$jscomp$216$$<$JSCompiler_StaticMethods_findNativeFunction$self$$.$nativeFunctions$.length;$i$jscomp$216$$++)if($JSCompiler_StaticMethods_findNativeFunction$self$$.$nativeFunctions$[$i$jscomp$216$$].name===$name$jscomp$114$$)return $JSCompiler_StaticMethods_findNativeFunction$self$$.$nativeFunctions$[$i$jscomp$216$$];return null}
function $JSCompiler_StaticMethods_findVariable$$($JSCompiler_StaticMethods_findVariable$self$$,$name$jscomp$115$$){for(var $i$jscomp$217$$=0;$i$jscomp$217$$<$JSCompiler_StaticMethods_findVariable$self$$.$variables$.length;$i$jscomp$217$$++)if($JSCompiler_StaticMethods_findVariable$self$$.$variables$[$i$jscomp$217$$].name===$name$jscomp$115$$)return $JSCompiler_StaticMethods_findVariable$self$$.$variables$[$i$jscomp$217$$];return null}
function $JSCompiler_StaticMethods_eventNameToId$$($JSCompiler_StaticMethods_eventNameToId$self$$,$name$jscomp$116$$){if("init"===$name$jscomp$116$$)return 65535;for(var $i$jscomp$218$$=0;$i$jscomp$218$$<$JSCompiler_StaticMethods_eventNameToId$self$$.$localEvents$.length;$i$jscomp$218$$++)if($JSCompiler_StaticMethods_eventNameToId$self$$.$localEvents$[$i$jscomp$218$$].name===$name$jscomp$116$$)return 65534-$i$jscomp$218$$;throw"unknown local event "+$name$jscomp$116$$;}
function $A3a$Compiler$$($asebaNode$jscomp$1$$,$src$jscomp$10$$){this.$D$=$A3a$Compiler$operators$$;this.$J$=!1;this.$asebaNode$=$asebaNode$jscomp$1$$;this.$i$=$src$jscomp$10$$;this.$m$=$src$jscomp$10$$.length;this.$b$=0;this.line=1;this.$col$=0;this.$tokens$=[];this.$tokenIndex$=0;this.$g$=[];this.$M$=[];this.$C$=[];this.$o$={};this.$declaredVariables$=[];this.$A$=[];this.$F$=this.$G$=this.$asebaNode$.$b$;this.$inSubDefinition$=!1;this.$bcAddr$=0;this.$sourceToBCMapping$=[]}
function $A3a$Compiler$VariableDescr$$($name$jscomp$117$$,$size$jscomp$18$$,$dims$jscomp$33$$,$offset$jscomp$21$$,$resultType$$){this.name=$name$jscomp$117$$;this.size=$size$jscomp$18$$;this.$dims$=$dims$jscomp$33$$;this.offset=$offset$jscomp$21$$;this.resultType=$resultType$$}$A3a$Compiler$VariableDescr$$.prototype.$generateA3aBCForLoad$=function $$A3a$Compiler$VariableDescr$$$$$generateA3aBCForLoad$$($compiler$$,$offset$jscomp$22$$){return[12288|this.offset+($offset$jscomp$22$$||0)]};
$A3a$Compiler$VariableDescr$$.prototype.$generateA3aBCForStore$=function $$A3a$Compiler$VariableDescr$$$$$generateA3aBCForStore$$($compiler$jscomp$1$$,$offset$jscomp$23$$){return[16384|this.offset+($offset$jscomp$23$$||0)]};$A3a$Compiler$VariableDescr$$.prototype.$generateA3aBCForLoadIndirect$=function $$A3a$Compiler$VariableDescr$$$$$generateA3aBCForLoadIndirect$$(){return[20480|this.offset,this.size]};
$A3a$Compiler$VariableDescr$$.prototype.$generateA3aBCForStoreIndirect$=function $$A3a$Compiler$VariableDescr$$$$$generateA3aBCForStoreIndirect$$(){return[24576|this.offset,this.size]};
$A3a$Compiler$$.prototype.$skipBlanks$=function $$A3a$Compiler$$$$$skipBlanks$$(){for(;this.$b$<this.$m$;)if(" "===this.$i$[this.$b$]||"\t"===this.$i$[this.$b$])this.$b$++,this.$col$++;else if("\n"===this.$i$[this.$b$])this.$b$++,this.$col$=0,this.line++;else if("\r"===this.$i$[this.$b$])this.$b$++;else if("#*"===this.$i$.slice(this.$b$,this.$b$+2))for(this.$b$+=2,this.$col$+=2;this.$b$<this.$m$&&"*#"!==this.$i$.slice(this.$b$-2,this.$b$);)"\n"===this.$i$[this.$b$]?(this.$col$=0,this.line++):"\r"!==
this.$i$[this.$b$]&&this.$col$++,this.$b$++;else if("#"===this.$i$[this.$b$])for(;this.$b$<this.$m$&&"\n"!==this.$i$[this.$b$];)this.$b$++,this.$col$++;else break};function $JSCompiler_StaticMethods_prepareJump$$($JSCompiler_StaticMethods_prepareJump$self$$,$bytecode$jscomp$3$$){$JSCompiler_StaticMethods_prepareJump$self$$.$A$.push($bytecode$jscomp$3$$.length-1)}
function $JSCompiler_StaticMethods_finalizeJump$$($JSCompiler_StaticMethods_finalizeJump$self_i$jscomp$219$$,$bytecode$jscomp$4$$,$target$jscomp$83$$){if(0===$JSCompiler_StaticMethods_finalizeJump$self_i$jscomp$219$$.$A$.length)throw"internal";void 0===$target$jscomp$83$$&&($target$jscomp$83$$=$bytecode$jscomp$4$$.length);$JSCompiler_StaticMethods_finalizeJump$self_i$jscomp$219$$=$JSCompiler_StaticMethods_finalizeJump$self_i$jscomp$219$$.$A$.pop();$bytecode$jscomp$4$$[$JSCompiler_StaticMethods_finalizeJump$self_i$jscomp$219$$]=
36864===$bytecode$jscomp$4$$[$JSCompiler_StaticMethods_finalizeJump$self_i$jscomp$219$$]?$bytecode$jscomp$4$$[$JSCompiler_StaticMethods_finalizeJump$self_i$jscomp$219$$]+($target$jscomp$83$$-$JSCompiler_StaticMethods_finalizeJump$self_i$jscomp$219$$&4095):$target$jscomp$83$$-$JSCompiler_StaticMethods_finalizeJump$self_i$jscomp$219$$+1&65535}
$A3a$Compiler$$.prototype.$H$=function $$A3a$Compiler$$$$$H$$($name$jscomp$121$$,$size$jscomp$19$$,$dims$jscomp$34$$,$offset$jscomp$24$$,$resultType$jscomp$2$$){var $JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$;a:{for($JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$=0;$JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$<this.$declaredVariables$.length;$JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$++)if(this.$declaredVariables$[$JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$].name===
$name$jscomp$121$$){$JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$=!0;break a}for($JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$=0;$JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$<this.$asebaNode$.$variables$.length;$JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$++)if(this.$asebaNode$.$variables$[$JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$].name===$name$jscomp$121$$){$JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$=!0;break a}$JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$=
!1}if($JSCompiler_inline_result$jscomp$23_i$jscomp$inline_301$$)throw'duplicate variable declaration "'+$name$jscomp$121$$+'"';this.$declaredVariables$.push(new $A3a$Compiler$VariableDescr$$($name$jscomp$121$$,$size$jscomp$19$$,$dims$jscomp$34$$,$offset$jscomp$24$$,$resultType$jscomp$2$$))};
function $JSCompiler_StaticMethods_getVariable$$($JSCompiler_StaticMethods_getVariable$self$$,$nodeVar$$){for(var $i$jscomp$221$$=$JSCompiler_StaticMethods_getVariable$self$$.$declaredVariables$.length-1;0<=$i$jscomp$221$$;$i$jscomp$221$$--)if($JSCompiler_StaticMethods_getVariable$self$$.$declaredVariables$[$i$jscomp$221$$].name===$nodeVar$$.name)return $JSCompiler_StaticMethods_getVariable$self$$.$declaredVariables$[$i$jscomp$221$$];for($i$jscomp$221$$=0;$i$jscomp$221$$<$JSCompiler_StaticMethods_getVariable$self$$.$asebaNode$.$variables$.length;$i$jscomp$221$$++)if($JSCompiler_StaticMethods_getVariable$self$$.$asebaNode$.$variables$[$i$jscomp$221$$].name===
$nodeVar$$.name)return $JSCompiler_StaticMethods_getVariable$self$$.$asebaNode$.$variables$[$i$jscomp$221$$];throw"unknown variable "+$nodeVar$$.name+" "+$JSCompiler_StaticMethods_posString$$($nodeVar$$.head);}
function $JSCompiler_StaticMethods_getMacroFunctionDef$$($JSCompiler_StaticMethods_getMacroFunctionDef$self$$,$name$jscomp$123$$){for(var $i$jscomp$222$$=0;$i$jscomp$222$$<$JSCompiler_StaticMethods_getMacroFunctionDef$self$$.$C$.length;$i$jscomp$222$$++)if($JSCompiler_StaticMethods_getMacroFunctionDef$self$$.$C$[$i$jscomp$222$$].name===$name$jscomp$123$$)return $JSCompiler_StaticMethods_getMacroFunctionDef$self$$.$C$[$i$jscomp$222$$];return null}
function $JSCompiler_StaticMethods_allocTempVariable$$($JSCompiler_StaticMethods_allocTempVariable$self$$,$size$jscomp$21$$){$JSCompiler_StaticMethods_allocTempVariable$self$$.$F$-=$size$jscomp$21$$;return $JSCompiler_StaticMethods_allocTempVariable$self$$.$F$}$A3a$Compiler$$.prototype.$B$=function $$A3a$Compiler$$$$$B$$(){return[]};var $A3a$Compiler$keywords$$="== != <= >= |= ^= &= *= /= %= += -= <<= >>= ++ -- ( ) [ ] - ~ * / % + << >> & ^ | > < = , : abs and callsub call const do elseif else emit end for if in not onevent or return step sub then var when while".split(" ");
function $A3a$Compiler$TokenBase$$($srcIndex$$,$srcLine$$,$srcCol$$){this.$srcIndex$=$srcIndex$$;this.$srcLine$=$srcLine$$;this.$srcCol$=$srcCol$$}function $JSCompiler_StaticMethods_posString$$($JSCompiler_StaticMethods_posString$self$$){return"line "+$JSCompiler_StaticMethods_posString$self$$.$srcLine$.toString()+" col "+$JSCompiler_StaticMethods_posString$self$$.$srcCol$.toString()}
function $A3a$Compiler$TokenNumber$$($srcIndex$jscomp$1$$,$srcLine$jscomp$1$$,$srcCol$jscomp$1$$,$n$jscomp$5$$){$A3a$Compiler$TokenBase$$.call(this,$srcIndex$jscomp$1$$,$srcLine$jscomp$1$$,$srcCol$jscomp$1$$);this.n=$n$jscomp$5$$}$A3a$Compiler$TokenNumber$$.prototype=Object.create($A3a$Compiler$TokenBase$$.prototype);$A3a$Compiler$TokenNumber$$.prototype.constructor=$A3a$Compiler$TokenNumber$$;
function $A3a$Compiler$TokenFloat$$($srcIndex$jscomp$2$$,$srcLine$jscomp$2$$,$srcCol$jscomp$2$$,$n$jscomp$6$$){$A3a$Compiler$TokenBase$$.call(this,$srcIndex$jscomp$2$$,$srcLine$jscomp$2$$,$srcCol$jscomp$2$$);this.n=$n$jscomp$6$$}$A3a$Compiler$TokenFloat$$.prototype=Object.create($A3a$Compiler$TokenNumber$$.prototype);$A3a$Compiler$TokenFloat$$.prototype.constructor=$A3a$Compiler$TokenFloat$$;
function $A3a$Compiler$TokenName$$($srcIndex$jscomp$3$$,$srcLine$jscomp$3$$,$srcCol$jscomp$3$$,$name$jscomp$124$$){$A3a$Compiler$TokenBase$$.call(this,$srcIndex$jscomp$3$$,$srcLine$jscomp$3$$,$srcCol$jscomp$3$$);this.name=$name$jscomp$124$$}$A3a$Compiler$TokenName$$.prototype=Object.create($A3a$Compiler$TokenBase$$.prototype);$A3a$Compiler$TokenName$$.prototype.constructor=$A3a$Compiler$TokenName$$;
function $A3a$Compiler$TokenKeyword$$($srcIndex$jscomp$4$$,$srcLine$jscomp$4$$,$srcCol$jscomp$4$$,$name$jscomp$125$$){$A3a$Compiler$TokenBase$$.call(this,$srcIndex$jscomp$4$$,$srcLine$jscomp$4$$,$srcCol$jscomp$4$$);this.name=$name$jscomp$125$$}$A3a$Compiler$TokenKeyword$$.prototype=Object.create($A3a$Compiler$TokenBase$$.prototype);$A3a$Compiler$TokenKeyword$$.prototype.constructor=$A3a$Compiler$TokenKeyword$$;
$A3a$Compiler$$.prototype.$buildTokenArray$=function $$A3a$Compiler$$$$$buildTokenArray$$($keywords$jscomp$1$$){for(;;){a:{var $keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=($keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=$keywords$jscomp$1$$)||$A3a$Compiler$keywords$$;this.$skipBlanks$();if(this.$b$>=this.$m$)var $kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$=null;else{for(var $i$jscomp$inline_306$$=0;$i$jscomp$inline_306$$<$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$.length;$i$jscomp$inline_306$$++)if($kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$=
$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$[$i$jscomp$inline_306$$].length,this.$i$.slice(this.$b$,this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$)===$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$[$i$jscomp$inline_306$$]&&!/[a-zA-Z0-9_.]{2}/.test(this.$i$.slice(this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$-1,this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$+1))){$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=
new $A3a$Compiler$TokenKeyword$$(this.$b$,this.line,this.$col$,$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$[$i$jscomp$inline_306$$]);this.$b$+=$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$;this.$col$+=$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$;$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$=$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$;break a}$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$=
0;if("0x"===this.$i$.slice(this.$b$,this.$b$+2)){for(this.$b$+=2;this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$<this.$m$&&/[0-9a-fA-F]/.test(this.$i$[this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$]);)$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$++;if(0===$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$)throw"hexadecimal number syntax error";$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=parseInt(this.$i$.slice(this.$b$,
this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$),16);$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=new $A3a$Compiler$TokenNumber$$(this.$b$,this.line,this.$col$,$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$);this.$b$+=$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$;this.$col$+=2+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$}else if("0b"===this.$i$.slice(this.$b$,this.$b$+2)){for(this.$b$+=2;this.$b$+
$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$<this.$m$&&/[01]/.test(this.$i$[this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$]);)$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$++;if(0===$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$)throw"binary number syntax error";$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=parseInt(this.$i$.slice(this.$b$,this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$),
2);$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=new $A3a$Compiler$TokenNumber$$(this.$b$,this.line,this.$col$,$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$);this.$b$+=$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$;this.$col$+=2+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$}else if(/[0-9]/.test(this.$i$[this.$b$])){for(;this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$<this.$m$&&/[0-9]/.test(this.$i$[this.$b$+
$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$]);)$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$++;if(this.$J$&&this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$<this.$m$&&"."===this.$i$[this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$]){for($kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$++;this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$<this.$m$&&/[0-9]/.test(this.$i$[this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$]);$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$++);
$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=parseFloat(this.$i$.slice(this.$b$,this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$));$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=new $A3a$Compiler$TokenFloat$$(this.$b$,this.line,this.$col$,$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$)}else $keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=parseInt(this.$i$.slice(this.$b$,this.$b$+
$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$),10),$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=new $A3a$Compiler$TokenNumber$$(this.$b$,this.line,this.$col$,$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$);this.$b$+=$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$;this.$col$+=$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$}else if(/[a-zA-Z_]/.test(this.$i$[this.$b$])){for(;this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$<
this.$m$&&/[a-zA-Z0-9_.]/.test(this.$i$[this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$]);)$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$++;if(0===$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$)throw"name syntax error";$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$=new $A3a$Compiler$TokenName$$(this.$b$,this.line,this.$col$,this.$i$.slice(this.$b$,this.$b$+$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$));this.$b$+=
$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$;this.$col$+=$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$}else throw"syntax error line "+this.line.toString()+" col "+this.$col$.toString();$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$=$keywords$jscomp$inline_304_num$jscomp$inline_309_tk$jscomp$inline_305$$}}if(null===$kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$)break;this.$tokens$.push($kwLen$jscomp$inline_307_len$jscomp$inline_308_tk$jscomp$1$$)}};
function $A3a$Compiler$SourceToBCMapping$$($srcOffset$$,$line$jscomp$13$$,$col$jscomp$2$$,$addr$jscomp$2$$){this.$srcOffset$=$srcOffset$$;this.line=$line$jscomp$13$$;this.$col$=$col$jscomp$2$$;this.$addr$=$addr$jscomp$2$$}
function $JSCompiler_StaticMethods_addSourceToBCMapping$$($JSCompiler_StaticMethods_addSourceToBCMapping$self$$,$node$jscomp$3_token$jscomp$3$$,$bcAddr$$){($node$jscomp$3_token$jscomp$3$$=$node$jscomp$3_token$jscomp$3$$.head||$node$jscomp$3_token$jscomp$3$$.children[0]&&$node$jscomp$3_token$jscomp$3$$.children[0].head)&&$JSCompiler_StaticMethods_addSourceToBCMapping$self$$.$sourceToBCMapping$.push(new $A3a$Compiler$SourceToBCMapping$$($node$jscomp$3_token$jscomp$3$$.$srcIndex$,$node$jscomp$3_token$jscomp$3$$.$srcLine$,
$node$jscomp$3_token$jscomp$3$$.$srcCol$,void 0===$bcAddr$$?$JSCompiler_StaticMethods_addSourceToBCMapping$self$$.$bcAddr$:$bcAddr$$))}function $A3a$Compiler$Node$$($head$$){this.head=$head$$;this.children=[];this.$valueSize$=0;this.resultType=$A3a$Compiler$resultType$undef$$;this.$shouldProduceValue$=!0}
function $A3a$Compiler$Node$optimizeNodeArray$$($nodeArray$$,$compiler$jscomp$4$$){for(var $i$jscomp$225$$=0;$i$jscomp$225$$<$nodeArray$$.length;$i$jscomp$225$$++)$nodeArray$$[$i$jscomp$225$$]=$nodeArray$$[$i$jscomp$225$$].$optimize$($compiler$jscomp$4$$)}$A3a$Compiler$Node$$.prototype.$optimize$=function $$A3a$Compiler$Node$$$$$optimize$$(){return this};$A3a$Compiler$Node$$.prototype.$resolveArraySize$=function $$A3a$Compiler$Node$$$$$resolveArraySize$$($compiler$jscomp$6$$){this.children.forEach(function($node$jscomp$4$$){$node$jscomp$4$$.$resolveArraySize$($compiler$jscomp$6$$)})};
$A3a$Compiler$Node$$.prototype.$l$=function $$A3a$Compiler$Node$$$$$l$$($compiler$jscomp$7$$){this.$resolveArraySize$($compiler$jscomp$7$$);for(var $i$jscomp$226$$=0;$i$jscomp$226$$<this.children.length;$i$jscomp$226$$++)this.children[$i$jscomp$226$$]=this.children[$i$jscomp$226$$].$l$($compiler$jscomp$7$$);return this};
function $A3a$Compiler$NodeNumber$$($numToken$$,$n$jscomp$7$$){$A3a$Compiler$Node$$.call(this,$numToken$$);this.n=void 0===$n$jscomp$7$$?this.head.n:$n$jscomp$7$$;this.resultType=$A3a$Compiler$resultType$number$$}$A3a$Compiler$NodeNumber$$.prototype=Object.create($A3a$Compiler$Node$$.prototype);$A3a$Compiler$NodeNumber$$.prototype.constructor=$A3a$Compiler$NodeNumber$$;
$A3a$Compiler$NodeNumber$$.prototype.$resolveArraySize$=function $$A3a$Compiler$NodeNumber$$$$$resolveArraySize$$(){this.$valueSize$=1};function $A3a$Compiler$NodeNumber$toS16$$($n$jscomp$8$$){$n$jscomp$8$$&=65535;return 32768<=$n$jscomp$8$$?$n$jscomp$8$$-65536:$n$jscomp$8$$}function $A3a$Compiler$NodeFixed$$($floatToken$$,$f$jscomp$18$$){$A3a$Compiler$NodeNumber$$.call(this,$floatToken$$,$f$jscomp$18$$);this.resultType=$A3a$Compiler$resultType$fixed$$}$A3a$Compiler$NodeFixed$$.prototype=Object.create($A3a$Compiler$NodeNumber$$.prototype);
$A3a$Compiler$NodeFixed$$.prototype.constructor=$A3a$Compiler$NodeFixed$$;function $A3a$Compiler$NodeVar$$($nameToken$$){$A3a$Compiler$Node$$.call(this,$nameToken$$);this.name=$nameToken$$.name;this.$b$=!1}$A3a$Compiler$NodeVar$$.prototype=Object.create($A3a$Compiler$Node$$.prototype);$A3a$Compiler$NodeVar$$.prototype.constructor=$A3a$Compiler$NodeVar$$;
$A3a$Compiler$NodeVar$$.prototype.$resolveArraySize$=function $$A3a$Compiler$NodeVar$$$$$resolveArraySize$$($compiler$jscomp$9_varDescr$$){$compiler$jscomp$9_varDescr$$.$o$.hasOwnProperty(this.name)?(this.$valueSize$=1,this.resultType=$compiler$jscomp$9_varDescr$$.$o$[this.name].resultType):($compiler$jscomp$9_varDescr$$=$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$9_varDescr$$,this),this.$valueSize$=$compiler$jscomp$9_varDescr$$.size,this.resultType=$compiler$jscomp$9_varDescr$$.resultType)};
$A3a$Compiler$NodeVar$$.prototype.$optimize$=function $$A3a$Compiler$NodeVar$$$$$optimize$$($compiler$jscomp$10$$){return $compiler$jscomp$10$$.$o$.hasOwnProperty(this.name)?$compiler$jscomp$10$$.$o$[this.name].resultType===$A3a$Compiler$resultType$fixed$$?new $A3a$Compiler$NodeFixed$$(this.head,$compiler$jscomp$10$$.$o$[this.name].$val$):new $A3a$Compiler$NodeNumber$$(this.head,$compiler$jscomp$10$$.$o$[this.name].$val$):this};
function $JSCompiler_StaticMethods_makeDummyPlaceholder$$($JSCompiler_StaticMethods_makeDummyPlaceholder$self$$){var $node$jscomp$5$$=new $A3a$Compiler$NodeVar$$($JSCompiler_StaticMethods_makeDummyPlaceholder$self$$.head);$node$jscomp$5$$.resultType=$JSCompiler_StaticMethods_makeDummyPlaceholder$self$$.resultType;$node$jscomp$5$$.$b$=!0;return $node$jscomp$5$$}var $A3a$Compiler$resultType$undef$$="?",$A3a$Compiler$resultType$number$$="n",$A3a$Compiler$resultType$fixed$$="fx";
function $A3a$Compiler$NodeFun$$($funToken$$,$type$jscomp$139$$,$opDescr$$,$args$jscomp$4$$){$A3a$Compiler$Node$$.call(this,$funToken$$);this.type=$type$jscomp$139$$;this.resultType=$opDescr$$?$opDescr$$.resultType:$A3a$Compiler$resultType$undef$$;this.$operatorDescr$=$opDescr$$;this.children=$args$jscomp$4$$||[]}$A3a$Compiler$NodeFun$$.prototype=Object.create($A3a$Compiler$Node$$.prototype);$A3a$Compiler$NodeFun$$.prototype.constructor=$A3a$Compiler$NodeFun$$;
$A3a$Compiler$NodeFun$$.prototype.$resolveArraySize$=function $$A3a$Compiler$NodeFun$$$$$resolveArraySize$$($compiler$jscomp$11$$){$A3a$Compiler$Node$$.prototype.$resolveArraySize$.call(this,$compiler$jscomp$11$$);for(var $n$jscomp$9$$=1,$i$jscomp$227$$=0;$i$jscomp$227$$<this.children.length;$i$jscomp$227$$++)if(1===$n$jscomp$9$$)$n$jscomp$9$$=this.children[$i$jscomp$227$$].$valueSize$;else if(1!==this.children[$i$jscomp$227$$].$valueSize$&&this.children[$i$jscomp$227$$].$valueSize$!==$n$jscomp$9$$)throw"incompatible sizes "+
$JSCompiler_StaticMethods_posString$$(this.head);this.$valueSize$=$n$jscomp$9$$;this.$operatorDescr$&&this.$operatorDescr$.$resultTypePropagate$&&(this.resultType=this.$operatorDescr$.$resultTypePropagate$($compiler$jscomp$11$$,this,this.children.map(function($c$jscomp$20$$){return $c$jscomp$20$$.resultType})))};
$A3a$Compiler$NodeFun$$.prototype.$optimize$=function $$A3a$Compiler$NodeFun$$$$$optimize$$($compiler$jscomp$12$$){this.children=this.children.map(function($node$jscomp$6$$){return $node$jscomp$6$$.$optimize$($compiler$jscomp$12$$)});return this.$operatorDescr$&&this.$operatorDescr$.$optimize$?this.$operatorDescr$.$optimize$(this,$compiler$jscomp$12$$):this};
$A3a$Compiler$NodeFun$$.prototype.$l$=function $$A3a$Compiler$NodeFun$$$$$l$$($compiler$jscomp$13$$){var $self$jscomp$29$$=$A3a$Compiler$Node$$.prototype.$l$.call(this,$compiler$jscomp$13$$);if($self$jscomp$29$$.type===$A3a$Compiler$opType$infix$$&&$self$jscomp$29$$.$operatorDescr$.priority===$A3a$Compiler$opPriority$assignment$$&&($self$jscomp$29$$.children[1]instanceof $A3a$Compiler$NodeArray$$||$self$jscomp$29$$.children[1]instanceof $A3a$Compiler$NodeVar$$&&1!==$self$jscomp$29$$.children[1].$valueSize$)){var $lhs$$=
$self$jscomp$29$$.children[0];if(!($lhs$$ instanceof $A3a$Compiler$NodeVar$$)||$self$jscomp$29$$.$shouldProduceValue$)throw"bad array assignment "+$JSCompiler_StaticMethods_posString$$($self$jscomp$29$$.head);for(var $nodeArray$jscomp$1$$=$self$jscomp$29$$.children[1],$st$jscomp$2$$=new $A3a$Compiler$NodeStatementSequence$$($self$jscomp$29$$.head),$i$jscomp$228$$=0;$i$jscomp$228$$<$nodeArray$jscomp$1$$.$valueSize$;$i$jscomp$228$$++){var $a$jscomp$45_lhs1$$=$lhs$$;1<$nodeArray$jscomp$1$$.$valueSize$&&
($a$jscomp$45_lhs1$$=new $A3a$Compiler$NodeIndexing$$($lhs$$.head,[new $A3a$Compiler$NodeNumber$$($lhs$$.head,$i$jscomp$228$$)]),$a$jscomp$45_lhs1$$.resultType=$lhs$$.resultType);if($nodeArray$jscomp$1$$ instanceof $A3a$Compiler$NodeArray$$)var $rhs1$$=$nodeArray$jscomp$1$$.children[$i$jscomp$228$$];else $rhs1$$=new $A3a$Compiler$NodeIndexing$$($nodeArray$jscomp$1$$.head,[new $A3a$Compiler$NodeNumber$$($lhs$$.head,$i$jscomp$228$$)]),$rhs1$$.resultType=$nodeArray$jscomp$1$$.resultType;$a$jscomp$45_lhs1$$=
new $A3a$Compiler$NodeFun$$($self$jscomp$29$$.head,$self$jscomp$29$$.type,$self$jscomp$29$$.$operatorDescr$,[$a$jscomp$45_lhs1$$,$rhs1$$]);$a$jscomp$45_lhs1$$.resultType=$lhs$$.resultType;$a$jscomp$45_lhs1$$.$shouldProduceValue$=!1;$a$jscomp$45_lhs1$$=$a$jscomp$45_lhs1$$.$optimize$($compiler$jscomp$13$$);$st$jscomp$2$$.children.push($a$jscomp$45_lhs1$$)}return $st$jscomp$2$$}return $self$jscomp$29$$};
function $A3a$Compiler$NodeIndexing$$($nameToken$jscomp$1$$,$indices$jscomp$3$$){$A3a$Compiler$NodeVar$$.call(this,$nameToken$jscomp$1$$);this.children=$indices$jscomp$3$$}$A3a$Compiler$NodeIndexing$$.prototype=Object.create($A3a$Compiler$NodeVar$$.prototype);$A3a$Compiler$NodeIndexing$$.prototype.constructor=$A3a$Compiler$NodeIndexing$$;
$A3a$Compiler$NodeIndexing$$.prototype.$resolveArraySize$=function $$A3a$Compiler$NodeIndexing$$$$$resolveArraySize$$($compiler$jscomp$14_varDescr$jscomp$1$$){$A3a$Compiler$Node$$.prototype.$resolveArraySize$.call(this,$compiler$jscomp$14_varDescr$jscomp$1$$);$compiler$jscomp$14_varDescr$jscomp$1$$=$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$14_varDescr$jscomp$1$$,this);this.$valueSize$=1;this.resultType=$compiler$jscomp$14_varDescr$jscomp$1$$.resultType};
function $JSCompiler_StaticMethods_areIndicesConstant$$($JSCompiler_StaticMethods_areIndicesConstant$self$$){for(var $i$jscomp$229$$=0;$i$jscomp$229$$<$JSCompiler_StaticMethods_areIndicesConstant$self$$.children.length;$i$jscomp$229$$++)if(!($JSCompiler_StaticMethods_areIndicesConstant$self$$.children[$i$jscomp$229$$]instanceof $A3a$Compiler$NodeNumber$$))return!1;return!0}
function $JSCompiler_StaticMethods_constantIndicesToSingleIndex$$($JSCompiler_StaticMethods_constantIndicesToSingleIndex$self$$,$variable$$){for(var $ix$jscomp$5$$=0,$m$jscomp$3$$=1,$i$jscomp$230$$=0;$i$jscomp$230$$<$JSCompiler_StaticMethods_constantIndicesToSingleIndex$self$$.children.length;$i$jscomp$230$$++){if(!($JSCompiler_StaticMethods_constantIndicesToSingleIndex$self$$.children[$i$jscomp$230$$]instanceof $A3a$Compiler$NodeNumber$$))throw"internal";$ix$jscomp$5$$+=$m$jscomp$3$$*$JSCompiler_StaticMethods_constantIndicesToSingleIndex$self$$.children[$i$jscomp$230$$].n;
$m$jscomp$3$$*=$variable$$.$dims$[$i$jscomp$230$$]}return $ix$jscomp$5$$}function $A3a$Compiler$NodeArray$$($bracketToken$$){$A3a$Compiler$Node$$.call(this,$bracketToken$$);this.$dims$=[]}$A3a$Compiler$NodeArray$$.prototype=Object.create($A3a$Compiler$Node$$.prototype);$A3a$Compiler$NodeArray$$.prototype.constructor=$A3a$Compiler$NodeArray$$;
$A3a$Compiler$NodeArray$$.prototype.$resolveArraySize$=function $$A3a$Compiler$NodeArray$$$$$resolveArraySize$$($compiler$jscomp$15$$){this.$valueSize$=this.children.length;this.children[0]&&(this.children.forEach(function($node$jscomp$7$$){$node$jscomp$7$$.$resolveArraySize$($compiler$jscomp$15$$)}),this.resultType=this.children[0].resultType)};
function $A3a$Compiler$NodeStatement$$($head$jscomp$1$$,$type$jscomp$140$$){$A3a$Compiler$Node$$.call(this,$head$jscomp$1$$);this.type=$type$jscomp$140$$||$A3a$Compiler$NodeStatement$type$plain$$;this.$v$=!1;this.$contexts$=[null]}$A3a$Compiler$NodeStatement$$.prototype=Object.create($A3a$Compiler$Node$$.prototype);$JSCompiler_prototypeAlias$$=$A3a$Compiler$NodeStatement$$.prototype;$JSCompiler_prototypeAlias$$.constructor=$A3a$Compiler$NodeStatement$$;
$JSCompiler_prototypeAlias$$.$newBlock$=function $$JSCompiler_prototypeAlias$$$$newBlock$$(){throw"internal";};$JSCompiler_prototypeAlias$$.$processBeginStatement$=function $$JSCompiler_prototypeAlias$$$$processBeginStatement$$(){};$JSCompiler_prototypeAlias$$.$processMiddleStatement$=function $$JSCompiler_prototypeAlias$$$$processMiddleStatement$$(){throw"internal";};$JSCompiler_prototypeAlias$$.$processEndStatement$=function $$JSCompiler_prototypeAlias$$$$processEndStatement$$(){};
$JSCompiler_prototypeAlias$$.$postProcess$=function $$JSCompiler_prototypeAlias$$$$postProcess$$(){};function $JSCompiler_StaticMethods_prepareGenerateA3aBC$$($JSCompiler_StaticMethods_prepareGenerateA3aBC$self$$,$compiler$jscomp$18$$){$compiler$jscomp$18$$.$F$=$compiler$jscomp$18$$.$G$;$JSCompiler_StaticMethods_addSourceToBCMapping$$($compiler$jscomp$18$$,$JSCompiler_StaticMethods_prepareGenerateA3aBC$self$$)}var $A3a$Compiler$NodeStatement$type$plain$$=1;
function $A3a$Compiler$CodePlaceholder$$($compiler$jscomp$19$$,$statement$jscomp$2$$){this.$b$=$compiler$jscomp$19$$;this.$statement$=$statement$jscomp$2$$}$A3a$Compiler$CodePlaceholder$$.prototype.$generateA3aBC$=function $$A3a$Compiler$CodePlaceholder$$$$$generateA3aBC$$(){return"internal"};function $A3a$Compiler$NodeStatementOnevent$$($head$jscomp$2$$,$eventName$jscomp$2$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$2$$,2);this.$eventName$=$eventName$jscomp$2$$}
$A3a$Compiler$NodeStatementOnevent$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$NodeStatementOnevent$$.prototype.constructor=$A3a$Compiler$NodeStatementOnevent$$;$A3a$Compiler$NodeStatementOnevent$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementOnevent$$$$$optimize$$($compiler$jscomp$20$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$20$$);return this};$A3a$Compiler$NodeStatementOnevent$$.prototype.$newBlock$=function $$A3a$Compiler$NodeStatementOnevent$$$$$newBlock$$(){return this};
function $A3a$Compiler$NodeStatementSub$$($head$jscomp$3$$,$subName$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$3$$,2);this.$subName$=$subName$$}$A3a$Compiler$NodeStatementSub$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$NodeStatementSub$$.prototype.constructor=$A3a$Compiler$NodeStatementSub$$;
$A3a$Compiler$NodeStatementSub$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementSub$$$$$optimize$$($compiler$jscomp$21$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$21$$);return this};$A3a$Compiler$NodeStatementSub$$.prototype.$newBlock$=function $$A3a$Compiler$NodeStatementSub$$$$$newBlock$$(){return this};function $A3a$Compiler$NodeStatementReturn$$($head$jscomp$4$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$4$$)}
$A3a$Compiler$NodeStatementReturn$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$NodeStatementReturn$$.prototype.constructor=$A3a$Compiler$NodeStatementReturn$$;function $A3a$Compiler$NodeStatementConst$$($head$jscomp$5$$,$constName$$,$val$jscomp$42$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$5$$);this.$b$=$constName$$;this.$val$=$val$jscomp$42$$;this.resultType=$val$jscomp$42$$.resultType}$A3a$Compiler$NodeStatementConst$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$NodeStatementConst$$.prototype.constructor=$A3a$Compiler$NodeStatementConst$$;function $A3a$Compiler$NodeStatementVar$$($head$jscomp$6$$,$varToken$$,$resultType$jscomp$3$$,$sizeExpr$$,$initialization$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$6$$);this.$o$=$varToken$$.name;this.resultType=$resultType$jscomp$3$$;this.$b$=$sizeExpr$$||null;this.size=-1;this.$dims$=[];this.offset=-1;$initialization$$&&this.children.push($initialization$$)}
$A3a$Compiler$NodeStatementVar$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$NodeStatementVar$$.prototype.constructor=$A3a$Compiler$NodeStatementVar$$;$A3a$Compiler$NodeStatementVar$$.prototype.$resolveArraySize$=function $$A3a$Compiler$NodeStatementVar$$$$$resolveArraySize$$($compiler$jscomp$22$$){this.children[0]&&($A3a$Compiler$Node$$.prototype.$resolveArraySize$.call(this,$compiler$jscomp$22$$),this.resultType=this.children[0].children[1].resultType)};
$A3a$Compiler$NodeStatementVar$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementVar$$$$$optimize$$($compiler$jscomp$23$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$23$$);return this};function $A3a$Compiler$NodeStatementExpression$$($expr$jscomp$3$$){$A3a$Compiler$NodeStatement$$.call(this,$expr$jscomp$3$$.head);this.children.push($expr$jscomp$3$$)}$A3a$Compiler$NodeStatementExpression$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$NodeStatementExpression$$.prototype.constructor=$A3a$Compiler$NodeStatementExpression$$;$A3a$Compiler$NodeStatementExpression$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementExpression$$$$$optimize$$($compiler$jscomp$24$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$24$$);return this};function $A3a$Compiler$NodeStatementSequence$$($head$jscomp$7$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$7$$)}
$A3a$Compiler$NodeStatementSequence$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$NodeStatementSequence$$.prototype.constructor=$A3a$Compiler$NodeStatementSequence$$;$A3a$Compiler$NodeStatementSequence$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementSequence$$$$$optimize$$($compiler$jscomp$25$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$25$$);return this};
function $A3a$Compiler$NodeStatementIf$$($head$jscomp$8$$,$expr$jscomp$4$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$8$$,3);this.$b$=[$expr$jscomp$4$$];this.$g$=[];this.$i$=[]}$A3a$Compiler$NodeStatementIf$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$JSCompiler_prototypeAlias$$=$A3a$Compiler$NodeStatementIf$$.prototype;$JSCompiler_prototypeAlias$$.constructor=$A3a$Compiler$NodeStatementIf$$;
$JSCompiler_prototypeAlias$$.$resolveArraySize$=function $$JSCompiler_prototypeAlias$$$$resolveArraySize$$($compiler$jscomp$26$$){this.$b$.forEach(function($node$jscomp$9$$){$node$jscomp$9$$.$resolveArraySize$($compiler$jscomp$26$$)});this.$g$.forEach(function($statements$$){$statements$$.forEach(function($statement$jscomp$3$$){$statement$jscomp$3$$.$resolveArraySize$($compiler$jscomp$26$$)})})};
$JSCompiler_prototypeAlias$$.$optimize$=function $$JSCompiler_prototypeAlias$$$$optimize$$($compiler$jscomp$27$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.$b$,$compiler$jscomp$27$$);this.$g$.forEach(function($a$jscomp$46$$){$A3a$Compiler$Node$optimizeNodeArray$$($a$jscomp$46$$,$compiler$jscomp$27$$)});return this};
$JSCompiler_prototypeAlias$$.$processMiddleStatement$=function $$JSCompiler_prototypeAlias$$$$processMiddleStatement$$($st$jscomp$6$$){if(this.$g$.length>=this.$b$.length)throw"multiple else "+$JSCompiler_StaticMethods_posString$$($st$jscomp$6$$.head);$st$jscomp$6$$ instanceof $A3a$Compiler$NodeStatementElseif$$&&this.$b$.push($st$jscomp$6$$.$b$);this.$g$.push(this.children);this.$i$.push($st$jscomp$6$$);this.children=[];this.$contexts$.push($st$jscomp$6$$.$contexts$[0])};
$JSCompiler_prototypeAlias$$.$postProcess$=function $$JSCompiler_prototypeAlias$$$$postProcess$$($compiler$jscomp$28_i$jscomp$inline_314$$,$st$jscomp$7$$){this.$g$.push(this.children);this.children=[];this.$i$.push($st$jscomp$7$$);for($compiler$jscomp$28_i$jscomp$inline_314$$=0;$compiler$jscomp$28_i$jscomp$inline_314$$<this.$b$.length;)if(this.$b$[$compiler$jscomp$28_i$jscomp$inline_314$$]instanceof $A3a$Compiler$NodeNumber$$)if(0===this.$b$[$compiler$jscomp$28_i$jscomp$inline_314$$].n)this.$b$.splice($compiler$jscomp$28_i$jscomp$inline_314$$,
1),this.$g$.splice($compiler$jscomp$28_i$jscomp$inline_314$$,1);else{this.$b$.splice($compiler$jscomp$28_i$jscomp$inline_314$$);this.$g$.splice($compiler$jscomp$28_i$jscomp$inline_314$$+1);break}else $compiler$jscomp$28_i$jscomp$inline_314$$++};function $A3a$Compiler$NodeStatementElseif$$($head$jscomp$9$$,$expr$jscomp$5$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$9$$,4);this.$b$=$expr$jscomp$5$$}$A3a$Compiler$NodeStatementElseif$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$NodeStatementElseif$$.prototype.constructor=$A3a$Compiler$NodeStatementElseif$$;$A3a$Compiler$NodeStatementElseif$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementElseif$$$$$optimize$$($compiler$jscomp$29$$){this.$b$=this.$b$.$optimize$($compiler$jscomp$29$$);$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$29$$);return this};function $A3a$Compiler$NodeStatementElse$$($head$jscomp$10$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$10$$,4)}
$A3a$Compiler$NodeStatementElse$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$NodeStatementElse$$.prototype.constructor=$A3a$Compiler$NodeStatementElse$$;function $A3a$Compiler$NodeStatementWhen$$($head$jscomp$11$$,$expr$jscomp$6$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$11$$,3);this.$b$=$expr$jscomp$6$$}$A3a$Compiler$NodeStatementWhen$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$NodeStatementWhen$$.prototype.constructor=$A3a$Compiler$NodeStatementWhen$$;$A3a$Compiler$NodeStatementWhen$$.prototype.$resolveArraySize$=function $$A3a$Compiler$NodeStatementWhen$$$$$resolveArraySize$$($compiler$jscomp$30$$){$A3a$Compiler$Node$$.prototype.$resolveArraySize$.call(this,$compiler$jscomp$30$$);this.$b$.$resolveArraySize$($compiler$jscomp$30$$)};
$A3a$Compiler$NodeStatementWhen$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementWhen$$$$$optimize$$($compiler$jscomp$31$$){this.$b$=this.$b$.$optimize$($compiler$jscomp$31$$);$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$31$$);return this};function $A3a$Compiler$NodeStatementWhile$$($head$jscomp$12$$,$expr$jscomp$7$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$12$$,3);this.$b$=$expr$jscomp$7$$;this.$g$=[]}$A3a$Compiler$NodeStatementWhile$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$NodeStatementWhile$$.prototype.constructor=$A3a$Compiler$NodeStatementWhile$$;$A3a$Compiler$NodeStatementWhile$$.prototype.$resolveArraySize$=function $$A3a$Compiler$NodeStatementWhile$$$$$resolveArraySize$$($compiler$jscomp$32$$){$A3a$Compiler$Node$$.prototype.$resolveArraySize$.call(this,$compiler$jscomp$32$$);this.$b$.$resolveArraySize$($compiler$jscomp$32$$)};
$A3a$Compiler$NodeStatementWhile$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementWhile$$$$$optimize$$($compiler$jscomp$33$$){this.$b$=this.$b$.$optimize$($compiler$jscomp$33$$);$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$33$$);return this};
$A3a$Compiler$NodeStatementWhile$$.prototype.$postProcess$=function $$A3a$Compiler$NodeStatementWhile$$$$$postProcess$$($compiler$jscomp$34$$,$st$jscomp$8$$){this.$b$ instanceof $A3a$Compiler$NodeNumber$$&&(0===this.$b$.n&&(this.children=[]),this.$b$=null);this.$g$.push($st$jscomp$8$$)};
function $A3a$Compiler$NodeStatementFor$$($head$jscomp$13$$,$varToken$jscomp$1$$,$from$$,$to$$,$step$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$13$$,3);this.$i$=new $A3a$Compiler$NodeVar$$($varToken$jscomp$1$$);this.children.push($from$$);this.children.push($to$$);this.$b$=$step$$||null;this.$g$=[]}$A3a$Compiler$NodeStatementFor$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$NodeStatementFor$$.prototype.constructor=$A3a$Compiler$NodeStatementFor$$;
$A3a$Compiler$NodeStatementFor$$.prototype.$resolveArraySize$=function $$A3a$Compiler$NodeStatementFor$$$$$resolveArraySize$$($compiler$jscomp$35$$){$A3a$Compiler$Node$$.prototype.$resolveArraySize$.call(this,$compiler$jscomp$35$$);this.$b$&&this.$b$.$resolveArraySize$($compiler$jscomp$35$$)};
$A3a$Compiler$NodeStatementFor$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementFor$$$$$optimize$$($compiler$jscomp$36$$){this.$b$&&(this.$b$=this.$b$.$optimize$($compiler$jscomp$36$$));$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$36$$);return this};$A3a$Compiler$NodeStatementFor$$.prototype.$postProcess$=function $$A3a$Compiler$NodeStatementFor$$$$$postProcess$$($compiler$jscomp$37$$,$st$jscomp$9$$){this.$g$.push($st$jscomp$9$$)};
function $A3a$Compiler$NodeStatementCall$$($funToken$jscomp$1$$,$name$jscomp$126$$,$args$jscomp$5$$){$A3a$Compiler$NodeStatement$$.call(this,$funToken$jscomp$1$$);this.name=$name$jscomp$126$$;this.children=$args$jscomp$5$$}$A3a$Compiler$NodeStatementCall$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$NodeStatementCall$$.prototype.constructor=$A3a$Compiler$NodeStatementCall$$;
$A3a$Compiler$NodeStatementCall$$.prototype.$optimize$=function $$A3a$Compiler$NodeStatementCall$$$$$optimize$$($compiler$jscomp$38$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$38$$);return this};function $A3a$Compiler$NodeStatementCallSub$$($funToken$jscomp$2$$,$name$jscomp$127$$){$A3a$Compiler$NodeStatement$$.call(this,$funToken$jscomp$2$$);this.name=$name$jscomp$127$$}$A3a$Compiler$NodeStatementCallSub$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$NodeStatementCallSub$$.prototype.constructor=$A3a$Compiler$NodeStatementCallSub$$;function $A3a$Compiler$NodeStatementEnd$$($head$jscomp$14$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$14$$,5)}$A3a$Compiler$NodeStatementEnd$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$NodeStatementEnd$$.prototype.constructor=$A3a$Compiler$NodeStatementEnd$$;var $A3a$Compiler$opPriority$assignment$$=30,$A3a$Compiler$opType$infix$$=1;
function $A3a$Compiler$OperatorDescr$$($name$jscomp$128$$,$type$jscomp$141$$,$opt$jscomp$14$$){this.name=$name$jscomp$128$$;this.type=$type$jscomp$141$$;this.priority=$opt$jscomp$14$$&&$opt$jscomp$14$$.priority||0;this.resultType=$opt$jscomp$14$$&&$opt$jscomp$14$$.resultType||($opt$jscomp$14$$&&$opt$jscomp$14$$.$resultTypePropagate$?$A3a$Compiler$resultType$undef$$:$A3a$Compiler$resultType$number$$);this.$resultTypePropagate$=$opt$jscomp$14$$&&$opt$jscomp$14$$.$resultTypePropagate$||null;this.$optimize$=
$opt$jscomp$14$$&&$opt$jscomp$14$$.$optimize$||null;this.$bytecode$=$opt$jscomp$14$$&&$opt$jscomp$14$$.$bytecode$||[];this.$generateA3aBC$=$opt$jscomp$14$$&&$opt$jscomp$14$$.$generateA3aBC$||null}
function $A3a$Compiler$optimizeConstFun$$($node$jscomp$10$$,$fun$jscomp$10$$){for(var $args$jscomp$6$$=[],$i$jscomp$232$$=0;$i$jscomp$232$$<$node$jscomp$10$$.children.length;$i$jscomp$232$$++){if(!($node$jscomp$10$$.children[$i$jscomp$232$$]instanceof $A3a$Compiler$NodeNumber$$))return $node$jscomp$10$$;$args$jscomp$6$$.push($node$jscomp$10$$.children[$i$jscomp$232$$].n)}return new $A3a$Compiler$NodeNumber$$($node$jscomp$10$$.head,$A3a$Compiler$NodeNumber$toS16$$($fun$jscomp$10$$($args$jscomp$6$$)))}
var $A3a$Compiler$operators$$=[new $A3a$Compiler$OperatorDescr$$("--",0,{priority:150}),new $A3a$Compiler$OperatorDescr$$("++",0,{priority:150}),new $A3a$Compiler$OperatorDescr$$("-",0,{priority:150,$optimize$:function($node$jscomp$11$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$11$$,function($args$jscomp$7$$){return-$args$jscomp$7$$[0]})},$bytecode$:[28672]}),new $A3a$Compiler$OperatorDescr$$("~",0,{priority:150,$optimize$:function($node$jscomp$12$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$12$$,
function($args$jscomp$8$$){return~$args$jscomp$8$$[0]})},$bytecode$:[28674]}),new $A3a$Compiler$OperatorDescr$$("abs",0,{priority:150,$optimize$:function($node$jscomp$13$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$13$$,function($args$jscomp$9$$){return Math.abs($args$jscomp$9$$[0])})},$bytecode$:[28673]}),new $A3a$Compiler$OperatorDescr$$("not",0,{priority:150,resultType:"b",$optimize$:function($node$jscomp$14$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$14$$,function($args$jscomp$10$$){return 0==
$args$jscomp$10$$[0]?1:0})},$bytecode$:[4096,32778]}),new $A3a$Compiler$OperatorDescr$$("size",0,{priority:150,$optimize$:function($node$jscomp$15$$,$compiler$jscomp$44$$){var $size$jscomp$22$$=0<$node$jscomp$15$$.children[0].$valueSize$?$node$jscomp$15$$.children[0].$valueSize$:$node$jscomp$15$$.children[0]instanceof $A3a$Compiler$NodeArray$$?$node$jscomp$15$$.children[0].children.length:-1;if(0>$size$jscomp$22$$&&$node$jscomp$15$$.children[0]instanceof $A3a$Compiler$NodeVar$$)for(var $i$jscomp$233$$=
$compiler$jscomp$44$$.$declaredVariables$.length-1;0<=$i$jscomp$233$$;$i$jscomp$233$$--)if($compiler$jscomp$44$$.$declaredVariables$[$i$jscomp$233$$].name===$node$jscomp$15$$.children[0].name){$size$jscomp$22$$=$compiler$jscomp$44$$.$declaredVariables$[$i$jscomp$233$$].size;break}return 0<$size$jscomp$22$$?new $A3a$Compiler$NodeNumber$$($node$jscomp$15$$.head,$size$jscomp$22$$):$node$jscomp$15$$}}),new $A3a$Compiler$OperatorDescr$$("--",2,{priority:150}),new $A3a$Compiler$OperatorDescr$$("++",2,{priority:150}),
new $A3a$Compiler$OperatorDescr$$("+=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("-=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("*=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("/=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("%=",
$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("<<=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$(">>=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("&=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("|=",$A3a$Compiler$opType$infix$$,
{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("^=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("*",$A3a$Compiler$opType$infix$$,{priority:140,$optimize$:function($node$jscomp$16$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$16$$,function($args$jscomp$11$$){return $args$jscomp$11$$[0]*$args$jscomp$11$$[1]})},$bytecode$:[32772]}),new $A3a$Compiler$OperatorDescr$$("/",$A3a$Compiler$opType$infix$$,
{priority:140,$optimize$:function($node$jscomp$17$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$17$$,function($args$jscomp$12$$){return Math.trunc($args$jscomp$12$$[0]/$args$jscomp$12$$[1])})},$bytecode$:[32773]}),new $A3a$Compiler$OperatorDescr$$("%",$A3a$Compiler$opType$infix$$,{priority:140,$optimize$:function($node$jscomp$18$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$18$$,function($args$jscomp$13$$){return $args$jscomp$13$$[0]%$args$jscomp$13$$[1]})},$bytecode$:[32774]}),
new $A3a$Compiler$OperatorDescr$$("+",$A3a$Compiler$opType$infix$$,{priority:130,$optimize$:function($node$jscomp$19$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$19$$,function($args$jscomp$14$$){return $args$jscomp$14$$[0]+$args$jscomp$14$$[1]})},$bytecode$:[32770]}),new $A3a$Compiler$OperatorDescr$$("-",$A3a$Compiler$opType$infix$$,{priority:130,$optimize$:function($node$jscomp$20$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$20$$,function($args$jscomp$15$$){return $args$jscomp$15$$[0]-
$args$jscomp$15$$[1]})},$bytecode$:[32771]}),new $A3a$Compiler$OperatorDescr$$("<<",$A3a$Compiler$opType$infix$$,{priority:120,$optimize$:function($node$jscomp$21$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$21$$,function($args$jscomp$16$$){return $args$jscomp$16$$[0]<<$args$jscomp$16$$[1]})},$bytecode$:[32768]}),new $A3a$Compiler$OperatorDescr$$(">>",$A3a$Compiler$opType$infix$$,{priority:120,$optimize$:function($node$jscomp$22$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$22$$,
function($args$jscomp$17$$){return $args$jscomp$17$$[0]>>$args$jscomp$17$$[1]})},$bytecode$:[32769]}),new $A3a$Compiler$OperatorDescr$$("==",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$23$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$23$$,function($args$jscomp$18$$){return $args$jscomp$18$$[0]===$args$jscomp$18$$[1]?1:0})},$bytecode$:[32778]}),new $A3a$Compiler$OperatorDescr$$("!=",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$24$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$24$$,
function($args$jscomp$19$$){return $args$jscomp$19$$[0]!==$args$jscomp$19$$[1]?1:0})},$bytecode$:[32779]}),new $A3a$Compiler$OperatorDescr$$("<",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$25$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$25$$,function($args$jscomp$20$$){return $args$jscomp$20$$[0]<$args$jscomp$20$$[1]?1:0})},$bytecode$:[32782]}),new $A3a$Compiler$OperatorDescr$$("<=",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$26$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$26$$,
function($args$jscomp$21$$){return $args$jscomp$21$$[0]<=$args$jscomp$21$$[1]?1:0})},$bytecode$:[32783]}),new $A3a$Compiler$OperatorDescr$$(">",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$27$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$27$$,function($args$jscomp$22$$){return $args$jscomp$22$$[0]>$args$jscomp$22$$[1]?1:0})},$bytecode$:[32780]}),new $A3a$Compiler$OperatorDescr$$(">=",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$28$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$28$$,
function($args$jscomp$23$$){return $args$jscomp$23$$[0]>=$args$jscomp$23$$[1]?1:0})},$bytecode$:[32781]}),new $A3a$Compiler$OperatorDescr$$("&",$A3a$Compiler$opType$infix$$,{priority:110,$optimize$:function($node$jscomp$29$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$29$$,function($args$jscomp$24$$){return $args$jscomp$24$$[0]&$args$jscomp$24$$[1]})},$bytecode$:[32777]}),new $A3a$Compiler$OperatorDescr$$("|",$A3a$Compiler$opType$infix$$,{priority:90,$optimize$:function($node$jscomp$30$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$30$$,
function($args$jscomp$25$$){return $args$jscomp$25$$[0]|$args$jscomp$25$$[1]})},$bytecode$:[32775]}),new $A3a$Compiler$OperatorDescr$$("^",$A3a$Compiler$opType$infix$$,{priority:100,$optimize$:function($node$jscomp$31$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$31$$,function($args$jscomp$26$$){return $args$jscomp$26$$[0]^$args$jscomp$26$$[1]})},$bytecode$:[32776]}),new $A3a$Compiler$OperatorDescr$$("and",$A3a$Compiler$opType$infix$$,{priority:60,resultType:"b",$optimize$:function($node$jscomp$32$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$32$$,
function($args$jscomp$27$$){return $args$jscomp$27$$[0]&&$args$jscomp$27$$[1]?1:0})},$bytecode$:[32785]}),new $A3a$Compiler$OperatorDescr$$("or",$A3a$Compiler$opType$infix$$,{priority:50,resultType:"b",$optimize$:function($node$jscomp$33$$){return $A3a$Compiler$optimizeConstFun$$($node$jscomp$33$$,function($args$jscomp$28$$){return $args$jscomp$28$$[0]||$args$jscomp$28$$[1]?1:0})},$bytecode$:[32784]}),new $A3a$Compiler$OperatorDescr$$("=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$})];
function $JSCompiler_StaticMethods_getOperator$$($JSCompiler_StaticMethods_getOperator$self$$,$name$jscomp$129$$,$type$jscomp$142$$){for(var $i$jscomp$234$$=0;$i$jscomp$234$$<$JSCompiler_StaticMethods_getOperator$self$$.$D$.length;$i$jscomp$234$$++)if($JSCompiler_StaticMethods_getOperator$self$$.$D$[$i$jscomp$234$$].type===$type$jscomp$142$$&&$JSCompiler_StaticMethods_getOperator$self$$.$D$[$i$jscomp$234$$].name===$name$jscomp$129$$)return $JSCompiler_StaticMethods_getOperator$self$$.$D$[$i$jscomp$234$$];
return null}function $JSCompiler_StaticMethods_checkTokenType$$($JSCompiler_StaticMethods_checkTokenType$self$$,$offset$jscomp$25$$,$cls$jscomp$3$$){return $JSCompiler_StaticMethods_checkTokenType$self$$.$tokens$[$JSCompiler_StaticMethods_checkTokenType$self$$.$tokenIndex$+$offset$jscomp$25$$]instanceof $cls$jscomp$3$$}
function $JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_checkTokenKeyword$self$$,$offset$jscomp$26$$,$name$jscomp$130$$){return $JSCompiler_StaticMethods_checkTokenKeyword$self$$.$tokens$[$JSCompiler_StaticMethods_checkTokenKeyword$self$$.$tokenIndex$+$offset$jscomp$26$$]instanceof $A3a$Compiler$TokenKeyword$$&&$JSCompiler_StaticMethods_checkTokenKeyword$self$$.$tokens$[$JSCompiler_StaticMethods_checkTokenKeyword$self$$.$tokenIndex$+$offset$jscomp$26$$].name===$name$jscomp$130$$}
$JSCompiler_prototypeAlias$$=$A3a$Compiler$$.prototype;$JSCompiler_prototypeAlias$$.$makeFunCallNode$=function $$JSCompiler_prototypeAlias$$$$makeFunCallNode$$($funToken$jscomp$3$$){return new $A3a$Compiler$NodeFun$$($funToken$jscomp$3$$,4,null)};
function $JSCompiler_StaticMethods_parseExpression$$($JSCompiler_StaticMethods_parseExpression$self$$,$pri$$){$pri$$=$pri$$||10;if($JSCompiler_StaticMethods_checkTokenType$$($JSCompiler_StaticMethods_parseExpression$self$$,0,$A3a$Compiler$TokenFloat$$)){var $node$jscomp$34$$=new $A3a$Compiler$NodeFixed$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$]);$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++}else if($JSCompiler_StaticMethods_checkTokenType$$($JSCompiler_StaticMethods_parseExpression$self$$,
0,$A3a$Compiler$TokenNumber$$))$node$jscomp$34$$=new $A3a$Compiler$NodeNumber$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$]),$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++;else if($JSCompiler_StaticMethods_checkTokenType$$($JSCompiler_StaticMethods_parseExpression$self$$,0,$A3a$Compiler$TokenName$$))$JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_parseExpression$self$$,1,"(")?($node$jscomp$34$$=
$JSCompiler_StaticMethods_parseExpression$self$$.$makeFunCallNode$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$]),$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++,$JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_parseExpression$self$$,1,")")?$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$+=2:$node$jscomp$34$$.children=$JSCompiler_StaticMethods_parseArguments$$($JSCompiler_StaticMethods_parseExpression$self$$)):
($node$jscomp$34$$=new $A3a$Compiler$NodeVar$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$]),$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++);else if($JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_parseExpression$self$$,0,"(")){$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++;$node$jscomp$34$$=$JSCompiler_StaticMethods_parseExpression$$($JSCompiler_StaticMethods_parseExpression$self$$,
20);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_parseExpression$self$$,0,")"))throw"subexpression in expression "+$JSCompiler_StaticMethods_posString$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$]);$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++}else if($JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_parseExpression$self$$,0,"[")){$node$jscomp$34$$=new $A3a$Compiler$NodeArray$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$]);
$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++;var $opDescr$jscomp$1_resultType$jscomp$4_vec$$=[];for(var $indices$jscomp$4_nCols$$=0,$nRows$$=0,$i$jscomp$235_nCols1$$=0;;){$opDescr$jscomp$1_resultType$jscomp$4_vec$$.push($JSCompiler_StaticMethods_parseExpression$$($JSCompiler_StaticMethods_parseExpression$self$$,25));0===$i$jscomp$235_nCols1$$&&$nRows$$++;$i$jscomp$235_nCols1$$++;if(1<$nRows$$&&$i$jscomp$235_nCols1$$>$indices$jscomp$4_nCols$$)throw"non-rectangular array "+$JSCompiler_StaticMethods_posString$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$]);
$i$jscomp$235_nCols1$$>$indices$jscomp$4_nCols$$&&($indices$jscomp$4_nCols$$=$i$jscomp$235_nCols1$$);if($JSCompiler_StaticMethods_checkTokenType$$($JSCompiler_StaticMethods_parseExpression$self$$,0,$A3a$Compiler$TokenKeyword$$))if($JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++,"]"===$JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$-1].name)break;else if(","===$JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$-
1].name)continue;else if(";"===$JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$-1].name){$indices$jscomp$4_nCols$$=$i$jscomp$235_nCols1$$;$i$jscomp$235_nCols1$$=0;continue}throw"array "+$JSCompiler_StaticMethods_posString$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$-1]);}for($i$jscomp$235_nCols1$$=0;$i$jscomp$235_nCols1$$<$indices$jscomp$4_nCols$$;$i$jscomp$235_nCols1$$++)for(var $j$jscomp$17$$=
0;$j$jscomp$17$$<$nRows$$;$j$jscomp$17$$++)$node$jscomp$34$$.children.push($opDescr$jscomp$1_resultType$jscomp$4_vec$$[$j$jscomp$17$$*$indices$jscomp$4_nCols$$+$i$jscomp$235_nCols1$$])}else if($JSCompiler_StaticMethods_checkTokenType$$($JSCompiler_StaticMethods_parseExpression$self$$,0,$A3a$Compiler$TokenKeyword$$)&&($opDescr$jscomp$1_resultType$jscomp$4_vec$$=$JSCompiler_StaticMethods_getOperator$$($JSCompiler_StaticMethods_parseExpression$self$$,$JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$].name,
0)))$node$jscomp$34$$=new $A3a$Compiler$NodeFun$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$],0,$opDescr$jscomp$1_resultType$jscomp$4_vec$$),$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++,$node$jscomp$34$$.children.push($JSCompiler_StaticMethods_parseExpression$$($JSCompiler_StaticMethods_parseExpression$self$$,150)),$opDescr$jscomp$1_resultType$jscomp$4_vec$$.$resultTypePropagate$&&($node$jscomp$34$$.resultType=
$opDescr$jscomp$1_resultType$jscomp$4_vec$$.$resultTypePropagate$($JSCompiler_StaticMethods_parseExpression$self$$,$node$jscomp$34$$,[$node$jscomp$34$$.children[0].resultType]));else if($JSCompiler_StaticMethods_checkTokenType$$($JSCompiler_StaticMethods_parseExpression$self$$,0,$A3a$Compiler$TokenKeyword$$)&&($opDescr$jscomp$1_resultType$jscomp$4_vec$$=$JSCompiler_StaticMethods_getOperator$$($JSCompiler_StaticMethods_parseExpression$self$$,$JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$].name,
3)))$node$jscomp$34$$=new $A3a$Compiler$NodeFun$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$],3,$opDescr$jscomp$1_resultType$jscomp$4_vec$$),$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++;else{if($JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$<$JSCompiler_StaticMethods_parseExpression$self$$.$tokens$.length)throw"unexpected token in expression "+$JSCompiler_StaticMethods_posString$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$]);
throw"unexpected end of file";}for(;$JSCompiler_StaticMethods_checkTokenType$$($JSCompiler_StaticMethods_parseExpression$self$$,0,$A3a$Compiler$TokenKeyword$$);)if(($opDescr$jscomp$1_resultType$jscomp$4_vec$$=$JSCompiler_StaticMethods_getOperator$$($JSCompiler_StaticMethods_parseExpression$self$$,$JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$].name,2))&&$opDescr$jscomp$1_resultType$jscomp$4_vec$$.priority>=$pri$$)$node$jscomp$34$$=
new $A3a$Compiler$NodeFun$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$],2,$opDescr$jscomp$1_resultType$jscomp$4_vec$$,[$node$jscomp$34$$]),$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++;else if(($opDescr$jscomp$1_resultType$jscomp$4_vec$$=$JSCompiler_StaticMethods_getOperator$$($JSCompiler_StaticMethods_parseExpression$self$$,$JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$].name,
$A3a$Compiler$opType$infix$$))&&($pri$$===$A3a$Compiler$opPriority$assignment$$?$opDescr$jscomp$1_resultType$jscomp$4_vec$$.priority>=$pri$$:$opDescr$jscomp$1_resultType$jscomp$4_vec$$.priority>$pri$$))$node$jscomp$34$$=new $A3a$Compiler$NodeFun$$($JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$],$A3a$Compiler$opType$infix$$,$opDescr$jscomp$1_resultType$jscomp$4_vec$$,[$node$jscomp$34$$]),$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$++,
$node$jscomp$34$$.children.push($JSCompiler_StaticMethods_parseExpression$$($JSCompiler_StaticMethods_parseExpression$self$$,$opDescr$jscomp$1_resultType$jscomp$4_vec$$.priority)),$opDescr$jscomp$1_resultType$jscomp$4_vec$$.$resultTypePropagate$&&($node$jscomp$34$$.resultType=$opDescr$jscomp$1_resultType$jscomp$4_vec$$.$resultTypePropagate$($JSCompiler_StaticMethods_parseExpression$self$$,$node$jscomp$34$$,$node$jscomp$34$$.children.map(function($c$jscomp$21$$){return $c$jscomp$21$$.resultType})));
else if("["===$JSCompiler_StaticMethods_parseExpression$self$$.$tokens$[$JSCompiler_StaticMethods_parseExpression$self$$.$tokenIndex$].name){if(!($node$jscomp$34$$ instanceof $A3a$Compiler$NodeVar$$))throw"unexpected indexing";$opDescr$jscomp$1_resultType$jscomp$4_vec$$=$node$jscomp$34$$.resultType;$indices$jscomp$4_nCols$$=$JSCompiler_StaticMethods_parseArguments$$($JSCompiler_StaticMethods_parseExpression$self$$,!0);$node$jscomp$34$$=new $A3a$Compiler$NodeIndexing$$($node$jscomp$34$$.head,$indices$jscomp$4_nCols$$);
$node$jscomp$34$$.resultType=$opDescr$jscomp$1_resultType$jscomp$4_vec$$}else break;return $node$jscomp$34$$}
function $JSCompiler_StaticMethods_parseArguments$$($JSCompiler_StaticMethods_parseArguments$self$$,$brackets$$){var $args$jscomp$29$$=[];if(!$JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_parseArguments$self$$,0,$brackets$$?"[":"("))throw"left "+($brackets$$?"bracket":"parenthesis")+" expected";for($JSCompiler_StaticMethods_parseArguments$self$$.$tokenIndex$++;;){var $expr$jscomp$8$$=$JSCompiler_StaticMethods_parseExpression$$($JSCompiler_StaticMethods_parseArguments$self$$,
25);$args$jscomp$29$$.push($expr$jscomp$8$$);if(!$JSCompiler_StaticMethods_checkTokenType$$($JSCompiler_StaticMethods_parseArguments$self$$,0,$A3a$Compiler$TokenKeyword$$))throw"syntax error in arguments";if($JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_parseArguments$self$$,0,$brackets$$?"]":")")){$JSCompiler_StaticMethods_parseArguments$self$$.$tokenIndex$++;break}else if($JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_parseArguments$self$$,0,","))$JSCompiler_StaticMethods_parseArguments$self$$.$tokenIndex$++;
else throw"syntax error in arguments "+$JSCompiler_StaticMethods_posString$$($JSCompiler_StaticMethods_parseArguments$self$$.$tokens$[$JSCompiler_StaticMethods_parseArguments$self$$.$tokenIndex$]);}return $args$jscomp$29$$}
$JSCompiler_prototypeAlias$$.$parseNextStatement$=function $$JSCompiler_prototypeAlias$$$$parseNextStatement$$(){if(this.$tokenIndex$>=this.$tokens$.length)throw"no more tokens";if(this.$tokens$[this.$tokenIndex$]instanceof $A3a$Compiler$TokenKeyword$$){var $head$jscomp$15$$=this.$tokens$[this.$tokenIndex$];switch($head$jscomp$15$$.name){case "const":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$)||!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,2,"="))throw'syntax error for "const" '+
$JSCompiler_StaticMethods_posString$$($head$jscomp$15$$);var $name$jscomp$131$$=this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=3;var $expr$jscomp$9$$=$JSCompiler_StaticMethods_parseExpression$$(this);$expr$jscomp$9$$=$expr$jscomp$9$$.$optimize$(this);if(!($expr$jscomp$9$$ instanceof $A3a$Compiler$NodeNumber$$))throw"non-constant expression in constant definition "+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);return[new $A3a$Compiler$NodeStatementConst$$($head$jscomp$15$$,
$name$jscomp$131$$.name,$expr$jscomp$9$$)];case "var":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$))throw'unexpected token after "var" '+$JSCompiler_StaticMethods_posString$$($head$jscomp$15$$);$name$jscomp$131$$=this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=2;if($JSCompiler_StaticMethods_checkTokenType$$(this,0,$A3a$Compiler$TokenKeyword$$))switch(this.$tokens$[this.$tokenIndex$].name){case "[":if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,1,"]")){this.$tokenIndex$+=
2;if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"="))throw"missing size or initial value in array declaration"+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$-2]);$expr$jscomp$9$$=new $A3a$Compiler$NodeFun$$(this.$tokens$[this.$tokenIndex$],$A3a$Compiler$opType$infix$$,$JSCompiler_StaticMethods_getOperator$$(this,"=",$A3a$Compiler$opType$infix$$),[new $A3a$Compiler$NodeVar$$($name$jscomp$131$$)]);this.$tokenIndex$++;$expr$jscomp$9$$.children.push($JSCompiler_StaticMethods_parseExpression$$(this));
$expr$jscomp$9$$.resultType=$expr$jscomp$9$$.children[1].resultType;$expr$jscomp$9$$.$shouldProduceValue$=!1;var $expr2_sizeExpr$jscomp$1$$=new $A3a$Compiler$NodeFun$$(new $A3a$Compiler$TokenKeyword$$($expr$jscomp$9$$.head.$srcIndex$,$expr$jscomp$9$$.head.$srcLine$,$expr$jscomp$9$$.head.$srcCol$,"size"),0,$JSCompiler_StaticMethods_getOperator$$(this,"size",0),[$expr$jscomp$9$$.children[1]]);return[new $A3a$Compiler$NodeStatementVar$$($head$jscomp$15$$,$name$jscomp$131$$,$expr$jscomp$9$$.resultType,
[$expr2_sizeExpr$jscomp$1$$],$expr$jscomp$9$$)]}this.$tokenIndex$++;$expr2_sizeExpr$jscomp$1$$=$JSCompiler_StaticMethods_parseExpression$$(this);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"]"))throw"array size syntax error"+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return $JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"=")?($expr$jscomp$9$$=new $A3a$Compiler$NodeFun$$(this.$tokens$[this.$tokenIndex$],$A3a$Compiler$opType$infix$$,
$JSCompiler_StaticMethods_getOperator$$(this,"=",$A3a$Compiler$opType$infix$$),[new $A3a$Compiler$NodeVar$$($name$jscomp$131$$)]),this.$tokenIndex$++,$expr$jscomp$9$$.children.push($JSCompiler_StaticMethods_parseExpression$$(this)),$expr$jscomp$9$$.resultType=$expr$jscomp$9$$.children[1].resultType,$expr$jscomp$9$$.$shouldProduceValue$=!1,$expr$jscomp$9$$=$expr$jscomp$9$$.$optimize$(this),[new $A3a$Compiler$NodeStatementVar$$($head$jscomp$15$$,$name$jscomp$131$$,$expr$jscomp$9$$.resultType,[$expr2_sizeExpr$jscomp$1$$],
$expr$jscomp$9$$)]):[new $A3a$Compiler$NodeStatementVar$$($head$jscomp$15$$,$name$jscomp$131$$,$A3a$Compiler$resultType$undef$$,[$expr2_sizeExpr$jscomp$1$$])];case "=":return $expr$jscomp$9$$=new $A3a$Compiler$NodeFun$$(this.$tokens$[this.$tokenIndex$],$A3a$Compiler$opType$infix$$,$JSCompiler_StaticMethods_getOperator$$(this,"=",$A3a$Compiler$opType$infix$$),[new $A3a$Compiler$NodeVar$$($name$jscomp$131$$)]),this.$tokenIndex$++,$expr$jscomp$9$$.children.push($JSCompiler_StaticMethods_parseExpression$$(this)),
$expr$jscomp$9$$.resultType=$expr$jscomp$9$$.children[1].resultType,$expr$jscomp$9$$.$shouldProduceValue$=!1,$expr$jscomp$9$$=$expr$jscomp$9$$.$optimize$(this),[new $A3a$Compiler$NodeStatementVar$$($head$jscomp$15$$,$name$jscomp$131$$,$expr$jscomp$9$$.resultType,null,$expr$jscomp$9$$)]}return[new $A3a$Compiler$NodeStatementVar$$($head$jscomp$15$$,$name$jscomp$131$$,$A3a$Compiler$resultType$undef$$)];case "if":case "elseif":this.$tokenIndex$++;$expr$jscomp$9$$=$JSCompiler_StaticMethods_parseExpression$$(this);
if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"then"))throw'"then" expected after "if" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return["if"===$head$jscomp$15$$.name?new $A3a$Compiler$NodeStatementIf$$($head$jscomp$15$$,$expr$jscomp$9$$):new $A3a$Compiler$NodeStatementElseif$$($head$jscomp$15$$,$expr$jscomp$9$$)];case "when":this.$tokenIndex$++;$expr$jscomp$9$$=$JSCompiler_StaticMethods_parseExpression$$(this);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,
0,"do"))throw'"do" expected after "when" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return[new $A3a$Compiler$NodeStatementWhen$$($head$jscomp$15$$,$expr$jscomp$9$$)];case "while":this.$tokenIndex$++;$expr$jscomp$9$$=$JSCompiler_StaticMethods_parseExpression$$(this);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"do"))throw'"do" expected after "while" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);
this.$tokenIndex$++;return[new $A3a$Compiler$NodeStatementWhile$$($head$jscomp$15$$,$expr$jscomp$9$$)];case "for":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$)||!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,2,"in"))throw'"for" syntax error '+$JSCompiler_StaticMethods_posString$$($head$jscomp$15$$);$name$jscomp$131$$=this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=3;$expr$jscomp$9$$=$JSCompiler_StaticMethods_parseExpression$$(this);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,
0,":"))throw'range expected in "for" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;$expr2_sizeExpr$jscomp$1$$=$JSCompiler_StaticMethods_parseExpression$$(this);var $step$jscomp$1$$=null;$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"step")&&(this.$tokenIndex$++,$step$jscomp$1$$=$JSCompiler_StaticMethods_parseExpression$$(this));if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"do"))throw'"do" expected after "for" statement '+
$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return[new $A3a$Compiler$NodeStatementFor$$($head$jscomp$15$$,$name$jscomp$131$$,$expr$jscomp$9$$,$expr2_sizeExpr$jscomp$1$$,$step$jscomp$1$$)];case "end":return this.$tokenIndex$++,[new $A3a$Compiler$NodeStatementEnd$$($head$jscomp$15$$)];case "call":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$))throw'"call" syntax error '+$JSCompiler_StaticMethods_posString$$($head$jscomp$15$$);
$name$jscomp$131$$=this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=2;return $JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"(")?[new $A3a$Compiler$NodeStatementCall$$($head$jscomp$15$$,$name$jscomp$131$$.name,$JSCompiler_StaticMethods_parseArguments$$(this))]:[new $A3a$Compiler$NodeStatementCall$$($head$jscomp$15$$,$name$jscomp$131$$.name,[])];case "callsub":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$))throw'"callsub" syntax error '+$JSCompiler_StaticMethods_posString$$($head$jscomp$15$$);
$name$jscomp$131$$=this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=2;return[new $A3a$Compiler$NodeStatementCallSub$$($head$jscomp$15$$,$name$jscomp$131$$.name)];case "else":return this.$tokenIndex$++,[new $A3a$Compiler$NodeStatementElse$$($head$jscomp$15$$)];case "onevent":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$))throw'unexpected token after "onevent" '+$JSCompiler_StaticMethods_posString$$($head$jscomp$15$$);$name$jscomp$131$$=this.$tokens$[this.$tokenIndex$+
1];this.$tokenIndex$+=2;return[new $A3a$Compiler$NodeStatementOnevent$$($head$jscomp$15$$,$name$jscomp$131$$.name)];case "return":return this.$tokenIndex$++,[new $A3a$Compiler$NodeStatementReturn$$($head$jscomp$15$$)];case "sub":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$))throw'unexpected token after "sub" '+$JSCompiler_StaticMethods_posString$$($head$jscomp$15$$);$name$jscomp$131$$=this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=2;return[new $A3a$Compiler$NodeStatementSub$$($head$jscomp$15$$,
$name$jscomp$131$$.name)]}}$expr$jscomp$9$$=$JSCompiler_StaticMethods_parseExpression$$(this);$expr$jscomp$9$$ instanceof $A3a$Compiler$NodeFun$$&&($expr$jscomp$9$$.$shouldProduceValue$=!1);$expr$jscomp$9$$=$expr$jscomp$9$$.$optimize$(this);return[new $A3a$Compiler$NodeStatementExpression$$($expr$jscomp$9$$)]};$JSCompiler_prototypeAlias$$.$processTokenArray$=function $$JSCompiler_prototypeAlias$$$$processTokenArray$$(){};$JSCompiler_prototypeAlias$$.$processStatementArray$=function $$JSCompiler_prototypeAlias$$$$processStatementArray$$(){};
$JSCompiler_prototypeAlias$$.$addVariableOrConstantDef$=function $$JSCompiler_prototypeAlias$$$$addVariableOrConstantDef$$($statement$jscomp$4$$){if($statement$jscomp$4$$ instanceof $A3a$Compiler$NodeStatementConst$$){$statement$jscomp$4$$.$val$=$statement$jscomp$4$$.$val$.$optimize$(this);if(!($statement$jscomp$4$$.$val$ instanceof $A3a$Compiler$NodeNumber$$))throw"constant definition "+$JSCompiler_StaticMethods_posString$$($statement$jscomp$4$$.head);this.$o$[$statement$jscomp$4$$.$b$]={$val$:$statement$jscomp$4$$.$val$.n,
resultType:$statement$jscomp$4$$.$val$.resultType}}else $statement$jscomp$4$$ instanceof $A3a$Compiler$NodeStatementVar$$&&($statement$jscomp$4$$.size=1,$statement$jscomp$4$$.$dims$=[],$statement$jscomp$4$$.$b$&&($statement$jscomp$4$$.$b$=$statement$jscomp$4$$.$b$.map(function($e$jscomp$41_expr$jscomp$10$$){$e$jscomp$41_expr$jscomp$10$$=$e$jscomp$41_expr$jscomp$10$$.$optimize$(this);if(!($e$jscomp$41_expr$jscomp$10$$ instanceof $A3a$Compiler$NodeNumber$$)||0>=$e$jscomp$41_expr$jscomp$10$$.n)throw"array variable size "+
$JSCompiler_StaticMethods_posString$$($statement$jscomp$4$$.head);$statement$jscomp$4$$.size*=$e$jscomp$41_expr$jscomp$10$$.n;$statement$jscomp$4$$.$dims$.push($e$jscomp$41_expr$jscomp$10$$.n);return $e$jscomp$41_expr$jscomp$10$$},this)),$statement$jscomp$4$$.offset=this.$varSize$,$statement$jscomp$4$$.children[0]&&($statement$jscomp$4$$.resultType=$statement$jscomp$4$$.children[0].resultType),this.$varSize$+=$statement$jscomp$4$$.size,this.$H$($statement$jscomp$4$$.$o$,$statement$jscomp$4$$.size,
$statement$jscomp$4$$.$dims$,$statement$jscomp$4$$.offset,$statement$jscomp$4$$.resultType))};$JSCompiler_prototypeAlias$$.$resetContext$=function $$JSCompiler_prototypeAlias$$$$resetContext$$(){};$JSCompiler_prototypeAlias$$.$setContext$=function $$JSCompiler_prototypeAlias$$$$setContext$$(){};$JSCompiler_prototypeAlias$$.getContext=function $$JSCompiler_prototypeAlias$$$getContext$(){return null};
$JSCompiler_prototypeAlias$$.$allocateVariables$=function $$JSCompiler_prototypeAlias$$$$allocateVariables$$(){this.$varSize$=this.$asebaNode$.$varSize$;for(var $i$jscomp$237$$=0;$i$jscomp$237$$<this.$g$.length;$i$jscomp$237$$++)this.$addVariableOrConstantDef$(this.$g$[$i$jscomp$237$$])};
function $JSCompiler_StaticMethods_changeContext$$($JSCompiler_StaticMethods_changeContext$self$$,$statement$jscomp$5$$,$stack$$){switch($statement$jscomp$5$$.type){case 3:$stack$$.push($JSCompiler_StaticMethods_changeContext$self$$.getContext());$JSCompiler_StaticMethods_changeContext$self$$.$setContext$($statement$jscomp$5$$.$contexts$[0]);break;case 4:$JSCompiler_StaticMethods_changeContext$self$$.$setContext$($statement$jscomp$5$$.$contexts$[0]);break;case 5:$JSCompiler_StaticMethods_changeContext$self$$.$setContext$($stack$$.pop())}}
function $JSCompiler_StaticMethods_buildTree$$($JSCompiler_StaticMethods_buildTree$self$$){function $terminateBlock$$(){if(1<$stack$jscomp$1$$.length){var $b$jscomp$23$$=$stack$jscomp$1$$[$stack$jscomp$1$$.length-1].head;throw"unterminated "+$b$jscomp$23$$.name+" "+$JSCompiler_StaticMethods_posString$$($b$jscomp$23$$);}$self$jscomp$30$$.$j$.push($stack$jscomp$1$$[0])}var $self$jscomp$30$$=$JSCompiler_StaticMethods_buildTree$self$$,$stackContext$$=[];$JSCompiler_StaticMethods_buildTree$self$$.$allocateVariables$();
$JSCompiler_StaticMethods_buildTree$self$$.$resetContext$();$stackContext$$=[];$JSCompiler_StaticMethods_buildTree$self$$.$g$.forEach(function($statement$jscomp$6$$){$JSCompiler_StaticMethods_changeContext$$(this,$statement$jscomp$6$$,$stackContext$$);$statement$jscomp$6$$.$resolveArraySize$(this)},$JSCompiler_StaticMethods_buildTree$self$$);$JSCompiler_StaticMethods_buildTree$self$$.$resetContext$();$stackContext$$=[];for(var $i$jscomp$238$$=0;$i$jscomp$238$$<$JSCompiler_StaticMethods_buildTree$self$$.$g$.length;$i$jscomp$238$$++)$JSCompiler_StaticMethods_changeContext$$($JSCompiler_StaticMethods_buildTree$self$$,
$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$],$stackContext$$),$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$]=$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$optimize$($JSCompiler_StaticMethods_buildTree$self$$);$JSCompiler_StaticMethods_buildTree$self$$.$resetContext$();$stackContext$$=[];for($i$jscomp$238$$=0;$i$jscomp$238$$<$JSCompiler_StaticMethods_buildTree$self$$.$g$.length;$i$jscomp$238$$++)$JSCompiler_StaticMethods_changeContext$$($JSCompiler_StaticMethods_buildTree$self$$,
$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$],$stackContext$$),$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$]=$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$l$($JSCompiler_StaticMethods_buildTree$self$$);$JSCompiler_StaticMethods_buildTree$self$$.$j$=[];var $stack$jscomp$1$$=[new $A3a$Compiler$NodeStatementOnevent$$(null,"init")];$JSCompiler_StaticMethods_buildTree$self$$.$resetContext$();for($i$jscomp$238$$=0;$i$jscomp$238$$<$JSCompiler_StaticMethods_buildTree$self$$.$g$.length;$i$jscomp$238$$++)switch($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].type){case $A3a$Compiler$NodeStatement$type$plain$$:$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$postProcess$($JSCompiler_StaticMethods_buildTree$self$$,
$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$]);$stack$jscomp$1$$[$stack$jscomp$1$$.length-1].children.push($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$]);break;case 2:$JSCompiler_StaticMethods_buildTree$self$$.$setContext$($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$contexts$[0]);$terminateBlock$$();$stack$jscomp$1$$=[$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$newBlock$()];break;case 3:$JSCompiler_StaticMethods_buildTree$self$$.$setContext$($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$contexts$[0]);
$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$processBeginStatement$($JSCompiler_StaticMethods_buildTree$self$$);$stack$jscomp$1$$.push($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$]);break;case 4:$JSCompiler_StaticMethods_buildTree$self$$.$setContext$($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$contexts$[0]);$stack$jscomp$1$$[$stack$jscomp$1$$.length-1].$processMiddleStatement$($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$]);
break;case 5:if(2>$stack$jscomp$1$$.length)throw"unexpected end "+$JSCompiler_StaticMethods_posString$$($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].head);$JSCompiler_StaticMethods_buildTree$self$$.$setContext$($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$contexts$[0]);$stack$jscomp$1$$[$stack$jscomp$1$$.length-1].$processEndStatement$($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$]);var $st$jscomp$10$$=$stack$jscomp$1$$.pop();$JSCompiler_StaticMethods_buildTree$self$$.$setContext$($JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$contexts$[$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].$contexts$.length-
1]);$st$jscomp$10$$.$postProcess$($JSCompiler_StaticMethods_buildTree$self$$,$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$]);$stack$jscomp$1$$[$stack$jscomp$1$$.length-1].children.push($st$jscomp$10$$);break;default:throw"not implemented "+$JSCompiler_StaticMethods_buildTree$self$$.$g$[$i$jscomp$238$$].type;}$terminateBlock$$()}$JSCompiler_prototypeAlias$$.$processTree$=function $$JSCompiler_prototypeAlias$$$$processTree$$(){};
$JSCompiler_prototypeAlias$$.$generateA3aBCForFunction$=function $$JSCompiler_prototypeAlias$$$$generateA3aBCForFunction$$(){return null};
$A3a$Compiler$Node$$.prototype.$generateA3aBC$=function $$A3a$Compiler$Node$$$$$generateA3aBC$$($compiler$jscomp$63$$){for(var $bc$$=[],$bcAddr0$$=$compiler$jscomp$63$$.$bcAddr$,$i$jscomp$239$$=0;$i$jscomp$239$$<this.children.length;$i$jscomp$239$$++)$bc$$=$bc$$.concat(this.children[$i$jscomp$239$$].$generateA3aBC$($compiler$jscomp$63$$)),$compiler$jscomp$63$$.$bcAddr$=$bcAddr0$$+$bc$$.length;return $bc$$};
function $A3a$Compiler$NodeNumber$generateA3aBC$$($num$jscomp$7$$){return-2048<=$num$jscomp$7$$&&2048>$num$jscomp$7$$?[4096|$num$jscomp$7$$&4095]:[8192,$num$jscomp$7$$&65535]}$A3a$Compiler$NodeNumber$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeNumber$$$$$generateA3aBC$$(){return this.$shouldProduceValue$?$A3a$Compiler$NodeNumber$generateA3aBC$$(this.n):[]};
$A3a$Compiler$NodeVar$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeVar$$$$$generateA3aBC$$($compiler$jscomp$65$$){return this.$b$?[]:$compiler$jscomp$65$$.$o$.hasOwnProperty(this.name)?$A3a$Compiler$NodeNumber$generateA3aBC$$($compiler$jscomp$65$$.$o$[this.name].$val$):$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$65$$,this).$generateA3aBCForLoad$($compiler$jscomp$65$$)};
$A3a$Compiler$NodeFun$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeFun$$$$$generateA3aBC$$($compiler$jscomp$66$$){function $compileAssignment$$($index$jscomp$70_lhs$jscomp$1$$,$rhs$$,$pushVar$$,$resultKind$$){function $compileAssignmentConstAddr$$($variable$jscomp$3$$,$offset$jscomp$27$$){$resultKind$$===$assignmentResultValue$$.$postAssign$&&($bc$jscomp$2$$=$bc$jscomp$2$$.concat($variable$jscomp$3$$.$generateA3aBCForLoad$($compiler$jscomp$66$$,$offset$jscomp$27$$)));$pushVar$$&&($bc$jscomp$2$$=
$bc$jscomp$2$$.concat($variable$jscomp$3$$.$generateA3aBCForLoad$($compiler$jscomp$66$$,$offset$jscomp$27$$)));$bc$jscomp$2$$=$bc$jscomp$2$$.concat($rhs$$.$generateA3aBC$($compiler$jscomp$66$$)).concat($compiler$jscomp$66$$.$B$($rhs$$.resultType,$variable$jscomp$3$$.resultType)).concat($variable$jscomp$3$$.$generateA3aBCForStore$($compiler$jscomp$66$$,$offset$jscomp$27$$));$resultKind$$===$assignmentResultValue$$.$preAssign$&&($bc$jscomp$2$$=$bc$jscomp$2$$.concat($variable$jscomp$3$$.$generateA3aBCForLoad$($compiler$jscomp$66$$,
$offset$jscomp$27$$)))}var $bc$jscomp$2$$=[];if($index$jscomp$70_lhs$jscomp$1$$ instanceof $A3a$Compiler$NodeIndexing$$){var $variable$jscomp$2$$=$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$66$$,$index$jscomp$70_lhs$jscomp$1$$);if($JSCompiler_StaticMethods_areIndicesConstant$$($index$jscomp$70_lhs$jscomp$1$$)){$index$jscomp$70_lhs$jscomp$1$$=$JSCompiler_StaticMethods_constantIndicesToSingleIndex$$($index$jscomp$70_lhs$jscomp$1$$,$variable$jscomp$2$$);if($index$jscomp$70_lhs$jscomp$1$$>=
$variable$jscomp$2$$.size)throw"index out of range";$compileAssignmentConstAddr$$($variable$jscomp$2$$,$index$jscomp$70_lhs$jscomp$1$$)}else if($resultKind$$!==$assignmentResultValue$$.$void$||$pushVar$$){var $tempVarOffset$jscomp$1$$=$JSCompiler_StaticMethods_allocTempVariable$$($compiler$jscomp$66$$,1);$bc$jscomp$2$$=$bc$jscomp$2$$.concat($JSCompiler_StaticMethods_generateA3aBCForIndices$$($index$jscomp$70_lhs$jscomp$1$$,$compiler$jscomp$66$$)).concat(16384|$tempVarOffset$jscomp$1$$);$resultKind$$===
$assignmentResultValue$$.$postAssign$&&($bc$jscomp$2$$=$bc$jscomp$2$$.concat(12288|$tempVarOffset$jscomp$1$$).concat($variable$jscomp$2$$.$generateA3aBCForLoadIndirect$($compiler$jscomp$66$$)));$pushVar$$&&($bc$jscomp$2$$=$bc$jscomp$2$$.concat(12288|$tempVarOffset$jscomp$1$$).concat($variable$jscomp$2$$.$generateA3aBCForLoadIndirect$($compiler$jscomp$66$$)));$bc$jscomp$2$$=$bc$jscomp$2$$.concat($rhs$$.$generateA3aBC$($compiler$jscomp$66$$)).concat($compiler$jscomp$66$$.$B$($rhs$$.resultType,$variable$jscomp$2$$.resultType)).concat(12288|
$tempVarOffset$jscomp$1$$).concat($variable$jscomp$2$$.$generateA3aBCForStoreIndirect$($compiler$jscomp$66$$));$resultKind$$===$assignmentResultValue$$.$preAssign$&&($bc$jscomp$2$$=$bc$jscomp$2$$.concat(12288|$tempVarOffset$jscomp$1$$).concat($variable$jscomp$2$$.$generateA3aBCForLoadIndirect$($compiler$jscomp$66$$)))}else $bc$jscomp$2$$=$bc$jscomp$2$$.concat($rhs$$.$generateA3aBC$($compiler$jscomp$66$$)).concat($compiler$jscomp$66$$.$B$($rhs$$.resultType,$variable$jscomp$2$$.resultType)).concat($JSCompiler_StaticMethods_generateA3aBCForIndices$$($index$jscomp$70_lhs$jscomp$1$$,
$compiler$jscomp$66$$)).concat($variable$jscomp$2$$.$generateA3aBCForStoreIndirect$($compiler$jscomp$66$$))}else if($index$jscomp$70_lhs$jscomp$1$$ instanceof $A3a$Compiler$NodeVar$$)$variable$jscomp$2$$=$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$66$$,$index$jscomp$70_lhs$jscomp$1$$),$compileAssignmentConstAddr$$($variable$jscomp$2$$);else throw"bad assignment";return $bc$jscomp$2$$}var $assignmentResultValue$$={$void$:0,$preAssign$:1,$postAssign$:2},$name$jscomp$132_tempVarOffset_variable$jscomp$1$$=
this.head.name;switch($name$jscomp$132_tempVarOffset_variable$jscomp$1$$){case "=":return $compileAssignment$$(this.children[0],this.children[1],!1,this.$shouldProduceValue$?$assignmentResultValue$$.$preAssign$:$assignmentResultValue$$.$void$);case "++":case "--":if(!(this.children[0]instanceof $A3a$Compiler$NodeVar$$))throw"invalid operand "+$JSCompiler_StaticMethods_posString$$(this.head);var $macroFunctionDef_nodeFun_opName$$=$name$jscomp$132_tempVarOffset_variable$jscomp$1$$[0],$bc$jscomp$1_opDescr$jscomp$2$$=
$JSCompiler_StaticMethods_getOperator$$($compiler$jscomp$66$$,$macroFunctionDef_nodeFun_opName$$,$A3a$Compiler$opType$infix$$);$macroFunctionDef_nodeFun_opName$$=new $A3a$Compiler$NodeFun$$(new $A3a$Compiler$TokenKeyword$$(this.head.$srcIndex$,this.head.$srcLine$,this.head.$srcCol$,$macroFunctionDef_nodeFun_opName$$),$A3a$Compiler$opType$infix$$,$bc$jscomp$1_opDescr$jscomp$2$$,[$JSCompiler_StaticMethods_makeDummyPlaceholder$$(this.children[0]),new $A3a$Compiler$NodeNumber$$(new $A3a$Compiler$TokenNumber$$(this.head.$srcIndex$,
this.head.$srcLine$,this.head.$srcCol$,1))]);$bc$jscomp$1_opDescr$jscomp$2$$.$resultTypePropagate$&&($name$jscomp$132_tempVarOffset_variable$jscomp$1$$=$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$66$$,this.children[0]),$macroFunctionDef_nodeFun_opName$$.resultType=$bc$jscomp$1_opDescr$jscomp$2$$.$resultTypePropagate$($compiler$jscomp$66$$,$macroFunctionDef_nodeFun_opName$$,[$name$jscomp$132_tempVarOffset_variable$jscomp$1$$.resultType,$A3a$Compiler$resultType$number$$]));return $compileAssignment$$(this.children[0],
$macroFunctionDef_nodeFun_opName$$,!0,this.$shouldProduceValue$?0===this.type?$assignmentResultValue$$.$preAssign$:$assignmentResultValue$$.$postAssign$:$assignmentResultValue$$.$void$);default:if(this.type===$A3a$Compiler$opType$infix$$&&this.$operatorDescr$.priority===$A3a$Compiler$opPriority$assignment$$){if(!(this.children[0]instanceof $A3a$Compiler$NodeVar$$))throw"invalid operand "+$JSCompiler_StaticMethods_posString$$(this.head);$macroFunctionDef_nodeFun_opName$$=$name$jscomp$132_tempVarOffset_variable$jscomp$1$$.slice(0,
-1);$bc$jscomp$1_opDescr$jscomp$2$$=$JSCompiler_StaticMethods_getOperator$$($compiler$jscomp$66$$,$macroFunctionDef_nodeFun_opName$$,$A3a$Compiler$opType$infix$$);$macroFunctionDef_nodeFun_opName$$=new $A3a$Compiler$NodeFun$$(new $A3a$Compiler$TokenKeyword$$(this.head.$srcIndex$,this.head.$srcLine$,this.head.$srcCol$,$macroFunctionDef_nodeFun_opName$$),$A3a$Compiler$opType$infix$$,$bc$jscomp$1_opDescr$jscomp$2$$,[$JSCompiler_StaticMethods_makeDummyPlaceholder$$(this.children[0]),this.children[1]]);
$bc$jscomp$1_opDescr$jscomp$2$$.$resultTypePropagate$&&($name$jscomp$132_tempVarOffset_variable$jscomp$1$$=$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$66$$,this.children[0]),$macroFunctionDef_nodeFun_opName$$.resultType=$bc$jscomp$1_opDescr$jscomp$2$$.$resultTypePropagate$($compiler$jscomp$66$$,$macroFunctionDef_nodeFun_opName$$,[$name$jscomp$132_tempVarOffset_variable$jscomp$1$$.resultType,this.children[1].resultType]));return $compileAssignment$$(this.children[0],$macroFunctionDef_nodeFun_opName$$,
!0,this.$shouldProduceValue$?$assignmentResultValue$$.$preAssign$:$assignmentResultValue$$.$void$)}if(this.$operatorDescr$&&this.$operatorDescr$.$generateA3aBC$)return this.$operatorDescr$.$generateA3aBC$(this,$compiler$jscomp$66$$);switch(this.type){case 0:return $A3a$Compiler$Node$$.prototype.$generateA3aBC$.call(this,$compiler$jscomp$66$$).concat(this.$operatorDescr$.$bytecode$);case $A3a$Compiler$opType$infix$$:return $A3a$Compiler$Node$$.prototype.$generateA3aBC$.call(this,$compiler$jscomp$66$$).concat(this.$operatorDescr$.$bytecode$);
case 3:return this.$operatorDescr$.$bytecode$;case 4:$bc$jscomp$1_opDescr$jscomp$2$$=$compiler$jscomp$66$$.$generateA3aBCForFunction$(this);if(null!==$bc$jscomp$1_opDescr$jscomp$2$$)return $bc$jscomp$1_opDescr$jscomp$2$$;$macroFunctionDef_nodeFun_opName$$=$JSCompiler_StaticMethods_getMacroFunctionDef$$($compiler$jscomp$66$$,$name$jscomp$132_tempVarOffset_variable$jscomp$1$$);if(null!=$macroFunctionDef_nodeFun_opName$$){if($macroFunctionDef_nodeFun_opName$$.$nArgs$!==this.children.length)throw"wrong number of arguments";
$bc$jscomp$1_opDescr$jscomp$2$$=[];$name$jscomp$132_tempVarOffset_variable$jscomp$1$$=$JSCompiler_StaticMethods_allocTempVariable$$($compiler$jscomp$66$$,$macroFunctionDef_nodeFun_opName$$.$nArgs$+($macroFunctionDef_nodeFun_opName$$.$nTmp$||0));for(var $j$jscomp$18$$=0;$j$jscomp$18$$<this.children.length;$j$jscomp$18$$++)$bc$jscomp$1_opDescr$jscomp$2$$=$bc$jscomp$1_opDescr$jscomp$2$$.concat(this.children[$j$jscomp$18$$].$generateA3aBC$($compiler$jscomp$66$$)),$bc$jscomp$1_opDescr$jscomp$2$$=$bc$jscomp$1_opDescr$jscomp$2$$.concat(16384|
$name$jscomp$132_tempVarOffset_variable$jscomp$1$$+$j$jscomp$18$$);return $bc$jscomp$1_opDescr$jscomp$2$$=$bc$jscomp$1_opDescr$jscomp$2$$.concat($macroFunctionDef_nodeFun_opName$$.$genCode$($compiler$jscomp$66$$,$compiler$jscomp$66$$.$asebaNode$,this.children.map(function($node$jscomp$37$$){return $node$jscomp$37$$.resultType}),$name$jscomp$132_tempVarOffset_variable$jscomp$1$$))}throw"unknown function "+$name$jscomp$132_tempVarOffset_variable$jscomp$1$$+" "+$JSCompiler_StaticMethods_posString$$(this.head);
default:throw"internal";}}};
function $JSCompiler_StaticMethods_generateA3aCondBranchBC$$($JSCompiler_StaticMethods_generateA3aCondBranchBC$self$$,$compiler$jscomp$67$$,$when$jscomp$7$$){return $JSCompiler_StaticMethods_generateA3aCondBranchBC$self$$ instanceof $A3a$Compiler$NodeFun$$&&2===$JSCompiler_StaticMethods_generateA3aCondBranchBC$self$$.children.length?$JSCompiler_StaticMethods_generateA3aCondBranchBC$self$$.children[0].$generateA3aBC$($compiler$jscomp$67$$).concat($JSCompiler_StaticMethods_generateA3aCondBranchBC$self$$.children[1].$generateA3aBC$($compiler$jscomp$67$$)).concat([40960|($when$jscomp$7$$?
256:0)|$JSCompiler_StaticMethods_generateA3aCondBranchBC$self$$.$operatorDescr$.$bytecode$[0]&255,0]):$JSCompiler_StaticMethods_generateA3aCondBranchBC$self$$.$generateA3aBC$($compiler$jscomp$67$$).concat(4096,40960|($when$jscomp$7$$?256:0)|$A3a$vm$condName$$.indexOf("ne"),0)}
function $JSCompiler_StaticMethods_generateA3aBCForIndices$$($JSCompiler_StaticMethods_generateA3aBCForIndices$self$$,$compiler$jscomp$68$$){var $variable$jscomp$4$$=$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$68$$,$JSCompiler_StaticMethods_generateA3aBCForIndices$self$$);if($JSCompiler_StaticMethods_generateA3aBCForIndices$self$$.children.length>$variable$jscomp$4$$.$dims$.length)throw"too many indices"+$JSCompiler_StaticMethods_posString$$($JSCompiler_StaticMethods_generateA3aBCForIndices$self$$.head);
for(var $bc$jscomp$3$$=[],$m$jscomp$4$$=1,$i$jscomp$240$$=0;$i$jscomp$240$$<$JSCompiler_StaticMethods_generateA3aBCForIndices$self$$.children.length;$i$jscomp$240$$++)$bc$jscomp$3$$=$bc$jscomp$3$$.concat($JSCompiler_StaticMethods_generateA3aBCForIndices$self$$.children[$i$jscomp$240$$].$generateA3aBC$($compiler$jscomp$68$$)),0<$i$jscomp$240$$&&($bc$jscomp$3$$=$bc$jscomp$3$$.concat(4096|$m$jscomp$4$$,32772,32770)),$m$jscomp$4$$*=$variable$jscomp$4$$.$dims$[$i$jscomp$240$$];return $bc$jscomp$3$$}
$A3a$Compiler$NodeIndexing$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeIndexing$$$$$generateA3aBC$$($compiler$jscomp$69$$){if(this.$b$)return[];var $variable$jscomp$5$$=$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$69$$,this);if($JSCompiler_StaticMethods_areIndicesConstant$$(this)){var $index$jscomp$71$$=$JSCompiler_StaticMethods_constantIndicesToSingleIndex$$(this,$variable$jscomp$5$$);if($index$jscomp$71$$>=$variable$jscomp$5$$.size)throw"index out of range "+$JSCompiler_StaticMethods_posString$$(this.head);
return $variable$jscomp$5$$.$generateA3aBCForLoad$($compiler$jscomp$69$$,$index$jscomp$71$$)}return $JSCompiler_StaticMethods_generateA3aBCForIndices$$(this,$compiler$jscomp$69$$).concat($variable$jscomp$5$$.$generateA3aBCForLoadIndirect$($compiler$jscomp$69$$))};$A3a$Compiler$NodeArray$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeArray$$$$$generateA3aBC$$(){throw"internal";};
$A3a$Compiler$NodeStatement$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatement$$$$$generateA3aBC$$(){throw"internal";};
$A3a$Compiler$NodeStatementOnevent$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementOnevent$$$$$generateA3aBC$$($compiler$jscomp$72$$){var $baseContext$$=$compiler$jscomp$72$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$72$$);$compiler$jscomp$72$$.$setContext$(this.$contexts$[0]);var $bc$jscomp$4$$="init"===this.$eventName$?$compiler$jscomp$72$$.$M$:[];$compiler$jscomp$72$$.$bcAddr$+=$bc$jscomp$4$$.length;$bc$jscomp$4$$=$bc$jscomp$4$$.concat($A3a$Compiler$Node$$.prototype.$generateA3aBC$.call(this,
$compiler$jscomp$72$$)).concat(0);$compiler$jscomp$72$$.$setContext$($baseContext$$);return $bc$jscomp$4$$};
$A3a$Compiler$NodeStatementSub$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementSub$$$$$generateA3aBC$$($compiler$jscomp$73$$){var $baseContext$jscomp$1$$=$compiler$jscomp$73$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$73$$);$compiler$jscomp$73$$.$setContext$(this.$contexts$[0]);var $bc$jscomp$5$$=$A3a$Compiler$Node$$.prototype.$generateA3aBC$.call(this,$compiler$jscomp$73$$).concat(57344);$compiler$jscomp$73$$.$setContext$($baseContext$jscomp$1$$);
return $bc$jscomp$5$$};$A3a$Compiler$NodeStatementConst$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementConst$$$$$generateA3aBC$$($compiler$jscomp$74$$){$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$74$$);return[]};
$A3a$Compiler$NodeStatementVar$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementVar$$$$$generateA3aBC$$($compiler$jscomp$75$$){$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$75$$);return 0===this.children.length?[]:$A3a$Compiler$Node$$.prototype.$generateA3aBC$.call(this,$compiler$jscomp$75$$)};
$A3a$Compiler$NodeStatementExpression$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementExpression$$$$$generateA3aBC$$($compiler$jscomp$76$$){$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$76$$);return this.children[0].$generateA3aBC$($compiler$jscomp$76$$)};
$A3a$Compiler$NodeStatementSequence$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementSequence$$$$$generateA3aBC$$($compiler$jscomp$77$$,$isTopLevel$jscomp$12$$){$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$77$$);var $bc$jscomp$7$$=[];this.children.forEach(function($st$jscomp$11$$){$bc$jscomp$7$$=$bc$jscomp$7$$.concat($st$jscomp$11$$.$generateA3aBC$($compiler$jscomp$77$$,$isTopLevel$jscomp$12$$))});return $bc$jscomp$7$$};
$A3a$Compiler$NodeStatementIf$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementIf$$$$$generateA3aBC$$($compiler$jscomp$78$$){var $baseContext$jscomp$2$$=$compiler$jscomp$78$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$78$$);for(var $bcAddr0$jscomp$1$$=$compiler$jscomp$78$$.$bcAddr$,$bc$jscomp$8$$=[],$pendingJumpsToEndCount$$=0,$i$jscomp$241$$=0;$i$jscomp$241$$<this.$b$.length;$i$jscomp$241$$++)$compiler$jscomp$78$$.$bcAddr$=$bcAddr0$jscomp$1$$+
$bc$jscomp$8$$.length,0<$i$jscomp$241$$&&$JSCompiler_StaticMethods_addSourceToBCMapping$$($compiler$jscomp$78$$,this.$i$[$i$jscomp$241$$-1]),$bc$jscomp$8$$=$bc$jscomp$8$$.concat($JSCompiler_StaticMethods_generateA3aCondBranchBC$$(this.$b$[$i$jscomp$241$$],$compiler$jscomp$78$$)),$compiler$jscomp$78$$.$bcAddr$=$bcAddr0$jscomp$1$$+$bc$jscomp$8$$.length,$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$78$$,$bc$jscomp$8$$),$compiler$jscomp$78$$.$setContext$(this.$contexts$[$i$jscomp$241$$]),this.$g$[$i$jscomp$241$$].forEach(function($st$jscomp$12$$){$bc$jscomp$8$$=
$bc$jscomp$8$$.concat($st$jscomp$12$$.$generateA3aBC$($compiler$jscomp$78$$));$compiler$jscomp$78$$.$bcAddr$=$bcAddr0$jscomp$1$$+$bc$jscomp$8$$.length}),$compiler$jscomp$78$$.$setContext$($baseContext$jscomp$2$$),$i$jscomp$241$$+1<this.$g$.length?($bc$jscomp$8$$=$bc$jscomp$8$$.concat(36864),$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$78$$,$bc$jscomp$8$$),$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$78$$,$bc$jscomp$8$$),$pendingJumpsToEndCount$$++):$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$78$$,
$bc$jscomp$8$$);$compiler$jscomp$78$$.$bcAddr$=$bcAddr0$jscomp$1$$+$bc$jscomp$8$$.length;this.$g$.length>this.$b$.length&&($JSCompiler_StaticMethods_addSourceToBCMapping$$($compiler$jscomp$78$$,this.$i$[this.$b$.length-1],$compiler$jscomp$78$$.$bcAddr$+$bc$jscomp$8$$.length),$compiler$jscomp$78$$.$setContext$(this.$contexts$[this.$b$.length]),this.$g$[this.$b$.length].forEach(function($st$jscomp$13$$){$bc$jscomp$8$$=$bc$jscomp$8$$.concat($st$jscomp$13$$.$generateA3aBC$($compiler$jscomp$78$$));$compiler$jscomp$78$$.$bcAddr$=
$bcAddr0$jscomp$1$$+$bc$jscomp$8$$.length}));for(;0<$pendingJumpsToEndCount$$--;)$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$78$$,$bc$jscomp$8$$);$compiler$jscomp$78$$.$setContext$($baseContext$jscomp$2$$);return $bc$jscomp$8$$};
$A3a$Compiler$NodeStatementWhen$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementWhen$$$$$generateA3aBC$$($compiler$jscomp$79$$){var $baseContext$jscomp$3$$=$compiler$jscomp$79$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$79$$);var $bcAddr0$jscomp$2$$=$compiler$jscomp$79$$.$bcAddr$,$bc$jscomp$9$$=$JSCompiler_StaticMethods_generateA3aCondBranchBC$$(this.$b$,$compiler$jscomp$79$$,!0);$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$79$$,
$bc$jscomp$9$$);$compiler$jscomp$79$$.$setContext$(this.$contexts$[0]);this.children.forEach(function($st$jscomp$14$$){$compiler$jscomp$79$$.$bcAddr$=$bcAddr0$jscomp$2$$+$bc$jscomp$9$$.length;$bc$jscomp$9$$=$bc$jscomp$9$$.concat($st$jscomp$14$$.$generateA3aBC$($compiler$jscomp$79$$))});$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$79$$,$bc$jscomp$9$$);$compiler$jscomp$79$$.$setContext$($baseContext$jscomp$3$$);return $bc$jscomp$9$$};
$A3a$Compiler$NodeStatementWhile$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementWhile$$$$$generateA3aBC$$($compiler$jscomp$80$$){if(null==this.$b$&&0===this.children.length)return[];var $baseContext$jscomp$4$$=$compiler$jscomp$80$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$80$$);var $bcAddr0$jscomp$3$$=$compiler$jscomp$80$$.$bcAddr$,$bc$jscomp$10$$=[];null!=this.$b$&&($bc$jscomp$10$$=$JSCompiler_StaticMethods_generateA3aCondBranchBC$$(this.$b$,
$compiler$jscomp$80$$));$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$80$$,$bc$jscomp$10$$);$compiler$jscomp$80$$.$setContext$(this.$contexts$[0]);this.children.forEach(function($st$jscomp$15$$){$compiler$jscomp$80$$.$bcAddr$=$bcAddr0$jscomp$3$$+$bc$jscomp$10$$.length;$bc$jscomp$10$$=$bc$jscomp$10$$.concat($st$jscomp$15$$.$generateA3aBC$($compiler$jscomp$80$$))});$compiler$jscomp$80$$.$bcAddr$=$bcAddr0$jscomp$3$$+$bc$jscomp$10$$.length;$JSCompiler_StaticMethods_addSourceToBCMapping$$($compiler$jscomp$80$$,
this.$g$[0]);$bc$jscomp$10$$=$bc$jscomp$10$$.concat(36864|-$bc$jscomp$10$$.length&4095);$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$80$$,$bc$jscomp$10$$);$compiler$jscomp$80$$.$setContext$($baseContext$jscomp$4$$);return $bc$jscomp$10$$};
$A3a$Compiler$NodeStatementFor$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementFor$$$$$generateA3aBC$$($compiler$jscomp$81$$){var $baseContext$jscomp$5$$=$compiler$jscomp$81$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$81$$);var $bcAddr0$jscomp$4$$=$compiler$jscomp$81$$.$bcAddr$,$bc$jscomp$11$$=this.children[0].$generateA3aBC$($compiler$jscomp$81$$),$variable$jscomp$6$$=$JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$81$$,this.$i$);
$bc$jscomp$11$$=$bc$jscomp$11$$.concat($variable$jscomp$6$$.$generateA3aBCForStore$($compiler$jscomp$81$$));var $beg$$=$bc$jscomp$11$$.length;$bc$jscomp$11$$=$bc$jscomp$11$$.concat($variable$jscomp$6$$.$generateA3aBCForLoad$($compiler$jscomp$81$$)).concat(this.children[1].$generateA3aBC$($compiler$jscomp$81$$)).concat(40975,0);$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$81$$,$bc$jscomp$11$$);$compiler$jscomp$81$$.$setContext$(this.$contexts$[0]);for(var $i$jscomp$242$$=2;$i$jscomp$242$$<
this.children.length;$i$jscomp$242$$++)$compiler$jscomp$81$$.$bcAddr$=$bcAddr0$jscomp$4$$+$bc$jscomp$11$$.length,$bc$jscomp$11$$=$bc$jscomp$11$$.concat(this.children[$i$jscomp$242$$].$generateA3aBC$($compiler$jscomp$81$$));$compiler$jscomp$81$$.$bcAddr$=$bcAddr0$jscomp$4$$+$bc$jscomp$11$$.length;$JSCompiler_StaticMethods_addSourceToBCMapping$$($compiler$jscomp$81$$,this.$g$[0]);$bc$jscomp$11$$=$bc$jscomp$11$$.concat($variable$jscomp$6$$.$generateA3aBCForLoad$($compiler$jscomp$81$$));$bc$jscomp$11$$=
this.$b$?$bc$jscomp$11$$.concat(this.$b$.$generateA3aBC$($compiler$jscomp$81$$)):$bc$jscomp$11$$.concat($A3a$Compiler$NodeNumber$generateA3aBC$$(1));$bc$jscomp$11$$=$bc$jscomp$11$$.concat(32770,$variable$jscomp$6$$.$generateA3aBCForStore$($compiler$jscomp$81$$),36864|$beg$$-$bc$jscomp$11$$.length-2&4095);$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$81$$,$bc$jscomp$11$$);$compiler$jscomp$81$$.$setContext$($baseContext$jscomp$5$$);return $bc$jscomp$11$$};
$A3a$Compiler$NodeStatementCall$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementCall$$$$$generateA3aBC$$($compiler$jscomp$82$$){$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$82$$);var $fun$jscomp$11$$=$JSCompiler_StaticMethods_findNativeFunction$$($compiler$jscomp$82$$.$asebaNode$,this.name);if(!$fun$jscomp$11$$)throw'native function "'+this.name+'" not found';if(this.children.length!==$fun$jscomp$11$$.$args$.length)throw'wrong number of arguments for native function "'+
this.name+'"';for(var $bc$jscomp$12$$=[],$argSizes$$=[],$argFreeSizeVal$$=[],$i$jscomp$243$$=this.children.length-1;0<=$i$jscomp$243$$;$i$jscomp$243$$--){var $argNode$$=this.children[$i$jscomp$243$$];if(0>$fun$jscomp$11$$.$args$[$i$jscomp$243$$])if(void 0==$argSizes$$[-$fun$jscomp$11$$.$args$[$i$jscomp$243$$]-1])$argSizes$$[-$fun$jscomp$11$$.$args$[$i$jscomp$243$$]-1]=$argNode$$.$valueSize$;else{if($argSizes$$[-$fun$jscomp$11$$.$args$[$i$jscomp$243$$]-1]!==$argNode$$.$valueSize$)throw'argument size mismatch in native function "'+
this.name+'"';}else 0===$fun$jscomp$11$$.$args$[$i$jscomp$243$$]&&$argFreeSizeVal$$.push($argNode$$.$valueSize$);if($argNode$$ instanceof $A3a$Compiler$NodeIndexing$$)$bc$jscomp$12$$=$bc$jscomp$12$$.concat($A3a$Compiler$NodeNumber$generateA3aBC$$($JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$82$$,$argNode$$).offset)).concat($JSCompiler_StaticMethods_generateA3aBCForIndices$$($argNode$$,$compiler$jscomp$82$$)).concat(32770);else if($argNode$$ instanceof $A3a$Compiler$NodeVar$$)$bc$jscomp$12$$=
$bc$jscomp$12$$.concat($A3a$Compiler$NodeNumber$generateA3aBC$$($JSCompiler_StaticMethods_getVariable$$($compiler$jscomp$82$$,$argNode$$).offset));else{for(var $tempVarOffset$jscomp$2$$=$JSCompiler_StaticMethods_allocTempVariable$$($compiler$jscomp$82$$,$argNode$$.$valueSize$),$j$jscomp$19$$=0;$j$jscomp$19$$<$argNode$$.$valueSize$;$j$jscomp$19$$++)$bc$jscomp$12$$=$bc$jscomp$12$$.concat(($argNode$$ instanceof $A3a$Compiler$NodeArray$$?$argNode$$.children[$j$jscomp$19$$]:$argNode$$).$generateA3aBC$($compiler$jscomp$82$$)),
$bc$jscomp$12$$=$bc$jscomp$12$$.concat(16384|$tempVarOffset$jscomp$2$$+$j$jscomp$19$$);$bc$jscomp$12$$=$bc$jscomp$12$$.concat($A3a$Compiler$NodeNumber$generateA3aBC$$($tempVarOffset$jscomp$2$$))}}for($i$jscomp$243$$=$argFreeSizeVal$$.length-1;0<=$i$jscomp$243$$;$i$jscomp$243$$--)$bc$jscomp$12$$=$A3a$Compiler$NodeNumber$generateA3aBC$$($argFreeSizeVal$$[$i$jscomp$243$$]).concat($bc$jscomp$12$$);for($i$jscomp$243$$=$argSizes$$.length-1;0<=$i$jscomp$243$$;$i$jscomp$243$$--)void 0!==$argSizes$$[$i$jscomp$243$$]&&
($bc$jscomp$12$$=$A3a$Compiler$NodeNumber$generateA3aBC$$($argSizes$$[$i$jscomp$243$$]).concat($bc$jscomp$12$$));return $bc$jscomp$12$$=$bc$jscomp$12$$.concat(49152|$fun$jscomp$11$$.id)};$A3a$Compiler$NodeStatementReturn$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementReturn$$$$$generateA3aBC$$($compiler$jscomp$83$$){$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$83$$);return[($compiler$jscomp$83$$.$inSubDefinition$?14:0)<<12]};
function $A3a$Compiler$CodePlaceholderCallSub$$($compiler$jscomp$84$$,$statement$jscomp$7$$){$A3a$Compiler$CodePlaceholder$$.call(this,$compiler$jscomp$84$$,$statement$jscomp$7$$)}$A3a$Compiler$CodePlaceholderCallSub$$.prototype=Object.create($A3a$Compiler$CodePlaceholder$$.prototype);$A3a$Compiler$CodePlaceholderCallSub$$.prototype.constructor=$A3a$Compiler$CodePlaceholderCallSub$$;
$A3a$Compiler$CodePlaceholderCallSub$$.prototype.$generateA3aBC$=function $$A3a$Compiler$CodePlaceholderCallSub$$$$$generateA3aBC$$(){var $name$jscomp$133$$=this.$statement$.name;if(void 0===this.$b$.$I$[$name$jscomp$133$$])throw'unknown function "'+$name$jscomp$133$$+'" '+$JSCompiler_StaticMethods_posString$$(this.$statement$.head);return 53248|this.$b$.$I$[$name$jscomp$133$$]};
$A3a$Compiler$NodeStatementCallSub$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeStatementCallSub$$$$$generateA3aBC$$($compiler$jscomp$85$$){$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$85$$);return[new $A3a$Compiler$CodePlaceholderCallSub$$($compiler$jscomp$85$$,this)]};
function $A3a$Compiler$resolveCodePlaceholders$$($bc$jscomp$14$$,$bcAddr0$jscomp$5$$){$bcAddr0$jscomp$5$$=$bcAddr0$jscomp$5$$||0;for(var $i$jscomp$244$$=0;$i$jscomp$244$$<$bc$jscomp$14$$.length;$i$jscomp$244$$++)$bc$jscomp$14$$[$i$jscomp$244$$]instanceof $A3a$Compiler$CodePlaceholder$$&&($bc$jscomp$14$$[$i$jscomp$244$$]=$bc$jscomp$14$$[$i$jscomp$244$$].$generateA3aBC$($bcAddr0$jscomp$5$$+$i$jscomp$244$$))}
$A3a$Compiler$$.prototype.$generateA3aBC$=function $$A3a$Compiler$$$$$generateA3aBC$$(){this.$A$=[];this.$resetContext$();this.$sourceToBCMapping$=[];var $codeBlockBC$$=this.$j$.map(function($block$jscomp$320$$){this.$bcAddr$=0;this.$setContext$($block$jscomp$320$$.$contexts$[0]);this.$inSubDefinition$=$block$jscomp$320$$ instanceof $A3a$Compiler$NodeStatementSub$$;this.$sourceToBCMapping$=[];return{$bc$:$block$jscomp$320$$.$generateA3aBC$(this,!0),mapping:this.$sourceToBCMapping$}},this);if(0<this.$A$.length)throw"internal";
for(var $nEvents$$=0,$i$jscomp$245$$=0;$i$jscomp$245$$<this.$j$.length;$i$jscomp$245$$++)this.$j$[$i$jscomp$245$$]instanceof $A3a$Compiler$NodeStatementOnevent$$&&$nEvents$$++;this.$I$={};var $bc$jscomp$15$$=[],$bc0$$=[1+2*$nEvents$$];this.$sourceToBCMapping$=[];for($i$jscomp$245$$=0;$i$jscomp$245$$<this.$j$.length;$i$jscomp$245$$++)this.$sourceToBCMapping$=this.$sourceToBCMapping$.concat($codeBlockBC$$[$i$jscomp$245$$].mapping.map(function($m$jscomp$5$$){return new $A3a$Compiler$SourceToBCMapping$$($m$jscomp$5$$.$srcOffset$,
$m$jscomp$5$$.line,$m$jscomp$5$$.$col$,$m$jscomp$5$$.$addr$+1+2*$nEvents$$+$bc$jscomp$15$$.length)})),this.$j$[$i$jscomp$245$$]instanceof $A3a$Compiler$NodeStatementOnevent$$?($bc0$$=$bc0$$.concat($JSCompiler_StaticMethods_eventNameToId$$(this.$asebaNode$,this.$j$[$i$jscomp$245$$].$eventName$),1+2*$nEvents$$+$bc$jscomp$15$$.length),$bc$jscomp$15$$=$bc$jscomp$15$$.concat($codeBlockBC$$[$i$jscomp$245$$].$bc$)):this.$j$[$i$jscomp$245$$]instanceof $A3a$Compiler$NodeStatementSub$$&&(this.$I$[this.$j$[$i$jscomp$245$$].$subName$]=
1+2*$nEvents$$+$bc$jscomp$15$$.length,$bc$jscomp$15$$=$bc$jscomp$15$$.concat($codeBlockBC$$[$i$jscomp$245$$].$bc$));$A3a$Compiler$resolveCodePlaceholders$$($bc$jscomp$15$$,1+2*$nEvents$$);return $bc0$$.concat($bc$jscomp$15$$)};
function $JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$$($JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$){$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$buildTokenArray$();$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$processTokenArray$();$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$tokenIndex$=0;for($JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$g$=[];$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$tokenIndex$<
$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$tokens$.length;)$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$g$=$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$g$.concat($JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$parseNextStatement$());$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$processStatementArray$();$JSCompiler_StaticMethods_buildTree$$($JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$);
$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$processTree$();return $JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$self$$.$generateA3aBC$()};function $A3a$A3aNode$macroMath$$($name$jscomp$134$$,$natName$$,$nArgs$$){void 0===$nArgs$$&&($nArgs$$=1);return{name:$name$jscomp$134$$,$nArgs$:$nArgs$$,$nTmp$:1,$exists$:function($asebaNode$jscomp$2$$){return null!=$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$2$$,$natName$$)},$genCode$:function($compiler$jscomp$86_fun$jscomp$12$$,$asebaNode$jscomp$3_bc$jscomp$16$$,$argTypes_i$jscomp$246$$,$argsAddr$$){$compiler$jscomp$86_fun$jscomp$12$$=$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$3_bc$jscomp$16$$,
$natName$$);$asebaNode$jscomp$3_bc$jscomp$16$$=[4097];for($argTypes_i$jscomp$246$$=0;$argTypes_i$jscomp$246$$<$nArgs$$;$argTypes_i$jscomp$246$$++)$asebaNode$jscomp$3_bc$jscomp$16$$=$asebaNode$jscomp$3_bc$jscomp$16$$.concat([4096|$argsAddr$$+$nArgs$$-1-$argTypes_i$jscomp$246$$]);return $asebaNode$jscomp$3_bc$jscomp$16$$=$asebaNode$jscomp$3_bc$jscomp$16$$.concat([4096|$argsAddr$$+$nArgs$$,49152|$compiler$jscomp$86_fun$jscomp$12$$.id,12288|$argsAddr$$+$nArgs$$])}}}
var $A3a$A3aNode$stdMacros$$=[$A3a$A3aNode$macroMath$$("min","math.min",2),$A3a$A3aNode$macroMath$$("max","math.max",2),$A3a$A3aNode$macroMath$$("clamp","math.clamp",3),$A3a$A3aNode$macroMath$$("muldiv","math.muldiv",3),$A3a$A3aNode$macroMath$$("atan2","math.atan2",2),$A3a$A3aNode$macroMath$$("sin","math.sin"),$A3a$A3aNode$macroMath$$("cos","math.cos"),$A3a$A3aNode$macroMath$$("sqrt","math.sqrt"),$A3a$A3aNode$macroMath$$("rand","math.rand",0)];function $A3a$Compiler$L2$$($asebaNode$jscomp$4$$,$src$jscomp$11$$){$A3a$Compiler$$.call(this,$asebaNode$jscomp$4$$,$src$jscomp$11$$);this.$J$=!0;this.$D$=$A3a$Compiler$L2$operators$$;this.$factor$=100;this.$N$=[];this.$functionDefinitions$=[];this.$L$=[];this.labels=[[]];this.$K$=[];this.$inFunction$=!1;this.label=null;this.$u$=$A3a$Compiler$resultType$undef$$;this.$v$=[]}$A3a$Compiler$L2$$.prototype=Object.create($A3a$Compiler$$.prototype);$A3a$Compiler$L2$$.prototype.constructor=$A3a$Compiler$L2$$;
var $A3a$Compiler$L2$keywords$$="== != <= >= |= ^= &= *= /= %= += -= <<= >>= ++ -- ( ) [ ] - ~ ! * / % + << >> && || & ^ | > < = , ? : { } ; bool break case const continue default do else emit false fixed for goto if int onevent return size switch true void when while".split(" ");function $A3a$Compiler$L2$resultTypePropagateFirst$$($compiler$jscomp$87$$,$node$jscomp$38$$,$a$jscomp$47$$){return $a$jscomp$47$$[0]}
function $A3a$Compiler$L2$resultTypePropagateFixed$$($compiler$jscomp$89_i$jscomp$247$$,$node$jscomp$40$$,$a$jscomp$49$$){for($compiler$jscomp$89_i$jscomp$247$$=0;$compiler$jscomp$89_i$jscomp$247$$<$a$jscomp$49$$.length;$compiler$jscomp$89_i$jscomp$247$$++)switch($a$jscomp$49$$[$compiler$jscomp$89_i$jscomp$247$$]){case $A3a$Compiler$resultType$undef$$:case $A3a$Compiler$resultType$fixed$$:return $a$jscomp$49$$[$compiler$jscomp$89_i$jscomp$247$$];case "v":throw"cannot use void result in expression";
}return $A3a$Compiler$resultType$number$$}
function $A3a$Compiler$L2$castNodeType$$($node$jscomp$41$$,$resultType$jscomp$5_typeName$$,$compiler$jscomp$90$$){if(!($node$jscomp$41$$ instanceof $A3a$Compiler$NodeArray$$)&&$node$jscomp$41$$.resultType!==$resultType$jscomp$5_typeName$$&&$node$jscomp$41$$.resultType!==$A3a$Compiler$resultType$undef$$){if("v"===$node$jscomp$41$$.resultType)throw"cannot use void result "+$JSCompiler_StaticMethods_posString$$($node$jscomp$41$$.head);if($resultType$jscomp$5_typeName$$=$A3a$Compiler$L2$typeToKeyword$$($resultType$jscomp$5_typeName$$))$node$jscomp$41$$=
new $A3a$Compiler$NodeFun$$(new $A3a$Compiler$TokenKeyword$$($node$jscomp$41$$.head.$srcIndex$,$node$jscomp$41$$.head.$srcLine$,$node$jscomp$41$$.head.$srcCol$,$resultType$jscomp$5_typeName$$),0,$JSCompiler_StaticMethods_getOperator$$($compiler$jscomp$90$$,$resultType$jscomp$5_typeName$$,0),[$node$jscomp$41$$]),$node$jscomp$41$$=$node$jscomp$41$$.$optimize$($compiler$jscomp$90$$)}return $node$jscomp$41$$}
function $A3a$Compiler$L2$optimizeAssignmentType$$($node$jscomp$42$$,$compiler$jscomp$91$$){$node$jscomp$42$$.children[1]=$A3a$Compiler$L2$castNodeType$$($node$jscomp$42$$.children[1],$node$jscomp$42$$.resultType,$compiler$jscomp$91$$);return $node$jscomp$42$$}
$A3a$Compiler$L2$$.prototype.$B$=function $$A3a$Compiler$L2$$$$$B$$($fromType$jscomp$1$$,$toType$jscomp$1$$){if($fromType$jscomp$1$$===$A3a$Compiler$resultType$undef$$||$toType$jscomp$1$$===$A3a$Compiler$resultType$undef$$)throw"internal";if("v"===$fromType$jscomp$1$$)throw"bad conversion from void";switch($fromType$jscomp$1$$){case $A3a$Compiler$resultType$number$$:case "b":switch($toType$jscomp$1$$){case $A3a$Compiler$resultType$fixed$$:return[4196,32772]}break;case $A3a$Compiler$resultType$fixed$$:switch($toType$jscomp$1$$){case $A3a$Compiler$resultType$number$$:case "b":return[4196,
32773]}}return[]};
function $A3a$Compiler$L2$generateA3aBCArgs$$($args$jscomp$30$$,$resultType$jscomp$6$$,$compiler$jscomp$92$$){var $bc$jscomp$18$$=[];$args$jscomp$30$$.forEach(function($arg$jscomp$6$$){$bc$jscomp$18$$=$arg$jscomp$6$$ instanceof $A3a$Compiler$NodeFixed$$&&$resultType$jscomp$6$$===$A3a$Compiler$resultType$number$$?$bc$jscomp$18$$.concat($A3a$Compiler$NodeNumber$generateA3aBC$$(Math.trunc($arg$jscomp$6$$.n))):$arg$jscomp$6$$ instanceof $A3a$Compiler$NodeNumber$$&&$arg$jscomp$6$$.resultType===$A3a$Compiler$resultType$number$$&&
$resultType$jscomp$6$$===$A3a$Compiler$resultType$fixed$$?$bc$jscomp$18$$.concat($A3a$Compiler$NodeNumber$generateA3aBC$$($arg$jscomp$6$$.n*$compiler$jscomp$92$$.$factor$)):$bc$jscomp$18$$.concat($arg$jscomp$6$$.$generateA3aBC$($compiler$jscomp$92$$)).concat($compiler$jscomp$92$$.$B$($arg$jscomp$6$$.resultType,$resultType$jscomp$6$$))});return $bc$jscomp$18$$}
function $JSCompiler_StaticMethods_generateA3aMulDiv$$($JSCompiler_StaticMethods_generateA3aMulDiv$self$$,$a$jscomp$50$$,$b$jscomp$24$$,$c$jscomp$22$$){var $tempVarOffset$jscomp$3$$=$JSCompiler_StaticMethods_allocTempVariable$$($JSCompiler_StaticMethods_generateA3aMulDiv$self$$,4);return($a$jscomp$50$$ instanceof $A3a$Compiler$Node$$?$a$jscomp$50$$.$generateA3aBC$($JSCompiler_StaticMethods_generateA3aMulDiv$self$$):$A3a$Compiler$NodeNumber$generateA3aBC$$($a$jscomp$50$$)).concat(16384|$tempVarOffset$jscomp$3$$).concat($b$jscomp$24$$ instanceof
$A3a$Compiler$Node$$?$b$jscomp$24$$.$generateA3aBC$($JSCompiler_StaticMethods_generateA3aMulDiv$self$$):$A3a$Compiler$NodeNumber$generateA3aBC$$($b$jscomp$24$$)).concat(16384|$tempVarOffset$jscomp$3$$+1).concat($c$jscomp$22$$ instanceof $A3a$Compiler$Node$$?$c$jscomp$22$$.$generateA3aBC$($JSCompiler_StaticMethods_generateA3aMulDiv$self$$):$A3a$Compiler$NodeNumber$generateA3aBC$$($c$jscomp$22$$)).concat([16384|$tempVarOffset$jscomp$3$$+2,4097,4096|$tempVarOffset$jscomp$3$$+2,4096|$tempVarOffset$jscomp$3$$+
1,4096|$tempVarOffset$jscomp$3$$,4096|$tempVarOffset$jscomp$3$$+3,49152|$JSCompiler_StaticMethods_findNativeFunction$$($JSCompiler_StaticMethods_generateA3aMulDiv$self$$.$asebaNode$,"math.muldiv").id,12288|$tempVarOffset$jscomp$3$$+3])}
function $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$43$$,$compiler$jscomp$93$$,$funInt_r$jscomp$32$$,$funFixed_resultType$jscomp$7$$){for(var $fixedResult$$=!1,$args$jscomp$31$$=[],$i$jscomp$248$$=0;$i$jscomp$248$$<$node$jscomp$43$$.children.length;$i$jscomp$248$$++){if($node$jscomp$43$$.children[$i$jscomp$248$$]instanceof $A3a$Compiler$NodeFixed$$)$fixedResult$$=!0;else if(!($node$jscomp$43$$.children[$i$jscomp$248$$]instanceof $A3a$Compiler$NodeNumber$$))return $node$jscomp$43$$;$args$jscomp$31$$.push($node$jscomp$43$$.children[$i$jscomp$248$$].n)}$funInt_r$jscomp$32$$=
($fixedResult$$&&$funFixed_resultType$jscomp$7$$?$funFixed_resultType$jscomp$7$$:$funInt_r$jscomp$32$$)($args$jscomp$31$$);$funFixed_resultType$jscomp$7$$=$node$jscomp$43$$.$operatorDescr$.resultType;$node$jscomp$43$$.$operatorDescr$.$resultTypePropagate$&&($funFixed_resultType$jscomp$7$$=$node$jscomp$43$$.$operatorDescr$.$resultTypePropagate$($compiler$jscomp$93$$,$node$jscomp$43$$,$node$jscomp$43$$.children.map(function($c$jscomp$23$$){return $c$jscomp$23$$.resultType})));switch($funFixed_resultType$jscomp$7$$){case $A3a$Compiler$resultType$number$$:case "b":return new $A3a$Compiler$NodeNumber$$($node$jscomp$43$$.head,
$A3a$Compiler$NodeNumber$toS16$$($funInt_r$jscomp$32$$));case $A3a$Compiler$resultType$fixed$$:return new $A3a$Compiler$NodeFixed$$($node$jscomp$43$$.head,$funInt_r$jscomp$32$$);default:throw"internal";}}
var $A3a$Compiler$L2$operators$$=[new $A3a$Compiler$OperatorDescr$$("--",0,{priority:150,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$}),new $A3a$Compiler$OperatorDescr$$("++",0,{priority:150,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$}),new $A3a$Compiler$OperatorDescr$$("-",0,{priority:150,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$,$optimize$:function($node$jscomp$44$$,$compiler$jscomp$94$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$44$$,
$compiler$jscomp$94$$,function($args$jscomp$32$$){return-$args$jscomp$32$$[0]})},$bytecode$:[28672]}),new $A3a$Compiler$OperatorDescr$$("~",0,{priority:150,$optimize$:function($node$jscomp$45$$,$compiler$jscomp$95$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$45$$,$compiler$jscomp$95$$,function($args$jscomp$33$$){return~$args$jscomp$33$$[0]})},$bytecode$:[28674]}),new $A3a$Compiler$OperatorDescr$$("!",0,{priority:150,resultType:"b",$optimize$:function($node$jscomp$46$$,$compiler$jscomp$96$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$46$$,
$compiler$jscomp$96$$,function($args$jscomp$34$$){return 0==$args$jscomp$34$$[0]?1:0})},$bytecode$:[4096,32778]}),new $A3a$Compiler$OperatorDescr$$("bool",0,{priority:150,resultType:"b",$optimize$:function($node$jscomp$47$$,$compiler$jscomp$97$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$47$$,$compiler$jscomp$97$$,function($args$jscomp$35$$){return 0!=$args$jscomp$35$$[0]?1:0})},$bytecode$:[],$generateA3aBC$:function($node$jscomp$48$$,$bc$jscomp$19_compiler$jscomp$98$$){$bc$jscomp$19_compiler$jscomp$98$$=
$node$jscomp$48$$.children[0].$generateA3aBC$($bc$jscomp$19_compiler$jscomp$98$$);"b"!==$node$jscomp$48$$.children[0].resultType&&($bc$jscomp$19_compiler$jscomp$98$$=$bc$jscomp$19_compiler$jscomp$98$$.concat(4096,32779));return $bc$jscomp$19_compiler$jscomp$98$$}}),new $A3a$Compiler$OperatorDescr$$("fixed",0,{priority:150,resultType:$A3a$Compiler$resultType$fixed$$,$optimize$:function($node$jscomp$49$$,$compiler$jscomp$99$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$49$$,$compiler$jscomp$99$$,
function($args$jscomp$36$$){return $args$jscomp$36$$[0]})},$bytecode$:[],$generateA3aBC$:function($node$jscomp$50$$,$compiler$jscomp$100$$){var $bc$jscomp$20$$=$node$jscomp$50$$.children[0].$generateA3aBC$($compiler$jscomp$100$$);$node$jscomp$50$$.children[0].resultType!==$A3a$Compiler$resultType$fixed$$&&($bc$jscomp$20$$=$bc$jscomp$20$$.concat(4096|$compiler$jscomp$100$$.$factor$,32772));return $bc$jscomp$20$$}}),new $A3a$Compiler$OperatorDescr$$("int",0,{priority:150,$optimize$:function($node$jscomp$51$$,
$compiler$jscomp$101$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$51$$,$compiler$jscomp$101$$,function($args$jscomp$37$$){return $args$jscomp$37$$[0]})},$bytecode$:[],$generateA3aBC$:function($node$jscomp$52$$,$compiler$jscomp$102$$){var $bc$jscomp$21$$=$node$jscomp$52$$.children[0].$generateA3aBC$($compiler$jscomp$102$$);$node$jscomp$52$$.children[0].resultType===$A3a$Compiler$resultType$fixed$$&&($bc$jscomp$21$$=$bc$jscomp$21$$.concat(4096|$compiler$jscomp$102$$.$factor$,32773));return $bc$jscomp$21$$}}),
new $A3a$Compiler$OperatorDescr$$("size",0,{priority:150,$optimize$:function($node$jscomp$53$$,$compiler$jscomp$103$$){var $size$jscomp$23$$=0<$node$jscomp$53$$.children[0].$valueSize$?$node$jscomp$53$$.children[0].$valueSize$:$node$jscomp$53$$.children[0]instanceof $A3a$Compiler$NodeArray$$?$node$jscomp$53$$.children[0].children.length:-1;if(0>$size$jscomp$23$$&&$node$jscomp$53$$.children[0]instanceof $A3a$Compiler$NodeVar$$)for(var $i$jscomp$249$$=$compiler$jscomp$103$$.$declaredVariables$.length-
1;0<=$i$jscomp$249$$;$i$jscomp$249$$--)if($compiler$jscomp$103$$.$declaredVariables$[$i$jscomp$249$$].name===$node$jscomp$53$$.children[0].name){$size$jscomp$23$$=$compiler$jscomp$103$$.$declaredVariables$[$i$jscomp$249$$].size;break}return 0<$size$jscomp$23$$?new $A3a$Compiler$NodeNumber$$($node$jscomp$53$$.head,$size$jscomp$23$$):$node$jscomp$53$$}}),new $A3a$Compiler$OperatorDescr$$("--",2,{priority:150,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$}),new $A3a$Compiler$OperatorDescr$$("++",
2,{priority:150,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$}),new $A3a$Compiler$OperatorDescr$$("+=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$,$optimize$:$A3a$Compiler$L2$optimizeAssignmentType$$}),new $A3a$Compiler$OperatorDescr$$("-=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$}),
new $A3a$Compiler$OperatorDescr$$("*=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$}),new $A3a$Compiler$OperatorDescr$$("/=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$}),new $A3a$Compiler$OperatorDescr$$("%=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$}),
new $A3a$Compiler$OperatorDescr$$("<<=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$(">>=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("&=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("|=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("^=",
$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$}),new $A3a$Compiler$OperatorDescr$$("*",$A3a$Compiler$opType$infix$$,{priority:140,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFixed$$,$bytecode$:[32772],$optimize$:function($node$jscomp$54$$,$compiler$jscomp$104$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$54$$,$compiler$jscomp$104$$,function($args$jscomp$38$$){return $args$jscomp$38$$[0]*$args$jscomp$38$$[1]})},$generateA3aBC$:function($node$jscomp$55$$,
$compiler$jscomp$105$$){var $fx2$$=$node$jscomp$55$$.children[1].resultType===$A3a$Compiler$resultType$fixed$$,$bc$jscomp$22$$=[];$node$jscomp$55$$.children[0].resultType===$A3a$Compiler$resultType$fixed$$&&$fx2$$?$bc$jscomp$22$$=$bc$jscomp$22$$.concat($JSCompiler_StaticMethods_generateA3aMulDiv$$($compiler$jscomp$105$$,$node$jscomp$55$$.children[0],$node$jscomp$55$$.children[1],$compiler$jscomp$105$$.$factor$)):($node$jscomp$55$$.children.forEach(function($arg$jscomp$7$$){$bc$jscomp$22$$=$bc$jscomp$22$$.concat($arg$jscomp$7$$.$generateA3aBC$($compiler$jscomp$105$$))}),
$bc$jscomp$22$$=$bc$jscomp$22$$.concat($node$jscomp$55$$.$operatorDescr$.$bytecode$));return $bc$jscomp$22$$}}),new $A3a$Compiler$OperatorDescr$$("/",$A3a$Compiler$opType$infix$$,{priority:140,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFixed$$,$bytecode$:[32773],$optimize$:function($node$jscomp$56$$,$compiler$jscomp$106$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$56$$,$compiler$jscomp$106$$,function($args$jscomp$39$$){if(0===$args$jscomp$39$$[1])throw"division by 0 "+
$JSCompiler_StaticMethods_posString$$($node$jscomp$56$$.head);return Math.trunc($args$jscomp$39$$[0]/$args$jscomp$39$$[1])},function($args$jscomp$40$$){if(0===$args$jscomp$40$$[1])throw"division by 0 "+$JSCompiler_StaticMethods_posString$$($node$jscomp$56$$.head);return $args$jscomp$40$$[0]/$args$jscomp$40$$[1]})},$generateA3aBC$:function($node$jscomp$57$$,$compiler$jscomp$107$$){var $fx2$jscomp$1$$=$node$jscomp$57$$.children[1].resultType===$A3a$Compiler$resultType$fixed$$,$bc$jscomp$23$$=[];$node$jscomp$57$$.children[0].resultType===
$A3a$Compiler$resultType$fixed$$?$fx2$jscomp$1$$?$bc$jscomp$23$$=$bc$jscomp$23$$.concat($JSCompiler_StaticMethods_generateA3aMulDiv$$($compiler$jscomp$107$$,$node$jscomp$57$$.children[0],$compiler$jscomp$107$$.$factor$,$node$jscomp$57$$.children[1])):($node$jscomp$57$$.children.forEach(function($arg$jscomp$8$$){$bc$jscomp$23$$=$bc$jscomp$23$$.concat($arg$jscomp$8$$.$generateA3aBC$($compiler$jscomp$107$$))}),$bc$jscomp$23$$=$bc$jscomp$23$$.concat($node$jscomp$57$$.$operatorDescr$.$bytecode$)):$fx2$jscomp$1$$?
$bc$jscomp$23$$=$bc$jscomp$23$$.concat($JSCompiler_StaticMethods_generateA3aMulDiv$$($compiler$jscomp$107$$,$node$jscomp$57$$.children[0],$compiler$jscomp$107$$.$factor$*$compiler$jscomp$107$$.$factor$,$node$jscomp$57$$.children[1])):($node$jscomp$57$$.children.forEach(function($arg$jscomp$9$$){$bc$jscomp$23$$=$bc$jscomp$23$$.concat($arg$jscomp$9$$.$generateA3aBC$($compiler$jscomp$107$$))}),$bc$jscomp$23$$=$bc$jscomp$23$$.concat($node$jscomp$57$$.$operatorDescr$.$bytecode$));return $bc$jscomp$23$$}}),
new $A3a$Compiler$OperatorDescr$$("%",$A3a$Compiler$opType$infix$$,{priority:140,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFixed$$,$optimize$:function($node$jscomp$58$$,$compiler$jscomp$108$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$58$$,$compiler$jscomp$108$$,function($args$jscomp$41$$){if(0===$args$jscomp$41$$[1])throw"division by 0 "+$JSCompiler_StaticMethods_posString$$($node$jscomp$58$$.head);return $args$jscomp$41$$[0]%$args$jscomp$41$$[1]})},$bytecode$:[32774],
$generateA3aBC$:function($node$jscomp$59$$,$compiler$jscomp$109$$){return $A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$59$$.children,$node$jscomp$59$$.resultType,$compiler$jscomp$109$$).concat($node$jscomp$59$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$("+",$A3a$Compiler$opType$infix$$,{priority:130,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFixed$$,$optimize$:function($node$jscomp$60$$,$compiler$jscomp$110$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$60$$,
$compiler$jscomp$110$$,function($args$jscomp$42$$){return $args$jscomp$42$$[0]+$args$jscomp$42$$[1]})},$bytecode$:[32770],$generateA3aBC$:function($node$jscomp$61$$,$compiler$jscomp$111$$){return $A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$61$$.children,$node$jscomp$61$$.resultType,$compiler$jscomp$111$$).concat($node$jscomp$61$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$("-",$A3a$Compiler$opType$infix$$,{priority:130,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFixed$$,
$optimize$:function($node$jscomp$62$$,$compiler$jscomp$112$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$62$$,$compiler$jscomp$112$$,function($args$jscomp$43$$){return $args$jscomp$43$$[0]-$args$jscomp$43$$[1]})},$bytecode$:[32771],$generateA3aBC$:function($node$jscomp$63$$,$compiler$jscomp$113$$){return $A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$63$$.children,$node$jscomp$63$$.resultType,$compiler$jscomp$113$$).concat($node$jscomp$63$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$("<<",
$A3a$Compiler$opType$infix$$,{priority:120,$optimize$:function($node$jscomp$64$$,$compiler$jscomp$114$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$64$$,$compiler$jscomp$114$$,function($args$jscomp$44$$){return $args$jscomp$44$$[0]<<$args$jscomp$44$$[1]})},$bytecode$:[32768],$generateA3aBC$:function($node$jscomp$65$$,$compiler$jscomp$115$$){return $node$jscomp$65$$.children[0].$generateA3aBC$($compiler$jscomp$115$$).concat($A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$65$$.children.slice(1),
$A3a$Compiler$resultType$number$$,$compiler$jscomp$115$$)).concat($node$jscomp$65$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$(">>",$A3a$Compiler$opType$infix$$,{priority:120,$optimize$:function($node$jscomp$66$$,$compiler$jscomp$116$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$66$$,$compiler$jscomp$116$$,function($args$jscomp$45$$){return $args$jscomp$45$$[0]>>$args$jscomp$45$$[1]})},$bytecode$:[32769],$generateA3aBC$:function($node$jscomp$67$$,$compiler$jscomp$117$$){return $node$jscomp$67$$.children[0].$generateA3aBC$($compiler$jscomp$117$$).concat($A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$67$$.children.slice(1),
$A3a$Compiler$resultType$number$$,$compiler$jscomp$117$$)).concat($node$jscomp$67$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$("==",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$68$$,$compiler$jscomp$118$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$68$$,$compiler$jscomp$118$$,function($args$jscomp$46$$){return $args$jscomp$46$$[0]===$args$jscomp$46$$[1]?1:0})},$bytecode$:[32778],$generateA3aBC$:function($node$jscomp$69$$,
$compiler$jscomp$119$$){var $a$jscomp$51$$=$node$jscomp$69$$.children.map(function($node$jscomp$70$$){return $node$jscomp$70$$.resultType});return $A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$69$$.children,$A3a$Compiler$L2$resultTypePropagateFixed$$($compiler$jscomp$119$$,$node$jscomp$69$$,$a$jscomp$51$$),$compiler$jscomp$119$$).concat($node$jscomp$69$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$("!=",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$71$$,
$compiler$jscomp$120$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$71$$,$compiler$jscomp$120$$,function($args$jscomp$47$$){return $args$jscomp$47$$[0]!==$args$jscomp$47$$[1]?1:0})},$bytecode$:[32779],$generateA3aBC$:function($node$jscomp$72$$,$compiler$jscomp$121$$){var $a$jscomp$52$$=$node$jscomp$72$$.children.map(function($node$jscomp$73$$){return $node$jscomp$73$$.resultType});return $A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$72$$.children,$A3a$Compiler$L2$resultTypePropagateFixed$$($compiler$jscomp$121$$,
$node$jscomp$72$$,$a$jscomp$52$$),$compiler$jscomp$121$$).concat($node$jscomp$72$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$("<",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$74$$,$compiler$jscomp$122$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$74$$,$compiler$jscomp$122$$,function($args$jscomp$48$$){return $args$jscomp$48$$[0]<$args$jscomp$48$$[1]?1:0})},$bytecode$:[32782],$generateA3aBC$:function($node$jscomp$75$$,
$compiler$jscomp$123$$){var $a$jscomp$53$$=$node$jscomp$75$$.children.map(function($node$jscomp$76$$){return $node$jscomp$76$$.resultType});return $A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$75$$.children,$A3a$Compiler$L2$resultTypePropagateFixed$$($compiler$jscomp$123$$,$node$jscomp$75$$,$a$jscomp$53$$),$compiler$jscomp$123$$).concat($node$jscomp$75$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$("<=",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$77$$,
$compiler$jscomp$124$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$77$$,$compiler$jscomp$124$$,function($args$jscomp$49$$){return $args$jscomp$49$$[0]<=$args$jscomp$49$$[1]?1:0})},$bytecode$:[32783],$generateA3aBC$:function($node$jscomp$78$$,$compiler$jscomp$125$$){var $a$jscomp$54$$=$node$jscomp$78$$.children.map(function($node$jscomp$79$$){return $node$jscomp$79$$.resultType});return $A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$78$$.children,$A3a$Compiler$L2$resultTypePropagateFixed$$($compiler$jscomp$125$$,
$node$jscomp$78$$,$a$jscomp$54$$),$compiler$jscomp$125$$).concat($node$jscomp$78$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$(">",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$80$$,$compiler$jscomp$126$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$80$$,$compiler$jscomp$126$$,function($args$jscomp$50$$){return $args$jscomp$50$$[0]>$args$jscomp$50$$[1]?1:0})},$bytecode$:[32780],$generateA3aBC$:function($node$jscomp$81$$,
$compiler$jscomp$127$$){var $a$jscomp$55$$=$node$jscomp$81$$.children.map(function($node$jscomp$82$$){return $node$jscomp$82$$.resultType});return $A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$81$$.children,$A3a$Compiler$L2$resultTypePropagateFixed$$($compiler$jscomp$127$$,$node$jscomp$81$$,$a$jscomp$55$$),$compiler$jscomp$127$$).concat($node$jscomp$81$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$(">=",$A3a$Compiler$opType$infix$$,{priority:80,resultType:"b",$optimize$:function($node$jscomp$83$$,
$compiler$jscomp$128$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$83$$,$compiler$jscomp$128$$,function($args$jscomp$51$$){return $args$jscomp$51$$[0]>=$args$jscomp$51$$[1]?1:0})},$bytecode$:[32781],$generateA3aBC$:function($node$jscomp$84$$,$compiler$jscomp$129$$){var $a$jscomp$56$$=$node$jscomp$84$$.children.map(function($node$jscomp$85$$){return $node$jscomp$85$$.resultType});return $A3a$Compiler$L2$generateA3aBCArgs$$($node$jscomp$84$$.children,$A3a$Compiler$L2$resultTypePropagateFixed$$($compiler$jscomp$129$$,
$node$jscomp$84$$,$a$jscomp$56$$),$compiler$jscomp$129$$).concat($node$jscomp$84$$.$operatorDescr$.$bytecode$)}}),new $A3a$Compiler$OperatorDescr$$("&",$A3a$Compiler$opType$infix$$,{priority:110,$optimize$:function($node$jscomp$86$$,$compiler$jscomp$130$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$86$$,$compiler$jscomp$130$$,function($args$jscomp$52$$){return $args$jscomp$52$$[0]&$args$jscomp$52$$[1]})},$bytecode$:[32777]}),new $A3a$Compiler$OperatorDescr$$("|",$A3a$Compiler$opType$infix$$,
{priority:90,$optimize$:function($node$jscomp$87$$,$compiler$jscomp$131$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$87$$,$compiler$jscomp$131$$,function($args$jscomp$53$$){return $args$jscomp$53$$[0]|$args$jscomp$53$$[1]})},$bytecode$:[32775]}),new $A3a$Compiler$OperatorDescr$$("^",$A3a$Compiler$opType$infix$$,{priority:100,$optimize$:function($node$jscomp$88$$,$compiler$jscomp$132$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$88$$,$compiler$jscomp$132$$,function($args$jscomp$54$$){return $args$jscomp$54$$[0]^
$args$jscomp$54$$[1]})},$bytecode$:[32776]}),new $A3a$Compiler$OperatorDescr$$("&&",$A3a$Compiler$opType$infix$$,{priority:60,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$,$optimize$:function($node$jscomp$89$$,$compiler$jscomp$133$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$89$$,$compiler$jscomp$133$$,function($args$jscomp$55$$){return $args$jscomp$55$$[0]&&$args$jscomp$55$$[1]?1:0})},$bytecode$:[32785],$generateA3aBC$:function($node$jscomp$90_op2$$,$compiler$jscomp$134$$){var $bc$jscomp$24$$=
$node$jscomp$90_op2$$.children[0].$generateA3aBC$($compiler$jscomp$134$$).concat([16384|$compiler$jscomp$134$$.$retValueOffset$,12288|$compiler$jscomp$134$$.$retValueOffset$,4096,40960|$A3a$vm$condName$$.indexOf("eq"),4,12288|$compiler$jscomp$134$$.$retValueOffset$,36864]);$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$134$$,$bc$jscomp$24$$);$node$jscomp$90_op2$$=$A3a$Compiler$L2$castNodeType$$($node$jscomp$90_op2$$.children[1],$node$jscomp$90_op2$$.children[0].resultType,$compiler$jscomp$134$$).$optimize$($compiler$jscomp$134$$);
$bc$jscomp$24$$=$bc$jscomp$24$$.concat($node$jscomp$90_op2$$.$generateA3aBC$($compiler$jscomp$134$$));$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$134$$,$bc$jscomp$24$$);return $bc$jscomp$24$$}}),new $A3a$Compiler$OperatorDescr$$("||",$A3a$Compiler$opType$infix$$,{priority:50,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$,$optimize$:function($node$jscomp$91$$,$compiler$jscomp$135$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$91$$,$compiler$jscomp$135$$,
function($args$jscomp$56$$){return $args$jscomp$56$$[0]||$args$jscomp$56$$[1]?1:0})},$bytecode$:[32784],$generateA3aBC$:function($node$jscomp$92_op2$jscomp$1$$,$compiler$jscomp$136$$){var $bc$jscomp$25$$=$node$jscomp$92_op2$jscomp$1$$.children[0].$generateA3aBC$($compiler$jscomp$136$$).concat([16384|$compiler$jscomp$136$$.$retValueOffset$,12288|$compiler$jscomp$136$$.$retValueOffset$,4096,40960|$A3a$vm$condName$$.indexOf("ne"),4,12288|$compiler$jscomp$136$$.$retValueOffset$,36864]);$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$136$$,
$bc$jscomp$25$$);$node$jscomp$92_op2$jscomp$1$$=$A3a$Compiler$L2$castNodeType$$($node$jscomp$92_op2$jscomp$1$$.children[1],$node$jscomp$92_op2$jscomp$1$$.children[0].resultType,$compiler$jscomp$136$$).$optimize$($compiler$jscomp$136$$);$bc$jscomp$25$$=$bc$jscomp$25$$.concat($node$jscomp$92_op2$jscomp$1$$.$generateA3aBC$($compiler$jscomp$136$$));$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$136$$,$bc$jscomp$25$$);return $bc$jscomp$25$$}}),new $A3a$Compiler$OperatorDescr$$("?",$A3a$Compiler$opType$infix$$,
{priority:40,$resultTypePropagate$:function($compiler$jscomp$88$$,$node$jscomp$39$$,$a$jscomp$48$$){return $a$jscomp$48$$[1]},$optimize$:function($node$jscomp$93$$){if(!($node$jscomp$93$$.children[1]instanceof $A3a$Compiler$NodeFun$$)||0==$node$jscomp$93$$.children[1].$operatorDescr$||":"!==$node$jscomp$93$$.children[1].$operatorDescr$.name)throw"missing else part in conditional expression "+$JSCompiler_StaticMethods_posString$$($node$jscomp$93$$.head);return $node$jscomp$93$$.children[0]instanceof
$A3a$Compiler$NodeNumber$$?$node$jscomp$93$$.children[1].children[$node$jscomp$93$$.children[0].n?0:1]:$node$jscomp$93$$},$generateA3aBC$:function($node$jscomp$94$$,$compiler$jscomp$138$$){var $bc$jscomp$26$$=$JSCompiler_StaticMethods_generateA3aCondBranchBC$$($node$jscomp$94$$.children[0],$compiler$jscomp$138$$);$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$138$$,$bc$jscomp$26$$);$bc$jscomp$26$$=$bc$jscomp$26$$.concat($node$jscomp$94$$.children[1].children[0].$generateA3aBC$($compiler$jscomp$138$$)).concat(36864);
$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$138$$,$bc$jscomp$26$$);$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$138$$,$bc$jscomp$26$$);$bc$jscomp$26$$=$bc$jscomp$26$$.concat($node$jscomp$94$$.children[1].children[1].$generateA3aBC$($compiler$jscomp$138$$));$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$138$$,$bc$jscomp$26$$);return $bc$jscomp$26$$}}),new $A3a$Compiler$OperatorDescr$$(":",$A3a$Compiler$opType$infix$$,{priority:41,$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$,
$optimize$:function($node$jscomp$95$$,$compiler$jscomp$139$$){$node$jscomp$95$$.children[1]=$A3a$Compiler$L2$castNodeType$$($node$jscomp$95$$.children[1],$node$jscomp$95$$.children[0].resultType,$compiler$jscomp$139$$);return $node$jscomp$95$$},$generateA3aBC$:function($node$jscomp$96$$){throw"unexpected colon outside conditional expression "+$JSCompiler_StaticMethods_posString$$($node$jscomp$96$$.head);}}),new $A3a$Compiler$OperatorDescr$$("=",$A3a$Compiler$opType$infix$$,{priority:$A3a$Compiler$opPriority$assignment$$,
$resultTypePropagate$:$A3a$Compiler$L2$resultTypePropagateFirst$$,$optimize$:$A3a$Compiler$L2$optimizeAssignmentType$$}),new $A3a$Compiler$OperatorDescr$$(",",$A3a$Compiler$opType$infix$$,{priority:25,$resultTypePropagate$:function($compiler$jscomp$141$$,$a$jscomp$57$$){return $a$jscomp$57$$[1]},$optimize$:function($node$jscomp$97$$){$node$jscomp$97$$.children[0].$shouldProduceValue$=!1;return $node$jscomp$97$$}}),new $A3a$Compiler$OperatorDescr$$("false",3,{resultType:"b",$optimize$:function($node$jscomp$98$$,
$compiler$jscomp$143$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$98$$,$compiler$jscomp$143$$,function(){return 0})},$bytecode$:[4096]}),new $A3a$Compiler$OperatorDescr$$("true",3,{resultType:"b",$optimize$:function($node$jscomp$99$$,$compiler$jscomp$144$$){return $A3a$Compiler$L2$optimizeConstFun$$($node$jscomp$99$$,$compiler$jscomp$144$$,function(){return 1})},$bytecode$:[4097]})];$JSCompiler_prototypeAlias$$=$A3a$Compiler$L2$$.prototype;
$JSCompiler_prototypeAlias$$.$skipBlanks$=function $$JSCompiler_prototypeAlias$$$$skipBlanks$$(){for(;this.$b$<this.$m$;)if(" "===this.$i$[this.$b$]||"\t"===this.$i$[this.$b$])this.$b$++,this.$col$++;else if("\n"===this.$i$[this.$b$])this.$b$++,this.$col$=0,this.line++;else if("\r"===this.$i$[this.$b$])this.$b$++;else if("/*"===this.$i$.slice(this.$b$,this.$b$+2))for(this.$b$+=2,this.$col$+=2;this.$b$<this.$m$&&"*/"!==this.$i$.slice(this.$b$-2,this.$b$);)"\n"===this.$i$[this.$b$]?(this.$col$=0,this.line++):
"\r"!==this.$i$[this.$b$]&&this.$col$++,this.$b$++;else if("//"===this.$i$.slice(this.$b$,this.$b$+2))for(;this.$b$<this.$m$&&"\n"!==this.$i$[this.$b$];)this.$b$++,this.$col$++;else break};$JSCompiler_prototypeAlias$$.$buildTokenArray$=function $$JSCompiler_prototypeAlias$$$$buildTokenArray$$($keywords$jscomp$2$$){return $A3a$Compiler$$.prototype.$buildTokenArray$.call(this,$keywords$jscomp$2$$||$A3a$Compiler$L2$keywords$$)};
$JSCompiler_prototypeAlias$$.$processTokenArray$=function $$JSCompiler_prototypeAlias$$$$processTokenArray$$(){this.$tokens$.forEach(function($token$jscomp$4$$,$i$jscomp$250$$){$token$jscomp$4$$ instanceof $A3a$Compiler$TokenKeyword$$&&("def"===$token$jscomp$4$$.name||0<=["int","bool","fixed","void"].indexOf($token$jscomp$4$$.name))&&this.$tokens$[$i$jscomp$250$$+1]instanceof $A3a$Compiler$TokenName$$&&this.$tokens$[$i$jscomp$250$$+2]instanceof $A3a$Compiler$TokenKeyword$$&&"("===this.$tokens$[$i$jscomp$250$$+
2].name&&this.$N$.push(this.$tokens$[$i$jscomp$250$$+1].name)},this)};function $A3a$Compiler$L2$tokenToType$$($token$jscomp$5$$,$defaultType$$){switch($token$jscomp$5$$.name){case "var":case "def":return $defaultType$$||$A3a$Compiler$resultType$number$$;case "void":return"v";case "int":return $A3a$Compiler$resultType$number$$;case "bool":return"b";case "fixed":return $A3a$Compiler$resultType$fixed$$;default:throw"internal";}}
function $A3a$Compiler$L2$typeToKeyword$$($resultType$jscomp$8$$){switch($resultType$jscomp$8$$){case $A3a$Compiler$resultType$number$$:return"int";case $A3a$Compiler$resultType$fixed$$:return"fixed";case "b":return"bool";default:return""}}
function $JSCompiler_StaticMethods_checkTokenTypeKeyword$$($JSCompiler_StaticMethods_checkTokenTypeKeyword$self$$){return $JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_checkTokenTypeKeyword$self$$,0,"int")||$JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_checkTokenTypeKeyword$self$$,0,"bool")||$JSCompiler_StaticMethods_checkTokenKeyword$$($JSCompiler_StaticMethods_checkTokenTypeKeyword$self$$,0,"fixed")}
$JSCompiler_prototypeAlias$$.$parseNextStatement$=function $$JSCompiler_prototypeAlias$$$$parseNextStatement$$(){function $parseVariableDeclaration$$(){var $statements$jscomp$1$$=[];for(this.$tokenIndex$++;;){$name$jscomp$135$$=this.$tokens$[this.$tokenIndex$];this.$tokenIndex$++;if(!$JSCompiler_StaticMethods_checkTokenType$$(this,0,$A3a$Compiler$TokenKeyword$$))throw"syntax error "+$JSCompiler_StaticMethods_posString$$($head$jscomp$16$$);switch(this.$tokens$[this.$tokenIndex$].name){case "[":if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,
1,"]")){this.$tokenIndex$+=2;if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"="))throw"missing size or initial value in array declaration"+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$-2]);$expr$jscomp$11$$=new $A3a$Compiler$NodeFun$$(this.$tokens$[this.$tokenIndex$],$A3a$Compiler$opType$infix$$,$JSCompiler_StaticMethods_getOperator$$(this,"=",$A3a$Compiler$opType$infix$$),[new $A3a$Compiler$NodeVar$$($name$jscomp$135$$)]);this.$tokenIndex$++;$expr$jscomp$11$$.children.push($JSCompiler_StaticMethods_parseExpression$$(this,
25));$expr$jscomp$11$$.resultType=$A3a$Compiler$L2$tokenToType$$($head$jscomp$16$$,$expr$jscomp$11$$.children[1].resultType);$expr$jscomp$11$$.children[1].$resolveArraySize$(this);$expr$jscomp$11$$.$shouldProduceValue$=!1;var $sizeExpr$jscomp$2$$=new $A3a$Compiler$NodeFun$$(new $A3a$Compiler$TokenKeyword$$(this.$tokens$[this.$tokenIndex$].$srcIndex$,this.$tokens$[this.$tokenIndex$].$srcLine$,this.$tokens$[this.$tokenIndex$].$srcCol$,"size"),0,$JSCompiler_StaticMethods_getOperator$$(this,"size",0),
[$expr$jscomp$11$$.children[1]]);$statements$jscomp$1$$.push(new $A3a$Compiler$NodeStatementVar$$($head$jscomp$16$$,$name$jscomp$135$$,$expr$jscomp$11$$.resultType,[$sizeExpr$jscomp$2$$],$expr$jscomp$11$$))}else $sizeExpr$jscomp$2$$=$JSCompiler_StaticMethods_parseArguments$$(this,!0),$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"=")?($expr$jscomp$11$$=new $A3a$Compiler$NodeFun$$(this.$tokens$[this.$tokenIndex$],$A3a$Compiler$opType$infix$$,$JSCompiler_StaticMethods_getOperator$$(this,"=",
$A3a$Compiler$opType$infix$$),[new $A3a$Compiler$NodeVar$$($name$jscomp$135$$)]),this.$tokenIndex$++,$expr$jscomp$11$$.children.push($JSCompiler_StaticMethods_parseExpression$$(this,25)),$expr$jscomp$11$$.resultType=$A3a$Compiler$L2$tokenToType$$($head$jscomp$16$$,$expr$jscomp$11$$.children[1].resultType),$expr$jscomp$11$$.$shouldProduceValue$=!1,$statements$jscomp$1$$.push(new $A3a$Compiler$NodeStatementVar$$($head$jscomp$16$$,$name$jscomp$135$$,$expr$jscomp$11$$.resultType,$sizeExpr$jscomp$2$$,
$expr$jscomp$11$$))):$statements$jscomp$1$$.push(new $A3a$Compiler$NodeStatementVar$$($head$jscomp$16$$,$name$jscomp$135$$,$A3a$Compiler$L2$tokenToType$$($head$jscomp$16$$),$sizeExpr$jscomp$2$$));break;case "=":$expr$jscomp$11$$=new $A3a$Compiler$NodeFun$$(this.$tokens$[this.$tokenIndex$],$A3a$Compiler$opType$infix$$,$JSCompiler_StaticMethods_getOperator$$(this,"=",$A3a$Compiler$opType$infix$$),[new $A3a$Compiler$NodeVar$$($name$jscomp$135$$)]);this.$tokenIndex$++;$expr$jscomp$11$$.children.push($JSCompiler_StaticMethods_parseExpression$$(this,
25));$expr$jscomp$11$$.resultType=$A3a$Compiler$L2$tokenToType$$($head$jscomp$16$$,$expr$jscomp$11$$.children[1].resultType);$expr$jscomp$11$$.$shouldProduceValue$=!1;$expr$jscomp$11$$=$expr$jscomp$11$$.$optimize$(this);$statements$jscomp$1$$.push(new $A3a$Compiler$NodeStatementVar$$($head$jscomp$16$$,$name$jscomp$135$$,$expr$jscomp$11$$.resultType,null,$expr$jscomp$11$$));break;default:$statements$jscomp$1$$.push(new $A3a$Compiler$NodeStatementVar$$($head$jscomp$16$$,$name$jscomp$135$$,$A3a$Compiler$L2$tokenToType$$($head$jscomp$16$$)))}if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,
0,","))this.$tokenIndex$++;else{if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";"))return this.$tokenIndex$++,$statements$jscomp$1$$;throw"missing semicolon "+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);}}}function $parseFunctionDefinition$$(){var $resultType$jscomp$10$$=$A3a$Compiler$L2$tokenToType$$($head$jscomp$16$$);$name$jscomp$135$$=this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=3;var $args$jscomp$60$$=[];if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,
0,")"))for(;;){var $argType$$=$A3a$Compiler$resultType$number$$;$JSCompiler_StaticMethods_checkTokenTypeKeyword$$(this)&&($argType$$=$A3a$Compiler$L2$tokenToType$$(this.$tokens$[this.$tokenIndex$]),this.$tokenIndex$++);if(!$JSCompiler_StaticMethods_checkTokenType$$(this,0,$A3a$Compiler$TokenName$$))throw"bad function definition argument "+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);var $varNameToken$$=this.$tokens$[this.$tokenIndex$].name,$varDimsExpr$$=[],$varIsRef$$=
!1;this.$tokenIndex$++;$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"[")&&($varIsRef$$=!0,$varDimsExpr$$=$JSCompiler_StaticMethods_parseArguments$$(this,!0));$args$jscomp$60$$.push({name:$varNameToken$$,type:$argType$$,$dimsExpr$:$varDimsExpr$$,size:1,$dims$:[],$isRef$:$varIsRef$$});if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,","))this.$tokenIndex$++;else if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,")"))break;else throw"syntax error in function definition "+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);
}this.$tokenIndex$++;if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"{"))throw"block expected after function header "+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return new $A3a$Compiler$L2$NodeStatementDef$$($head$jscomp$16$$,$name$jscomp$135$$.name,$resultType$jscomp$10$$,$args$jscomp$60$$)}if(this.$tokenIndex$>=this.$tokens$.length)throw"no more tokens";var $head$jscomp$16$$=this.$tokens$[this.$tokenIndex$];if(this.$tokens$[this.$tokenIndex$]instanceof
$A3a$Compiler$TokenKeyword$$)switch($head$jscomp$16$$.name){case "const":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$)||!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,2,"="))throw'syntax error for "const" '+$JSCompiler_StaticMethods_posString$$($head$jscomp$16$$);var $name$jscomp$135$$=this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=3;var $expr$jscomp$11$$=$JSCompiler_StaticMethods_parseExpression$$(this,25);$expr$jscomp$11$$=$expr$jscomp$11$$.$optimize$(this);
if(!($expr$jscomp$11$$ instanceof $A3a$Compiler$NodeNumber$$))throw"non-constant expression in constant definition "+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";"))throw"missing semicolon "+$JSCompiler_StaticMethods_posString$$($head$jscomp$16$$);this.$tokenIndex$++;return[new $A3a$Compiler$NodeStatementConst$$($head$jscomp$16$$,$name$jscomp$135$$.name,$expr$jscomp$11$$)];case "int":case "bool":case "fixed":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,
1,$A3a$Compiler$TokenName$$))throw'unexpected token after "'+$head$jscomp$16$$.name+'" '+$JSCompiler_StaticMethods_posString$$($head$jscomp$16$$);return $JSCompiler_StaticMethods_checkTokenKeyword$$(this,2,"(")?[$parseFunctionDefinition$$.call(this)]:$parseVariableDeclaration$$.call(this);case "void":return[$parseFunctionDefinition$$.call(this)];case "if":this.$tokenIndex$++;var $args$jscomp$59_expr3$$=$JSCompiler_StaticMethods_parseArguments$$(this);if(1!==$args$jscomp$59_expr3$$.length)throw'bad condition in "if" statement '+
$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);var $expr2$jscomp$1_node$jscomp$100$$=new $A3a$Compiler$NodeStatementIf$$($head$jscomp$16$$,$args$jscomp$59_expr3$$[0]);$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"{")?this.$tokenIndex$++:$expr2$jscomp$1_node$jscomp$100$$.$v$=!0;return[$expr2$jscomp$1_node$jscomp$100$$];case "when":this.$tokenIndex$++;$args$jscomp$59_expr3$$=$JSCompiler_StaticMethods_parseArguments$$(this);if(1!==$args$jscomp$59_expr3$$.length)throw'bad condition in "when" statement '+
$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"{"))throw'block expected after "when" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return[new $A3a$Compiler$NodeStatementWhen$$($head$jscomp$16$$,$args$jscomp$59_expr3$$[0])];case "switch":this.$tokenIndex$++;$args$jscomp$59_expr3$$=$JSCompiler_StaticMethods_parseArguments$$(this);if(1!==$args$jscomp$59_expr3$$.length)throw'bad expression in "switch" statement '+
$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"{"))throw'block expected after "switch" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return[new $A3a$Compiler$L2$NodeStatementSwitch$$($head$jscomp$16$$,$args$jscomp$59_expr3$$[0])];case "case":this.$tokenIndex$++;$expr$jscomp$11$$=$JSCompiler_StaticMethods_parseExpression$$(this);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,
0,":"))throw'missing colon after "case" '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return[new $A3a$Compiler$L2$NodeStatementCase$$($head$jscomp$16$$,$expr$jscomp$11$$)];case "default":if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,1,":"))throw'missing colon after "default" '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$+=2;return[new $A3a$Compiler$L2$NodeStatementCase$$($head$jscomp$16$$,null)];
case "goto":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$))throw'missing label after "goto" '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);$name$jscomp$135$$=this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=2;return[new $A3a$Compiler$L2$NodeStatementGoto$$($head$jscomp$16$$,$name$jscomp$135$$.name)];case "while":this.$tokenIndex$++;$args$jscomp$59_expr3$$=$JSCompiler_StaticMethods_parseArguments$$(this);if(1!==$args$jscomp$59_expr3$$.length)throw'bad condition in "while" statement '+
$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";"))return this.$tokenIndex$++,[new $A3a$Compiler$L2$NodeStatementEndWhile$$($head$jscomp$16$$,$args$jscomp$59_expr3$$[0])];if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"{"))throw'block expected after "while" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return[new $A3a$Compiler$L2$NodeStatementWhile$$($head$jscomp$16$$,
$args$jscomp$59_expr3$$[0])];case "do":if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,1,"{"))throw'block expected after "do" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$+=2;return[new $A3a$Compiler$L2$NodeStatementDoWhile$$($head$jscomp$16$$)];case "for":if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,1,"("))throw'"for" syntax error '+$JSCompiler_StaticMethods_posString$$($head$jscomp$16$$);this.$tokenIndex$+=2;$name$jscomp$135$$=
null;var $resultType$jscomp$9$$=$A3a$Compiler$resultType$number$$;if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";"))$expr$jscomp$11$$=null;else{if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"var")||$JSCompiler_StaticMethods_checkTokenTypeKeyword$$(this)){if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$))throw'bad variable declaration in "for" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);$resultType$jscomp$9$$=
$A3a$Compiler$L2$tokenToType$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;$name$jscomp$135$$=this.$tokens$[this.$tokenIndex$]}$expr$jscomp$11$$=$JSCompiler_StaticMethods_parseExpression$$(this);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";"))throw'semicolon expected in "for" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);}this.$tokenIndex$++;if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";"))$expr2$jscomp$1_node$jscomp$100$$=
null;else if($expr2$jscomp$1_node$jscomp$100$$=$JSCompiler_StaticMethods_parseExpression$$(this),!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";"))throw'semicolon expected in "for" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,")"))$args$jscomp$59_expr3$$=null;else if($args$jscomp$59_expr3$$=$JSCompiler_StaticMethods_parseExpression$$(this),!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,
0,")"))throw'semicolon expected in "for" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"{"))throw'block expected after "for" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return[new $A3a$Compiler$L2$NodeStatementFor$$($head$jscomp$16$$,$name$jscomp$135$$,$resultType$jscomp$9$$,$expr$jscomp$11$$,$expr2$jscomp$1_node$jscomp$100$$,
$args$jscomp$59_expr3$$)];case ";":return this.$tokenIndex$++,[new $A3a$Compiler$L2$NodeStatementEmpty$$($head$jscomp$16$$)];case "{":return this.$tokenIndex$++,[new $A3a$Compiler$L2$NodeStatementBlock$$($head$jscomp$16$$)];case "}":this.$tokenIndex$++;if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"else")){this.$tokenIndex$++;if($JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"if")){this.$tokenIndex$++;$args$jscomp$59_expr3$$=$JSCompiler_StaticMethods_parseArguments$$(this);if(1>$args$jscomp$59_expr3$$.length)throw'empty condition in "if" statement '+
$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);1<$args$jscomp$59_expr3$$.length&&($expr2$jscomp$1_node$jscomp$100$$=new $A3a$Compiler$NodeStatementSequence$$($head$jscomp$16$$),$expr2$jscomp$1_node$jscomp$100$$.children=$args$jscomp$59_expr3$$.slice(0,-1).map(function($expr$jscomp$12$$){$expr$jscomp$12$$ instanceof $A3a$Compiler$NodeFun$$&&($expr$jscomp$12$$.$shouldProduceValue$=!1);return $expr$jscomp$12$$}),$args$jscomp$59_expr3$$=$args$jscomp$59_expr3$$.slice(-1));if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,
0,"{"))throw'block expected after "if" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return[new $A3a$Compiler$NodeStatementElseif$$($head$jscomp$16$$,$args$jscomp$59_expr3$$[0])]}if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,"{"))throw'block expected after "else" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);this.$tokenIndex$++;return[new $A3a$Compiler$NodeStatementElse$$($head$jscomp$16$$)]}return[new $A3a$Compiler$NodeStatementEnd$$($head$jscomp$16$$)];
case "else":throw'unexpected "else" '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);case "onevent":if(!$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$))throw'unexpected token after "onevent" '+$JSCompiler_StaticMethods_posString$$($head$jscomp$16$$);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,2,"{"))throw'block expected after "onevent" statement '+$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]);$name$jscomp$135$$=
this.$tokens$[this.$tokenIndex$+1];this.$tokenIndex$+=3;return[new $A3a$Compiler$L2$NodeStatementOnevent$$($head$jscomp$16$$,$name$jscomp$135$$.name)];case "return":this.$tokenIndex$++;$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";")?$expr$jscomp$11$$=null:$expr$jscomp$11$$=$JSCompiler_StaticMethods_parseExpression$$(this);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";"))throw"missing semicolon "+$JSCompiler_StaticMethods_posString$$($head$jscomp$16$$);this.$tokenIndex$++;return[new $A3a$Compiler$L2$NodeStatementReturn$$($head$jscomp$16$$,
$expr$jscomp$11$$)];case "break":$name$jscomp$135$$=null;$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$)&&($name$jscomp$135$$=this.$tokens$[this.$tokenIndex$+1],this.$tokenIndex$++);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,1,";"))throw"missing semicolon "+$JSCompiler_StaticMethods_posString$$($head$jscomp$16$$);this.$tokenIndex$+=2;return[new $A3a$Compiler$L2$NodeStatementBreak$$($head$jscomp$16$$,!1,$name$jscomp$135$$?$name$jscomp$135$$.name:null)];case "continue":$name$jscomp$135$$=
null;$JSCompiler_StaticMethods_checkTokenType$$(this,1,$A3a$Compiler$TokenName$$)&&($name$jscomp$135$$=this.$tokens$[this.$tokenIndex$+1],this.$tokenIndex$++);if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,1,";"))throw"missing semicolon "+$JSCompiler_StaticMethods_posString$$($head$jscomp$16$$);this.$tokenIndex$+=2;return[new $A3a$Compiler$L2$NodeStatementBreak$$($head$jscomp$16$$,!0,$name$jscomp$135$$?$name$jscomp$135$$.name:null)]}if($JSCompiler_StaticMethods_checkTokenType$$(this,0,$A3a$Compiler$TokenName$$)&&
$JSCompiler_StaticMethods_checkTokenKeyword$$(this,1,"(")&&($name$jscomp$135$$=this.$tokens$[this.$tokenIndex$],$JSCompiler_StaticMethods_findNativeFunction$$(this.$asebaNode$,$name$jscomp$135$$.name)))return this.$tokenIndex$++,[new $A3a$Compiler$NodeStatementCall$$($head$jscomp$16$$,$name$jscomp$135$$.name,$JSCompiler_StaticMethods_parseArguments$$(this))];if($JSCompiler_StaticMethods_checkTokenType$$(this,0,$A3a$Compiler$TokenName$$)&&$JSCompiler_StaticMethods_checkTokenKeyword$$(this,1,":"))return $name$jscomp$135$$=
this.$tokens$[this.$tokenIndex$],this.$tokenIndex$+=2,[new $A3a$Compiler$L2$NodeStatementLabel$$($head$jscomp$16$$,$name$jscomp$135$$.name)];$expr$jscomp$11$$=$JSCompiler_StaticMethods_parseExpression$$(this);$expr$jscomp$11$$.$shouldProduceValue$=!1;if(!$JSCompiler_StaticMethods_checkTokenKeyword$$(this,0,";"))throw"missing semicolon "+(this.$tokenIndex$<this.$tokens$.length?$JSCompiler_StaticMethods_posString$$(this.$tokens$[this.$tokenIndex$]):"eof");this.$tokenIndex$++;$expr$jscomp$11$$=$expr$jscomp$11$$.$optimize$(this);
return[new $A3a$Compiler$NodeStatementExpression$$($expr$jscomp$11$$)]};
$JSCompiler_prototypeAlias$$.$addVariableOrConstantDef$=function $$JSCompiler_prototypeAlias$$$$addVariableOrConstantDef$$($statement$jscomp$8$$){if($statement$jscomp$8$$ instanceof $A3a$Compiler$L2$NodeStatementDef$$){for(var $i$jscomp$251$$=0;$i$jscomp$251$$<$statement$jscomp$8$$.$args$.length;$i$jscomp$251$$++)$statement$jscomp$8$$.$args$[$i$jscomp$251$$].size=1,$statement$jscomp$8$$.$args$[$i$jscomp$251$$].$dims$=$statement$jscomp$8$$.$args$[$i$jscomp$251$$].$dimsExpr$.map(function($d$jscomp$19$$){$d$jscomp$19$$=$d$jscomp$19$$.$optimize$(this);
if(!($d$jscomp$19$$ instanceof $A3a$Compiler$NodeNumber$$))throw"non-constant expression in argument dimension "+$JSCompiler_StaticMethods_posString$$($d$jscomp$19$$.head);if(0>=$d$jscomp$19$$.n||Math.round($d$jscomp$19$$.n)!==$d$jscomp$19$$.n)throw"bad value for argument dimension "+$JSCompiler_StaticMethods_posString$$($d$jscomp$19$$.head);$statement$jscomp$8$$.$args$[$i$jscomp$251$$].size*=$d$jscomp$19$$.n;return $d$jscomp$19$$.n},this),this.$H$($statement$jscomp$8$$.$args$[$i$jscomp$251$$].name,
$statement$jscomp$8$$.$args$[$i$jscomp$251$$].size,$statement$jscomp$8$$.$args$[$i$jscomp$251$$].$dims$,this.$varSize$,$statement$jscomp$8$$.$args$[$i$jscomp$251$$].type,$statement$jscomp$8$$.$args$[$i$jscomp$251$$].$isRef$),this.$varSize$+=$statement$jscomp$8$$.$args$[$i$jscomp$251$$].$isRef$?1:$statement$jscomp$8$$.$args$[$i$jscomp$251$$].size;$statement$jscomp$8$$.$contexts$[1]={$declaredVariables$:this.$declaredVariables$.slice(),labels:this.labels.slice()}}else $statement$jscomp$8$$ instanceof
$A3a$Compiler$L2$NodeStatementFor$$?$statement$jscomp$8$$.$u$&&(this.$H$($statement$jscomp$8$$.$u$.name,1,[1],this.$varSize$,$statement$jscomp$8$$.$A$),this.$varSize$+=1,$statement$jscomp$8$$.$contexts$[1]={$declaredVariables$:this.$declaredVariables$.slice(),labels:this.labels.slice()}):$A3a$Compiler$$.prototype.$addVariableOrConstantDef$.call(this,$statement$jscomp$8$$)};
$JSCompiler_prototypeAlias$$.$resetContext$=function $$JSCompiler_prototypeAlias$$$$resetContext$$(){this.$declaredVariables$=this.$L$;this.labels=this.$K$};$JSCompiler_prototypeAlias$$.$setContext$=function $$JSCompiler_prototypeAlias$$$$setContext$$($context$jscomp$1$$){$context$jscomp$1$$&&(this.$declaredVariables$=$context$jscomp$1$$.$declaredVariables$,this.labels=$context$jscomp$1$$.labels)};
$JSCompiler_prototypeAlias$$.getContext=function $$JSCompiler_prototypeAlias$$$getContext$(){return{$declaredVariables$:this.$declaredVariables$,labels:this.labels.slice()}};
function $A3a$Compiler$L2$VariableDescr$$($name$jscomp$136$$,$size$jscomp$24$$,$dims$jscomp$35$$,$offset$jscomp$29$$,$resultType$jscomp$11$$,$inFunction$$,$isRef$$){$A3a$Compiler$VariableDescr$$.call(this,$name$jscomp$136$$,$size$jscomp$24$$,$dims$jscomp$35$$,$offset$jscomp$29$$,$resultType$jscomp$11$$);this.$inFunction$=$inFunction$$;this.$isRef$=$isRef$$||!1}$A3a$Compiler$L2$VariableDescr$$.prototype=Object.create($A3a$Compiler$VariableDescr$$.prototype);$JSCompiler_prototypeAlias$$=$A3a$Compiler$L2$VariableDescr$$.prototype;
$JSCompiler_prototypeAlias$$.constructor=$A3a$Compiler$L2$VariableDescr$$;
$JSCompiler_prototypeAlias$$.$generateA3aBCForLoad$=function $$JSCompiler_prototypeAlias$$$$generateA3aBCForLoad$$($compiler$jscomp$145$$,$offset$jscomp$30$$){return this.$inFunction$?this.$isRef$?[12288|$compiler$jscomp$145$$.$l$,20480|this.offset,$compiler$jscomp$145$$.$asebaNode$.$b$,20480|($offset$jscomp$30$$||0),$compiler$jscomp$145$$.$asebaNode$.$b$]:[12288|$compiler$jscomp$145$$.$l$,20480|this.offset+($offset$jscomp$30$$||0),$compiler$jscomp$145$$.$asebaNode$.$b$]:[12288|this.offset+($offset$jscomp$30$$||
0)]};
$JSCompiler_prototypeAlias$$.$generateA3aBCForStore$=function $$JSCompiler_prototypeAlias$$$$generateA3aBCForStore$$($compiler$jscomp$146$$,$offset$jscomp$31$$){return this.$inFunction$?this.$isRef$?[12288|$compiler$jscomp$146$$.$l$,20480|this.offset,$compiler$jscomp$146$$.$asebaNode$.$b$,24576|($offset$jscomp$31$$||0),$compiler$jscomp$146$$.$asebaNode$.$b$]:[12288|$compiler$jscomp$146$$.$l$,24576|this.offset+($offset$jscomp$31$$||0),$compiler$jscomp$146$$.$asebaNode$.$b$]:[16384|this.offset+($offset$jscomp$31$$||
0)]};$JSCompiler_prototypeAlias$$.$generateA3aBCForLoadIndirect$=function $$JSCompiler_prototypeAlias$$$$generateA3aBCForLoadIndirect$$($compiler$jscomp$148$$){return this.$inFunction$?this.$isRef$?[12288|$compiler$jscomp$148$$.$l$,20480|this.offset,$compiler$jscomp$148$$.$asebaNode$.$b$,32770,20480,$compiler$jscomp$148$$.$asebaNode$.$b$]:[12288|$compiler$jscomp$148$$.$l$,32770,20480|this.offset,$compiler$jscomp$148$$.$asebaNode$.$b$]:[20480|this.offset,this.size]};
$JSCompiler_prototypeAlias$$.$generateA3aBCForStoreIndirect$=function $$JSCompiler_prototypeAlias$$$$generateA3aBCForStoreIndirect$$($compiler$jscomp$149$$){return this.$inFunction$?this.$isRef$?[12288|$compiler$jscomp$149$$.$l$,20480|this.offset,$compiler$jscomp$149$$.$asebaNode$.$b$,32770,24576,$compiler$jscomp$149$$.$asebaNode$.$b$]:[12288|$compiler$jscomp$149$$.$l$,32770,24576|this.offset,$compiler$jscomp$149$$.$asebaNode$.$b$]:[24576|this.offset,this.size]};
$A3a$Compiler$L2$$.prototype.$H$=function $$A3a$Compiler$L2$$$$$H$$($name$jscomp$137$$,$size$jscomp$25$$,$dims$jscomp$36$$,$offset$jscomp$32$$,$resultType$jscomp$12$$,$isRef$jscomp$1$$){this.$declaredVariables$.push(new $A3a$Compiler$L2$VariableDescr$$($name$jscomp$137$$,$size$jscomp$25$$,$dims$jscomp$36$$,$offset$jscomp$32$$,$resultType$jscomp$12$$,this.$inFunction$,$isRef$jscomp$1$$))};
function $A3a$Compiler$L2$NodeFun$$($funToken$jscomp$4$$){$A3a$Compiler$NodeFun$$.call(this,$funToken$jscomp$4$$,4,null)}$A3a$Compiler$L2$NodeFun$$.prototype=Object.create($A3a$Compiler$NodeFun$$.prototype);$A3a$Compiler$L2$NodeFun$$.prototype.constructor=$A3a$Compiler$L2$NodeFun$$;$JSCompiler_prototypeAlias$$=$A3a$Compiler$L2$$.prototype;
$JSCompiler_prototypeAlias$$.$makeFunCallNode$=function $$JSCompiler_prototypeAlias$$$$makeFunCallNode$$($funToken$jscomp$5$$){var $nodeFun$jscomp$1$$=new $A3a$Compiler$L2$NodeFun$$($funToken$jscomp$5$$,this.$inFunction$,this.$varSize$);$nodeFun$jscomp$1$$.$operatorDescr$={$resultTypePropagate$:function $$nodeFun$jscomp$1$$$$operatorDescr$$$resultTypePropagate$$($compiler$jscomp$150$$,$a$jscomp$58$$){var $fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$;a:{for($fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$=
0;$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$<$compiler$jscomp$150$$.$functionDefinitions$.length;$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$++)if($compiler$jscomp$150$$.$functionDefinitions$[$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$].$funName$===$funToken$jscomp$5$$.name){$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$=$compiler$jscomp$150$$.$functionDefinitions$[$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$];
break a}$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$=null}return $fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$?$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$.resultType:($fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$=$JSCompiler_StaticMethods_getMacroFunctionDef$$($compiler$jscomp$150$$,$funToken$jscomp$5$$.name))&&$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$.$resultTypePropagate$?$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$.$resultTypePropagate$($compiler$jscomp$150$$,
$fun$jscomp$13_i$jscomp$inline_330_macroFunctionDef$jscomp$1$$,$a$jscomp$58$$):$A3a$Compiler$resultType$number$$}};return $nodeFun$jscomp$1$$};
$JSCompiler_prototypeAlias$$.$allocateVariables$=function $$JSCompiler_prototypeAlias$$$$allocateVariables$$(){this.$varSize$=this.$asebaNode$.$varSize$;this.$inFunction$=!1;for(var $context$jscomp$2$$=[],$i$jscomp$252$$=0;$i$jscomp$252$$<this.$g$.length;$i$jscomp$252$$++){if(0<=[$A3a$Compiler$NodeStatementEnd$$,$A3a$Compiler$NodeStatementElseif$$,$A3a$Compiler$NodeStatementElse$$].indexOf(this.$g$[$i$jscomp$252$$].constructor)){if(0===$context$jscomp$2$$.length)throw"unexpected end of block "+$JSCompiler_StaticMethods_posString$$(this.$g$[$i$jscomp$252$$].head);
var $ctx$jscomp$73_label$jscomp$inline_333$$=$context$jscomp$2$$.pop();this.$varSize$=$ctx$jscomp$73_label$jscomp$inline_333$$.$varSize$;this.$inFunction$=$ctx$jscomp$73_label$jscomp$inline_333$$.$inFunction$;$ctx$jscomp$73_label$jscomp$inline_333$$.$statementBegin$.$contexts$[0]={$declaredVariables$:this.$declaredVariables$.slice(),labels:this.labels.slice()};this.$declaredVariables$.splice($ctx$jscomp$73_label$jscomp$inline_333$$.$varDeclCount$);this.labels.pop();0===$context$jscomp$2$$.length&&
(this.$u$=$A3a$Compiler$resultType$undef$$)}0<=[$A3a$Compiler$NodeStatementIf$$,$A3a$Compiler$NodeStatementWhen$$,$A3a$Compiler$L2$NodeStatementSwitch$$,$A3a$Compiler$L2$NodeStatementWhile$$,$A3a$Compiler$L2$NodeStatementBlock$$,$A3a$Compiler$L2$NodeStatementFor$$,$A3a$Compiler$L2$NodeStatementOnevent$$,$A3a$Compiler$L2$NodeStatementDef$$,$A3a$Compiler$NodeStatementElseif$$,$A3a$Compiler$NodeStatementElse$$].indexOf(this.$g$[$i$jscomp$252$$].constructor)&&($context$jscomp$2$$.push({$varSize$:this.$varSize$,
$inFunction$:this.$inFunction$,$varDeclCount$:this.$declaredVariables$.length,$statementBegin$:this.$g$[$i$jscomp$252$$]}),this.labels.push([]),this.$g$[$i$jscomp$252$$]instanceof $A3a$Compiler$L2$NodeStatementDef$$&&(this.$inFunction$=!0,this.$u$=this.$g$[$i$jscomp$252$$].resultType,this.$varSize$=0));this.$addVariableOrConstantDef$(this.$g$[$i$jscomp$252$$]);if(this.$g$[$i$jscomp$252$$]instanceof $A3a$Compiler$L2$NodeStatementLabel$$){$ctx$jscomp$73_label$jscomp$inline_333$$=this.$g$[$i$jscomp$252$$].label;
for(var $i$jscomp$inline_334$$=this.labels.length-1,$j$jscomp$inline_335$$=0;$j$jscomp$inline_335$$<this.labels[$i$jscomp$inline_334$$].length;$j$jscomp$inline_335$$++)if(this.labels[$i$jscomp$inline_334$$][$j$jscomp$inline_335$$].label===$ctx$jscomp$73_label$jscomp$inline_333$$)throw'duplicate label "'+$ctx$jscomp$73_label$jscomp$inline_333$$+'"';this.labels[$i$jscomp$inline_334$$].push({label:$ctx$jscomp$73_label$jscomp$inline_333$$})}}this.$L$=this.$declaredVariables$.slice();this.$K$=this.labels};
$JSCompiler_prototypeAlias$$.$processStatementArray$=function $$JSCompiler_prototypeAlias$$$$processStatementArray$$(){for(var $i$jscomp$253$$=1;$i$jscomp$253$$<this.$g$.length;)this.$g$[$i$jscomp$253$$]instanceof $A3a$Compiler$L2$NodeStatementEndWhile$$&&this.$g$[$i$jscomp$253$$-1]instanceof $A3a$Compiler$NodeStatementEnd$$?this.$g$.splice($i$jscomp$253$$-1,1):$i$jscomp$253$$++;this.$g$.forEach(function($statement$jscomp$9$$){$statement$jscomp$9$$ instanceof $A3a$Compiler$L2$NodeStatementDef$$&&
(this.$functionDefinitions$.push($statement$jscomp$9$$),this.$u$=$statement$jscomp$9$$.resultType)},this);for($i$jscomp$253$$=0;$i$jscomp$253$$<this.$g$.length-1;$i$jscomp$253$$++)this.$g$[$i$jscomp$253$$]instanceof $A3a$Compiler$L2$NodeStatementLabel$$&&(this.$g$[$i$jscomp$253$$+1]instanceof $A3a$Compiler$L2$NodeStatementWhile$$?this.$g$[$i$jscomp$253$$+1].label=this.$g$[$i$jscomp$253$$].label:this.$g$[$i$jscomp$253$$+1]instanceof $A3a$Compiler$L2$NodeStatementDoWhile$$?this.$g$[$i$jscomp$253$$+
1].label=this.$g$[$i$jscomp$253$$].label:this.$g$[$i$jscomp$253$$+1]instanceof $A3a$Compiler$L2$NodeStatementFor$$?this.$g$[$i$jscomp$253$$+1].label=this.$g$[$i$jscomp$253$$].label:this.$g$[$i$jscomp$253$$+1]instanceof $A3a$Compiler$L2$NodeStatementSwitch$$&&(this.$g$[$i$jscomp$253$$+1].label=this.$g$[$i$jscomp$253$$].label))};
$JSCompiler_prototypeAlias$$.$processTree$=function $$JSCompiler_prototypeAlias$$$$processTree$$(){for(var $i$jscomp$254$$=0;$i$jscomp$254$$<this.$g$.length;$i$jscomp$254$$++)(this.$g$[$i$jscomp$254$$]instanceof $A3a$Compiler$L2$NodeStatementOnevent$$||this.$g$[$i$jscomp$254$$]instanceof $A3a$Compiler$L2$NodeStatementDef$$)&&this.$j$.push(this.$g$[$i$jscomp$254$$])};
function $A3a$Compiler$L2$findLabel$$($labels$$,$label$jscomp$5$$){for(var $i$jscomp$257$$=$labels$$.length-1;0<=$i$jscomp$257$$;$i$jscomp$257$$--)for(var $j$jscomp$21$$=$labels$$[$i$jscomp$257$$].length-1;0<=$j$jscomp$21$$;$j$jscomp$21$$--)if($labels$$[$i$jscomp$257$$][$j$jscomp$21$$].label===$label$jscomp$5$$)return $labels$$[$i$jscomp$257$$][$j$jscomp$21$$];return null}
$JSCompiler_prototypeAlias$$.$generateA3aBC$=function $$JSCompiler_prototypeAlias$$$$generateA3aBC$$(){this.$A$=[];this.$resetContext$();this.$sourceToBCMapping$=[];this.$retValueOffset$=this.$F$=this.$G$=this.$asebaNode$.$b$-2;this.$l$=this.$retValueOffset$+1;this.$M$=[];var $bc0$jscomp$1_codeBlockBC$jscomp$1$$=this.$j$.map(function($bc$jscomp$28_block$jscomp$321$$){this.$bcAddr$=0;this.$setContext$($bc$jscomp$28_block$jscomp$321$$.$contexts$[0]);this.$inSubDefinition$=$bc$jscomp$28_block$jscomp$321$$ instanceof
$A3a$Compiler$NodeStatementSub$$||$bc$jscomp$28_block$jscomp$321$$ instanceof $A3a$Compiler$L2$NodeStatementDef$$;this.$inFunction$=$bc$jscomp$28_block$jscomp$321$$ instanceof $A3a$Compiler$L2$NodeStatementDef$$;this.$sourceToBCMapping$=[];$bc$jscomp$28_block$jscomp$321$$=$bc$jscomp$28_block$jscomp$321$$.$generateA3aBC$(this,!0);$A3a$Compiler$resolveCodePlaceholders$$($bc$jscomp$28_block$jscomp$321$$);return{$bc$:$bc$jscomp$28_block$jscomp$321$$,mapping:this.$sourceToBCMapping$}},this);if(0<this.$A$.length)throw"internal";
for(var $nEvents$jscomp$1$$=0,$i$jscomp$258$$=0;$i$jscomp$258$$<this.$j$.length;$i$jscomp$258$$++)this.$j$[$i$jscomp$258$$]instanceof $A3a$Compiler$NodeStatementOnevent$$&&$nEvents$jscomp$1$$++;var $eventBlocks$$=[],$subBlocks$$={},$bc$jscomp$27$$=[];this.$sourceToBCMapping$=[];for($i$jscomp$258$$=0;$i$jscomp$258$$<this.$j$.length;$i$jscomp$258$$++){var $addr0$$=1+2*$nEvents$jscomp$1$$+$bc$jscomp$27$$.length;this.$j$[$i$jscomp$258$$]instanceof $A3a$Compiler$L2$NodeStatementOnevent$$||this.$j$[$i$jscomp$258$$]instanceof
$A3a$Compiler$NodeStatementOnevent$$?($eventBlocks$$.push({id:$JSCompiler_StaticMethods_eventNameToId$$(this.$asebaNode$,this.$j$[$i$jscomp$258$$].$eventName$),offset:$bc$jscomp$27$$.length}),$bc$jscomp$27$$=$bc$jscomp$27$$.concat($bc0$jscomp$1_codeBlockBC$jscomp$1$$[$i$jscomp$258$$].$bc$)):this.$j$[$i$jscomp$258$$]instanceof $A3a$Compiler$NodeStatementSub$$?($subBlocks$$[this.$j$[$i$jscomp$258$$].$subName$]=$bc$jscomp$27$$.length,$bc$jscomp$27$$=$bc$jscomp$27$$.concat($bc0$jscomp$1_codeBlockBC$jscomp$1$$[$i$jscomp$258$$].$bc$)):
this.$j$[$i$jscomp$258$$]instanceof $A3a$Compiler$L2$NodeStatementDef$$&&($subBlocks$$[this.$j$[$i$jscomp$258$$].$funName$]=$bc$jscomp$27$$.length,$bc$jscomp$27$$=$bc$jscomp$27$$.concat($bc0$jscomp$1_codeBlockBC$jscomp$1$$[$i$jscomp$258$$].$bc$));this.$sourceToBCMapping$=this.$sourceToBCMapping$.concat($bc0$jscomp$1_codeBlockBC$jscomp$1$$[$i$jscomp$258$$].mapping.map(function($m$jscomp$6$$){return new $A3a$Compiler$SourceToBCMapping$$($m$jscomp$6$$.$srcOffset$,$m$jscomp$6$$.line,$m$jscomp$6$$.$col$,
$m$jscomp$6$$.$addr$+$addr0$$)}))}$bc0$jscomp$1_codeBlockBC$jscomp$1$$=[1+2*$eventBlocks$$.length];for($i$jscomp$258$$=0;$i$jscomp$258$$<$eventBlocks$$.length;$i$jscomp$258$$++)$bc0$jscomp$1_codeBlockBC$jscomp$1$$=$bc0$jscomp$1_codeBlockBC$jscomp$1$$.concat($eventBlocks$$[$i$jscomp$258$$].id,1+2*$eventBlocks$$.length+$eventBlocks$$[$i$jscomp$258$$].offset);for($i$jscomp$258$$=0;$i$jscomp$258$$<$bc$jscomp$27$$.length;$i$jscomp$258$$++)if("string"===typeof $bc$jscomp$27$$[$i$jscomp$258$$]){if(void 0===
$subBlocks$$[$bc$jscomp$27$$[$i$jscomp$258$$]])throw $A3a$Compiler$L2$NodeStatementBreak$errorOnLabelMark$$($bc$jscomp$27$$[$i$jscomp$258$$]),'unknown function "'+$bc$jscomp$27$$[$i$jscomp$258$$]+'"';$bc$jscomp$27$$[$i$jscomp$258$$]=53248|$subBlocks$$[$bc$jscomp$27$$[$i$jscomp$258$$]]+$bc0$jscomp$1_codeBlockBC$jscomp$1$$.length}return $bc0$jscomp$1_codeBlockBC$jscomp$1$$.concat($bc$jscomp$27$$)};
$JSCompiler_prototypeAlias$$.$generateA3aBCForFunction$=function $$JSCompiler_prototypeAlias$$$$generateA3aBCForFunction$$($node$jscomp$101$$){for(var $bc$jscomp$29_name$jscomp$138$$=$node$jscomp$101$$.head.name,$i$jscomp$259$$=0;$i$jscomp$259$$<this.$j$.length;$i$jscomp$259$$++)if(this.$j$[$i$jscomp$259$$]instanceof $A3a$Compiler$L2$NodeStatementDef$$&&this.$j$[$i$jscomp$259$$].$funName$===$bc$jscomp$29_name$jscomp$138$$){if($node$jscomp$101$$.children.length!==this.$j$[$i$jscomp$259$$].$args$.length)throw"wrong number of arguments "+
$JSCompiler_StaticMethods_posString$$($node$jscomp$101$$.head);$bc$jscomp$29_name$jscomp$138$$=$node$jscomp$101$$.$shouldProduceValue$?[$bc$jscomp$29_name$jscomp$138$$,12288|this.$retValueOffset$]:[$bc$jscomp$29_name$jscomp$138$$];this.$inFunction$?0<this.$varSize$&&($bc$jscomp$29_name$jscomp$138$$=[12288|this.$l$,4096|this.$varSize$,32770,16384|this.$l$].concat($bc$jscomp$29_name$jscomp$138$$).concat(12288|this.$l$,4096|this.$varSize$,32771,16384|this.$l$)):$bc$jscomp$29_name$jscomp$138$$=[4096|
this.$varSize$,16384|this.$l$].concat($bc$jscomp$29_name$jscomp$138$$);for(var $bcArg$$=[],$j$jscomp$22$$=0;$j$jscomp$22$$<$node$jscomp$101$$.children.length;$j$jscomp$22$$++){if(this.$j$[$i$jscomp$259$$].$args$[$j$jscomp$22$$].size!==$node$jscomp$101$$.children[$j$jscomp$22$$].$valueSize$)throw"incompatible size "+$JSCompiler_StaticMethods_posString$$($node$jscomp$101$$.children[$j$jscomp$22$$].head);if(this.$j$[$i$jscomp$259$$].$args$[$j$jscomp$22$$].$isRef$){if(!($node$jscomp$101$$.children[$j$jscomp$22$$]instanceof
$A3a$Compiler$NodeVar$$))throw"variable reference expected "+$JSCompiler_StaticMethods_posString$$($node$jscomp$101$$.children[$j$jscomp$22$$].head);if(this.$j$[$i$jscomp$259$$].$args$[$j$jscomp$22$$].type!==$node$jscomp$101$$.children[$j$jscomp$22$$].resultType)throw"variable reference type mismatch "+$JSCompiler_StaticMethods_posString$$($node$jscomp$101$$.children[$j$jscomp$22$$].head);}if(this.$j$[$i$jscomp$259$$].$args$[$j$jscomp$22$$].$isRef$){var $varDescr$jscomp$2$$=$JSCompiler_StaticMethods_getVariable$$(this,
$node$jscomp$101$$.children[$j$jscomp$22$$]);$bcArg$$=$bcArg$$.concat($varDescr$jscomp$2$$.$inFunction$?$varDescr$jscomp$2$$.$isRef$?[12288|this.$l$,20480|$varDescr$jscomp$2$$.offset,this.$asebaNode$.$b$]:[12288|this.$l$,4096|$varDescr$jscomp$2$$.offset,32770]:[4096|$varDescr$jscomp$2$$.offset]).concat(this.$inFunction$?[12288|this.$l$,24576|$j$jscomp$22$$+this.$varSize$,this.$asebaNode$.$b$]:16384|$j$jscomp$22$$+this.$varSize$)}else $node$jscomp$101$$.children[$j$jscomp$22$$]=$A3a$Compiler$L2$castNodeType$$($node$jscomp$101$$.children[$j$jscomp$22$$],
this.$j$[$i$jscomp$259$$].$args$[$j$jscomp$22$$].type,this).$optimize$(this),$bcArg$$=$bcArg$$.concat($node$jscomp$101$$.children[$j$jscomp$22$$].$generateA3aBC$(this)).concat(this.$B$($node$jscomp$101$$.children[$j$jscomp$22$$].resultType,this.$j$[$i$jscomp$259$$].$args$[$j$jscomp$22$$].type)).concat(this.$inFunction$?[12288|this.$l$,24576|$j$jscomp$22$$+this.$varSize$,this.$asebaNode$.$b$]:16384|$j$jscomp$22$$+this.$varSize$)}return $bcArg$$.concat($bc$jscomp$29_name$jscomp$138$$)}return null};
function $A3a$Compiler$L2$isL2$$($src$jscomp$12$$){$src$jscomp$12$$=$src$jscomp$12$$.trim();if(""===$src$jscomp$12$$)return!1;var $commentIndex$$=["#","//","/*"].map(function($c$jscomp$24_i$jscomp$260$$){$c$jscomp$24_i$jscomp$260$$=$src$jscomp$12$$.indexOf($c$jscomp$24_i$jscomp$260$$);return 0>$c$jscomp$24_i$jscomp$260$$?$src$jscomp$12$$.length:$c$jscomp$24_i$jscomp$260$$}).sort(function($a$jscomp$59$$,$b$jscomp$25$$){return $a$jscomp$59$$-$b$jscomp$25$$})[0];return $commentIndex$$<$src$jscomp$12$$.length?
"#"!==$src$jscomp$12$$[$commentIndex$$]:/[;{]/.test($src$jscomp$12$$)}$A3a$Compiler$NodeFixed$$.prototype.$generateA3aBC$=function $$A3a$Compiler$NodeFixed$$$$$generateA3aBC$$($compiler$jscomp$151$$){return $A3a$Compiler$NodeNumber$generateA3aBC$$(Math.round(this.n*$compiler$jscomp$151$$.$factor$))};function $A3a$Compiler$L2$NodeStatementBlock$$($head$jscomp$17$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$17$$,3)}$A3a$Compiler$L2$NodeStatementBlock$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$L2$NodeStatementBlock$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementBlock$$;$A3a$Compiler$L2$NodeStatementBlock$$.prototype.$optimize$=function $$A3a$Compiler$L2$NodeStatementBlock$$$$$optimize$$($compiler$jscomp$152$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$152$$);return this};
$A3a$Compiler$L2$NodeStatementBlock$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementBlock$$$$$generateA3aBC$$($compiler$jscomp$153$$){var $baseContext$jscomp$6$$=$compiler$jscomp$153$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$153$$);$compiler$jscomp$153$$.$setContext$(this.$contexts$[0]);var $bc$jscomp$30$$=$A3a$Compiler$Node$$.prototype.$generateA3aBC$.call(this,$compiler$jscomp$153$$);$compiler$jscomp$153$$.$setContext$($baseContext$jscomp$6$$);
return $bc$jscomp$30$$};function $A3a$Compiler$L2$NodeStatementEmpty$$($head$jscomp$18$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$18$$)}$A3a$Compiler$L2$NodeStatementEmpty$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$L2$NodeStatementEmpty$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementEmpty$$;$A3a$Compiler$L2$NodeStatementEmpty$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementEmpty$$$$$generateA3aBC$$(){return[]};
function $A3a$Compiler$L2$NodeStatementWhile$$($head$jscomp$19$$,$condition$jscomp$2$$){$A3a$Compiler$NodeStatementWhile$$.call(this,$head$jscomp$19$$,$condition$jscomp$2$$);this.label=null}$A3a$Compiler$L2$NodeStatementWhile$$.prototype=Object.create($A3a$Compiler$NodeStatementWhile$$.prototype);$A3a$Compiler$L2$NodeStatementWhile$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementWhile$$;
$A3a$Compiler$L2$NodeStatementWhile$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementWhile$$$$$generateA3aBC$$($compiler$jscomp$155$$){if(null==this.$b$&&0===this.children.length)return[];var $baseContext$jscomp$7$$=$compiler$jscomp$155$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$155$$);var $bc$jscomp$31$$=[],$bcAddr0$jscomp$6$$=$compiler$jscomp$155$$.$bcAddr$;$compiler$jscomp$155$$.$v$.push({});null!=this.$b$&&($bc$jscomp$31$$=$JSCompiler_StaticMethods_generateA3aCondBranchBC$$(this.$b$,
$compiler$jscomp$155$$));$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$155$$,$bc$jscomp$31$$);$compiler$jscomp$155$$.$setContext$(this.$contexts$[0]);this.children.forEach(function($st$jscomp$16$$){$compiler$jscomp$155$$.$bcAddr$=$bcAddr0$jscomp$6$$+$bc$jscomp$31$$.length;$bc$jscomp$31$$=$bc$jscomp$31$$.concat($st$jscomp$16$$.$generateA3aBC$($compiler$jscomp$155$$))});$bc$jscomp$31$$=$bc$jscomp$31$$.concat(36864|-$bc$jscomp$31$$.length&4095);$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$155$$,
$bc$jscomp$31$$);$A3a$Compiler$L2$NodeStatementBreak$resolveBreakJumps$$($bc$jscomp$31$$,0,$bc$jscomp$31$$.length,this.label);$compiler$jscomp$155$$.$v$.pop();$compiler$jscomp$155$$.$setContext$($baseContext$jscomp$7$$);return $bc$jscomp$31$$};function $A3a$Compiler$L2$NodeStatementDoWhile$$($head$jscomp$20$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$20$$,3);this.label=this.$b$=null}$A3a$Compiler$L2$NodeStatementDoWhile$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$L2$NodeStatementDoWhile$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementDoWhile$$;$A3a$Compiler$L2$NodeStatementDoWhile$$.prototype.$processEndStatement$=function $$A3a$Compiler$L2$NodeStatementDoWhile$$$$$processEndStatement$$($st$jscomp$17$$){if(!($st$jscomp$17$$ instanceof $A3a$Compiler$L2$NodeStatementEndWhile$$))throw'unexpected closing statement for "do"';this.$b$=$st$jscomp$17$$.$b$};
$A3a$Compiler$L2$NodeStatementDoWhile$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementDoWhile$$$$$generateA3aBC$$($compiler$jscomp$156$$){if(null==this.$b$&&0===this.children.length)return[];var $baseContext$jscomp$8$$=$compiler$jscomp$156$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$156$$);var $bc$jscomp$32$$=[],$bcAddr0$jscomp$7$$=$compiler$jscomp$156$$.$bcAddr$;$compiler$jscomp$156$$.$v$.push({});$compiler$jscomp$156$$.$setContext$(this.$contexts$[0]);
this.children.forEach(function($st$jscomp$18$$){$compiler$jscomp$156$$.$bcAddr$=$bcAddr0$jscomp$7$$+$bc$jscomp$32$$.length;$bc$jscomp$32$$=$bc$jscomp$32$$.concat($st$jscomp$18$$.$generateA3aBC$($compiler$jscomp$156$$))});null!=this.$b$&&($bc$jscomp$32$$=$bc$jscomp$32$$.concat($JSCompiler_StaticMethods_generateA3aCondBranchBC$$(new $A3a$Compiler$NodeFun$$(new $A3a$Compiler$TokenKeyword$$(this.$b$.head.$srcIndex$,this.$b$.head.$srcLine$,this.$b$.head.$srcCol$,"not"),0,$JSCompiler_StaticMethods_getOperator$$($compiler$jscomp$156$$,
"!",0),[this.$b$]),$compiler$jscomp$156$$)),$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$156$$,$bc$jscomp$32$$),$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$156$$,$bc$jscomp$32$$,0));$A3a$Compiler$L2$NodeStatementBreak$resolveBreakJumps$$($bc$jscomp$32$$,0,$bc$jscomp$32$$.length,this.label);$compiler$jscomp$156$$.$v$.pop();$compiler$jscomp$156$$.$setContext$($baseContext$jscomp$8$$);return $bc$jscomp$32$$};
function $A3a$Compiler$L2$NodeStatementEndWhile$$($head$jscomp$21$$,$expr$jscomp$13$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$21$$,5);this.$b$=$expr$jscomp$13$$}$A3a$Compiler$L2$NodeStatementEndWhile$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$L2$NodeStatementEndWhile$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementEndWhile$$;
function $A3a$Compiler$L2$NodeStatementFor$$($head$jscomp$22$$,$varDecl$$,$varType$$,$expr1$$,$expr2$jscomp$2$$,$expr3$jscomp$1$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$22$$,3);$expr1$$&&($expr1$$.$shouldProduceValue$=!1);$expr3$jscomp$1$$&&($expr3$jscomp$1$$.$shouldProduceValue$=!1);this.$u$=$varDecl$$;this.$A$=$varType$$;this.$g$=$expr1$$;this.$b$=$expr2$jscomp$2$$;this.$i$=$expr3$jscomp$1$$;this.label=null;this.$o$=[]}$A3a$Compiler$L2$NodeStatementFor$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$JSCompiler_prototypeAlias$$=$A3a$Compiler$L2$NodeStatementFor$$.prototype;$JSCompiler_prototypeAlias$$.constructor=$A3a$Compiler$L2$NodeStatementFor$$;
$JSCompiler_prototypeAlias$$.$resolveArraySize$=function $$JSCompiler_prototypeAlias$$$$resolveArraySize$$($compiler$jscomp$157$$){$A3a$Compiler$Node$$.prototype.$resolveArraySize$.call(this,$compiler$jscomp$157$$);this.$g$&&this.$g$.$resolveArraySize$($compiler$jscomp$157$$);this.$b$&&this.$b$.$resolveArraySize$($compiler$jscomp$157$$);this.$i$&&this.$i$.$resolveArraySize$($compiler$jscomp$157$$)};
$JSCompiler_prototypeAlias$$.$optimize$=function $$JSCompiler_prototypeAlias$$$$optimize$$($compiler$jscomp$158$$){this.$g$&&(this.$g$=this.$g$.$optimize$($compiler$jscomp$158$$));this.$b$&&(this.$b$=this.$b$.$optimize$($compiler$jscomp$158$$));this.$i$&&(this.$i$=this.$i$.$optimize$($compiler$jscomp$158$$));$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$158$$);return this};
$JSCompiler_prototypeAlias$$.$postProcess$=function $$JSCompiler_prototypeAlias$$$$postProcess$$($compiler$jscomp$159$$,$st$jscomp$19$$){this.$o$.push($st$jscomp$19$$)};
$JSCompiler_prototypeAlias$$.$generateA3aBC$=function $$JSCompiler_prototypeAlias$$$$generateA3aBC$$($compiler$jscomp$160$$){var $baseContext$jscomp$9$$=$compiler$jscomp$160$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$160$$);$compiler$jscomp$160$$.$setContext$(this.$contexts$[1]);var $bcAddr0$jscomp$8$$=$compiler$jscomp$160$$.$bcAddr$,$bc$jscomp$33$$=this.$g$?this.$g$.$generateA3aBC$($compiler$jscomp$160$$):[];$compiler$jscomp$160$$.$v$.push({});var $beg$jscomp$1$$=
$bc$jscomp$33$$.length;this.$b$&&($bc$jscomp$33$$=$bc$jscomp$33$$.concat($JSCompiler_StaticMethods_generateA3aCondBranchBC$$(this.$b$,$compiler$jscomp$160$$)),$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$160$$,$bc$jscomp$33$$));$compiler$jscomp$160$$.$setContext$(this.$contexts$[0]);for(var $contTarget_i$jscomp$261$$=0;$contTarget_i$jscomp$261$$<this.children.length;$contTarget_i$jscomp$261$$++)$compiler$jscomp$160$$.$bcAddr$=$bcAddr0$jscomp$8$$+$bc$jscomp$33$$.length,$bc$jscomp$33$$=
$bc$jscomp$33$$.concat(this.children[$contTarget_i$jscomp$261$$].$generateA3aBC$($compiler$jscomp$160$$));$compiler$jscomp$160$$.$setContext$(this.$contexts$[1]);$contTarget_i$jscomp$261$$=$bc$jscomp$33$$.length;$compiler$jscomp$160$$.$bcAddr$=$bcAddr0$jscomp$8$$+$bc$jscomp$33$$.length;$JSCompiler_StaticMethods_addSourceToBCMapping$$($compiler$jscomp$160$$,this.$o$[0]);this.$i$&&($bc$jscomp$33$$=$bc$jscomp$33$$.concat(this.$i$.$generateA3aBC$($compiler$jscomp$160$$)));$bc$jscomp$33$$=$bc$jscomp$33$$.concat(36864|
$beg$jscomp$1$$-$bc$jscomp$33$$.length&4095);this.$b$&&$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$160$$,$bc$jscomp$33$$);$A3a$Compiler$L2$NodeStatementBreak$resolveBreakJumps$$($bc$jscomp$33$$,$contTarget_i$jscomp$261$$,$bc$jscomp$33$$.length,this.label);$compiler$jscomp$160$$.$v$.pop();$compiler$jscomp$160$$.$setContext$($baseContext$jscomp$9$$);return $bc$jscomp$33$$};
function $A3a$Compiler$L2$NodeStatementBreak$$($head$jscomp$23$$,$isContinue$$,$label$jscomp$6$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$23$$);this.$m$=$isContinue$$;this.label=$label$jscomp$6$$}$A3a$Compiler$L2$NodeStatementBreak$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$L2$NodeStatementBreak$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementBreak$$;
function $A3a$Compiler$L2$CodePlaceholderBreak$$($compiler$jscomp$161$$,$statement$jscomp$10$$){$A3a$Compiler$CodePlaceholder$$.call(this,$compiler$jscomp$161$$,$statement$jscomp$10$$)}$A3a$Compiler$L2$CodePlaceholderBreak$$.prototype=Object.create($A3a$Compiler$CodePlaceholder$$.prototype);$A3a$Compiler$L2$CodePlaceholderBreak$$.prototype.constructor=$A3a$Compiler$L2$CodePlaceholderBreak$$;
function $A3a$Compiler$L2$NodeStatementBreak$resolveBreakJumps$$($bc$jscomp$34$$,$continueAddr$$,$breakAddr$$,$label$jscomp$7$$){for(var $i$jscomp$262$$=0;$i$jscomp$262$$<$bc$jscomp$34$$.length;$i$jscomp$262$$++)if($bc$jscomp$34$$[$i$jscomp$262$$]instanceof $A3a$Compiler$L2$CodePlaceholderBreak$$){var $phlabel$$=$bc$jscomp$34$$[$i$jscomp$262$$].$statement$.label;if(null==$phlabel$$||$phlabel$$===$label$jscomp$7$$)$bc$jscomp$34$$[$i$jscomp$262$$]=$bc$jscomp$34$$[$i$jscomp$262$$].$statement$.$m$?36864|
$continueAddr$$-$i$jscomp$262$$&4095:36864|$breakAddr$$-$i$jscomp$262$$&4095}}
function $A3a$Compiler$L2$NodeStatementBreak$errorOnLabelMark$$($op$jscomp$2$$){if($op$jscomp$2$$ instanceof $A3a$Compiler$L2$CodePlaceholderBreak$$){var $label$jscomp$8$$=$op$jscomp$2$$.$statement$.label;if(null!=$label$jscomp$8$$)throw"unknown "+($op$jscomp$2$$.$statement$.$m$?"continue":"break")+' label "'+$label$jscomp$8$$+'"'+$JSCompiler_StaticMethods_posString$$($op$jscomp$2$$.$statement$.head);throw'unexpected "'+($op$jscomp$2$$.$statement$.$m$?"continue":"break")+'" '+$JSCompiler_StaticMethods_posString$$($op$jscomp$2$$.$statement$.head);
}}$A3a$Compiler$L2$NodeStatementBreak$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementBreak$$$$$generateA3aBC$$($compiler$jscomp$162$$){if(0===$compiler$jscomp$162$$.$v$.length)throw(this.$m$?'"continue"':'"break"')+" outside loop "+$JSCompiler_StaticMethods_posString$$(this.head);$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$162$$);return[new $A3a$Compiler$L2$CodePlaceholderBreak$$($compiler$jscomp$162$$,this)]};
function $A3a$Compiler$L2$NodeStatementSwitch$$($head$jscomp$24$$,$expr$jscomp$14$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$24$$,3);this.$j$=$expr$jscomp$14$$;this.label=null}$A3a$Compiler$L2$NodeStatementSwitch$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$L2$NodeStatementSwitch$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementSwitch$$;
$A3a$Compiler$L2$NodeStatementSwitch$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementSwitch$$$$$generateA3aBC$$($compiler$jscomp$163$$){var $bcAddr0$jscomp$9$$=$compiler$jscomp$163$$.$bcAddr$,$bc$jscomp$35$$=this.$j$.$generateA3aBC$($compiler$jscomp$163$$).concat(16384|$compiler$jscomp$163$$.$retValueOffset$),$baseContext$jscomp$10$$=$compiler$jscomp$163$$.getContext();$compiler$jscomp$163$$.$setContext$(this.$contexts$[0]);var $hasJumpChain$$=!(this.children[0]instanceof $A3a$Compiler$L2$NodeStatementCase$$);
$hasJumpChain$$&&($bc$jscomp$35$$=$bc$jscomp$35$$.concat(36864),$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$163$$,$bc$jscomp$35$$));$compiler$jscomp$163$$.$v$.push({});for(var $fallThrough$$=!1,$i$jscomp$263$$=0;$i$jscomp$263$$<this.children.length;)if($compiler$jscomp$163$$.$bcAddr$=$bcAddr0$jscomp$9$$+$bc$jscomp$35$$.length,this.children[$i$jscomp$263$$]instanceof $A3a$Compiler$L2$NodeStatementCase$$){for(var $c$jscomp$25$$=[],$hasDefault$$=!1;$i$jscomp$263$$<this.children.length&&
this.children[$i$jscomp$263$$]instanceof $A3a$Compiler$L2$NodeStatementCase$$;){if(null!=this.children[$i$jscomp$263$$].$j$){var $expr$jscomp$15$$=this.children[$i$jscomp$263$$].$j$.$optimize$($compiler$jscomp$163$$);if(!($expr$jscomp$15$$ instanceof $A3a$Compiler$NodeNumber$$))throw'non-constant expression in "case" '+$JSCompiler_StaticMethods_posString$$(this.children[$i$jscomp$263$$].head);$c$jscomp$25$$.push($expr$jscomp$15$$.n)}else $hasDefault$$=!0;$i$jscomp$263$$++}$hasDefault$$?$hasJumpChain$$&&
($JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$163$$,$bc$jscomp$35$$),$hasJumpChain$$=!1):(1===$c$jscomp$25$$.length?($fallThrough$$&&($bc$jscomp$35$$=$bc$jscomp$35$$.concat(36869)),$hasJumpChain$$&&$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$163$$,$bc$jscomp$35$$),$bc$jscomp$35$$=$bc$jscomp$35$$.concat(12288|$compiler$jscomp$163$$.$retValueOffset$).concat($A3a$Compiler$NodeNumber$generateA3aBC$$($c$jscomp$25$$[0])).concat(40960|$A3a$vm$condName$$.indexOf("eq"),0)):($fallThrough$$&&
($bc$jscomp$35$$=$bc$jscomp$35$$.concat(36864|4*$c$jscomp$25$$.length+1)),$hasJumpChain$$&&$JSCompiler_StaticMethods_finalizeJump$$($compiler$jscomp$163$$,$bc$jscomp$35$$),$c$jscomp$25$$.forEach(function($c1$$,$j$jscomp$23$$){$bc$jscomp$35$$=$bc$jscomp$35$$.concat(12288|$compiler$jscomp$163$$.$retValueOffset$).concat($A3a$Compiler$NodeNumber$generateA3aBC$$($c1$$)).concat(40960|$A3a$vm$condName$$.indexOf("ne"),4*($c$jscomp$25$$.length-$j$jscomp$23$$)-1)}),$bc$jscomp$35$$=$bc$jscomp$35$$.concat(36864)),
$JSCompiler_StaticMethods_prepareJump$$($compiler$jscomp$163$$,$bc$jscomp$35$$),$hasJumpChain$$=!0);$fallThrough$$=!0}else $bc$jscomp$35$$=$bc$jscomp$35$$.concat(this.children[$i$jscomp$263$$].$generateA3aBC$($compiler$jscomp$163$$)),$fallThrough$$=!(this.children[$i$jscomp$263$$]instanceof $A3a$Compiler$L2$NodeStatementBreak$$)&&!(this.children[$i$jscomp$263$$]instanceof $A3a$Compiler$L2$NodeStatementReturn$$),$i$jscomp$263$$++;$A3a$Compiler$L2$NodeStatementBreak$resolveBreakJumps$$($bc$jscomp$35$$,
-1,$bc$jscomp$35$$.length,this.label);$compiler$jscomp$163$$.$v$.pop();$compiler$jscomp$163$$.$setContext$($baseContext$jscomp$10$$);return $bc$jscomp$35$$};function $A3a$Compiler$L2$NodeStatementCase$$($head$jscomp$25$$,$expr$jscomp$16$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$25$$);this.$j$=$expr$jscomp$16$$}$A3a$Compiler$L2$NodeStatementCase$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$L2$NodeStatementCase$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementCase$$;
$A3a$Compiler$L2$NodeStatementCase$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementCase$$$$$generateA3aBC$$(){throw(this.$j$?'"case"':'"default"')+" outside switch "+$JSCompiler_StaticMethods_posString$$(this.head);};function $A3a$Compiler$L2$NodeStatementLabel$$($head$jscomp$26$$,$label$jscomp$9$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$26$$);this.label=$label$jscomp$9$$}$A3a$Compiler$L2$NodeStatementLabel$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$L2$NodeStatementLabel$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementLabel$$;$A3a$Compiler$L2$NodeStatementLabel$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementLabel$$$$$generateA3aBC$$($compiler$jscomp$165$$){$compiler$jscomp$165$$.label=this.label;$A3a$Compiler$L2$findLabel$$($compiler$jscomp$165$$.labels,this.label).$address$=$compiler$jscomp$165$$.$bcAddr$;return[]};
function $A3a$Compiler$L2$NodeStatementGoto$$($head$jscomp$27$$,$label$jscomp$10$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$27$$);this.label=$label$jscomp$10$$}$A3a$Compiler$L2$NodeStatementGoto$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$L2$NodeStatementGoto$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementGoto$$;
function $A3a$Compiler$L2$CodePlaceholderGoto$$($compiler$jscomp$166$$,$statement$jscomp$11$$,$labels$jscomp$1$$){$A3a$Compiler$CodePlaceholder$$.call(this,$compiler$jscomp$166$$,$statement$jscomp$11$$);this.labels=$labels$jscomp$1$$}$A3a$Compiler$L2$CodePlaceholderGoto$$.prototype=Object.create($A3a$Compiler$CodePlaceholder$$.prototype);$A3a$Compiler$L2$CodePlaceholderGoto$$.prototype.constructor=$A3a$Compiler$L2$CodePlaceholderGoto$$;
$A3a$Compiler$L2$CodePlaceholderGoto$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$CodePlaceholderGoto$$$$$generateA3aBC$$($addr$jscomp$5$$){var $label$jscomp$11$$=$A3a$Compiler$L2$findLabel$$(this.labels,this.$statement$.label);if(null===$label$jscomp$11$$)throw'unknown label "'+this.$statement$.label+'" '+$JSCompiler_StaticMethods_posString$$(this.$statement$.head);return 36864|$label$jscomp$11$$.$address$-$addr$jscomp$5$$&4095};
$A3a$Compiler$L2$NodeStatementGoto$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementGoto$$$$$generateA3aBC$$($compiler$jscomp$167$$){return[new $A3a$Compiler$L2$CodePlaceholderGoto$$($compiler$jscomp$167$$,this,$compiler$jscomp$167$$.labels.slice())]};function $A3a$Compiler$L2$NodeStatementOnevent$$($head$jscomp$28$$,$eventName$jscomp$3$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$28$$,3);this.$eventName$=$eventName$jscomp$3$$}
$A3a$Compiler$L2$NodeStatementOnevent$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);$A3a$Compiler$L2$NodeStatementOnevent$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementOnevent$$;$A3a$Compiler$L2$NodeStatementOnevent$$.prototype.$optimize$=function $$A3a$Compiler$L2$NodeStatementOnevent$$$$$optimize$$($compiler$jscomp$168$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$168$$);return this};
$A3a$Compiler$L2$NodeStatementOnevent$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementOnevent$$$$$generateA3aBC$$($compiler$jscomp$169$$,$baseContext$jscomp$11_isTopLevel$jscomp$31$$){if($baseContext$jscomp$11_isTopLevel$jscomp$31$$){$baseContext$jscomp$11_isTopLevel$jscomp$31$$=$compiler$jscomp$169$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$169$$);$compiler$jscomp$169$$.$setContext$(this.$contexts$[0]);var $bc$jscomp$36$$=$A3a$Compiler$Node$$.prototype.$generateA3aBC$.call(this,
$compiler$jscomp$169$$).concat(0);$compiler$jscomp$169$$.$setContext$($baseContext$jscomp$11_isTopLevel$jscomp$31$$);return $bc$jscomp$36$$}return[]};function $A3a$Compiler$L2$NodeStatementDef$$($head$jscomp$29$$,$funName$jscomp$1$$,$resultType$jscomp$13$$,$args$jscomp$61$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$29$$,3);this.$funName$=$funName$jscomp$1$$;this.resultType=$resultType$jscomp$13$$;this.$args$=$args$jscomp$61$$}$A3a$Compiler$L2$NodeStatementDef$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$L2$NodeStatementDef$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementDef$$;$A3a$Compiler$L2$NodeStatementDef$$.prototype.$processBeginStatement$=function $$A3a$Compiler$L2$NodeStatementDef$$$$$processBeginStatement$$($compiler$jscomp$170$$){$compiler$jscomp$170$$.$u$=this.resultType};
$A3a$Compiler$L2$NodeStatementDef$$.prototype.$optimize$=function $$A3a$Compiler$L2$NodeStatementDef$$$$$optimize$$($compiler$jscomp$171$$){$A3a$Compiler$Node$optimizeNodeArray$$(this.children,$compiler$jscomp$171$$);return this};
$A3a$Compiler$L2$NodeStatementDef$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementDef$$$$$generateA3aBC$$($compiler$jscomp$172$$,$baseContext$jscomp$12_isTopLevel$jscomp$32$$){if($baseContext$jscomp$12_isTopLevel$jscomp$32$$){$baseContext$jscomp$12_isTopLevel$jscomp$32$$=$compiler$jscomp$172$$.getContext();$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$172$$);$compiler$jscomp$172$$.$setContext$(this.$contexts$[0]);var $bc$jscomp$37$$=$A3a$Compiler$Node$$.prototype.$generateA3aBC$.call(this,
$compiler$jscomp$172$$).concat(57344);$compiler$jscomp$172$$.$setContext$($baseContext$jscomp$12_isTopLevel$jscomp$32$$);return $bc$jscomp$37$$}return[]};function $A3a$Compiler$L2$NodeStatementReturn$$($head$jscomp$30$$,$val$jscomp$43$$){$A3a$Compiler$NodeStatement$$.call(this,$head$jscomp$30$$);$val$jscomp$43$$&&this.children.push($val$jscomp$43$$)}$A3a$Compiler$L2$NodeStatementReturn$$.prototype=Object.create($A3a$Compiler$NodeStatement$$.prototype);
$A3a$Compiler$L2$NodeStatementReturn$$.prototype.constructor=$A3a$Compiler$L2$NodeStatementReturn$$;
$A3a$Compiler$L2$NodeStatementReturn$$.prototype.$postProcess$=function $$A3a$Compiler$L2$NodeStatementReturn$$$$$postProcess$$($compiler$jscomp$173$$){if($compiler$jscomp$173$$.$u$===$A3a$Compiler$resultType$undef$$)throw'"return" outside function definition '+$JSCompiler_StaticMethods_posString$$(this.head);if("v"===$compiler$jscomp$173$$.$u$&&0<this.children.length)throw"unexpected return value in void function "+$JSCompiler_StaticMethods_posString$$(this.head);if("v"!==$compiler$jscomp$173$$.$u$&&
0===this.children.length)throw"missing return value in non-void function "+$JSCompiler_StaticMethods_posString$$(this.head);0<this.children.length&&(this.children[0]=$A3a$Compiler$L2$castNodeType$$(this.children[0],$compiler$jscomp$173$$.$u$,$compiler$jscomp$173$$).$optimize$($compiler$jscomp$173$$))};
$A3a$Compiler$L2$NodeStatementReturn$$.prototype.$generateA3aBC$=function $$A3a$Compiler$L2$NodeStatementReturn$$$$$generateA3aBC$$($compiler$jscomp$174$$){$JSCompiler_StaticMethods_prepareGenerateA3aBC$$(this,$compiler$jscomp$174$$);var $bc$jscomp$38$$=[];0<this.children.length&&($bc$jscomp$38$$=this.children[0].$generateA3aBC$($compiler$jscomp$174$$).concat($compiler$jscomp$174$$.$B$(this.children[0].resultType,$compiler$jscomp$174$$.$u$)).concat(16384|$compiler$jscomp$174$$.$retValueOffset$));
return $bc$jscomp$38$$.concat(57344)};var $A3a$A3aNode$stdMacrosL2$$=[{name:"abs",$nArgs$:1,$resultTypePropagate$:function($compiler$jscomp$175$$,$argTypes$jscomp$1$$){return $argTypes$jscomp$1$$[0]},$exists$:function(){return!0},$genCode$:function($compiler$jscomp$176$$,$asebaNode$jscomp$6$$,$argTypes$jscomp$2$$,$argsAddr$jscomp$1$$){return[12288|$argsAddr$jscomp$1$$,28673]}},{name:"atan2",$nArgs$:2,$nTmp$:1,$resultTypePropagate$:function(){return $A3a$Compiler$resultType$fixed$$},$exists$:function($asebaNode$jscomp$7$$){return null!=
$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$7$$,"math.atan2")},$genCode$:function($compiler$jscomp$178$$,$asebaNode$jscomp$8$$,$argTypes$jscomp$4$$,$argsAddr$jscomp$2$$){return($argTypes$jscomp$4$$[0]===$A3a$Compiler$resultType$fixed$$&&$argTypes$jscomp$4$$[1]!==$A3a$Compiler$resultType$fixed$$?[12288|$argsAddr$jscomp$2$$+1,4096|$compiler$jscomp$178$$.$factor$,32772,16384|$argsAddr$jscomp$2$$+1]:$argTypes$jscomp$4$$[0]!==$A3a$Compiler$resultType$fixed$$&&$argTypes$jscomp$4$$[1]===
$A3a$Compiler$resultType$fixed$$?[12288|$argsAddr$jscomp$2$$,4096|$compiler$jscomp$178$$.$factor$,32772,16384|$argsAddr$jscomp$2$$]:[]).concat([4097,4096|$argsAddr$jscomp$2$$+1,4096|$argsAddr$jscomp$2$$,4096|$argsAddr$jscomp$2$$+2,49152|$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$8$$,"math.atan2").id,12288|$argsAddr$jscomp$2$$+2,4096|Math.floor(32768/($compiler$jscomp$178$$.$factor$*Math.PI)),32773])}},{name:"cos",$nArgs$:1,$nTmp$:1,$resultTypePropagate$:function(){return $A3a$Compiler$resultType$fixed$$},
$exists$:function($asebaNode$jscomp$9$$){return null!=$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$9$$,"math.cos")},$genCode$:function($compiler$jscomp$180$$,$asebaNode$jscomp$10$$,$argTypes$jscomp$6$$,$argsAddr$jscomp$3$$){return[12288|$argsAddr$jscomp$3$$,4096|Math.round(32767/(($argTypes$jscomp$6$$[0]===$A3a$Compiler$resultType$fixed$$?$compiler$jscomp$180$$.$factor$:1)*Math.PI)),32772,16384|$argsAddr$jscomp$3$$,4097,4096|$argsAddr$jscomp$3$$,4096|$argsAddr$jscomp$3$$+1,49152|
$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$10$$,"math.cos").id,12288|$argsAddr$jscomp$3$$+1,4096|Math.floor(32768/$compiler$jscomp$180$$.$factor$),32773]}},$A3a$A3aNode$macroMath$$("rand","math.rand",0),{name:"random",$nArgs$:0,$nTmp$:1,$resultTypePropagate$:function(){return $A3a$Compiler$resultType$fixed$$},$exists$:function($asebaNode$jscomp$11$$){return null!=$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$11$$,"math.rand")},$genCode$:function($compiler$jscomp$182$$,
$asebaNode$jscomp$12$$,$argTypes$jscomp$8$$,$argsAddr$jscomp$4$$){return[4097,4096|$argsAddr$jscomp$4$$,49152|$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$12$$,"math.rand").id,12288|$argsAddr$jscomp$4$$,28673,4096|Math.floor(32768/$compiler$jscomp$182$$.$factor$),32773]}},{name:"stop",$nArgs$:0,$resultTypePropagate$:function(){return"v"},$genCode$:function(){return[0]}},{name:"sin",$nArgs$:1,$nTmp$:1,$resultTypePropagate$:function(){return $A3a$Compiler$resultType$fixed$$},$exists$:function($asebaNode$jscomp$14$$){return null!=
$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$14$$,"math.sin")},$genCode$:function($compiler$jscomp$186$$,$asebaNode$jscomp$15$$,$argTypes$jscomp$12$$,$argsAddr$jscomp$6$$){return[12288|$argsAddr$jscomp$6$$,4096|Math.round(32767/(($argTypes$jscomp$12$$[0]===$A3a$Compiler$resultType$fixed$$?$compiler$jscomp$186$$.$factor$:1)*Math.PI)),32772,16384|$argsAddr$jscomp$6$$,4097,4096|$argsAddr$jscomp$6$$,4096|$argsAddr$jscomp$6$$+1,49152|$JSCompiler_StaticMethods_findNativeFunction$$($asebaNode$jscomp$15$$,
"math.sin").id,12288|$argsAddr$jscomp$6$$+1,4096|Math.floor(32768/$compiler$jscomp$186$$.$factor$),32773]}},{name:"sqrt",$nArgs$:1,$nTmp$:6,$resultTypePropagate$:function(){return $A3a$Compiler$resultType$fixed$$},$genCode$:function($compiler$jscomp$188$$,$asebaNode$jscomp$16_bcPushK$$,$argTypes$jscomp$14$$,$argsAddr$jscomp$7$$){$asebaNode$jscomp$16_bcPushK$$=$A3a$Compiler$NodeNumber$generateA3aBC$$($argTypes$jscomp$14$$[0]===$A3a$Compiler$resultType$fixed$$?$compiler$jscomp$188$$.$factor$:$compiler$jscomp$188$$.$factor$*
$compiler$jscomp$188$$.$factor$);return[4096|$compiler$jscomp$188$$.$factor$,16384|$argsAddr$jscomp$7$$+1,4106,16384|$argsAddr$jscomp$7$$+2,12288|$argsAddr$jscomp$7$$,16384|$argsAddr$jscomp$7$$+4].concat($asebaNode$jscomp$16_bcPushK$$).concat([16384|$argsAddr$jscomp$7$$+5,12288|$argsAddr$jscomp$7$$+1,16384|$argsAddr$jscomp$7$$+6,4097,4096|$argsAddr$jscomp$7$$+6,4096|$argsAddr$jscomp$7$$+5,4096|$argsAddr$jscomp$7$$+4,4096|$argsAddr$jscomp$7$$+3,49152|$JSCompiler_StaticMethods_findNativeFunction$$($compiler$jscomp$188$$.$asebaNode$,
"math.muldiv").id,12288|$argsAddr$jscomp$7$$+3,12288|$argsAddr$jscomp$7$$+1,32770,4098,32773,16384|$argsAddr$jscomp$7$$+1,12288|$argsAddr$jscomp$7$$+2,4097,32771,16384|$argsAddr$jscomp$7$$+2,12288|$argsAddr$jscomp$7$$+2,4096,40960|$A3a$vm$condName$$.indexOf("le"),-(23+$asebaNode$jscomp$16_bcPushK$$.length)&65535,12288|$argsAddr$jscomp$7$$+1])}}];var $A3a$thymioDescr$$={name:"thymio-II",maxVarSize:620,variables:[{name:"_id",size:1},{name:"event.source",size:1},{name:"event.args",size:32},{name:"_fwversion",size:2},{name:"_productId",size:1},{name:"buttons._raw",size:5},{name:"button.backward",size:1},{name:"button.left",size:1},{name:"button.center",size:1},{name:"button.forward",size:1},{name:"button.right",size:1},{name:"buttons._mean",size:5},{name:"buttons._noise",size:5},{name:"prox.horizontal",size:7},{name:"prox.comm.rx._payloads",
size:7},{name:"prox.comm.rx._intensities",size:7},{name:"prox.comm.rx",size:1},{name:"prox.comm.tx",size:1},{name:"prox.ground.ambiant",size:2},{name:"prox.ground.reflected",size:2},{name:"prox.ground.delta",size:2},{name:"motor.left.target",size:1},{name:"motor.right.target",size:1},{name:"_vbat",size:2},{name:"_imot",size:2},{name:"motor.left.speed",size:1},{name:"motor.right.speed",size:1},{name:"motor.left.pwm",size:1},{name:"motor.right.pwm",size:1},{name:"acc",size:3},{name:"temperature",size:1},
{name:"rc5.address",size:1},{name:"rc5.command",size:1},{name:"mic.intensity",size:1},{name:"mic.threshold",size:1},{name:"mic._mean",size:1},{name:"timer.period",size:2},{name:"acc._tap",size:1}],localEvents:[{name:"button.backward"},{name:"button.left"},{name:"button.center"},{name:"button.forward"},{name:"button.right"},{name:"buttons"},{name:"prox"},{name:"prox.comm"},{name:"tap"},{name:"acc"},{name:"mic"},{name:"sound.finished"},{name:"temperature"},{name:"rc5"},{name:"motor"},{name:"timer0"},
{name:"timer1"}],nativeFunctions:[{name:"_system_reboot",args:[]},{name:"_system_settings_read",args:[1,1]},{name:"_system_settings_write",args:[1,1]},{name:"_system_settings_flash",args:[]},{name:"math.copy",args:[-1,-1]},{name:"math.fill",args:[-1,1]},{name:"math.addscalar",args:[-1,-1,1]},{name:"math.add",args:[-1,-1,-1]},{name:"math.sub",args:[-1,-1,-1]},{name:"math.mul",args:[-1,-1,-1]},{name:"math.div",args:[-1,-1,-1]},{name:"math.min",args:[-1,-1,-1]},{name:"math.max",args:[-1,-1,-1]},{name:"math.clamp",
args:[-1,-1,-1,-1]},{name:"math.dot",args:[1,-1,-1,1]},{name:"math.stat",args:[-1,1,1,1]},{name:"math.argbounds",args:[-1,1,1]},{name:"math.sort",args:[-1]},{name:"math.muldiv",args:[-1,-1,-1,-1]},{name:"math.atan2",args:[-1,-1,-1]},{name:"math.sin",args:[-1,-1]},{name:"math.cos",args:[-1,-1]},{name:"math.rot2",args:[2,2,1]},{name:"math.sqrt",args:[-1,-1]},{name:"math.rand",args:[-1]},{name:"_leds.set",args:[1,1]},{name:"sound.record",args:[1]},{name:"sound.play",args:[1]},{name:"sound.replay",args:[1]},
{name:"sound.system",args:[1]},{name:"leds.circle",args:[1,1,1,1,1,1,1,1]},{name:"leds.top",args:[1,1,1]},{name:"leds.bottom.left",args:[1,1,1]},{name:"leds.bottom.right",args:[1,1,1]},{name:"sound.freq",args:[1,1]},{name:"leds.buttons",args:[1,1,1,1]},{name:"leds.prox.h",args:[1,1,1,1,1,1,1,1]},{name:"leds.prox.v",args:[1,1]},{name:"leds.rc",args:[1]},{name:"leds.sound",args:[1]},{name:"leds.temperature",args:[1,1]},{name:"sound.wave",args:[142]},{name:"prox.comm.enable",args:[1]},{name:"sd.open",
args:[1,1]},{name:"sd.write",args:[-1,1]},{name:"sd.read",args:[-1,1]},{name:"sd.seek",args:[1,1]},{name:"_rf.nodeid",args:[1]},{name:"_poweroff",args:[]}]};function $A3a$Message$$($i$jscomp$267_id$jscomp$41$$,$data$jscomp$78_size$jscomp$26_sourceNodeId$$,$payload$$){this.id=$i$jscomp$267_id$jscomp$41$$;this.$j$=$data$jscomp$78_size$jscomp$26_sourceNodeId$$;if($payload$$ instanceof ArrayBuffer)this.$g$=$payload$$;else if($payload$$){for($i$jscomp$267_id$jscomp$41$$=$data$jscomp$78_size$jscomp$26_sourceNodeId$$=0;$i$jscomp$267_id$jscomp$41$$<$payload$$.length;$i$jscomp$267_id$jscomp$41$$++)$data$jscomp$78_size$jscomp$26_sourceNodeId$$="string"===typeof $payload$$[$i$jscomp$267_id$jscomp$41$$]?
$data$jscomp$78_size$jscomp$26_sourceNodeId$$+(1+$payload$$[$i$jscomp$267_id$jscomp$41$$].length):$data$jscomp$78_size$jscomp$26_sourceNodeId$$+2;$data$jscomp$78_size$jscomp$26_sourceNodeId$$=new ArrayBuffer($data$jscomp$78_size$jscomp$26_sourceNodeId$$);for(var $dataView$$=new DataView($data$jscomp$78_size$jscomp$26_sourceNodeId$$),$offset$jscomp$34$$=$i$jscomp$267_id$jscomp$41$$=0;$i$jscomp$267_id$jscomp$41$$<$payload$$.length;$i$jscomp$267_id$jscomp$41$$++)if("string"===typeof $payload$$[$i$jscomp$267_id$jscomp$41$$]){$dataView$$.setUint8($offset$jscomp$34$$++,
$payload$$[$i$jscomp$267_id$jscomp$41$$].length);for(var $j$jscomp$24$$=0;$j$jscomp$24$$<$payload$$[$i$jscomp$267_id$jscomp$41$$].length;$j$jscomp$24$$++)$dataView$$.setUint8($offset$jscomp$34$$++,$payload$$[$i$jscomp$267_id$jscomp$41$$].charCodeAt($j$jscomp$24$$))}else 32768>$payload$$[$i$jscomp$267_id$jscomp$41$$]?$dataView$$.setInt16($offset$jscomp$34$$,$payload$$[$i$jscomp$267_id$jscomp$41$$],!0):$dataView$$.setUint16($offset$jscomp$34$$,$payload$$[$i$jscomp$267_id$jscomp$41$$],!0),$offset$jscomp$34$$+=
2;this.$g$=$data$jscomp$78_size$jscomp$26_sourceNodeId$$}else this.$g$=new ArrayBuffer(0)}
function $JSCompiler_StaticMethods_A3a_Message_prototype$decode$$($JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$){function $parseStrings$$($stringFlags$$){for(var $r$jscomp$34$$=[],$offset$jscomp$35$$=0,$i$jscomp$269$$=0;$i$jscomp$269$$<$stringFlags$$.length;$i$jscomp$269$$++)if($stringFlags$$[$i$jscomp$269$$]){for(var $length$jscomp$21$$=$dataView$jscomp$1$$.getUint8($offset$jscomp$35$$),$str$jscomp$24$$="",$j$jscomp$25$$=0;$j$jscomp$25$$<$length$jscomp$21$$;$j$jscomp$25$$++)$str$jscomp$24$$+=
String.fromCharCode($dataView$jscomp$1$$.getUint8($offset$jscomp$35$$+1+$j$jscomp$25$$));$r$jscomp$34$$.push($str$jscomp$24$$);$offset$jscomp$35$$+=1+$length$jscomp$21$$}else $r$jscomp$34$$.push($dataView$jscomp$1$$.getUint16($offset$jscomp$35$$,!0)),$offset$jscomp$35$$+=2;return $r$jscomp$34$$}var $dataView$jscomp$1$$=new DataView($JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$g$);switch($JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.id){case $A3a$Message$Id$description$$:var $r$jscomp$33_val$jscomp$44$$=
$parseStrings$$([!0,!1,!1,!1,!1,!1,!1,!1]);$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.nodeName=$r$jscomp$33_val$jscomp$44$$[0];$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$bytecodeSize$=$r$jscomp$33_val$jscomp$44$$[2];$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$stackSize$=$r$jscomp$33_val$jscomp$44$$[3];$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$variableSize$=$r$jscomp$33_val$jscomp$44$$[4];break;case $A3a$Message$Id$namedVariableDescription$$:$r$jscomp$33_val$jscomp$44$$=
$parseStrings$$([!1,!0]);$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$varSize$=$r$jscomp$33_val$jscomp$44$$[0];$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$o$=$r$jscomp$33_val$jscomp$44$$[1];break;case $A3a$Message$Id$localEventDescription$$:$r$jscomp$33_val$jscomp$44$$=$parseStrings$$([!0,!0]);break;case $A3a$Message$Id$nativeFunctionDescription$$:var $t$jscomp$9$$=[!0,!0,!1];$r$jscomp$33_val$jscomp$44$$=$parseStrings$$($t$jscomp$9$$);$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.functionName=
$r$jscomp$33_val$jscomp$44$$[0];$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$l$=$r$jscomp$33_val$jscomp$44$$[2];for(var $flags$jscomp$4_i$jscomp$268$$=0;$flags$jscomp$4_i$jscomp$268$$<$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$l$;$flags$jscomp$4_i$jscomp$268$$++)$t$jscomp$9$$.push(!1),$t$jscomp$9$$.push(!0);$r$jscomp$33_val$jscomp$44$$=$parseStrings$$($t$jscomp$9$$);$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$params$=[];for($flags$jscomp$4_i$jscomp$268$$=
0;$flags$jscomp$4_i$jscomp$268$$<$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$l$;$flags$jscomp$4_i$jscomp$268$$++)$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$params$.push({size:$r$jscomp$33_val$jscomp$44$$[3+2*$flags$jscomp$4_i$jscomp$268$$]-($r$jscomp$33_val$jscomp$44$$[3+2*$flags$jscomp$4_i$jscomp$268$$]&32768?65536:0),name:$r$jscomp$33_val$jscomp$44$$[4+2*$flags$jscomp$4_i$jscomp$268$$]});break;case $A3a$Message$Id$variables$$:$dataView$jscomp$1$$.getUint16(0,
!0);$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$varData$=[];for($flags$jscomp$4_i$jscomp$268$$=2;$flags$jscomp$4_i$jscomp$268$$<$dataView$jscomp$1$$.byteLength;$flags$jscomp$4_i$jscomp$268$$+=2)$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$varData$.push($dataView$jscomp$1$$.getUint16($flags$jscomp$4_i$jscomp$268$$,!0));break;case $A3a$Message$Id$executionStateChanged$$:$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$b$=$dataView$jscomp$1$$.getUint16(0,
!0);$flags$jscomp$4_i$jscomp$268$$=$dataView$jscomp$1$$.getUint16(2,!0);$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.flags={flags:$flags$jscomp$4_i$jscomp$268$$,$eventActive$:0!==($flags$jscomp$4_i$jscomp$268$$&1),$stepByStep$:0!==($flags$jscomp$4_i$jscomp$268$$&2),$eventRunning$:0!==($flags$jscomp$4_i$jscomp$268$$&4)};break;case $A3a$Message$Id$breakpointSetResult$$:$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$b$=$dataView$jscomp$1$$.getUint16(2,!0);$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.result=
$dataView$jscomp$1$$.getUint16(4,!0);break;case $A3a$Message$Id$setBytecode$$:$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$i$=$dataView$jscomp$1$$.getUint16(0,!0);$dataView$jscomp$1$$.getUint16(2,!0);$r$jscomp$33_val$jscomp$44$$=[];for($flags$jscomp$4_i$jscomp$268$$=4;$flags$jscomp$4_i$jscomp$268$$<$dataView$jscomp$1$$.byteLength;$flags$jscomp$4_i$jscomp$268$$+=2)$r$jscomp$33_val$jscomp$44$$.push($dataView$jscomp$1$$.getUint16($flags$jscomp$4_i$jscomp$268$$,!0));$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$bc$=
$r$jscomp$33_val$jscomp$44$$;break;case $A3a$Message$Id$breakpointClearAll$$:case $A3a$Message$Id$reset$$:case $A3a$Message$Id$run$$:case $A3a$Message$Id$pause$$:case $A3a$Message$Id$step$$:case $A3a$Message$Id$stop$$:case $A3a$Message$Id$getExecutionState$$:$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$i$=$dataView$jscomp$1$$.getUint16(0,!0);break;case $A3a$Message$Id$breakpointSet$$:case $A3a$Message$Id$breakpointClear$$:$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$i$=
$dataView$jscomp$1$$.getUint16(0,!0);$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$b$=$dataView$jscomp$1$$.getUint16(2,!0);break;case $A3a$Message$Id$getVariables$$:$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$i$=$dataView$jscomp$1$$.getUint16(0,!0);$dataView$jscomp$1$$.getUint16(2,!0);$dataView$jscomp$1$$.getUint16(4,!0);break;case $A3a$Message$Id$setVariables$$:$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.$i$=$dataView$jscomp$1$$.getUint16(0,!0);
$dataView$jscomp$1$$.getUint16(2,!0);$r$jscomp$33_val$jscomp$44$$=[];for($flags$jscomp$4_i$jscomp$268$$=4;$flags$jscomp$4_i$jscomp$268$$<$dataView$jscomp$1$$.byteLength;$flags$jscomp$4_i$jscomp$268$$+=2)$r$jscomp$33_val$jscomp$44$$.push($dataView$jscomp$1$$.getUint16($flags$jscomp$4_i$jscomp$268$$,!0));break;case $A3a$Message$Id$listNodes$$:$JSCompiler_StaticMethods_A3a_Message_prototype$decode$self$$.version=$dataView$jscomp$1$$.getUint16(0,!0)}}
function $JSCompiler_StaticMethods_serialize$$($JSCompiler_StaticMethods_serialize$self$$){var $a$jscomp$60$$=new ArrayBuffer(6+$JSCompiler_StaticMethods_serialize$self$$.$g$.byteLength),$dataView$jscomp$2$$=new DataView($a$jscomp$60$$);$dataView$jscomp$2$$.setUint16(0,$JSCompiler_StaticMethods_serialize$self$$.$g$.byteLength,!0);$dataView$jscomp$2$$.setUint16(2,$JSCompiler_StaticMethods_serialize$self$$.$j$,!0);$dataView$jscomp$2$$.setUint16(4,$JSCompiler_StaticMethods_serialize$self$$.id,!0);(new Uint8Array($a$jscomp$60$$)).set(new Uint8Array($JSCompiler_StaticMethods_serialize$self$$.$g$),
6);return $a$jscomp$60$$}$A3a$Message$$.prototype.$copy$=function $$A3a$Message$$$$$copy$$(){var $msgCopy$$=new $A3a$Message$$(this.id,this.$j$,this.$g$);$JSCompiler_StaticMethods_A3a_Message_prototype$decode$$($msgCopy$$);return $msgCopy$$};
$A3a$Message$$.prototype.toString=function $$A3a$Message$$$$toString$(){var $str$jscomp$25$$=$A3a$Message$messageName$$[this.id]||"0x"+this.id.toString(16);$str$jscomp$25$$+=" from "+this.$j$.toString(10);0<=this.$i$&&($str$jscomp$25$$+=" to "+this.$i$.toString());return $str$jscomp$25$$};
var $A3a$Message$Id$description$$=36864,$A3a$Message$Id$namedVariableDescription$$=36865,$A3a$Message$Id$localEventDescription$$=36866,$A3a$Message$Id$nativeFunctionDescription$$=36867,$A3a$Message$Id$variables$$=36869,$A3a$Message$Id$executionStateChanged$$=36874,$A3a$Message$Id$breakpointSetResult$$=36875,$A3a$Message$Id$setBytecode$$=40961,$A3a$Message$Id$reset$$=40962,$A3a$Message$Id$run$$=40963,$A3a$Message$Id$pause$$=40964,$A3a$Message$Id$step$$=40965,$A3a$Message$Id$stop$$=40966,$A3a$Message$Id$getExecutionState$$=
40967,$A3a$Message$Id$breakpointSet$$=40968,$A3a$Message$Id$breakpointClear$$=40969,$A3a$Message$Id$breakpointClearAll$$=40970,$A3a$Message$Id$getVariables$$=40971,$A3a$Message$Id$setVariables$$=40972,$A3a$Message$Id$listNodes$$=40977,$A3a$Message$messageName$$={36864:"description",36865:"namedVariableDescription",36866:"localEventDescription",36867:"nativeFunctionDescription",36869:"variables",36874:"executionStateChanged",36876:"nodePresent",40960:"getDescription",40961:"setBytecode",40962:"reset",
40963:"run",40964:"pause",40965:"step",40966:"stop",40967:"getExecutionState",40968:"breakpointSet",40969:"breakpointClear",40970:"breakpointClearAll",40971:"getVariables",40972:"setVariables",40976:"getNodeDescription",40977:"listNodes"};function $A3a$Device$$($data$jscomp$inline_340_opt$jscomp$15$$){this.$nodeId$=$data$jscomp$inline_340_opt$jscomp$15$$&&$data$jscomp$inline_340_opt$jscomp$15$$.$nodeId$||54321;this.$variables$=$data$jscomp$inline_340_opt$jscomp$15$$&&$data$jscomp$inline_340_opt$jscomp$15$$.$variables$||[];this.$localEvents$=$data$jscomp$inline_340_opt$jscomp$15$$&&$data$jscomp$inline_340_opt$jscomp$15$$.$localEvents$||[];this.$nativeFunctions$=$data$jscomp$inline_340_opt$jscomp$15$$&&$data$jscomp$inline_340_opt$jscomp$15$$.$nativeFunctions$||
[];this.$bytecodeSize$=$data$jscomp$inline_340_opt$jscomp$15$$&&$data$jscomp$inline_340_opt$jscomp$15$$.$bytecodeSize$||500;this.$stackSize$=$data$jscomp$inline_340_opt$jscomp$15$$&&$data$jscomp$inline_340_opt$jscomp$15$$.$stackSize$||200;this.$variableSize$=$data$jscomp$inline_340_opt$jscomp$15$$&&$data$jscomp$inline_340_opt$jscomp$15$$.$variableSize$||200;$data$jscomp$inline_340_opt$jscomp$15$$=[];for(var $offset$jscomp$inline_341$$=0,$i$jscomp$inline_342$$=0;$i$jscomp$inline_342$$<this.$variables$.length;$i$jscomp$inline_342$$++)this.$variables$[$i$jscomp$inline_342$$].offset=
$offset$jscomp$inline_341$$,$data$jscomp$inline_340_opt$jscomp$15$$=$data$jscomp$inline_340_opt$jscomp$15$$.concat(this.$variables$[$i$jscomp$inline_342$$].$val$),$offset$jscomp$inline_341$$+=this.$variables$[$i$jscomp$inline_342$$].$val$.length;for(;$data$jscomp$inline_340_opt$jscomp$15$$.length<this.$variableSize$;)$data$jscomp$inline_340_opt$jscomp$15$$.push(0);this.$varData$=$data$jscomp$inline_340_opt$jscomp$15$$;this.$bytecode$=[];this.$b$=0;this.$g$=!1;this.$i$=!0;this.$j$=!1;this.stack=[];
this.$m$=[];this.write=this.$l$=null}
$A3a$Device$$.prototype.$copy$=function $$A3a$Device$$$$$copy$$(){var $copy$jscomp$1$$=new $A3a$Device$$({$nodeId$:this.$nodeId$,$variables$:this.$variables$,$localEvents$:this.$localEvents$,$nativeFunctions$:this.$nativeFunctions$,$bytecodeSize$:this.$bytecodeSize$,$stackSize$:this.$stackSize$,$variableSize$:this.$variableSize$});$copy$jscomp$1$$.$bytecodeSize$=this.$bytecodeSize$;$copy$jscomp$1$$.$stackSize$=this.$stackSize$;$copy$jscomp$1$$.$variableSize$=this.$variableSize$;$copy$jscomp$1$$.$bytecode$=
this.$bytecode$.slice();$copy$jscomp$1$$.$b$=this.$b$;$copy$jscomp$1$$.$g$=this.$g$;$copy$jscomp$1$$.$i$=this.$i$;$copy$jscomp$1$$.$j$=this.$j$;$copy$jscomp$1$$.stack=this.stack.slice();$copy$jscomp$1$$.$m$=this.$m$.slice();return $copy$jscomp$1$$};
function $JSCompiler_StaticMethods_setVariableData$$($JSCompiler_StaticMethods_setVariableData$self$$,$varOffset$$,$varData$$){if($JSCompiler_StaticMethods_setVariableData$self$$.$l$)for(var $i$jscomp$271$$=0;$i$jscomp$271$$<$JSCompiler_StaticMethods_setVariableData$self$$.$variables$.length;$i$jscomp$271$$++)if($JSCompiler_StaticMethods_setVariableData$self$$.$variables$[$i$jscomp$271$$].offset+$JSCompiler_StaticMethods_setVariableData$self$$.$variables$[$i$jscomp$271$$].$val$.length>$varOffset$$&&
$JSCompiler_StaticMethods_setVariableData$self$$.$variables$[$i$jscomp$271$$].offset<$varOffset$$+$varData$$.length)for(var $j$jscomp$26$$=0;$j$jscomp$26$$<$JSCompiler_StaticMethods_setVariableData$self$$.$variables$[$i$jscomp$271$$].$val$.length;$j$jscomp$26$$++)0<=$JSCompiler_StaticMethods_setVariableData$self$$.$variables$[$i$jscomp$271$$].offset+$j$jscomp$26$$-$varOffset$$&&$JSCompiler_StaticMethods_setVariableData$self$$.$variables$[$i$jscomp$271$$].offset+$j$jscomp$26$$-$varOffset$$<$varData$$.length&&
$JSCompiler_StaticMethods_setVariableData$self$$.$l$($JSCompiler_StaticMethods_setVariableData$self$$.$variables$[$i$jscomp$271$$].name,$j$jscomp$26$$,$varData$$[$JSCompiler_StaticMethods_setVariableData$self$$.$variables$[$i$jscomp$271$$].offset+$j$jscomp$26$$-$varOffset$$],$JSCompiler_StaticMethods_setVariableData$self$$.$varData$[$JSCompiler_StaticMethods_setVariableData$self$$.$variables$[$i$jscomp$271$$].offset+$j$jscomp$26$$]);$varData$$.forEach(function($val$jscomp$45$$,$i$jscomp$272$$){this.$varData$[$varOffset$$+
$i$jscomp$272$$]=$val$jscomp$45$$},$JSCompiler_StaticMethods_setVariableData$self$$)}
function $JSCompiler_StaticMethods_setupEvent$$($JSCompiler_StaticMethods_setupEvent$self$$,$eventAddr_eventId$jscomp$1$$){a:{if(0<$JSCompiler_StaticMethods_setupEvent$self$$.$bytecode$.length)for(var $i$jscomp$inline_346_msg$jscomp$4$$=1;$i$jscomp$inline_346_msg$jscomp$4$$<$JSCompiler_StaticMethods_setupEvent$self$$.$bytecode$[0];$i$jscomp$inline_346_msg$jscomp$4$$+=2)if($JSCompiler_StaticMethods_setupEvent$self$$.$bytecode$[$i$jscomp$inline_346_msg$jscomp$4$$]==$eventAddr_eventId$jscomp$1$$){$eventAddr_eventId$jscomp$1$$=
$JSCompiler_StaticMethods_setupEvent$self$$.$bytecode$[$i$jscomp$inline_346_msg$jscomp$4$$+1];break a}$eventAddr_eventId$jscomp$1$$=null}null!==$eventAddr_eventId$jscomp$1$$&&($JSCompiler_StaticMethods_setupEvent$self$$.$g$&&($i$jscomp$inline_346_msg$jscomp$4$$=new $A3a$Message$$(36872,$JSCompiler_StaticMethods_setupEvent$self$$.$nodeId$,[$JSCompiler_StaticMethods_setupEvent$self$$.$b$]),$JSCompiler_StaticMethods_setupEvent$self$$.write&&$JSCompiler_StaticMethods_setupEvent$self$$.write($JSCompiler_StaticMethods_serialize$$($i$jscomp$inline_346_msg$jscomp$4$$))),
$JSCompiler_StaticMethods_setupEvent$self$$.$b$=$eventAddr_eventId$jscomp$1$$,$JSCompiler_StaticMethods_setupEvent$self$$.$g$=!0)}
function $JSCompiler_StaticMethods_A3a_Device_prototype$reset$$($JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$){$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$g$=!1;$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$i$=!0;$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$j$=!1;if(0<$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$bytecode$.length)for(var $i$jscomp$274_pc$jscomp$inline_349$$=$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$bytecode$[0];$i$jscomp$274_pc$jscomp$inline_349$$<
$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$bytecode$.length;){var $op$jscomp$inline_350$$=$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$bytecode$[$i$jscomp$274_pc$jscomp$inline_349$$];10==$op$jscomp$inline_350$$>>>12&&($JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$bytecode$[$i$jscomp$274_pc$jscomp$inline_349$$]&=-513);$i$jscomp$274_pc$jscomp$inline_349$$+=[1,1,2,1,1,2,2,1,1,1,2,3,1,1,1,1][$op$jscomp$inline_350$$>>>12]}$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.stack=
[];for($i$jscomp$274_pc$jscomp$inline_349$$=0;$i$jscomp$274_pc$jscomp$inline_349$$<$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$varData$.length;$i$jscomp$274_pc$jscomp$inline_349$$++)$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$varData$[$i$jscomp$274_pc$jscomp$inline_349$$]=0;$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$o$&&$JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$.$o$();$JSCompiler_StaticMethods_setupEvent$$($JSCompiler_StaticMethods_A3a_Device_prototype$reset$self$$,
65535)}
function $JSCompiler_StaticMethods_A3a_Device_prototype$step$$($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$){function $toSigned16$$($n$jscomp$12$$){return 32768<=$n$jscomp$12$$?$n$jscomp$12$$-65536:$n$jscomp$12$$}function $execOp$$($n2_op$jscomp$6$$){switch($n2_op$jscomp$6$$){case 28672:$device$$.stack.push(-$device$$.stack.pop());break;case 28673:$device$$.stack.push(Math.abs($device$$.stack.pop()));break;case 28674:$device$$.stack.push(~$device$$.stack.pop());break;case 32768:$n2_op$jscomp$6$$=$device$$.stack.pop();
$device$$.stack.push($toSigned16$$($device$$.stack.pop()<<$n2_op$jscomp$6$$&65535));break;case 32769:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($device$$.stack.pop()>>$n2_op$jscomp$6$$);break;case 32770:$device$$.stack.push($toSigned16$$($device$$.stack.pop()+$device$$.stack.pop()&65535));break;case 32771:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($toSigned16$$($device$$.stack.pop()-$n2_op$jscomp$6$$&65535));break;case 32772:$device$$.stack.push($toSigned16$$($device$$.stack.pop()*
$device$$.stack.pop()&65535));break;case 32773:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($toSigned16$$(Math.trunc($device$$.stack.pop()/$n2_op$jscomp$6$$)&65535));break;case 32774:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($toSigned16$$($device$$.stack.pop()%$n2_op$jscomp$6$$&65535));break;case 32775:$device$$.stack.push($toSigned16$$(($device$$.stack.pop()|$device$$.stack.pop())&65535));break;case 32776:$device$$.stack.push($toSigned16$$(($device$$.stack.pop()^
$device$$.stack.pop())&65535));break;case 32777:$device$$.stack.push($toSigned16$$($device$$.stack.pop()&$device$$.stack.pop()&65535));break;case 32778:$device$$.stack.push($device$$.stack.pop()===$device$$.stack.pop()?1:0);break;case 32779:$device$$.stack.push($device$$.stack.pop()!==$device$$.stack.pop()?1:0);break;case 32780:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($device$$.stack.pop()>$n2_op$jscomp$6$$?1:0);break;case 32781:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($device$$.stack.pop()>=
$n2_op$jscomp$6$$?1:0);break;case 32782:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($device$$.stack.pop()<$n2_op$jscomp$6$$?1:0);break;case 32783:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($device$$.stack.pop()<=$n2_op$jscomp$6$$?1:0);break;case 32784:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($device$$.stack.pop()||$n2_op$jscomp$6$$?1:0);break;case 32785:$n2_op$jscomp$6$$=$device$$.stack.pop();$device$$.stack.push($device$$.stack.pop()&&$n2_op$jscomp$6$$?
1:0);break;default:throw"unknown op 0x"+$n2_op$jscomp$6$$.toString(16);}}var $device$$=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$,$op$jscomp$5_size$jscomp$27$$=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$bytecode$[$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$],$cond$jscomp$45_opl$jscomp$1$$=$op$jscomp$5_size$jscomp$27$$&4095;switch($op$jscomp$5_size$jscomp$27$$>>>12){case 0:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$g$=!1;break;case 1:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.push(2048<=
$cond$jscomp$45_opl$jscomp$1$$?$cond$jscomp$45_opl$jscomp$1$$-4096:$cond$jscomp$45_opl$jscomp$1$$);break;case 2:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$++;$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.push($toSigned16$$($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$bytecode$[$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$]));break;case 3:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.push($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$varData$[$cond$jscomp$45_opl$jscomp$1$$]);
break;case 4:$JSCompiler_StaticMethods_setVariableData$$($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$,$cond$jscomp$45_opl$jscomp$1$$,[$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.pop()]);break;case 5:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$++;$op$jscomp$5_size$jscomp$27$$=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$bytecode$[$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$];var $i$jscomp$275_relAddr$$=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.pop();
if($i$jscomp$275_relAddr$$>=$op$jscomp$5_size$jscomp$27$$)throw"out of bounds";$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.push($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$varData$[$cond$jscomp$45_opl$jscomp$1$$+$i$jscomp$275_relAddr$$]);break;case 6:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$++;$op$jscomp$5_size$jscomp$27$$=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$bytecode$[$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$];
$i$jscomp$275_relAddr$$=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.pop();if($i$jscomp$275_relAddr$$>=$op$jscomp$5_size$jscomp$27$$)throw"Index out of bounds";$JSCompiler_StaticMethods_setVariableData$$($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$,$cond$jscomp$45_opl$jscomp$1$$+$i$jscomp$275_relAddr$$,[$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.pop()]);break;case 9:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$+=(2048<=$cond$jscomp$45_opl$jscomp$1$$?
$cond$jscomp$45_opl$jscomp$1$$-4096:$cond$jscomp$45_opl$jscomp$1$$)-1;break;case 10:var $isWhen_lastPC$$=$op$jscomp$5_size$jscomp$27$$&256;$execOp$$(32768|$op$jscomp$5_size$jscomp$27$$&255);$cond$jscomp$45_opl$jscomp$1$$=0!=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.pop();$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$++;$i$jscomp$275_relAddr$$=$toSigned16$$($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$bytecode$[$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$]);
if($isWhen_lastPC$$){$isWhen_lastPC$$=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$-1;if($op$jscomp$5_size$jscomp$27$$&512||!$cond$jscomp$45_opl$jscomp$1$$)$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$+=$i$jscomp$275_relAddr$$-2;$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$bytecode$[$isWhen_lastPC$$]=$cond$jscomp$45_opl$jscomp$1$$?$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$bytecode$[$isWhen_lastPC$$]|512:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$bytecode$[$isWhen_lastPC$$]&
-513}else $cond$jscomp$45_opl$jscomp$1$$||($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$+=$i$jscomp$275_relAddr$$-2);break;case 11:null($cond$jscomp$45_opl$jscomp$1$$);break;case 12:if(0>$cond$jscomp$45_opl$jscomp$1$$||$cond$jscomp$45_opl$jscomp$1$$>=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$nativeFunctions$.length)throw"Native call index out of bounds";var $argSpec$$=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$nativeFunctions$[$cond$jscomp$45_opl$jscomp$1$$].$params$.map(function(){return{p:this.stack.pop()}},
$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$),$groupSizes$$=[];$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$nativeFunctions$[$cond$jscomp$45_opl$jscomp$1$$].$params$.forEach(function($param$jscomp$29$$,$i$jscomp$276$$){$argSpec$$[$i$jscomp$276$$].$s$=0===$param$jscomp$29$$.size?this.stack.pop():$param$jscomp$29$$.size},$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$);$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$nativeFunctions$[$cond$jscomp$45_opl$jscomp$1$$].$params$.forEach(function($param$jscomp$30$$){0>
$param$jscomp$30$$.size&&void 0===$groupSizes$$[-$param$jscomp$30$$.size]&&($groupSizes$$[-$param$jscomp$30$$.size]=0)},$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$);$groupSizes$$=$groupSizes$$.map(function($s$jscomp$43$$){return void 0!==$s$jscomp$43$$?this.stack.pop():$s$jscomp$43$$},$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$);$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$nativeFunctions$[$cond$jscomp$45_opl$jscomp$1$$].$params$.forEach(function($param$jscomp$31$$,
$i$jscomp$278$$){0>$param$jscomp$31$$.size&&($argSpec$$[$i$jscomp$278$$].$s$=$groupSizes$$[-$param$jscomp$31$$.size])},$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$);var $args$jscomp$62$$=$argSpec$$.map(function($argSpec$jscomp$1$$){return this.$varData$.slice($argSpec$jscomp$1$$.p,$argSpec$jscomp$1$$.p+$argSpec$jscomp$1$$.$s$)},$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$);$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$nativeFunctions$[$cond$jscomp$45_opl$jscomp$1$$].$fun$($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$,
$args$jscomp$62$$);$argSpec$$.forEach(function($argSpec$jscomp$2$$,$i$jscomp$279$$){$JSCompiler_StaticMethods_setVariableData$$(this,$argSpec$jscomp$2$$.p,$args$jscomp$62$$[$i$jscomp$279$$])},$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$);break;case 13:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.push($JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$+1);$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$=$cond$jscomp$45_opl$jscomp$1$$-1;break;
case 14:$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$=$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.stack.pop()-1;break;case 15:throw"op 0x"+$op$jscomp$5_size$jscomp$27$$.toString(16)+" (reserved) not implemented";default:$execOp$$($op$jscomp$5_size$jscomp$27$$)}$JSCompiler_StaticMethods_A3a_Device_prototype$step$self$$.$b$++}
$A3a$Device$$.prototype.$run$=function $$A3a$Device$$$$$run$$(){for(;this.$g$&&($JSCompiler_StaticMethods_A3a_Device_prototype$step$$(this),!this.$i$););};function $A3a$Device$VirtualThymio$$($nodeId$jscomp$5$$){function $toSigned16$jscomp$1$$($n$jscomp$13$$){$n$jscomp$13$$&=65535;return 32768<=$n$jscomp$13$$?$n$jscomp$13$$-65536:$n$jscomp$13$$}$A3a$Device$$.call(this,{$nodeId$:$nodeId$jscomp$5$$,$variables$:[{name:"_id",$val$:[0]},{name:"event.source",$val$:[0]},{name:"event.args",$val$:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"_fwversion",$val$:[0,0]},{name:"_productId",$val$:[0]},{name:"buttons._raw",$val$:[0,0,0,
0,0]},{name:"button.backward",$val$:[0]},{name:"button.left",$val$:[0]},{name:"button.center",$val$:[0]},{name:"button.forward",$val$:[0]},{name:"button.right",$val$:[0]},{name:"buttons._mean",$val$:[0,0,0,0,0]},{name:"buttons._noise",$val$:[0,0,0,0,0]},{name:"prox.horizontal",$val$:[0,0,0,0,0,0,0]},{name:"prox.comm.rx._payloads",$val$:[0,0,0,0,0,0,0]},{name:"prox.comm.rx._intensities",$val$:[0,0,0,0,0,0,0]},{name:"prox.comm.rx",$val$:[0]},{name:"prox.comm.tx",$val$:[0]},{name:"prox.ground.ambiant",
$val$:[0,0]},{name:"prox.ground.reflected",$val$:[0,0]},{name:"prox.ground.delta",$val$:[0,0]},{name:"motor.left.target",$val$:[0]},{name:"motor.right.target",$val$:[0]},{name:"_vbat",$val$:[0,0]},{name:"_imot",$val$:[0,0]},{name:"motor.left.speed",$val$:[0]},{name:"motor.right.speed",$val$:[0]},{name:"motor.left.pwm",$val$:[0]},{name:"motor.right.pwm",$val$:[0]},{name:"acc",$val$:[0,0,0]},{name:"temperature",$val$:[0]},{name:"rc5.address",$val$:[0]},{name:"rc5.command",$val$:[0]},{name:"mic.intensity",
$val$:[0]},{name:"mic.threshold",$val$:[0]},{name:"mic._mean",$val$:[0]},{name:"timer.period",$val$:[0,0]},{name:"acc._tap",$val$:[0]},{name:"sd.present",$val$:[0]}],$localEvents$:[{name:"button.backward",description:"Backward button state changed"},{name:"button.left",description:"Left button state changed"},{name:"button.center",description:"Center button state changed"},{name:"button.forward",description:"Forward button state changed"},{name:"button.right",description:"Right button state changed"},
{name:"buttons",description:"Buttons values updated"},{name:"prox",description:"Proximity values updated"},{name:"prox.comm",description:"Data received on the proximity communication"},{name:"tap",description:"Tap detected"},{name:"acc",description:"Accelerometer values updated"},{name:"mic",description:"Microphone above threshold"},{name:"sound.finished",description:"Sound playback finished"},{name:"temperature",description:"Temperature value updated"},{name:"rc5",description:"RC5 message received"},
{name:"motor",description:"Motor timer"},{name:"timer0",description:"Timer 0"},{name:"timer1",description:"Timer 1"}],$nativeFunctions$:[{name:"_system_reboot",$params$:[],$fun$:function(){}},{name:"_system_settings_read",$params$:[],$fun$:function(){}},{name:"_system_settings_write",$params$:[],$fun$:function(){}},{name:"_system_settings_flash",$params$:[],$fun$:function(){}},{name:"math.copy",$params$:[],$fun$:function($device$jscomp$1_i$jscomp$280$$,$args$jscomp$63$$){for($device$jscomp$1_i$jscomp$280$$=
0;$device$jscomp$1_i$jscomp$280$$<$args$jscomp$63$$[0].length;$device$jscomp$1_i$jscomp$280$$++)$args$jscomp$63$$[0][$device$jscomp$1_i$jscomp$280$$]=$args$jscomp$63$$[1][$device$jscomp$1_i$jscomp$280$$]}},{name:"math.fill",$params$:[],$fun$:function($device$jscomp$2_i$jscomp$281$$,$args$jscomp$64$$){for($device$jscomp$2_i$jscomp$281$$=0;$device$jscomp$2_i$jscomp$281$$<$args$jscomp$64$$[0].length;$device$jscomp$2_i$jscomp$281$$++)$args$jscomp$64$$[0][$device$jscomp$2_i$jscomp$281$$]=$args$jscomp$64$$[1][0]}},
{name:"math.addscalar",$params$:[{name:"r",size:-1},{name:"a",size:-1},{name:"b",size:1}],$fun$:function($device$jscomp$3_i$jscomp$282$$,$args$jscomp$65$$){for($device$jscomp$3_i$jscomp$282$$=0;$device$jscomp$3_i$jscomp$282$$<$args$jscomp$65$$[0].length;$device$jscomp$3_i$jscomp$282$$++)$args$jscomp$65$$[0][$device$jscomp$3_i$jscomp$282$$]=$toSigned16$jscomp$1$$($args$jscomp$65$$[1][$device$jscomp$3_i$jscomp$282$$]+$args$jscomp$65$$[2][0])}},{name:"math.add",$params$:[{name:"r",size:-1},{name:"a",
size:-1},{name:"b",size:-1}],$fun$:function($device$jscomp$4_i$jscomp$283$$,$args$jscomp$66$$){for($device$jscomp$4_i$jscomp$283$$=0;$device$jscomp$4_i$jscomp$283$$<$args$jscomp$66$$[0].length;$device$jscomp$4_i$jscomp$283$$++)$args$jscomp$66$$[0][$device$jscomp$4_i$jscomp$283$$]=$toSigned16$jscomp$1$$($args$jscomp$66$$[1][$device$jscomp$4_i$jscomp$283$$]+$args$jscomp$66$$[2][$device$jscomp$4_i$jscomp$283$$])}},{name:"math.sub",$params$:[{name:"r",size:-1},{name:"a",size:-1},{name:"b",size:-1}],$fun$:function($device$jscomp$5_i$jscomp$284$$,
$args$jscomp$67$$){for($device$jscomp$5_i$jscomp$284$$=0;$device$jscomp$5_i$jscomp$284$$<$args$jscomp$67$$[0].length;$device$jscomp$5_i$jscomp$284$$++)$args$jscomp$67$$[0][$device$jscomp$5_i$jscomp$284$$]=$toSigned16$jscomp$1$$($args$jscomp$67$$[1][$device$jscomp$5_i$jscomp$284$$]-$args$jscomp$67$$[2][$device$jscomp$5_i$jscomp$284$$])}},{name:"math.mul",$params$:[{name:"r",size:-1},{name:"a",size:-1},{name:"b",size:-1}],$fun$:function($device$jscomp$6_i$jscomp$285$$,$args$jscomp$68$$){for($device$jscomp$6_i$jscomp$285$$=
0;$device$jscomp$6_i$jscomp$285$$<$args$jscomp$68$$[0].length;$device$jscomp$6_i$jscomp$285$$++)$args$jscomp$68$$[0][$device$jscomp$6_i$jscomp$285$$]=$toSigned16$jscomp$1$$($args$jscomp$68$$[1][$device$jscomp$6_i$jscomp$285$$]*$args$jscomp$68$$[2][$device$jscomp$6_i$jscomp$285$$])}},{name:"math.div",$params$:[{name:"r",size:-1},{name:"a",size:-1},{name:"b",size:-1}],$fun$:function($device$jscomp$7_i$jscomp$286$$,$args$jscomp$69$$){for($device$jscomp$7_i$jscomp$286$$=0;$device$jscomp$7_i$jscomp$286$$<
$args$jscomp$69$$[0].length;$device$jscomp$7_i$jscomp$286$$++)$args$jscomp$69$$[0][$device$jscomp$7_i$jscomp$286$$]=$toSigned16$jscomp$1$$(Math.trunc($args$jscomp$69$$[1][$device$jscomp$7_i$jscomp$286$$]/$args$jscomp$69$$[2][$device$jscomp$7_i$jscomp$286$$]))}},{name:"math.min",$params$:[{name:"r",size:-1},{name:"a",size:-1},{name:"b",size:-1}],$fun$:function($device$jscomp$8_i$jscomp$287$$,$args$jscomp$70$$){for($device$jscomp$8_i$jscomp$287$$=0;$device$jscomp$8_i$jscomp$287$$<$args$jscomp$70$$[0].length;$device$jscomp$8_i$jscomp$287$$++)$args$jscomp$70$$[0][$device$jscomp$8_i$jscomp$287$$]=
Math.min($args$jscomp$70$$[1][$device$jscomp$8_i$jscomp$287$$],$args$jscomp$70$$[2][$device$jscomp$8_i$jscomp$287$$])}},{name:"math.max",$params$:[{name:"r",size:-1},{name:"a",size:-1},{name:"b",size:-1}],$fun$:function($device$jscomp$9_i$jscomp$288$$,$args$jscomp$71$$){for($device$jscomp$9_i$jscomp$288$$=0;$device$jscomp$9_i$jscomp$288$$<$args$jscomp$71$$[0].length;$device$jscomp$9_i$jscomp$288$$++)$args$jscomp$71$$[0][$device$jscomp$9_i$jscomp$288$$]=Math.max($args$jscomp$71$$[1][$device$jscomp$9_i$jscomp$288$$],
$args$jscomp$71$$[2][$device$jscomp$9_i$jscomp$288$$])}},{name:"math.clamp",$params$:[{name:"r",size:-1},{name:"x",size:-1},{name:"low",size:-1},{name:"high",size:-1}],$fun$:function($device$jscomp$10_i$jscomp$289$$,$args$jscomp$72$$){for($device$jscomp$10_i$jscomp$289$$=0;$device$jscomp$10_i$jscomp$289$$<$args$jscomp$72$$[0].length;$device$jscomp$10_i$jscomp$289$$++)$args$jscomp$72$$[0][$device$jscomp$10_i$jscomp$289$$]=Math.min(Math.max($args$jscomp$72$$[1][$device$jscomp$10_i$jscomp$289$$],$args$jscomp$72$$[2][$device$jscomp$10_i$jscomp$289$$]),
$args$jscomp$72$$[3][$device$jscomp$10_i$jscomp$289$$])}},{name:"math.dot",$params$:[{name:"r",size:-1},{name:"a",size:-1},{name:"b",size:-1},{name:"shift",size:1}],$fun$:function($d$jscomp$20_device$jscomp$11$$,$args$jscomp$73$$){for(var $i$jscomp$290$$=$d$jscomp$20_device$jscomp$11$$=0;$i$jscomp$290$$<$args$jscomp$73$$[0].length;$i$jscomp$290$$++)$d$jscomp$20_device$jscomp$11$$+=$args$jscomp$73$$[1][$i$jscomp$290$$]*$args$jscomp$73$$[2][$i$jscomp$290$$];$args$jscomp$73$$[0][0]=$d$jscomp$20_device$jscomp$11$$/
Math.pow(2,$args$jscomp$73$$[3][0])}},{name:"math.stat",$params$:[{name:"x",size:-1},{name:"min",size:1},{name:"max",size:1},{name:"mean",size:1}],$fun$:function($device$jscomp$12_s$jscomp$44$$,$args$jscomp$74$$){$device$jscomp$12_s$jscomp$44$$=0;$args$jscomp$74$$[1][0]=32767;$args$jscomp$74$$[2][0]=-32768;for(var $i$jscomp$291$$=0;$i$jscomp$291$$<$args$jscomp$74$$[0].length;$i$jscomp$291$$++)$args$jscomp$74$$[1][0]=Math.min($args$jscomp$74$$[1][0],$args$jscomp$74$$[0][$i$jscomp$291$$]),$args$jscomp$74$$[2][0]=
Math.max($args$jscomp$74$$[2][0],$args$jscomp$74$$[0][$i$jscomp$291$$]),$device$jscomp$12_s$jscomp$44$$+=$args$jscomp$74$$[0][$i$jscomp$291$$];$args$jscomp$74$$[3][0]=$device$jscomp$12_s$jscomp$44$$/$args$jscomp$74$$[0].length}},{name:"math.argbounds",$params$:[{name:"x",size:-1},{name:"argmin",size:1},{name:"argmax",size:1}],$fun$:function($device$jscomp$13_mx$$,$args$jscomp$75$$){$device$jscomp$13_mx$$=-Infinity;for(var $mn$$=Infinity,$i$jscomp$292$$=0;$i$jscomp$292$$<$args$jscomp$75$$[0].length;$i$jscomp$292$$++)$args$jscomp$75$$[0][$i$jscomp$292$$]<
$mn$$&&($mn$$=$args$jscomp$75$$[0][$i$jscomp$292$$],$args$jscomp$75$$[1][0]=$i$jscomp$292$$),$args$jscomp$75$$[0][$i$jscomp$292$$]>$device$jscomp$13_mx$$&&($device$jscomp$13_mx$$=$args$jscomp$75$$[0][$i$jscomp$292$$],$args$jscomp$75$$[2][0]=$i$jscomp$292$$)}},{name:"math.sort",$params$:[{name:"x",size:-1}],$fun$:function($device$jscomp$14$$,$args$jscomp$76$$){$args$jscomp$76$$[0].sort(function($a$jscomp$61$$,$b$jscomp$26$$){return $a$jscomp$61$$-$b$jscomp$26$$})}},{name:"math.muldiv",$params$:[{name:"r",
size:-1},{name:"a",size:-1},{name:"b",size:-1},{name:"c",size:-1}],$fun$:function($device$jscomp$15_i$jscomp$293$$,$args$jscomp$77$$){for($device$jscomp$15_i$jscomp$293$$=0;$device$jscomp$15_i$jscomp$293$$<$args$jscomp$77$$[0].length;$device$jscomp$15_i$jscomp$293$$++)$args$jscomp$77$$[0][$device$jscomp$15_i$jscomp$293$$]=$toSigned16$jscomp$1$$($args$jscomp$77$$[1][$device$jscomp$15_i$jscomp$293$$]*$args$jscomp$77$$[2][$device$jscomp$15_i$jscomp$293$$]/$args$jscomp$77$$[3][$device$jscomp$15_i$jscomp$293$$])}},
{name:"math.atan2",description:"Atan2",$params$:[{name:"r",size:-1},{name:"y",size:-1},{name:"x",size:-1}],$fun$:function($device$jscomp$16$$,$args$jscomp$78$$){$args$jscomp$78$$[2].forEach(function($x$jscomp$170$$,$i$jscomp$294$$){$args$jscomp$78$$[0][$i$jscomp$294$$]=Math.round(32767*Math.atan2($args$jscomp$78$$[1][$i$jscomp$294$$],$x$jscomp$170$$)/Math.PI)})}},{name:"math.sin",description:"Sine",$params$:[{name:"r",size:-1},{name:"theta",size:-1}],$fun$:function($device$jscomp$17$$,$args$jscomp$79$$){$args$jscomp$79$$[1].forEach(function($x$jscomp$171$$,
$i$jscomp$295$$){$args$jscomp$79$$[0][$i$jscomp$295$$]=Math.round(32767*Math.sin($x$jscomp$171$$*Math.PI/32768))})}},{name:"math.cos",description:"Cosine",$params$:[{name:"r",size:-1},{name:"theta",size:-1}],$fun$:function($device$jscomp$18$$,$args$jscomp$80$$){$args$jscomp$80$$[1].forEach(function($x$jscomp$172$$,$i$jscomp$296$$){$args$jscomp$80$$[0][$i$jscomp$296$$]=Math.round(32767*Math.cos($x$jscomp$172$$*Math.PI/32768))})}},{name:"math.rot2",$params$:[{name:"r",size:2},{name:"v",size:2},{name:"theta",
size:1}]},{name:"math.sqrt",description:"Square root",$params$:[{name:"r",size:-1},{name:"x",size:-1}],$fun$:function($device$jscomp$19$$,$args$jscomp$81$$){$args$jscomp$81$$[1].forEach(function($x$jscomp$173$$,$i$jscomp$297$$){$args$jscomp$81$$[0][$i$jscomp$297$$]=0<$x$jscomp$173$$?Math.floor(Math.sqrt($x$jscomp$173$$)):0})}},{name:"math.rand",description:"Pseudo-random number",$params$:[{name:"r",size:-1}],$fun$:function($device$jscomp$20_i$jscomp$298$$,$args$jscomp$82$$){for($device$jscomp$20_i$jscomp$298$$=
0;$device$jscomp$20_i$jscomp$298$$<$args$jscomp$82$$[0].length;$device$jscomp$20_i$jscomp$298$$++)$args$jscomp$82$$[0][$device$jscomp$20_i$jscomp$298$$]=Math.floor(65535.9999*Math.random())-32768}},{name:"_leds.set",$params$:[{name:"led",size:1},{name:"br",size:1}],$fun$:function(){}},{name:"sound.record",$params$:[{name:"n",size:1}],$fun$:function(){}},{name:"sound.play",$params$:[{name:"n",size:1}],$fun$:function(){}},{name:"sound.replay",$params$:[{name:"n",size:1}],$fun$:function(){}},{name:"sound.system",
description:"Start playing system sound",$params$:[{name:"n",size:1}],$fun$:function(){}},{name:"leds.circle",description:"Set circular leds",$params$:[{name:"l0",size:1},{name:"l1",size:1},{name:"l2",size:1},{name:"l3",size:1},{name:"l4",size:1},{name:"l5",size:1},{name:"l6",size:1},{name:"l7",size:1}],$fun$:function($device$jscomp$21$$,$args$jscomp$83$$){$device$jscomp$21$$.state["leds.circle"]=$args$jscomp$83$$.map(function($a$jscomp$62$$){return $a$jscomp$62$$[0]});$device$jscomp$21$$.$onStateChanged$&&
$device$jscomp$21$$.$onStateChanged$("leds.circle")}},{name:"leds.top",description:"Set top RGB led",$params$:[{name:"r",size:1},{name:"g",size:1},{name:"b",size:1}],$fun$:function($device$jscomp$22$$,$args$jscomp$84$$){$device$jscomp$22$$.state["leds.top"]=$args$jscomp$84$$.map(function($a$jscomp$63$$){return $a$jscomp$63$$[0]});$device$jscomp$22$$.$onStateChanged$&&$device$jscomp$22$$.$onStateChanged$("leds.top")}},{name:"leds.bottom.left",description:"Set bottom-left RGB led",$params$:[{name:"r",
size:1},{name:"g",size:1},{name:"b",size:1}],$fun$:function($device$jscomp$23$$,$args$jscomp$85$$){$device$jscomp$23$$.state["leds.bottom.left"]=$args$jscomp$85$$.map(function($a$jscomp$64$$){return $a$jscomp$64$$[0]});$device$jscomp$23$$.$onStateChanged$&&$device$jscomp$23$$.$onStateChanged$("leds.bottom.left")}},{name:"leds.bottom.right",description:"Set bottom-right RGB led",$params$:[{name:"r",size:1},{name:"g",size:1},{name:"b",size:1}],$fun$:function($device$jscomp$24$$,$args$jscomp$86$$){$device$jscomp$24$$.state["leds.bottom.right"]=
$args$jscomp$86$$.map(function($a$jscomp$65$$){return $a$jscomp$65$$[0]});$device$jscomp$24$$.$onStateChanged$&&$device$jscomp$24$$.$onStateChanged$("leds.bottom.right")}},{name:"sound.freq",description:"Play frequency",$params$:[{name:"Hz",size:1},{name:"ds",size:1}],$fun$:function($device$jscomp$25$$,$args$jscomp$87$$){console.info($args$jscomp$87$$)}},{name:"leds.buttons",description:"Set buttons leds",$params$:[{name:"led 0",size:1},{name:"led 1",size:1},{name:"led 2",size:1},{name:"led 3",size:1}]},
{name:"leds.prox.h",description:"Set horizontal proximity leds",$params$:[{name:"led 0",size:1},{name:"led 1",size:1},{name:"led 2",size:1},{name:"led 3",size:1},{name:"led 4",size:1},{name:"led 5",size:1},{name:"led 6",size:1},{name:"led 7",size:1}]},{name:"leds.prox.v",description:"Set vertical proximity leds",$params$:[{name:"led 0",size:1},{name:"led 1",size:1}]},{name:"leds.rc",description:"Set rc led",$params$:[{name:"led",size:1}]},{name:"leds.sound",description:"Set sound led",$params$:[{name:"led",
size:1}]},{name:"leds.temperature",description:"Set ntc led",$params$:[{name:"red",size:1},{name:"blue",size:1}]},{name:"sound.wave",description:"Set the primary wave of the tone generator",$params$:[{name:"wave",size:142}],$fun$:function(){}},{name:"prox.comm.enable",description:"Enable or disable the proximity communication",$params$:[{name:"state",size:1}]},{name:"sd.open",description:"Open a file on the SD card",$params$:[{name:"number",size:1},{name:"status",size:1}]},{name:"sd.write",description:"Write data to the opened file",
$params$:[{name:"data",size:-1},{name:"written",size:1}]},{name:"sd.read",description:"Read data from the opened file",$params$:[{name:"data",size:-1},{name:"read",size:1}]},{name:"sd.seek",description:"Seek the opened file",$params$:[{name:"position",size:1},{name:"status",size:1}]},{name:"_rf.nodeid"},{name:"_poweroff"}],$variableSize$:620});this.state={};this.$onStateChanged$=null}$A3a$Device$VirtualThymio$$.prototype=Object.create($A3a$Device$$.prototype);
$A3a$Device$VirtualThymio$$.prototype.constructor=$A3a$Device$VirtualThymio$$;function $A3a$vpl$VirtualThymioVM$$(){$A3a$vpl$VirtualThymio$$.call(this);this.$D$=!0;this.$i$=new $A3a$Device$VirtualThymio$$(9999);var $self$jscomp$31$$=this;this.$i$.$onStateChanged$=function $this$$i$$$onStateChanged$$($name$jscomp$139$$){$self$jscomp$31$$.$u$[$name$jscomp$139$$]&&$self$jscomp$31$$.$u$[$name$jscomp$139$$]($name$jscomp$139$$,$self$jscomp$31$$.$i$.state[$name$jscomp$139$$])};this.$i$.$l$=function $this$$i$$$l$$($name$jscomp$140$$,$index$jscomp$72$$,$newValue$jscomp$1$$){switch($name$jscomp$140$$){case "timer.period":$self$jscomp$31$$.setTimer($index$jscomp$72$$,
.001*$newValue$jscomp$1$$,!0)}};this.$asebaNode$=new $A3a$A3aNode$$}$A3a$vpl$VirtualThymioVM$$.prototype=Object.create($A3a$vpl$VirtualThymio$$.prototype);$A3a$vpl$VirtualThymioVM$$.prototype.constructor=$A3a$vpl$VirtualThymioVM$$;$A3a$vpl$VirtualThymioVM$$.prototype.reset=function $$A3a$vpl$VirtualThymioVM$$$$reset$($t0$jscomp$2$$){$A3a$vpl$VirtualThymio$$.prototype.reset.call(this,$t0$jscomp$2$$);$JSCompiler_StaticMethods_A3a_Device_prototype$reset$$(this.$i$)};
function $JSCompiler_StaticMethods_getVMVar$$($JSCompiler_StaticMethods_getVMVar$self$$,$name$jscomp$141_varDescr$jscomp$3$$){$name$jscomp$141_varDescr$jscomp$3$$=$JSCompiler_StaticMethods_findVariable$$($JSCompiler_StaticMethods_getVMVar$self$$.$asebaNode$,$name$jscomp$141_varDescr$jscomp$3$$);return null==$name$jscomp$141_varDescr$jscomp$3$$?null:$JSCompiler_StaticMethods_getVMVar$self$$.$i$.$varData$.slice($name$jscomp$141_varDescr$jscomp$3$$.offset,$name$jscomp$141_varDescr$jscomp$3$$.offset+
$name$jscomp$141_varDescr$jscomp$3$$.size)}
function $JSCompiler_StaticMethods_setVMVar$$($JSCompiler_StaticMethods_setVMVar$self$$,$name$jscomp$142$$,$val$jscomp$46$$){var $varDescr$jscomp$4$$=$JSCompiler_StaticMethods_findVariable$$($JSCompiler_StaticMethods_setVMVar$self$$.$asebaNode$,$name$jscomp$142$$);if(null==$varDescr$jscomp$4$$)throw"Unknown VM variable "+$name$jscomp$142$$;if($val$jscomp$46$$.length!==$varDescr$jscomp$4$$.size)throw"Bad size for variable "+$name$jscomp$142$$;Array.prototype.splice.apply($JSCompiler_StaticMethods_setVMVar$self$$.$i$.$varData$,[$varDescr$jscomp$4$$.offset,
$varDescr$jscomp$4$$.size].concat($val$jscomp$46$$))}
$A3a$vpl$VirtualThymioVM$$.prototype.set=function $$A3a$vpl$VirtualThymioVM$$$$set$($name$jscomp$143$$,$val$jscomp$47$$){if(this.$D$){$A3a$vpl$VirtualThymio$$.prototype.set.call(this,$name$jscomp$143$$,$val$jscomp$47$$);switch($name$jscomp$143$$){case "button.backward":case "button.left":case "button.center":case "button.forward":case "button.right":$JSCompiler_StaticMethods_setVMVar$$(this,$name$jscomp$143$$,[$val$jscomp$47$$?1:0]);break;case "prox.ground.delta":$JSCompiler_StaticMethods_setVMVar$$(this,"prox.ground.delta",
$val$jscomp$47$$.map(function($x$jscomp$174$$){return 2E3*$x$jscomp$174$$}));break;case "prox.horizontal":$JSCompiler_StaticMethods_setVMVar$$(this,"prox.horizontal",$val$jscomp$47$$.map(function($x$jscomp$175$$){return 2E3*$x$jscomp$175$$}));break;case "acc":$JSCompiler_StaticMethods_setVMVar$$(this,"acc",$val$jscomp$47$$.map(function($x$jscomp$176$$){return 22*$x$jscomp$176$$}));break;default:throw"Unknown variable "+$name$jscomp$143$$;}this.$u$[$name$jscomp$143$$]&&this.$u$[$name$jscomp$143$$]($name$jscomp$143$$,
$val$jscomp$47$$)}else $A3a$vpl$VirtualThymio$$.prototype.set.call(this,$name$jscomp$143$$,$val$jscomp$47$$)};
$A3a$vpl$VirtualThymioVM$$.prototype.get=function $$A3a$vpl$VirtualThymioVM$$$$get$($name$jscomp$144$$){if(this.$D$)switch($name$jscomp$144$$){case "leds.top":return(this.$i$.state&&this.$i$.state["leds.top"]||[0,0,0]).map(function($x$jscomp$177$$){return 32<=$x$jscomp$177$$?1:0>=$x$jscomp$177$$?0:$x$jscomp$177$$/32});case "leds.bottom.left":return(this.$i$.state&&this.$i$.state["leds.bottom.left"]||[0,0,0]).map(function($x$jscomp$178$$){return 32<=$x$jscomp$178$$?1:0>=$x$jscomp$178$$?0:$x$jscomp$178$$/
32});case "leds.bottom.right":return(this.$i$.state&&this.$i$.state["leds.bottom.right"]||[0,0,0]).map(function($x$jscomp$179$$){return 32<=$x$jscomp$179$$?1:0>=$x$jscomp$179$$?0:$x$jscomp$179$$/32});case "leds.circle":return(this.$i$.state&&this.$i$.state["leds.circle"]||[0,0,0,0,0,0,0,0]).map(function($x$jscomp$180$$){return 16<=$x$jscomp$180$$?1:0});case "motor.left":return $JSCompiler_StaticMethods_getVMVar$$(this,"motor.left.target")[0]/200;case "motor.right":return $JSCompiler_StaticMethods_getVMVar$$(this,
"motor.right.target")[0]/200;default:return $A3a$vpl$VirtualThymio$$.prototype.get.call(this,$name$jscomp$144$$)}else return $A3a$vpl$VirtualThymio$$.prototype.get.call(this,$name$jscomp$144$$)};
$A3a$vpl$VirtualThymioVM$$.prototype.sendEvent=function $$A3a$vpl$VirtualThymioVM$$$$sendEvent$($eventId$jscomp$2_name$jscomp$145$$,$val$jscomp$49$$){if(this.$D$){if(null!=$val$jscomp$49$$)throw"Event arguments not implemented";$eventId$jscomp$2_name$jscomp$145$$=$JSCompiler_StaticMethods_eventNameToId$$(this.$asebaNode$,$eventId$jscomp$2_name$jscomp$145$$);$JSCompiler_StaticMethods_setupEvent$$(this.$i$,$eventId$jscomp$2_name$jscomp$145$$);$JSCompiler_StaticMethods_runVM$$(this)}else $A3a$vpl$VirtualThymio$$.prototype.sendEvent.call(this,
$eventId$jscomp$2_name$jscomp$145$$,$val$jscomp$49$$)};
$A3a$vpl$VirtualThymioVM$$.prototype.loadCode=function $$A3a$vpl$VirtualThymioVM$$$$loadCode$($JSCompiler_StaticMethods_setBytecode$self$jscomp$inline_352_l2_language$jscomp$16$$,$bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$){"js"===$JSCompiler_StaticMethods_setBytecode$self$jscomp$inline_352_l2_language$jscomp$16$$?($A3a$vpl$VirtualThymio$$.prototype.loadCode.call(this,$JSCompiler_StaticMethods_setBytecode$self$jscomp$inline_352_l2_language$jscomp$16$$,$bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$),
this.$D$=!1):($bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$=($JSCompiler_StaticMethods_setBytecode$self$jscomp$inline_352_l2_language$jscomp$16$$=$A3a$Compiler$L2$isL2$$($bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$))?new $A3a$Compiler$L2$$(this.$asebaNode$,$bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$):new $A3a$Compiler$$(this.$asebaNode$,$bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$),$bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$.$C$=$JSCompiler_StaticMethods_setBytecode$self$jscomp$inline_352_l2_language$jscomp$16$$?
$A3a$A3aNode$stdMacrosL2$$:$A3a$A3aNode$stdMacros$$,$bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$=$JSCompiler_StaticMethods_A3a_Compiler_prototype$compile$$($bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$),$JSCompiler_StaticMethods_setBytecode$self$jscomp$inline_352_l2_language$jscomp$16$$=this.$i$,$JSCompiler_StaticMethods_setBytecode$self$jscomp$inline_352_l2_language$jscomp$16$$.$bytecode$.splice.apply($JSCompiler_StaticMethods_setBytecode$self$jscomp$inline_352_l2_language$jscomp$16$$.$bytecode$,
[0,$bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$.length].concat($bytecode$jscomp$6_c$jscomp$26_src$jscomp$13$$)),$JSCompiler_StaticMethods_A3a_Device_prototype$reset$$(this.$i$),$JSCompiler_StaticMethods_runVM$$(this),this.$D$=!0)};
function $JSCompiler_StaticMethods_runVM$$($JSCompiler_StaticMethods_runVM$self$$){for(var $stepCounter$$=0;2E3>$stepCounter$$&&$JSCompiler_StaticMethods_runVM$self$$.$i$.$g$;$stepCounter$$++)$JSCompiler_StaticMethods_A3a_Device_prototype$step$$($JSCompiler_StaticMethods_runVM$self$$.$i$)};function $JSCompiler_StaticMethods_installRobotSimulator$$($JSCompiler_StaticMethods_installRobotSimulator$self$$,$options$jscomp$24$$){$JSCompiler_StaticMethods_installRobotSimulator$self$$.$g$=new $A3a$vpl$Canvas$$($JSCompiler_StaticMethods_installRobotSimulator$self$$.$j$,{$css$:$JSCompiler_StaticMethods_installRobotSimulator$self$$.$css$});var $intervalId$$=null;return new $A3a$vpl$RunGlue$$({$run$:function($language$jscomp$17$$,$code$jscomp$37$$){var $sim2d$$=$JSCompiler_StaticMethods_installRobotSimulator$self$$.$sim2d$;
$sim2d$$.$robot$.loadCode($language$jscomp$17$$,$code$jscomp$37$$);null!==$intervalId$$&&clearInterval($intervalId$$);$sim2d$$.$robot$.start($A3a$vpl$VPLSim2DViewer$currentTime$$());$intervalId$$=setInterval(function(){$sim2d$$.$robot$.run($A3a$vpl$VPLSim2DViewer$currentTime$$(),function($shape$jscomp$1$$,$param$jscomp$32$$){$JSCompiler_StaticMethods_drawPen$$($sim2d$$,$shape$jscomp$1$$,$param$jscomp$32$$)})},10);$sim2d$$.$robot$.$suspended$=$sim2d$$.paused;$JSCompiler_StaticMethods_requestRendering$$($JSCompiler_StaticMethods_installRobotSimulator$self$$)},
$init$:function(){var $robot$jscomp$1_sim2d$jscomp$1$$=new $A3a$vpl$VirtualThymioVM$$;$robot$jscomp$1_sim2d$jscomp$1$$=new $A3a$vpl$VPLSim2DViewer$$($JSCompiler_StaticMethods_installRobotSimulator$self$$.$g$,$robot$jscomp$1_sim2d$jscomp$1$$);$options$jscomp$24$$&&$options$jscomp$24$$.$canvasFilter$&&$JSCompiler_StaticMethods_setFilter$$($JSCompiler_StaticMethods_installRobotSimulator$self$$.$g$,$options$jscomp$24$$.$canvasFilter$);$options$jscomp$24$$&&$options$jscomp$24$$.$canvasTransform$&&($JSCompiler_StaticMethods_installRobotSimulator$self$$.$g$.transform=
$options$jscomp$24$$.$canvasTransform$);$JSCompiler_StaticMethods_installRobotSimulator$self$$.$sim2d$=$robot$jscomp$1_sim2d$jscomp$1$$},$preferredLanguage$:"js",languages:["js","aseba","l2","python"]})};function $A3a$vpl$Obstacles$$(){this.$b$=[]}$A3a$vpl$Obstacles$$.prototype.add=function $$A3a$vpl$Obstacles$$$$add$($obstacle$$){this.$b$.push($obstacle$$)};$A3a$vpl$Obstacles$$.prototype.$draw$=function $$A3a$vpl$Obstacles$$$$$draw$$($ctx$jscomp$74$$){this.$b$.forEach(function($obstacle$jscomp$1$$){$obstacle$jscomp$1$$.$draw$($ctx$jscomp$74$$)})};function $A3a$vpl$Obstacle$$(){}$A3a$vpl$Obstacle$$.prototype.$b$=function $$A3a$vpl$Obstacle$$$$$b$$(){throw"internal";};
$A3a$vpl$Obstacle$$.prototype.$draw$=function $$A3a$vpl$Obstacle$$$$$draw$$(){};function $A3a$vpl$ObstaclePoly$$($x$jscomp$185$$,$y$jscomp$126$$,$isPolygon$jscomp$1$$){this.x=$x$jscomp$185$$;this.y=$y$jscomp$126$$;this.$g$=$isPolygon$jscomp$1$$}$A3a$vpl$ObstaclePoly$$.prototype=Object.create($A3a$vpl$Obstacle$$.prototype);$A3a$vpl$ObstaclePoly$$.prototype.constructor=$A3a$vpl$ObstaclePoly$$;
$A3a$vpl$ObstaclePoly$$.prototype.$b$=function $$A3a$vpl$ObstaclePoly$$$$$b$$($x$jscomp$186$$,$y$jscomp$127$$,$phi$jscomp$8$$){for(var $dist$jscomp$1$$=Infinity,$n$jscomp$14$$=this.x.length,$i$jscomp$300$$=0;$i$jscomp$300$$<(this.$g$?this.x.length:this.x.length-1);$i$jscomp$300$$++){var $b$jscomp$inline_364_x2$jscomp$inline_361$$=this.x[($i$jscomp$300$$+1)%$n$jscomp$14$$],$det$jscomp$inline_365_y2$jscomp$inline_362$$=this.y[($i$jscomp$300$$+1)%$n$jscomp$14$$],$A$jscomp$inline_363_r$jscomp$inline_366$$=
[Math.cos($phi$jscomp$8$$),$b$jscomp$inline_364_x2$jscomp$inline_361$$-this.x[$i$jscomp$300$$],Math.sin($phi$jscomp$8$$),$det$jscomp$inline_365_y2$jscomp$inline_362$$-this.y[$i$jscomp$300$$]];$b$jscomp$inline_364_x2$jscomp$inline_361$$=[$b$jscomp$inline_364_x2$jscomp$inline_361$$-$x$jscomp$186$$,$det$jscomp$inline_365_y2$jscomp$inline_362$$-$y$jscomp$127$$];$det$jscomp$inline_365_y2$jscomp$inline_362$$=$A$jscomp$inline_363_r$jscomp$inline_366$$[0]*$A$jscomp$inline_363_r$jscomp$inline_366$$[3]-$A$jscomp$inline_363_r$jscomp$inline_366$$[1]*
$A$jscomp$inline_363_r$jscomp$inline_366$$[2];$A$jscomp$inline_363_r$jscomp$inline_366$$=[($A$jscomp$inline_363_r$jscomp$inline_366$$[3]*$b$jscomp$inline_364_x2$jscomp$inline_361$$[0]-$A$jscomp$inline_363_r$jscomp$inline_366$$[1]*$b$jscomp$inline_364_x2$jscomp$inline_361$$[1])/$det$jscomp$inline_365_y2$jscomp$inline_362$$,($A$jscomp$inline_363_r$jscomp$inline_366$$[0]*$b$jscomp$inline_364_x2$jscomp$inline_361$$[1]-$A$jscomp$inline_363_r$jscomp$inline_366$$[2]*$b$jscomp$inline_364_x2$jscomp$inline_361$$[0])/
$det$jscomp$inline_365_y2$jscomp$inline_362$$];$dist$jscomp$1$$=Math.min($dist$jscomp$1$$,0<=$A$jscomp$inline_363_r$jscomp$inline_366$$[1]&&1>=$A$jscomp$inline_363_r$jscomp$inline_366$$[1]&&0<$A$jscomp$inline_363_r$jscomp$inline_366$$[0]?$A$jscomp$inline_363_r$jscomp$inline_366$$[0]:Infinity)}return $dist$jscomp$1$$};
$A3a$vpl$ObstaclePoly$$.prototype.$draw$=function $$A3a$vpl$ObstaclePoly$$$$$draw$$($ctx$jscomp$76$$){$ctx$jscomp$76$$.save();$ctx$jscomp$76$$.beginPath();$ctx$jscomp$76$$.moveTo(this.x[0],this.y[0]);for(var $i$jscomp$301$$=1;$i$jscomp$301$$<this.x.length;$i$jscomp$301$$++)$ctx$jscomp$76$$.lineTo(this.x[$i$jscomp$301$$],this.y[$i$jscomp$301$$]);this.$g$&&$ctx$jscomp$76$$.closePath();$ctx$jscomp$76$$.stroke();$ctx$jscomp$76$$.restore()};
function $A3a$vpl$ObstacleCylinder$$($x$jscomp$188$$,$y$jscomp$129$$,$r$jscomp$37$$){this.x=$x$jscomp$188$$;this.y=$y$jscomp$129$$;this.r=$r$jscomp$37$$}$A3a$vpl$ObstacleCylinder$$.prototype=Object.create($A3a$vpl$Obstacle$$.prototype);$A3a$vpl$ObstacleCylinder$$.prototype.constructor=$A3a$vpl$ObstacleCylinder$$;
$A3a$vpl$ObstacleCylinder$$.prototype.$b$=function $$A3a$vpl$ObstacleCylinder$$$$$b$$($q_q2_x$jscomp$189_yc1$jscomp$4$$,$y$jscomp$130$$,$phi$jscomp$10$$){var $xc1$jscomp$3$$=(this.x-$q_q2_x$jscomp$189_yc1$jscomp$4$$)*Math.cos($phi$jscomp$10$$)+(this.y-$y$jscomp$130$$)*Math.sin($phi$jscomp$10$$);$q_q2_x$jscomp$189_yc1$jscomp$4$$=($q_q2_x$jscomp$189_yc1$jscomp$4$$-this.x)*Math.sin($phi$jscomp$10$$)+(this.y-$y$jscomp$130$$)*Math.cos($phi$jscomp$10$$);$q_q2_x$jscomp$189_yc1$jscomp$4$$=this.r*this.r-$q_q2_x$jscomp$189_yc1$jscomp$4$$*
$q_q2_x$jscomp$189_yc1$jscomp$4$$;if(0>$q_q2_x$jscomp$189_yc1$jscomp$4$$)return Infinity;$q_q2_x$jscomp$189_yc1$jscomp$4$$=Math.sqrt($q_q2_x$jscomp$189_yc1$jscomp$4$$);return 0>$xc1$jscomp$3$$+$q_q2_x$jscomp$189_yc1$jscomp$4$$?Infinity:0>$xc1$jscomp$3$$-$q_q2_x$jscomp$189_yc1$jscomp$4$$?$xc1$jscomp$3$$+$q_q2_x$jscomp$189_yc1$jscomp$4$$:$xc1$jscomp$3$$-$q_q2_x$jscomp$189_yc1$jscomp$4$$};
$A3a$vpl$ObstacleCylinder$$.prototype.$draw$=function $$A3a$vpl$ObstacleCylinder$$$$$draw$$($ctx$jscomp$77$$){$ctx$jscomp$77$$.save();$ctx$jscomp$77$$.beginPath();$ctx$jscomp$77$$.arc(this.x,this.y,this.r,0,2*Math.PI);$ctx$jscomp$77$$.stroke();$ctx$jscomp$77$$.restore()};function $A3a$vpl$Playground$$($width$jscomp$123$$,$height$jscomp$121$$){this.width=$width$jscomp$123$$;this.height=$height$jscomp$121$$}
function $A3a$vpl$VPLSim2DViewer$$($canvas$jscomp$129$$,$posMargin_robot$jscomp$2$$){var $self$jscomp$33$$=this;this.$uiConfig$=new $A3a$vpl$UIConfig$$;this.$robot$=$posMargin_robot$jscomp$2$$;this.$m$=this.$penDown$=this.paused=this.$running$=!1;this.$currentMap$=$A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$;this.$b$=new $A3a$vpl$Playground$$(10*this.$robot$.$C$,7.07*this.$robot$.$C$);$posMargin_robot$jscomp$2$$=this.$robot$.$C$;this.$robot$.setPositionLimits(-this.$b$.width/2+$posMargin_robot$jscomp$2$$,
this.$b$.width/2-$posMargin_robot$jscomp$2$$,-this.$b$.height/2+$posMargin_robot$jscomp$2$$,this.$b$.height/2-$posMargin_robot$jscomp$2$$);this.$disabledGroundImage$=this.$groundImage$=null;this.$g$=document.createElement("canvas");this.$groundCanvasDirty$=!1;this.$disabledHeightImage$=this.$heightImage$=null;this.$i$=document.createElement("canvas");this.$l$=new $A3a$vpl$Obstacles$$;this.$hasObstacles$=!1;this.$disabledObstacleSVG$=this.$o$=null;$JSCompiler_StaticMethods_setPlaygroundLimits$$(this);
this.$robot$.$B$=function $this$$robot$$$B$$(){$JSCompiler_StaticMethods_updateGroundSensors$$($self$jscomp$33$$);$JSCompiler_StaticMethods_updateProximitySensors$$($self$jscomp$33$$);$JSCompiler_StaticMethods_updateAccelerometers$$($self$jscomp$33$$)};this.$j$=$canvas$jscomp$129$$;this.$j$.state={};this.$u$=!1}var $A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$="ground";$A3a$vpl$VPLSim2DViewer$$.prototype.$resetUI$=function $$A3a$vpl$VPLSim2DViewer$$$$$resetUI$$(){this.$uiConfig$.$b$=[]};
function $JSCompiler_StaticMethods_A3a_vpl_VPLSim2DViewer_prototype$setTeacherRole$$($JSCompiler_StaticMethods_A3a_vpl_VPLSim2DViewer_prototype$setTeacherRole$self$$){var $b$jscomp$28$$="teacher"===$vplGetQueryOption$$("role");$JSCompiler_StaticMethods_A3a_vpl_VPLSim2DViewer_prototype$setTeacherRole$self$$.$teacherRole$=$b$jscomp$28$$}
function $JSCompiler_StaticMethods_restoreGround$$($JSCompiler_StaticMethods_restoreGround$self$$){var $sim2d$jscomp$2$$=$JSCompiler_StaticMethods_restoreGround$self$$.$sim2d$;if($sim2d$jscomp$2$$.$groundImage$){$sim2d$jscomp$2$$.$g$.width=$sim2d$jscomp$2$$.$groundImage$.width;$sim2d$jscomp$2$$.$g$.height=$sim2d$jscomp$2$$.$groundImage$.height;var $ctx$jscomp$78$$=$sim2d$jscomp$2$$.$g$.getContext("2d");$ctx$jscomp$78$$.fillStyle="white";$ctx$jscomp$78$$.fillRect(0,0,$sim2d$jscomp$2$$.$groundImage$.width,
$sim2d$jscomp$2$$.$groundImage$.height);$ctx$jscomp$78$$.drawImage($sim2d$jscomp$2$$.$groundImage$,0,0,$sim2d$jscomp$2$$.$groundImage$.width,$sim2d$jscomp$2$$.$groundImage$.height)}else $sim2d$jscomp$2$$.$g$.width=$sim2d$jscomp$2$$.$j$?$sim2d$jscomp$2$$.$j$.width:800,$sim2d$jscomp$2$$.$g$.height=$sim2d$jscomp$2$$.$g$.width*$sim2d$jscomp$2$$.$b$.height/$sim2d$jscomp$2$$.$b$.width,$ctx$jscomp$78$$=$sim2d$jscomp$2$$.$g$.getContext("2d"),$ctx$jscomp$78$$.fillStyle="white",$ctx$jscomp$78$$.fillRect(0,
0,$sim2d$jscomp$2$$.$g$.width,$sim2d$jscomp$2$$.$g$.height);$sim2d$jscomp$2$$.$groundCanvasDirty$=!1;$JSCompiler_StaticMethods_renderSim2dViewer$$($JSCompiler_StaticMethods_restoreGround$self$$)}
function $JSCompiler_StaticMethods_drawPen$$($JSCompiler_StaticMethods_drawPen$self$$,$shape$jscomp$2$$,$param$jscomp$33$$){if($JSCompiler_StaticMethods_drawPen$self$$.$penDown$){var $ctx$jscomp$79$$=$JSCompiler_StaticMethods_drawPen$self$$.$g$.getContext("2d");$ctx$jscomp$79$$.save();$ctx$jscomp$79$$.translate($JSCompiler_StaticMethods_drawPen$self$$.$g$.width/2,$JSCompiler_StaticMethods_drawPen$self$$.$g$.height/2);$ctx$jscomp$79$$.scale($JSCompiler_StaticMethods_drawPen$self$$.$g$.width/$JSCompiler_StaticMethods_drawPen$self$$.$b$.width,
-$JSCompiler_StaticMethods_drawPen$self$$.$g$.height/$JSCompiler_StaticMethods_drawPen$self$$.$b$.height);$ctx$jscomp$79$$.beginPath();switch($shape$jscomp$2$$){case "l":$ctx$jscomp$79$$.moveTo($param$jscomp$33$$[0],$param$jscomp$33$$[1]);$ctx$jscomp$79$$.lineTo($param$jscomp$33$$[2],$param$jscomp$33$$[3]);break;case "a":$ctx$jscomp$79$$.arc($param$jscomp$33$$[0],$param$jscomp$33$$[1],Math.abs($param$jscomp$33$$[2]),$param$jscomp$33$$[3],$param$jscomp$33$$[4],0>$param$jscomp$33$$[2])}$ctx$jscomp$79$$.strokeStyle=
"#060";$ctx$jscomp$79$$.lineCap="round";$ctx$jscomp$79$$.lineWidth=.1*$JSCompiler_StaticMethods_drawPen$self$$.$robot$.$C$;$ctx$jscomp$79$$.stroke();$ctx$jscomp$79$$.restore();$JSCompiler_StaticMethods_drawPen$self$$.$groundCanvasDirty$=!0}}
function $JSCompiler_StaticMethods_setPlaygroundLimits$$($JSCompiler_StaticMethods_setPlaygroundLimits$self$$){$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$l$.$b$=[];$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$l$.add(new $A3a$vpl$ObstaclePoly$$([-$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$b$.width/2,$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$b$.width/2,$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$b$.width/2,-$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$b$.width/
2],[-$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$b$.height/2,-$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$b$.height/2,$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$b$.height/2,$JSCompiler_StaticMethods_setPlaygroundLimits$self$$.$b$.height/2],!0))}
function $JSCompiler_StaticMethods_setObstacleImage$$($JSCompiler_StaticMethods_setObstacleImage$self$$,$svgSrc$jscomp$1$$){var $sim2d$jscomp$4$$=$JSCompiler_StaticMethods_setObstacleImage$self$$.$sim2d$;$JSCompiler_StaticMethods_setPlaygroundLimits$$($sim2d$jscomp$4$$);if($sim2d$jscomp$4$$.$o$=$svgSrc$jscomp$1$$){var $svg$jscomp$12$$=new $SVG$$($svgSrc$jscomp$1$$),$scx$jscomp$5$$=$sim2d$jscomp$4$$.$b$.width/$svg$jscomp$12$$.$viewBox$[2],$ox$$=-$sim2d$jscomp$4$$.$b$.width*(.5+$svg$jscomp$12$$.$viewBox$[0]/
$svg$jscomp$12$$.$viewBox$[2]),$scy$jscomp$5$$=-$sim2d$jscomp$4$$.$b$.height/$svg$jscomp$12$$.$viewBox$[3],$oy$$=$sim2d$jscomp$4$$.$b$.height*(.5+$svg$jscomp$12$$.$viewBox$[1]/$svg$jscomp$12$$.$viewBox$[3]);$svg$jscomp$12$$.$draw$(null,{$cb$:{line:function($x$jscomp$190$$,$y$jscomp$131$$,$isPolygon$jscomp$2$$){$sim2d$jscomp$4$$.$l$.add(new $A3a$vpl$ObstaclePoly$$($x$jscomp$190$$.map(function($x1$jscomp$11$$){return $ox$$+$scx$jscomp$5$$*$x1$jscomp$11$$}),$y$jscomp$131$$.map(function($y1$jscomp$12$$){return $oy$$+
$scy$jscomp$5$$*$y1$jscomp$12$$}),$isPolygon$jscomp$2$$))},$circle$:function($x$jscomp$191$$,$y$jscomp$132$$,$r$jscomp$38$$){$sim2d$jscomp$4$$.$l$.add(new $A3a$vpl$ObstacleCylinder$$($ox$$+$scx$jscomp$5$$*$x$jscomp$191$$,$oy$$+$scy$jscomp$5$$*$y$jscomp$132$$,($scx$jscomp$5$$-$scy$jscomp$5$$)/2*$r$jscomp$38$$))}}})}$sim2d$jscomp$4$$.$hasObstacles$=null!=$svgSrc$jscomp$1$$;$JSCompiler_StaticMethods_updateProximitySensors$$($sim2d$jscomp$4$$);$JSCompiler_StaticMethods_renderSim2dViewer$$($JSCompiler_StaticMethods_setObstacleImage$self$$)}
function $JSCompiler_StaticMethods_groundValue$$($JSCompiler_StaticMethods_groundValue$self$$,$i$jscomp$302_x$jscomp$192$$,$j$jscomp$27_y$jscomp$133$$){$i$jscomp$302_x$jscomp$192$$=Math.round($JSCompiler_StaticMethods_groundValue$self$$.$g$.width*($i$jscomp$302_x$jscomp$192$$+$JSCompiler_StaticMethods_groundValue$self$$.$b$.width/2)/$JSCompiler_StaticMethods_groundValue$self$$.$b$.width);$j$jscomp$27_y$jscomp$133$$=Math.round($JSCompiler_StaticMethods_groundValue$self$$.$g$.height*($JSCompiler_StaticMethods_groundValue$self$$.$b$.height/
2-$j$jscomp$27_y$jscomp$133$$)/$JSCompiler_StaticMethods_groundValue$self$$.$b$.height);return $JSCompiler_StaticMethods_groundValue$self$$.$g$.getContext("2d").getImageData($i$jscomp$302_x$jscomp$192$$,$j$jscomp$27_y$jscomp$133$$,1,1).data[0]/255}
function $JSCompiler_StaticMethods_heightValue$$($JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$,$i$jscomp$303_x$jscomp$193$$,$j$jscomp$28_y$jscomp$134$$){if(null==$JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$.$heightImage$)return 0;$i$jscomp$303_x$jscomp$193$$=Math.round($JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$.$i$.width*($i$jscomp$303_x$jscomp$193$$+$JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$.$b$.width/2)/$JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$.$b$.width);
$j$jscomp$28_y$jscomp$134$$=Math.round($JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$.$i$.height*($JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$.$b$.height/2-$j$jscomp$28_y$jscomp$134$$)/$JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$.$b$.height);$JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$=$JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$.$i$.getContext("2d").getImageData($i$jscomp$303_x$jscomp$193$$,$j$jscomp$28_y$jscomp$134$$,1,1).data;
return-($JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$[0]+$JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$[1]+$JSCompiler_StaticMethods_heightValue$self_pixel$jscomp$1$$[2])/765}
function $JSCompiler_StaticMethods_updateGroundSensors$$($JSCompiler_StaticMethods_updateGroundSensors$self$$){for(var $g$$=[],$i$jscomp$304$$=0;2>$i$jscomp$304$$;$i$jscomp$304$$++)$g$$.push($JSCompiler_StaticMethods_groundValue$$($JSCompiler_StaticMethods_updateGroundSensors$self$$,$JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$b$[0]+$JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$F$*Math.cos($JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$g$)+(0===$i$jscomp$304$$?
-1:1)*$JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$I$*Math.sin($JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$g$),$JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$b$[1]+$JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$F$*Math.sin($JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$g$)-(0===$i$jscomp$304$$?-1:1)*$JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$I$*Math.cos($JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.$g$))+
$JSCompiler_StaticMethods_noise$$($JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$,.05));$JSCompiler_StaticMethods_updateGroundSensors$self$$.$robot$.set("prox.ground.delta",$g$$)}
function $JSCompiler_StaticMethods_updateProximitySensors$$($JSCompiler_StaticMethods_updateProximitySensors$self$$){var $costh$$=Math.cos($JSCompiler_StaticMethods_updateProximitySensors$self$$.$robot$.$g$),$sinth$$=Math.sin($JSCompiler_StaticMethods_updateProximitySensors$self$$.$robot$.$g$),$prox$$=[{$lon$:70,$lat$:60,$phi$:.7},{$lon$:85,$lat$:30,$phi$:.35},{$lon$:95,$lat$:0,$phi$:0},{$lon$:85,$lat$:-30,$phi$:-.35},{$lon$:70,$lat$:-60,$phi$:-.7},{$lon$:-25,$lat$:35,$phi$:2.8},{$lon$:-25,$lat$:-35,
$phi$:-2.8}].map(function($p$jscomp$36_phi$jscomp$inline_375$$){var $JSCompiler_StaticMethods_A3a_vpl_Obstacles_prototype$distance$self$jscomp$inline_372_dist$jscomp$inline_379$$=this.$l$,$x$jscomp$inline_373$$=this.$robot$.$b$[0]+$p$jscomp$36_phi$jscomp$inline_375$$.$lon$*$costh$$-$p$jscomp$36_phi$jscomp$inline_375$$.$lat$*$sinth$$,$y$jscomp$inline_374$$=this.$robot$.$b$[1]+$p$jscomp$36_phi$jscomp$inline_375$$.$lon$*$sinth$$+$p$jscomp$36_phi$jscomp$inline_375$$.$lat$*$costh$$;$p$jscomp$36_phi$jscomp$inline_375$$=
this.$robot$.$g$+$p$jscomp$36_phi$jscomp$inline_375$$.$phi$;for(var $dist$jscomp$inline_376$$=Infinity,$i$jscomp$inline_377$$=0;$i$jscomp$inline_377$$<$JSCompiler_StaticMethods_A3a_vpl_Obstacles_prototype$distance$self$jscomp$inline_372_dist$jscomp$inline_379$$.$b$.length;$i$jscomp$inline_377$$++)$dist$jscomp$inline_376$$=Math.min($dist$jscomp$inline_376$$,$JSCompiler_StaticMethods_A3a_vpl_Obstacles_prototype$distance$self$jscomp$inline_372_dist$jscomp$inline_379$$.$b$[$i$jscomp$inline_377$$].$b$($x$jscomp$inline_373$$,
$y$jscomp$inline_374$$,$p$jscomp$36_phi$jscomp$inline_375$$));$JSCompiler_StaticMethods_A3a_vpl_Obstacles_prototype$distance$self$jscomp$inline_372_dist$jscomp$inline_379$$=$dist$jscomp$inline_376$$+$JSCompiler_StaticMethods_noise$$(this.$robot$,.01*this.$robot$.r);return 100>$JSCompiler_StaticMethods_A3a_vpl_Obstacles_prototype$distance$self$jscomp$inline_372_dist$jscomp$inline_379$$?1:300<$JSCompiler_StaticMethods_A3a_vpl_Obstacles_prototype$distance$self$jscomp$inline_372_dist$jscomp$inline_379$$?
0:($JSCompiler_StaticMethods_A3a_vpl_Obstacles_prototype$distance$self$jscomp$inline_372_dist$jscomp$inline_379$$-300)*($JSCompiler_StaticMethods_A3a_vpl_Obstacles_prototype$distance$self$jscomp$inline_372_dist$jscomp$inline_379$$-300)/4E4},$JSCompiler_StaticMethods_updateProximitySensors$self$$);$JSCompiler_StaticMethods_updateProximitySensors$self$$.$robot$.set("prox.horizontal",$prox$$)}
function $JSCompiler_StaticMethods_updateAccelerometers$$($JSCompiler_StaticMethods_updateAccelerometers$self$$){for(var $lonContact_roll$$=[0,0,$JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.r],$latContact$$=[-$JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.r,$JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.r,0],$h$jscomp$10_pitch$jscomp$1$$=[],$i$jscomp$305$$=0;3>$i$jscomp$305$$;$i$jscomp$305$$++)$h$jscomp$10_pitch$jscomp$1$$.push($JSCompiler_StaticMethods_heightValue$$($JSCompiler_StaticMethods_updateAccelerometers$self$$,
$JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.$b$[0]+$lonContact_roll$$[$i$jscomp$305$$]*Math.cos($JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.$g$)+$latContact$$[$i$jscomp$305$$]*Math.sin($JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.$g$),$JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.$b$[1]+$lonContact_roll$$[$i$jscomp$305$$]*Math.sin($JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.$g$)-$latContact$$[$i$jscomp$305$$]*Math.cos($JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.$g$)));
$lonContact_roll$$=200*($h$jscomp$10_pitch$jscomp$1$$[1]-$h$jscomp$10_pitch$jscomp$1$$[0])/(2*$JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.r);$h$jscomp$10_pitch$jscomp$1$$=200*($h$jscomp$10_pitch$jscomp$1$$[2]-($h$jscomp$10_pitch$jscomp$1$$[0]+$h$jscomp$10_pitch$jscomp$1$$[1])/2)/$JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.$F$;$JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$.set("acc",[$lonContact_roll$$+$JSCompiler_StaticMethods_noise$$($JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$,
.02),$h$jscomp$10_pitch$jscomp$1$$+$JSCompiler_StaticMethods_noise$$($JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$,.02),Math.sqrt(1-$lonContact_roll$$*$lonContact_roll$$-$h$jscomp$10_pitch$jscomp$1$$*$h$jscomp$10_pitch$jscomp$1$$)+$JSCompiler_StaticMethods_noise$$($JSCompiler_StaticMethods_updateAccelerometers$self$$.$robot$,.02)])}
function $JSCompiler_StaticMethods_setImage$$($JSCompiler_StaticMethods_setImage$self$$,$ctx$jscomp$inline_387_img$jscomp$6$$){switch($JSCompiler_StaticMethods_setImage$self$$.$sim2d$.$currentMap$){case $A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$:$JSCompiler_StaticMethods_setImage$self$$.$sim2d$.$disabledGroundImage$=null==$ctx$jscomp$inline_387_img$jscomp$6$$?$JSCompiler_StaticMethods_setImage$self$$.$sim2d$.$groundImage$:null;$JSCompiler_StaticMethods_setImage$self$$.$sim2d$.$groundImage$=$ctx$jscomp$inline_387_img$jscomp$6$$;
$JSCompiler_StaticMethods_restoreGround$$($JSCompiler_StaticMethods_setImage$self$$);$JSCompiler_StaticMethods_updateGroundSensors$$($JSCompiler_StaticMethods_setImage$self$$.$sim2d$);$JSCompiler_StaticMethods_renderSim2dViewer$$($JSCompiler_StaticMethods_setImage$self$$);break;case "height":$JSCompiler_StaticMethods_setImage$self$$.$sim2d$.$disabledHeightImage$=null==$ctx$jscomp$inline_387_img$jscomp$6$$?$JSCompiler_StaticMethods_setImage$self$$.$sim2d$.$heightImage$:null;var $sim2d$jscomp$inline_386$$=
$JSCompiler_StaticMethods_setImage$self$$.$sim2d$;$sim2d$jscomp$inline_386$$.$heightImage$=$ctx$jscomp$inline_387_img$jscomp$6$$;$sim2d$jscomp$inline_386$$.$heightImage$?($sim2d$jscomp$inline_386$$.$i$.width=$sim2d$jscomp$inline_386$$.$heightImage$.width,$sim2d$jscomp$inline_386$$.$i$.height=$sim2d$jscomp$inline_386$$.$heightImage$.height,$ctx$jscomp$inline_387_img$jscomp$6$$=$sim2d$jscomp$inline_386$$.$i$.getContext("2d"),$ctx$jscomp$inline_387_img$jscomp$6$$.fillStyle="white",$ctx$jscomp$inline_387_img$jscomp$6$$.fillRect(0,
0,$sim2d$jscomp$inline_386$$.$heightImage$.width,$sim2d$jscomp$inline_386$$.$heightImage$.height),$ctx$jscomp$inline_387_img$jscomp$6$$.drawImage($sim2d$jscomp$inline_386$$.$heightImage$,0,0,$sim2d$jscomp$inline_386$$.$heightImage$.width,$sim2d$jscomp$inline_386$$.$heightImage$.height)):($sim2d$jscomp$inline_386$$.$i$.width=1,$sim2d$jscomp$inline_386$$.$i$.height=1);$JSCompiler_StaticMethods_updateAccelerometers$$($sim2d$jscomp$inline_386$$);$JSCompiler_StaticMethods_renderSim2dViewer$$($JSCompiler_StaticMethods_setImage$self$$)}}
function $JSCompiler_StaticMethods_setSVG$$($JSCompiler_StaticMethods_setSVG$self$$,$svgSrc$jscomp$2$$){switch($JSCompiler_StaticMethods_setSVG$self$$.$sim2d$.$currentMap$){case "obstacle":$JSCompiler_StaticMethods_setSVG$self$$.$sim2d$.$disabledObstacleSVG$=null==$svgSrc$jscomp$2$$?$JSCompiler_StaticMethods_setSVG$self$$.$sim2d$.$o$:null,$JSCompiler_StaticMethods_setObstacleImage$$($JSCompiler_StaticMethods_setSVG$self$$,$svgSrc$jscomp$2$$)}}
$A3a$vpl$Application$$.prototype.start=function $$A3a$vpl$Application$$$$start$($suspended$jscomp$1$$){this.$sim2d$.paused=$suspended$jscomp$1$$;this.$sim2d$.$running$=!$suspended$jscomp$1$$;$JSCompiler_StaticMethods_renderSim2dViewer$$(this)};
function $A3a$vpl$VPLSim2DViewer$color$$($rgb$jscomp$2_rgb1$$){$rgb$jscomp$2_rgb1$$=[$rgb$jscomp$2_rgb1$$[0],Math.max(.2+.8*$rgb$jscomp$2_rgb1$$[1],$rgb$jscomp$2_rgb1$$[2]/2),$rgb$jscomp$2_rgb1$$[2]];var $max$jscomp$5$$=Math.max($rgb$jscomp$2_rgb1$$[0],Math.max($rgb$jscomp$2_rgb1$$[1],$rgb$jscomp$2_rgb1$$[2]));return"rgb("+$rgb$jscomp$2_rgb1$$.map(function($x$jscomp$196$$){return Math.round(225*(1-$max$jscomp$5$$)+(30+225*$max$jscomp$5$$)*$x$jscomp$196$$)}).join(",")+")"}
function $JSCompiler_StaticMethods_renderSim2dViewer$$($JSCompiler_StaticMethods_renderSim2dViewer$self$$){var $sim2d$jscomp$5$$=$JSCompiler_StaticMethods_renderSim2dViewer$self$$.$sim2d$,$robot$jscomp$3$$=$sim2d$jscomp$5$$.$robot$,$simCanvas$$=$JSCompiler_StaticMethods_renderSim2dViewer$self$$.$g$;if($simCanvas$$.$o$){$sim2d$jscomp$5$$.$u$||($sim2d$jscomp$5$$.$u$=!0,$sim2d$jscomp$5$$.resize($JSCompiler_StaticMethods_renderSim2dViewer$self$$),$JSCompiler_StaticMethods_restoreGround$$($JSCompiler_StaticMethods_renderSim2dViewer$self$$));
$simCanvas$$.$A3a_vpl_Canvas$items$=[];var $simControls_toolbarConfig$jscomp$2$$=$sim2d$jscomp$5$$.$toolbarConfig$||"sim:close !stretch sim:restart sim:pause !space sim:speedup sim:noise !stretch sim:pen sim:clear !space sim:map-kind sim:map !stretch sim:vpl sim:text !stretch sim:teacher-reset sim:teacher".split(" "),$toolbarItemBoxes$jscomp$2_yRobotControl$$=$A3a$vpl$ControlBar$buttonBoxes$$($JSCompiler_StaticMethods_renderSim2dViewer$self$$,$simControls_toolbarConfig$jscomp$2$$,["sim","top"]),$controlBar$jscomp$2_toolbarItemHeight$jscomp$2$$=
$A3a$vpl$ControlBar$maxBoxHeight$$($toolbarItemBoxes$jscomp$2_yRobotControl$$),$canvasSize$jscomp$6$$=$JSCompiler_StaticMethods_getSize$$($simCanvas$$);$JSCompiler_StaticMethods_recalcSize$$($simCanvas$$);var $viewBox$jscomp$5$$=$JSCompiler_StaticMethods_getBox$$($simCanvas$$.$css$,{tag:"view",$clas$:["sim"]}),$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$=$JSCompiler_StaticMethods_getBox$$($simCanvas$$.$css$,{tag:"button",$clas$:["sim","event"]}),$robotControlBox$$=$JSCompiler_StaticMethods_getBox$$($simCanvas$$.$css$,
{tag:"sim-controller"}),$JSCompiler_object_inline_oy_8_separatorControlBox$$=$JSCompiler_StaticMethods_getBox$$($simCanvas$$.$css$,{tag:"separator",id:"sim-controller-separator"}),$separatorBox$jscomp$2$$=$JSCompiler_StaticMethods_getBox$$($simCanvas$$.$css$,{tag:"separator",$clas$:["sim","top"]}),$toolbarBox$jscomp$4$$=$JSCompiler_StaticMethods_getBox$$($simCanvas$$.$css$,{tag:"toolbar",$clas$:["sim","top"]}),$playgroundAreaBox$$=$JSCompiler_StaticMethods_getBox$$($simCanvas$$.$css$,{tag:"sim-playground-area"}),
$playgroundBox$$=$JSCompiler_StaticMethods_getBox$$($simCanvas$$.$css$,{tag:"sim-playground"});$viewBox$jscomp$5$$.$setTotalWidth$($canvasSize$jscomp$6$$.width);$viewBox$jscomp$5$$.$setTotalHeight$($canvasSize$jscomp$6$$.height);$viewBox$jscomp$5$$.setPosition(0,0);var $smallBtnSize$$=Math.max($JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.width,$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.height);$robotControlBox$$.width=3*$JSCompiler_StaticMethods_totalWidth$$($JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$);
$robotControlBox$$.$setTotalHeight$($viewBox$jscomp$5$$.height);$robotControlBox$$.setPosition($viewBox$jscomp$5$$.x+$viewBox$jscomp$5$$.width-$JSCompiler_StaticMethods_totalWidth$$($robotControlBox$$),$viewBox$jscomp$5$$.y);$toolbarBox$jscomp$4$$.$setTotalWidth$($viewBox$jscomp$5$$.width-$JSCompiler_StaticMethods_totalWidth$$($robotControlBox$$));$toolbarBox$jscomp$4$$.height=$controlBar$jscomp$2_toolbarItemHeight$jscomp$2$$;$toolbarBox$jscomp$4$$.setPosition($viewBox$jscomp$5$$.x,$viewBox$jscomp$5$$.y);
$playgroundAreaBox$$.$setTotalWidth$($viewBox$jscomp$5$$.width-$JSCompiler_StaticMethods_totalWidth$$($robotControlBox$$));$playgroundAreaBox$$.$setTotalHeight$($viewBox$jscomp$5$$.height-$toolbarBox$jscomp$4$$.$totalHeight$());$playgroundAreaBox$$.setPosition($viewBox$jscomp$5$$.x,$viewBox$jscomp$5$$.y+$toolbarBox$jscomp$4$$.$totalHeight$());$JSCompiler_StaticMethods_addDecoration$$($simCanvas$$,function($ctx$jscomp$81$$){$viewBox$jscomp$5$$.$draw$($ctx$jscomp$81$$)});$controlBar$jscomp$2_toolbarItemHeight$jscomp$2$$=
new $A3a$vpl$ControlBar$$($simCanvas$$);$JSCompiler_StaticMethods_setButtons$$($controlBar$jscomp$2_toolbarItemHeight$jscomp$2$$,$JSCompiler_StaticMethods_renderSim2dViewer$self$$,$simControls_toolbarConfig$jscomp$2$$,["sim","top"],$sim2d$jscomp$5$$.$toolbarDrawButton$||$A3a$vpl$Commands$drawButtonJS$$,$sim2d$jscomp$5$$.$toolbarGetButtonBounds$||$A3a$vpl$Commands$getButtonBoundsJS$$);$JSCompiler_StaticMethods_calcLayout$$($controlBar$jscomp$2_toolbarItemHeight$jscomp$2$$,$toolbarBox$jscomp$4$$,$toolbarItemBoxes$jscomp$2_yRobotControl$$,
$separatorBox$jscomp$2$$);$JSCompiler_StaticMethods_addToCanvas$$($controlBar$jscomp$2_toolbarItemHeight$jscomp$2$$,$toolbarBox$jscomp$4$$,$toolbarItemBoxes$jscomp$2_yRobotControl$$);$JSCompiler_StaticMethods_addDecoration$$($simCanvas$$,function($ctx$jscomp$82$$){$robotControlBox$$.$draw$($ctx$jscomp$82$$)});$simControls_toolbarConfig$jscomp$2$$=[];$toolbarItemBoxes$jscomp$2_yRobotControl$$=$robotControlBox$$.y+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.offsetTop();$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$$($simCanvas$$,
$robotControlBox$$.x+$JSCompiler_StaticMethods_totalWidth$$($JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$)+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.offsetLeft(),$toolbarItemBoxes$jscomp$2_yRobotControl$$,$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$,function($ctx$jscomp$83$$,$box$jscomp$33$$,$isPressed$jscomp$4$$){($sim2d$jscomp$5$$.$toolbarDrawButton$||$A3a$vpl$Commands$drawButtonJS$$)("sim-event:forward",$ctx$jscomp$83$$,$simCanvas$$.$dims$,
$simCanvas$$.$css$,["sim","event"],!0,!1,$isPressed$jscomp$4$$)},function(){$robot$jscomp$3$$.set("button.forward",!0);$robot$jscomp$3$$.sendEvent("buttons",null);$robot$jscomp$3$$.set("button.forward",!1);$robot$jscomp$3$$.sendEvent("buttons",null)},null,null,"button.forward"));$toolbarItemBoxes$jscomp$2_yRobotControl$$+=$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.$totalHeight$();$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$$($simCanvas$$,
$robotControlBox$$.x+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.offsetLeft(),$toolbarItemBoxes$jscomp$2_yRobotControl$$,$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$,function($ctx$jscomp$84$$,$box$jscomp$34$$,$isPressed$jscomp$5$$){($sim2d$jscomp$5$$.$toolbarDrawButton$||$A3a$vpl$Commands$drawButtonJS$$)("sim-event:left",$ctx$jscomp$84$$,$simCanvas$$.$dims$,$simCanvas$$.$css$,["sim","event"],!0,!1,$isPressed$jscomp$5$$)},function(){$robot$jscomp$3$$.set("button.left",
!0);$robot$jscomp$3$$.sendEvent("buttons",null);$robot$jscomp$3$$.set("button.left",!1);$robot$jscomp$3$$.sendEvent("buttons",null)},null,null,"button.left"));$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$$($simCanvas$$,$robotControlBox$$.x+$JSCompiler_StaticMethods_totalWidth$$($JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$)+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.offsetLeft(),$toolbarItemBoxes$jscomp$2_yRobotControl$$,
$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$,function($ctx$jscomp$85$$,$box$jscomp$35$$,$isPressed$jscomp$6$$){($sim2d$jscomp$5$$.$toolbarDrawButton$||$A3a$vpl$Commands$drawButtonJS$$)("sim-event:center",$ctx$jscomp$85$$,$simCanvas$$.$dims$,$simCanvas$$.$css$,["sim","event"],!0,!1,$isPressed$jscomp$6$$)},function(){$robot$jscomp$3$$.set("button.center",!0);$robot$jscomp$3$$.sendEvent("buttons",null);$robot$jscomp$3$$.set("button.center",!1);$robot$jscomp$3$$.sendEvent("buttons",
null)},null,null,"button.center"));$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$$($simCanvas$$,$robotControlBox$$.x+2*$JSCompiler_StaticMethods_totalWidth$$($JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$)+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.offsetLeft(),$toolbarItemBoxes$jscomp$2_yRobotControl$$,$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$,function($ctx$jscomp$86$$,$box$jscomp$36$$,
$isPressed$jscomp$7$$){($sim2d$jscomp$5$$.$toolbarDrawButton$||$A3a$vpl$Commands$drawButtonJS$$)("sim-event:right",$ctx$jscomp$86$$,$simCanvas$$.$dims$,$simCanvas$$.$css$,["sim","event"],!0,!1,$isPressed$jscomp$7$$)},function(){$robot$jscomp$3$$.set("button.right",!0);$robot$jscomp$3$$.sendEvent("buttons",null);$robot$jscomp$3$$.set("button.right",!1);$robot$jscomp$3$$.sendEvent("buttons",null)},null,null,"button.right"));$toolbarItemBoxes$jscomp$2_yRobotControl$$+=$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.$totalHeight$();
$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$$($simCanvas$$,$robotControlBox$$.x+$JSCompiler_StaticMethods_totalWidth$$($JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$)+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.offsetLeft(),$toolbarItemBoxes$jscomp$2_yRobotControl$$,$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$,function($ctx$jscomp$87$$,$box$jscomp$37$$,$isPressed$jscomp$8$$){($sim2d$jscomp$5$$.$toolbarDrawButton$||
$A3a$vpl$Commands$drawButtonJS$$)("sim-event:backward",$ctx$jscomp$87$$,$simCanvas$$.$dims$,$simCanvas$$.$css$,["sim","event"],!0,!1,$isPressed$jscomp$8$$)},function(){$robot$jscomp$3$$.set("button.backward",!0);$robot$jscomp$3$$.sendEvent("buttons",null);$robot$jscomp$3$$.set("button.backward",!1);$robot$jscomp$3$$.sendEvent("buttons",null)},null,null,"button.backward"));$toolbarItemBoxes$jscomp$2_yRobotControl$$+=$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.$totalHeight$()+$JSCompiler_object_inline_oy_8_separatorControlBox$$.$totalHeight$();
$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$$($simCanvas$$,$robotControlBox$$.x+.5*$JSCompiler_StaticMethods_totalWidth$$($JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$)+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.offsetLeft(),$toolbarItemBoxes$jscomp$2_yRobotControl$$,$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$,function($ctx$jscomp$88$$,$box$jscomp$38$$,$isPressed$jscomp$9$$){($sim2d$jscomp$5$$.$toolbarDrawButton$||
$A3a$vpl$Commands$drawButtonJS$$)("sim-event:tap",$ctx$jscomp$88$$,$simCanvas$$.$dims$,$simCanvas$$.$css$,["sim","event"],!0,!1,$isPressed$jscomp$9$$)},function(){$robot$jscomp$3$$.sendEvent("tap",null)},null,null,"tap"));$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$addControl$$($simCanvas$$,$robotControlBox$$.x+1.5*$JSCompiler_StaticMethods_totalWidth$$($JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$)+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.offsetLeft(),
$toolbarItemBoxes$jscomp$2_yRobotControl$$,$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$,function($ctx$jscomp$89$$,$box$jscomp$39$$,$isPressed$jscomp$10$$){($sim2d$jscomp$5$$.$toolbarDrawButton$||$A3a$vpl$Commands$drawButtonJS$$)("sim-event:clap",$ctx$jscomp$89$$,$simCanvas$$.$dims$,$simCanvas$$.$css$,["sim","event"],!0,!1,$isPressed$jscomp$10$$)},function(){$robot$jscomp$3$$.sendEvent("mic",null)},null,null,"clap"));$toolbarItemBoxes$jscomp$2_yRobotControl$$+=2*$smallBtnSize$$;var $xRobotControl$$=
$robotControlBox$$.x+1.5*$JSCompiler_StaticMethods_totalWidth$$($JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$),$yRobotTop$$=$toolbarItemBoxes$jscomp$2_yRobotControl$$+3.5*$smallBtnSize$$;$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_addDecoration$$($simCanvas$$,function($ctx$jscomp$90$$){function $drawSensor$$($x$jscomp$197$$,$y$jscomp$137$$,$r$jscomp$39$$,$val$jscomp$50$$,$color0$$,$color1$$){$ctx$jscomp$90$$.save();$ctx$jscomp$90$$.translate($x$jscomp$197$$,
$y$jscomp$137$$);$ctx$jscomp$90$$.beginPath();$ctx$jscomp$90$$.arc(0,0,$r$jscomp$39$$,0,2*Math.PI);$ctx$jscomp$90$$.arc(0,0,$r$jscomp$39$$/2,2*Math.PI,0,!0);$ctx$jscomp$90$$.fillStyle=$color0$$||"#bbb";$ctx$jscomp$90$$.fill();$ctx$jscomp$90$$.beginPath();$ctx$jscomp$90$$.arc(0,0,$r$jscomp$39$$,(-.5+2*$val$jscomp$50$$)*Math.PI,-.5*Math.PI,!0);$ctx$jscomp$90$$.arc(0,0,$r$jscomp$39$$/2,-.5*Math.PI,(-.5+2*$val$jscomp$50$$)*Math.PI,!1);$ctx$jscomp$90$$.fillStyle=$color1$$||"#222";$ctx$jscomp$90$$.fill();
$ctx$jscomp$90$$.restore()}$ctx$jscomp$90$$.save();$ctx$jscomp$90$$.beginPath();$ctx$jscomp$90$$.moveTo($xRobotControl$$-1.2*$smallBtnSize$$,$yRobotTop$$);$ctx$jscomp$90$$.lineTo($xRobotControl$$-1.2*$smallBtnSize$$,$yRobotTop$$-1.8*$smallBtnSize$$);$ctx$jscomp$90$$.bezierCurveTo($xRobotControl$$-.72*$smallBtnSize$$,$yRobotTop$$-2.4*$smallBtnSize$$,$xRobotControl$$-.05*$smallBtnSize$$,$yRobotTop$$-2.4*$smallBtnSize$$,$xRobotControl$$,$yRobotTop$$-2.4*$smallBtnSize$$);$ctx$jscomp$90$$.bezierCurveTo($xRobotControl$$+
.05*$smallBtnSize$$,$yRobotTop$$-2.4*$smallBtnSize$$,$xRobotControl$$+.72*$smallBtnSize$$,$yRobotTop$$-2.4*$smallBtnSize$$,$xRobotControl$$+1.2*$smallBtnSize$$,$yRobotTop$$-1.8*$smallBtnSize$$);$ctx$jscomp$90$$.lineTo($xRobotControl$$+1.2*$smallBtnSize$$,$yRobotTop$$);$ctx$jscomp$90$$.closePath();$ctx$jscomp$90$$.lineWidth=2;$ctx$jscomp$90$$.strokeStyle="black";$ctx$jscomp$90$$.stroke();var $groundSensorValues_proxSensorValues$$=$robot$jscomp$3$$.get("prox.ground.delta");$drawSensor$$($xRobotControl$$-
.45*$smallBtnSize$$,$yRobotTop$$-1.8*$smallBtnSize$$,.4*$smallBtnSize$$,$groundSensorValues_proxSensorValues$$[0],"#afa","#060");$drawSensor$$($xRobotControl$$+.45*$smallBtnSize$$,$yRobotTop$$-1.8*$smallBtnSize$$,.4*$smallBtnSize$$,$groundSensorValues_proxSensorValues$$[1],"#9f9","#060");$groundSensorValues_proxSensorValues$$=$robot$jscomp$3$$.get("prox.horizontal");$drawSensor$$($xRobotControl$$-1.45*$smallBtnSize$$,$yRobotTop$$-2.3*$smallBtnSize$$,.4*$smallBtnSize$$,$groundSensorValues_proxSensorValues$$[0],
"#fcc","#d00");$drawSensor$$($xRobotControl$$-.8*$smallBtnSize$$,$yRobotTop$$-2.8*$smallBtnSize$$,.4*$smallBtnSize$$,$groundSensorValues_proxSensorValues$$[1],"#fcc","#d00");$drawSensor$$($xRobotControl$$,$yRobotTop$$-3*$smallBtnSize$$,.4*$smallBtnSize$$,$groundSensorValues_proxSensorValues$$[2],"#fcc","#d00");$drawSensor$$($xRobotControl$$+.8*$smallBtnSize$$,$yRobotTop$$-2.8*$smallBtnSize$$,.4*$smallBtnSize$$,$groundSensorValues_proxSensorValues$$[3],"#fcc","#d00");$drawSensor$$($xRobotControl$$+
1.45*$smallBtnSize$$,$yRobotTop$$-2.3*$smallBtnSize$$,.4*$smallBtnSize$$,$groundSensorValues_proxSensorValues$$[4],"#fcc","#d00");$drawSensor$$($xRobotControl$$-.8*$smallBtnSize$$,$yRobotTop$$+.5*$smallBtnSize$$,.4*$smallBtnSize$$,$groundSensorValues_proxSensorValues$$[5],"#fcc","#d00");$drawSensor$$($xRobotControl$$+.8*$smallBtnSize$$,$yRobotTop$$+.5*$smallBtnSize$$,.4*$smallBtnSize$$,$groundSensorValues_proxSensorValues$$[6],"#fcc","#d00");$ctx$jscomp$90$$.restore()}));var $yRobotSide$$=$toolbarItemBoxes$jscomp$2_yRobotControl$$+=
5*$smallBtnSize$$;$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_addDecoration$$($simCanvas$$,function($ctx$jscomp$91$$){$ctx$jscomp$91$$.save();$ctx$jscomp$91$$.fillStyle="black";$ctx$jscomp$91$$.fillRect($xRobotControl$$-1.15*$smallBtnSize$$,$yRobotSide$$+.5*$smallBtnSize$$,.3*$smallBtnSize$$,.6*$smallBtnSize$$);$ctx$jscomp$91$$.fillRect($xRobotControl$$+.85*$smallBtnSize$$,$yRobotSide$$+.5*$smallBtnSize$$,.3*$smallBtnSize$$,.6*$smallBtnSize$$);$ctx$jscomp$91$$.fillStyle=$A3a$vpl$VPLSim2DViewer$color$$($robot$jscomp$3$$.get("leds.top"));
$ctx$jscomp$91$$.fillRect($xRobotControl$$-1.2*$smallBtnSize$$,$yRobotSide$$,2.4*$smallBtnSize$$,.5*$smallBtnSize$$);$ctx$jscomp$91$$.fillStyle=$A3a$vpl$VPLSim2DViewer$color$$($robot$jscomp$3$$.get("leds.bottom.left"));$ctx$jscomp$91$$.fillRect($xRobotControl$$-1.2*$smallBtnSize$$,$yRobotSide$$+.5*$smallBtnSize$$,1.2*$smallBtnSize$$,.5*$smallBtnSize$$);$ctx$jscomp$91$$.fillStyle=$A3a$vpl$VPLSim2DViewer$color$$($robot$jscomp$3$$.get("leds.bottom.right"));$ctx$jscomp$91$$.fillRect($xRobotControl$$,
$yRobotSide$$+.5*$smallBtnSize$$,1.2*$smallBtnSize$$,.5*$smallBtnSize$$);$ctx$jscomp$91$$.lineWidth=1;$ctx$jscomp$91$$.beginPath();$ctx$jscomp$91$$.moveTo($xRobotControl$$-1.2*$smallBtnSize$$,$yRobotSide$$+.5*$smallBtnSize$$);$ctx$jscomp$91$$.lineTo($xRobotControl$$+1.2*$smallBtnSize$$,$yRobotSide$$+.5*$smallBtnSize$$);$ctx$jscomp$91$$.moveTo($xRobotControl$$,$yRobotSide$$+.5*$smallBtnSize$$);$ctx$jscomp$91$$.lineTo($xRobotControl$$,$yRobotSide$$+$smallBtnSize$$);$ctx$jscomp$91$$.strokeStyle="white";
$ctx$jscomp$91$$.stroke();$ctx$jscomp$91$$.lineJoin="round";$ctx$jscomp$91$$.strokeStyle="black";$ctx$jscomp$91$$.strokeRect($xRobotControl$$-1.2*$smallBtnSize$$,$yRobotSide$$,2.4*$smallBtnSize$$,$smallBtnSize$$);$ctx$jscomp$91$$.restore()}));$toolbarItemBoxes$jscomp$2_yRobotControl$$+=1.5*$smallBtnSize$$;if(null!=$sim2d$jscomp$5$$.$heightImage$){var $accY0$$=$toolbarItemBoxes$jscomp$2_yRobotControl$$+1.5*$smallBtnSize$$;$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_addDecoration$$($simCanvas$$,
function($ctx$jscomp$92$$){var $acc$jscomp$6_angles$$=$robot$jscomp$3$$.get("acc");$acc$jscomp$6_angles$$=[Math.atan2($acc$jscomp$6_angles$$[0],$acc$jscomp$6_angles$$[1]),Math.atan2($acc$jscomp$6_angles$$[1],$acc$jscomp$6_angles$$[2]),Math.atan2($acc$jscomp$6_angles$$[0],$acc$jscomp$6_angles$$[2])];$ctx$jscomp$92$$.save();$ctx$jscomp$92$$.strokeStyle="black";$ctx$jscomp$92$$.lineWidth=.7*$simCanvas$$.$dims$.$blockLineWidth$;for(var $i$jscomp$306$$=0;3>$i$jscomp$306$$;$i$jscomp$306$$++){$ctx$jscomp$92$$.save();
$ctx$jscomp$92$$.translate($xRobotControl$$+($i$jscomp$306$$-1)*$smallBtnSize$$,$accY0$$);$ctx$jscomp$92$$.save();$ctx$jscomp$92$$.strokeStyle="silver";$ctx$jscomp$92$$.beginPath();$ctx$jscomp$92$$.moveTo(-.4*$smallBtnSize$$,0);$ctx$jscomp$92$$.lineTo(.4*$smallBtnSize$$,0);$ctx$jscomp$92$$.moveTo(0,-.4*$smallBtnSize$$);$ctx$jscomp$92$$.lineTo(0,.4*$smallBtnSize$$);$ctx$jscomp$92$$.stroke();$ctx$jscomp$92$$.restore();$ctx$jscomp$92$$.rotate(-$acc$jscomp$6_angles$$[$i$jscomp$306$$]);switch($i$jscomp$306$$){case 0:var $sz$jscomp$7$$=
.25*$smallBtnSize$$;$ctx$jscomp$92$$.translate(0,1.2*$sz$jscomp$7$$);$ctx$jscomp$92$$.beginPath();$ctx$jscomp$92$$.moveTo(-1.2*$sz$jscomp$7$$,0);$ctx$jscomp$92$$.lineTo(-1.2*$sz$jscomp$7$$,-1.8*$sz$jscomp$7$$);$ctx$jscomp$92$$.bezierCurveTo(-.72*$sz$jscomp$7$$,-2.4*$sz$jscomp$7$$,-.05*$sz$jscomp$7$$,-2.4*$sz$jscomp$7$$,0,-2.4*$sz$jscomp$7$$);$ctx$jscomp$92$$.bezierCurveTo(.05*$sz$jscomp$7$$,-2.4*$sz$jscomp$7$$,.72*$sz$jscomp$7$$,-2.4*$sz$jscomp$7$$,1.2*$sz$jscomp$7$$,-1.8*$sz$jscomp$7$$);$ctx$jscomp$92$$.lineTo(1.2*
$sz$jscomp$7$$,0);$ctx$jscomp$92$$.closePath();$ctx$jscomp$92$$.lineWidth=2;$ctx$jscomp$92$$.strokeStyle="black";$ctx$jscomp$92$$.stroke();break;case 1:$ctx$jscomp$92$$.strokeRect(-.4*$smallBtnSize$$,-.15*$smallBtnSize$$,.8*$smallBtnSize$$,.3*$smallBtnSize$$);$ctx$jscomp$92$$.beginPath();$ctx$jscomp$92$$.arc(-.2*$smallBtnSize$$,.05*$smallBtnSize$$,.15*$smallBtnSize$$,0,2*Math.PI);$ctx$jscomp$92$$.fillStyle="white";$ctx$jscomp$92$$.fill();$ctx$jscomp$92$$.lineWidth=.07*$smallBtnSize$$;$ctx$jscomp$92$$.stroke();
break;case 2:$ctx$jscomp$92$$.strokeRect(-.4*$smallBtnSize$$,-.15*$smallBtnSize$$,.8*$smallBtnSize$$,.3*$smallBtnSize$$),$ctx$jscomp$92$$.fillStyle="black",$ctx$jscomp$92$$.fillRect(-.35*$smallBtnSize$$,.15*$smallBtnSize$$,.15*$smallBtnSize$$,.08*$smallBtnSize$$),$ctx$jscomp$92$$.fillRect(.2*$smallBtnSize$$,.15*$smallBtnSize$$,.15*$smallBtnSize$$,.08*$smallBtnSize$$)}$ctx$jscomp$92$$.restore()}$ctx$jscomp$92$$.restore()}));$toolbarItemBoxes$jscomp$2_yRobotControl$$+=2.5*$smallBtnSize$$}if($robot$jscomp$3$$.$G$){var $ledsY0$$=
$toolbarItemBoxes$jscomp$2_yRobotControl$$+2*$smallBtnSize$$;$simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_addDecoration$$($simCanvas$$,function($ctx$jscomp$93$$){for(var $leds$$=$robot$jscomp$3$$.get("leds.circle"),$i$jscomp$307$$=0;8>$i$jscomp$307$$;$i$jscomp$307$$++)$A3a$vpl$Canvas$drawArc$$($ctx$jscomp$93$$,$xRobotControl$$,$ledsY0$$,.9*$smallBtnSize$$,1.2*$smallBtnSize$$,Math.PI*(.44-.25*$i$jscomp$307$$),Math.PI*(.56-.25*$i$jscomp$307$$),$leds$$[$i$jscomp$307$$]?"#fa0":
"white","black",$simCanvas$$.$dims$.$blockLineWidth$)}));$toolbarItemBoxes$jscomp$2_yRobotControl$$+=3.5*$smallBtnSize$$}var $timerY0$$=$toolbarItemBoxes$jscomp$2_yRobotControl$$+1.5*$smallBtnSize$$,$tRemaining$$=$robot$jscomp$3$$.getTimer(0);0<=$tRemaining$$?($simControls_toolbarConfig$jscomp$2$$.push($JSCompiler_StaticMethods_addDecoration$$($simCanvas$$,function($ctx$jscomp$94$$){$simCanvas$$.state.$timeScale$?"lin"===$simCanvas$$.state.$timeScale$&&4<$tRemaining$$&&($simCanvas$$.state.$timeScale$=
"log"):$simCanvas$$.state.$timeScale$=4<$tRemaining$$?"log":"lin";$A3a$vpl$Canvas$drawTimer$$($ctx$jscomp$94$$,$xRobotControl$$,$timerY0$$,$smallBtnSize$$,$simCanvas$$.$dims$.$blockLineWidth$,function($t$jscomp$11$$){$ctx$jscomp$94$$.textAlign="start";$ctx$jscomp$94$$.textBaseline="top";$ctx$jscomp$94$$.font=($smallBtnSize$$/2).toFixed(1)+"px sans-serif";$ctx$jscomp$94$$.fillStyle="black";$ctx$jscomp$94$$.fillText($t$jscomp$11$$.toFixed(1),$robotControlBox$$.x,$timerY0$$-$smallBtnSize$$)},Math.min($tRemaining$$,
"log"===$simCanvas$$.state.$timeScale$?9.9:3.95),!1,"log"===$simCanvas$$.state.$timeScale$)})),$toolbarItemBoxes$jscomp$2_yRobotControl$$+=2.5*$smallBtnSize$$):$simCanvas$$.state.$timeScale$=!1;var $dy$jscomp$24$$=Math.min(($playgroundAreaBox$$.y-$robotControlBox$$.y+$robotControlBox$$.y+$robotControlBox$$.height-$toolbarItemBoxes$jscomp$2_yRobotControl$$)/2,$robotControlBox$$.y+$robotControlBox$$.height-$toolbarItemBoxes$jscomp$2_yRobotControl$$);0<$dy$jscomp$24$$&&$simControls_toolbarConfig$jscomp$2$$.forEach(function($item$jscomp$23$$){$item$jscomp$23$$.y+=
$dy$jscomp$24$$});var $JSCompiler_object_inline_x_2$$=$playgroundAreaBox$$.x,$JSCompiler_object_inline_y_3$$=$playgroundAreaBox$$.y,$JSCompiler_object_inline_width_4$$=$playgroundAreaBox$$.width,$JSCompiler_object_inline_height_5$$=$playgroundAreaBox$$.height;var $JSCompiler_object_inline_scale_6$$=Math.min($JSCompiler_object_inline_width_4$$/$sim2d$jscomp$5$$.$b$.width,$JSCompiler_object_inline_height_5$$/$sim2d$jscomp$5$$.$b$.height);$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$=
($JSCompiler_object_inline_width_4$$-$sim2d$jscomp$5$$.$b$.width*$JSCompiler_object_inline_scale_6$$)/2;$JSCompiler_object_inline_oy_8_separatorControlBox$$=($JSCompiler_object_inline_height_5$$-$sim2d$jscomp$5$$.$b$.height*$JSCompiler_object_inline_scale_6$$)/2;$playgroundBox$$.width=$sim2d$jscomp$5$$.$b$.width*$JSCompiler_object_inline_scale_6$$;$playgroundBox$$.height=$sim2d$jscomp$5$$.$b$.height*$JSCompiler_object_inline_scale_6$$;$playgroundBox$$.x=$JSCompiler_object_inline_x_2$$+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$;
$playgroundBox$$.y=$JSCompiler_object_inline_y_3$$+$JSCompiler_object_inline_oy_8_separatorControlBox$$;if($JSCompiler_StaticMethods_renderSim2dViewer$self$$.$uiConfig$.$customizationMode$){var $customizationBox$jscomp$1$$=$JSCompiler_StaticMethods_getBox$$($simCanvas$$.$css$,{tag:"widget",id:"vpl-customize"});$JSCompiler_StaticMethods_addDecoration$$($simCanvas$$,function(){$JSCompiler_StaticMethods_drawWidget$$($simCanvas$$,"vpl:customize",$JSCompiler_object_inline_x_2$$+$JSCompiler_object_inline_width_4$$/
2,$JSCompiler_object_inline_y_3$$+$JSCompiler_object_inline_height_5$$/2,$customizationBox$jscomp$1$$)})}else{var $robotSize$$=$robot$jscomp$3$$.$C$,$temporaryPause$$=!1;$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$=new $A3a$vpl$CanvasItem$$(null,$sim2d$jscomp$5$$.$b$.width*$JSCompiler_object_inline_scale_6$$,$sim2d$jscomp$5$$.$b$.height*$JSCompiler_object_inline_scale_6$$,$JSCompiler_object_inline_x_2$$+$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$,$JSCompiler_object_inline_y_3$$+
$JSCompiler_object_inline_oy_8_separatorControlBox$$,function($canvas$jscomp$130_ctx$jscomp$96$$,$item$jscomp$24$$,$dx$jscomp$24$$,$dy$jscomp$25$$){$canvas$jscomp$130_ctx$jscomp$96$$=$canvas$jscomp$130_ctx$jscomp$96$$.$ctx$;$canvas$jscomp$130_ctx$jscomp$96$$.save();$playgroundAreaBox$$.$draw$($canvas$jscomp$130_ctx$jscomp$96$$);$playgroundBox$$.$draw$($canvas$jscomp$130_ctx$jscomp$96$$);switch($sim2d$jscomp$5$$.$currentMap$){case $A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$:$canvas$jscomp$130_ctx$jscomp$96$$.drawImage($sim2d$jscomp$5$$.$g$,
$item$jscomp$24$$.x+$dx$jscomp$24$$,$item$jscomp$24$$.y+$dy$jscomp$25$$,$item$jscomp$24$$.width,$item$jscomp$24$$.height);break;case "height":null!=$sim2d$jscomp$5$$.$heightImage$&&$canvas$jscomp$130_ctx$jscomp$96$$.drawImage($sim2d$jscomp$5$$.$i$,$item$jscomp$24$$.x+$dx$jscomp$24$$,$item$jscomp$24$$.y+$dy$jscomp$25$$,$item$jscomp$24$$.width,$item$jscomp$24$$.height);break;case "obstacle":$canvas$jscomp$130_ctx$jscomp$96$$.save(),$canvas$jscomp$130_ctx$jscomp$96$$.translate($item$jscomp$24$$.x+$dx$jscomp$24$$+
$item$jscomp$24$$.width/2,$item$jscomp$24$$.y+$dy$jscomp$25$$+$item$jscomp$24$$.height/2),$canvas$jscomp$130_ctx$jscomp$96$$.scale($JSCompiler_object_inline_scale_6$$,-$JSCompiler_object_inline_scale_6$$),$sim2d$jscomp$5$$.$l$.$draw$($canvas$jscomp$130_ctx$jscomp$96$$),$canvas$jscomp$130_ctx$jscomp$96$$.restore()}$canvas$jscomp$130_ctx$jscomp$96$$.translate($item$jscomp$24$$.x+$dx$jscomp$24$$+$item$jscomp$24$$.width/2,$item$jscomp$24$$.y+$dy$jscomp$25$$+$item$jscomp$24$$.height/2);$canvas$jscomp$130_ctx$jscomp$96$$.scale($JSCompiler_object_inline_scale_6$$,
$JSCompiler_object_inline_scale_6$$);$canvas$jscomp$130_ctx$jscomp$96$$.translate($robot$jscomp$3$$.$b$[0],-$robot$jscomp$3$$.$b$[1]);$canvas$jscomp$130_ctx$jscomp$96$$.rotate(.5*Math.PI-$robot$jscomp$3$$.$g$);$canvas$jscomp$130_ctx$jscomp$96$$.beginPath();$canvas$jscomp$130_ctx$jscomp$96$$.moveTo(0,.2*$robotSize$$);$canvas$jscomp$130_ctx$jscomp$96$$.lineTo(.5*$robotSize$$,.2*$robotSize$$);$canvas$jscomp$130_ctx$jscomp$96$$.lineTo(.5*$robotSize$$,-.55*$robotSize$$);$canvas$jscomp$130_ctx$jscomp$96$$.bezierCurveTo(.3*
$robotSize$$,-.8*$robotSize$$,.02*$robotSize$$,-.8*$robotSize$$,0,-.8*$robotSize$$);$canvas$jscomp$130_ctx$jscomp$96$$.bezierCurveTo(-.02*$robotSize$$,-.8*$robotSize$$,-.3*$robotSize$$,-.8*$robotSize$$,-.5*$robotSize$$,-.55*$robotSize$$);$canvas$jscomp$130_ctx$jscomp$96$$.lineTo(-.5*$robotSize$$,.2*$robotSize$$);$canvas$jscomp$130_ctx$jscomp$96$$.closePath();$canvas$jscomp$130_ctx$jscomp$96$$.fillStyle=$A3a$vpl$VPLSim2DViewer$color$$($robot$jscomp$3$$.get("leds.top"));$canvas$jscomp$130_ctx$jscomp$96$$.strokeStyle=
"black";$canvas$jscomp$130_ctx$jscomp$96$$.lineJoin="round";$canvas$jscomp$130_ctx$jscomp$96$$.lineWidth=2;$canvas$jscomp$130_ctx$jscomp$96$$.moveTo(.05*$robotSize$$,0);$canvas$jscomp$130_ctx$jscomp$96$$.arc(0,0,.05*$robotSize$$,0,2*Math.PI);$canvas$jscomp$130_ctx$jscomp$96$$.fill();$canvas$jscomp$130_ctx$jscomp$96$$.stroke();if(!$sim2d$jscomp$5$$.$running$||$sim2d$jscomp$5$$.paused)$canvas$jscomp$130_ctx$jscomp$96$$.beginPath(),$canvas$jscomp$130_ctx$jscomp$96$$.arc(0,0,$robotSize$$,0,2*Math.PI),
$canvas$jscomp$130_ctx$jscomp$96$$.strokeStyle=$simCanvas$$.state.$moving$?"navy":"#3cf",$canvas$jscomp$130_ctx$jscomp$96$$.lineWidth=.1*$robotSize$$,$canvas$jscomp$130_ctx$jscomp$96$$.stroke(),$canvas$jscomp$130_ctx$jscomp$96$$.beginPath(),$canvas$jscomp$130_ctx$jscomp$96$$.arc(0,-$robotSize$$,.15*$robotSize$$,0,2*Math.PI),$canvas$jscomp$130_ctx$jscomp$96$$.fillStyle=$simCanvas$$.state.$orienting$?"navy":"white",$canvas$jscomp$130_ctx$jscomp$96$$.strokeStyle=$simCanvas$$.state.$orienting$?"navy":
"#3cf",$canvas$jscomp$130_ctx$jscomp$96$$.lineWidth=.06*$robotSize$$,$canvas$jscomp$130_ctx$jscomp$96$$.fill(),$canvas$jscomp$130_ctx$jscomp$96$$.stroke();$canvas$jscomp$130_ctx$jscomp$96$$.restore()},{$mousedown$:function($canvas$jscomp$131_x$jscomp$198$$,$data$jscomp$82_xHandle$$,$width$jscomp$124_yHandle$$,$height$jscomp$122_y$jscomp$138$$,$left$jscomp$87$$,$top$jscomp$85_xr$$,$ev$jscomp$87_yr$$){$canvas$jscomp$131_x$jscomp$198$$=($ev$jscomp$87_yr$$.x-$left$jscomp$87$$-$width$jscomp$124_yHandle$$/
2)/$JSCompiler_object_inline_scale_6$$;$height$jscomp$122_y$jscomp$138$$=($height$jscomp$122_y$jscomp$138$$/2-($ev$jscomp$87_yr$$.y-$top$jscomp$85_xr$$))/$JSCompiler_object_inline_scale_6$$;$top$jscomp$85_xr$$=$canvas$jscomp$131_x$jscomp$198$$-$robot$jscomp$3$$.$b$[0];$ev$jscomp$87_yr$$=$height$jscomp$122_y$jscomp$138$$-$robot$jscomp$3$$.$b$[1];$data$jscomp$82_xHandle$$=$robotSize$$*Math.cos($robot$jscomp$3$$.$g$);$width$jscomp$124_yHandle$$=$robotSize$$*Math.sin($robot$jscomp$3$$.$g$);return(!$sim2d$jscomp$5$$.$running$||
$sim2d$jscomp$5$$.paused)&&($top$jscomp$85_xr$$-$data$jscomp$82_xHandle$$)*($top$jscomp$85_xr$$-$data$jscomp$82_xHandle$$)+($ev$jscomp$87_yr$$-$width$jscomp$124_yHandle$$)*($ev$jscomp$87_yr$$-$width$jscomp$124_yHandle$$)<.1*$robotSize$$*$robotSize$$?($simCanvas$$.state.x=$canvas$jscomp$131_x$jscomp$198$$,$simCanvas$$.state.y=$height$jscomp$122_y$jscomp$138$$,$simCanvas$$.state.$orienting$=!0,1):$top$jscomp$85_xr$$*$top$jscomp$85_xr$$+$ev$jscomp$87_yr$$*$ev$jscomp$87_yr$$<$robotSize$$*$robotSize$$?
($sim2d$jscomp$5$$.paused?$temporaryPause$$=!1:($robot$jscomp$3$$.suspend(),$temporaryPause$$=!0),$simCanvas$$.state.x=$canvas$jscomp$131_x$jscomp$198$$,$simCanvas$$.state.y=$height$jscomp$122_y$jscomp$138$$,$simCanvas$$.state.$moving$=!0,0):null},$mousedrag$:function($canvas$jscomp$132_x$jscomp$199$$,$data$jscomp$83$$,$dragIndex$jscomp$23_pt0$jscomp$1$$,$width$jscomp$125$$,$height$jscomp$123_y$jscomp$139$$,$left$jscomp$88$$,$top$jscomp$86$$,$ev$jscomp$88$$){$canvas$jscomp$132_x$jscomp$199$$=($ev$jscomp$88$$.x-
$left$jscomp$88$$-$width$jscomp$125$$/2)/$JSCompiler_object_inline_scale_6$$;$height$jscomp$123_y$jscomp$139$$=($height$jscomp$123_y$jscomp$139$$/2-($ev$jscomp$88$$.y-$top$jscomp$86$$))/$JSCompiler_object_inline_scale_6$$;switch($dragIndex$jscomp$23_pt0$jscomp$1$$){case 0:$dragIndex$jscomp$23_pt0$jscomp$1$$=$robot$jscomp$3$$.$b$;$robot$jscomp$3$$.setPosition([$robot$jscomp$3$$.$b$[0]+$canvas$jscomp$132_x$jscomp$199$$-$simCanvas$$.state.x,$robot$jscomp$3$$.$b$[1]+$height$jscomp$123_y$jscomp$139$$-
$simCanvas$$.state.y],$robot$jscomp$3$$.$g$);$JSCompiler_StaticMethods_drawPen$$($sim2d$jscomp$5$$,"l",[$dragIndex$jscomp$23_pt0$jscomp$1$$[0],$dragIndex$jscomp$23_pt0$jscomp$1$$[1],$robot$jscomp$3$$.$b$[0],$robot$jscomp$3$$.$b$[1]]);break;case 1:$robot$jscomp$3$$.setPosition($robot$jscomp$3$$.$b$,$robot$jscomp$3$$.$g$+(Math.atan2($height$jscomp$123_y$jscomp$139$$-$robot$jscomp$3$$.$b$[1],$canvas$jscomp$132_x$jscomp$199$$-$robot$jscomp$3$$.$b$[0])-Math.atan2($simCanvas$$.state.y-$robot$jscomp$3$$.$b$[1],
$simCanvas$$.state.x-$robot$jscomp$3$$.$b$[0])))}$simCanvas$$.state.x=$canvas$jscomp$132_x$jscomp$199$$;$simCanvas$$.state.y=$height$jscomp$123_y$jscomp$139$$},$mouseup$:function(){$simCanvas$$.state.$moving$=!1;$simCanvas$$.state.$orienting$=!1;$temporaryPause$$&&$robot$jscomp$3$$.resume($A3a$vpl$VPLSim2DViewer$currentTime$$())}});$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$.$i$=!1;$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$setItem$$($simCanvas$$,$JSCompiler_object_inline_ox_7_playgroundItem_smallButtonBox$$)}$JSCompiler_StaticMethods_redraw$$($simCanvas$$);
!$sim2d$jscomp$5$$.paused&&$robot$jscomp$3$$.shouldRunContinuously()&&$JSCompiler_StaticMethods_requestRendering$$($JSCompiler_StaticMethods_renderSim2dViewer$self$$)}}
function $JSCompiler_StaticMethods_requestRendering$$($JSCompiler_StaticMethods_requestRendering$self$$){$JSCompiler_StaticMethods_requestRendering$self$$.$sim2d$.$m$||($JSCompiler_StaticMethods_requestRendering$self$$.$sim2d$.$m$=!0,window.requestAnimationFrame(function(){$JSCompiler_StaticMethods_requestRendering$self$$.$sim2d$.$m$=!1;$JSCompiler_StaticMethods_renderSim2dViewer$$($JSCompiler_StaticMethods_requestRendering$self$$)}))}
function $A3a$vpl$VPLSim2DViewer$currentTime$$(){return.001*(new Date).getTime()}
$A3a$vpl$VPLSim2DViewer$$.prototype.resize=function $$A3a$vpl$VPLSim2DViewer$$$$resize$($app$jscomp$153$$){var $width$jscomp$126$$=window.innerWidth,$bnd$jscomp$1_height$jscomp$124$$=window.innerHeight;window.vplDisableResize&&($bnd$jscomp$1_height$jscomp$124$$=this.$j$.$b$.getBoundingClientRect(),$width$jscomp$126$$=$bnd$jscomp$1_height$jscomp$124$$.width,$bnd$jscomp$1_height$jscomp$124$$=$bnd$jscomp$1_height$jscomp$124$$.height);this.$j$.$dims$=this.$j$.$dims$;this.$j$.resize($width$jscomp$126$$,
$bnd$jscomp$1_height$jscomp$124$$);$JSCompiler_StaticMethods_renderSim2dViewer$$($app$jscomp$153$$)};function $JSCompiler_StaticMethods_addSim2DCommands$$($JSCompiler_StaticMethods_addSim2DCommands$self$$){$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:close",{action:function($app$jscomp$154$$){$JSCompiler_StaticMethods_setView$$($app$jscomp$154$$,["sim"],{$closeView$:!0})},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$,$isAvailable$:function($app$jscomp$155$$){return 1<$app$jscomp$155$$.$views$.length&&0<=$app$jscomp$155$$.$views$.indexOf("sim")}});$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:restart",
{action:function($app$jscomp$156$$){$JSCompiler_StaticMethods_restoreGround$$($app$jscomp$156$$);$app$jscomp$156$$.$sim2d$.$robot$.reset($A3a$vpl$VPLSim2DViewer$currentTime$$());$app$jscomp$156$$.$sim2d$.$robot$.start();$app$jscomp$156$$.$sim2d$.$running$=!0;$app$jscomp$156$$.$sim2d$.paused=!1;$JSCompiler_StaticMethods_renderSim2dViewer$$($app$jscomp$156$$)},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$});$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:pause",{action:function($app$jscomp$157$$){$app$jscomp$157$$.$sim2d$.$running$&&
($app$jscomp$157$$.$sim2d$.paused=!$app$jscomp$157$$.$sim2d$.paused,$app$jscomp$157$$.$sim2d$.paused?$app$jscomp$157$$.$sim2d$.$robot$.suspend():($app$jscomp$157$$.$sim2d$.$robot$.resume($A3a$vpl$VPLSim2DViewer$currentTime$$()),$JSCompiler_StaticMethods_renderSim2dViewer$$($app$jscomp$157$$)))},isEnabled:function($app$jscomp$158$$){return $app$jscomp$158$$.$sim2d$.$running$},$isSelected$:function($app$jscomp$159$$){return $app$jscomp$159$$.$sim2d$.paused},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$});
$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:speedup",{action:function($app$jscomp$160$$){var $s$jscomp$45$$=[.5,1,2,5,10];$app$jscomp$160$$.$sim2d$.$robot$.$speedupFactor$=$s$jscomp$45$$[($s$jscomp$45$$.indexOf($app$jscomp$160$$.$sim2d$.$robot$.$speedupFactor$)+1)%$s$jscomp$45$$.length]},$isSelected$:function($app$jscomp$161$$){return 1!==$app$jscomp$161$$.$sim2d$.$robot$.$speedupFactor$},getState:function($app$jscomp$162$$){return $app$jscomp$162$$.$sim2d$.$robot$.$speedupFactor$},
object:$JSCompiler_StaticMethods_addSim2DCommands$self$$});$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:noise",{action:function($app$jscomp$163$$){$app$jscomp$163$$.$sim2d$.$robot$.$hasNoise$=!$app$jscomp$163$$.$sim2d$.$robot$.$hasNoise$},$isSelected$:function($app$jscomp$164$$){return $app$jscomp$164$$.$sim2d$.$robot$.$hasNoise$},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$});$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:pen",{action:function($app$jscomp$165$$){$app$jscomp$165$$.$sim2d$.$penDown$=
!$app$jscomp$165$$.$sim2d$.$penDown$},$isSelected$:function($app$jscomp$166$$){return $app$jscomp$166$$.$sim2d$.$penDown$},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$});$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:clear",{action:function($app$jscomp$167$$){$JSCompiler_StaticMethods_restoreGround$$($app$jscomp$167$$)},isEnabled:function($app$jscomp$168$$){return $app$jscomp$168$$.$sim2d$.$groundCanvasDirty$},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$});
$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:map-kind",{action:function($app$jscomp$169$$){switch($app$jscomp$169$$.$sim2d$.$currentMap$){case $A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$:$app$jscomp$169$$.$sim2d$.$currentMap$="height";break;case "height":$app$jscomp$169$$.$sim2d$.$currentMap$="obstacle";break;case "obstacle":$app$jscomp$169$$.$sim2d$.$currentMap$=$A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$}},getState:function($app$jscomp$170$$){switch($app$jscomp$170$$.$sim2d$.$currentMap$){case $A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$:return"ground";
case "height":return"height";case "obstacle":return"obstacles";default:return"ground"}},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$});$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:map",{action:function($app$jscomp$171$$){switch($app$jscomp$171$$.$sim2d$.$currentMap$){case $A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$:$JSCompiler_StaticMethods_setImage$$($app$jscomp$171$$,null==$app$jscomp$171$$.$sim2d$.$groundImage$?$app$jscomp$171$$.$sim2d$.$disabledGroundImage$:null);
break;case "height":$JSCompiler_StaticMethods_setImage$$($app$jscomp$171$$,null==$app$jscomp$171$$.$sim2d$.$heightImage$?$app$jscomp$171$$.$sim2d$.$disabledHeightImage$:null);break;case "obstacle":$JSCompiler_StaticMethods_setSVG$$($app$jscomp$171$$,$app$jscomp$171$$.$sim2d$.$hasObstacles$?null:$app$jscomp$171$$.$sim2d$.$disabledObstacleSVG$)}},$isSelected$:function($app$jscomp$172$$){switch($app$jscomp$172$$.$sim2d$.$currentMap$){case $A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$:return null!=$app$jscomp$172$$.$sim2d$.$groundImage$;
case "height":return null!=$app$jscomp$172$$.$sim2d$.$heightImage$;case "obstacle":return $app$jscomp$172$$.$sim2d$.$hasObstacles$}throw"internal";},getState:function($app$jscomp$173$$){switch($app$jscomp$173$$.$sim2d$.$currentMap$){case $A3a$vpl$VPLSim2DViewer$playgroundMap$ground$$:return"ground";case "height":return"height";case "obstacle":return"obstacles";default:return"ground"}},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$});$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:vpl",
{action:function($app$jscomp$174$$){$app$jscomp$174$$.$multipleViews$?$JSCompiler_StaticMethods_setView$$($app$jscomp$174$$,["vpl"],{$openView$:!0}):$JSCompiler_StaticMethods_setView$$($app$jscomp$174$$,["vpl"],{$fromView$:"sim"})},isEnabled:function($app$jscomp$175$$){return null==$app$jscomp$175$$.$editor$||$JSCompiler_StaticMethods_doesMatchVPL$$($app$jscomp$175$$.$editor$)},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$,$isAvailable$:function($app$jscomp$176$$){return(null==$app$jscomp$176$$.$editor$||
!$app$jscomp$176$$.$editor$.$noVPL$)&&0>$app$jscomp$176$$.$views$.indexOf("vpl")}});$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:text",{action:function($app$jscomp$177$$){$app$jscomp$177$$.$multipleViews$?$JSCompiler_StaticMethods_setView$$($app$jscomp$177$$,["src"],{$openView$:!0,$unlocked$:!$app$jscomp$177$$.$editor$.$isLockedWithVPL$}):$JSCompiler_StaticMethods_setView$$($app$jscomp$177$$,["src"],{$fromView$:"sim",$unlocked$:!$app$jscomp$177$$.$editor$.$isLockedWithVPL$})},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$,
$isAvailable$:function($app$jscomp$178$$){return 0>$app$jscomp$178$$.$views$.indexOf("src")}});$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:teacher-reset",{action:function($app$jscomp$179$$){$app$jscomp$179$$.$sim2d$.$resetUI$();$JSCompiler_StaticMethods_renderSim2dViewer$$($app$jscomp$179$$)},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$,$keep$:!0,$isAvailable$:function($app$jscomp$180$$){return $app$jscomp$180$$.$sim2d$.$teacherRole$&&$app$jscomp$180$$.$sim2d$.$uiConfig$.$customizationMode$}});
$JSCompiler_StaticMethods_addSim2DCommands$self$$.$b$.add("sim:teacher",{action:function($app$jscomp$181$$){$app$jscomp$181$$.$sim2d$.$uiConfig$.$customizationMode$=!$app$jscomp$181$$.$sim2d$.$uiConfig$.$customizationMode$;$JSCompiler_StaticMethods_renderSim2dViewer$$($app$jscomp$181$$)},$isSelected$:function($app$jscomp$182$$){return $app$jscomp$182$$.$sim2d$.$uiConfig$.$customizationMode$},object:$JSCompiler_StaticMethods_addSim2DCommands$self$$,$keep$:!0,$isAvailable$:function($app$jscomp$183$$){return $app$jscomp$183$$.$sim2d$.$teacherRole$}})}
;function $JSCompiler_StaticMethods_installThymio$$($JSCompiler_StaticMethods_installThymio$self$$){return new $A3a$vpl$RunGlue$$({$run$:function($language$jscomp$19$$,$code$jscomp$38$$){$JSCompiler_StaticMethods_installThymio$self$$.$robots$[$JSCompiler_StaticMethods_installThymio$self$$.$currentRobotIndex$].$runGlue$.state.$b$($code$jscomp$38$$)},$init$:function(){try{$A3a$NodeProxy$init$$("http:"!==document.location.origin.slice(0,5)?"http://127.0.0.1:3000":document.location.origin,function(){$JSCompiler_StaticMethods_installThymio$self$$.$robots$[$JSCompiler_StaticMethods_installThymio$self$$.$currentRobotIndex$].$runGlue$.state=
$A3a$Node$nodeList$$[0];$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$$($JSCompiler_StaticMethods_installThymio$self$$.$vplCanvas$)})}catch($e$jscomp$42$$){console.info($e$jscomp$42$$),$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$$($JSCompiler_StaticMethods_installThymio$self$$.$vplCanvas$)}},isConnected:function(){return null!=$JSCompiler_StaticMethods_installThymio$self$$.$robots$[$JSCompiler_StaticMethods_installThymio$self$$.$currentRobotIndex$].$runGlue$.state},isEnabled:function($language$jscomp$21$$){return"aseba"===
$language$jscomp$21$$&&null!=$JSCompiler_StaticMethods_installThymio$self$$.$robots$[$JSCompiler_StaticMethods_installThymio$self$$.$currentRobotIndex$].$runGlue$.state},$preferredLanguage$:"aseba",languages:["aseba","l2"],state:null})};function $JSCompiler_StaticMethods_installThymioTDM$$($JSCompiler_StaticMethods_installThymioTDM$self$$){var $tdm$$=null;return new $A3a$vpl$RunGlue$$({$run$:function($language$jscomp$22$$,$code$jscomp$39$$){$tdm$$.run($code$jscomp$39$$)},$init$:function(){try{$tdm$$=new window.TDM($vplGetHashOption$$("w"),{uuid:$vplGetHashOption$$("uuid")||"auto",change:function($connected$$){$JSCompiler_StaticMethods_installThymioTDM$self$$.$robots$[$JSCompiler_StaticMethods_installThymioTDM$self$$.$currentRobotIndex$].$runGlue$.state=
$connected$$?{}:null;$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$$($JSCompiler_StaticMethods_installThymioTDM$self$$.$vplCanvas$)}})}catch($e$jscomp$43$$){console.info($e$jscomp$43$$),$JSCompiler_StaticMethods_A3a_vpl_Canvas_prototype$update$$($JSCompiler_StaticMethods_installThymioTDM$self$$.$vplCanvas$)}},isConnected:function(){return null!=$JSCompiler_StaticMethods_installThymioTDM$self$$.$robots$[$JSCompiler_StaticMethods_installThymioTDM$self$$.$currentRobotIndex$].$runGlue$.state&&
$tdm$$.isConnected()},isEnabled:function($language$jscomp$24$$){return"aseba"===$language$jscomp$24$$&&null!=$JSCompiler_StaticMethods_installThymioTDM$self$$.$robots$[$JSCompiler_StaticMethods_installThymioTDM$self$$.$currentRobotIndex$].$runGlue$.state&&$tdm$$.canRun()},$preferredLanguage$:"aseba",languages:["aseba"],state:null})};
}).call(this);
